/* Begin /ad.js */
window.FLITE = window.FLITE || {};
window.FLITE.URLS={"dataApi":"http://d.flite.com","share":"http://d.flite.com/data-api","runtimeAssetCdn":"http://asset.flite.com/html5/401.966","metrics":"http://t.flite.com/t","gallery":"http://console.flite.com","flashAssetCdn":"http://asset.flite.com/flash/390.20160114-222022","imageProxy":"http://p.flite.com/p","proxy":"http://p.flite.com/p","runtimeCdn":"http://s.flite.com/syndication","staticHost":"static.flite.com","runtime":"http://r.flite.com/syndication"};
!function(){function a(b,c){var d=m(this,b,c);return d.extend=a,d}var b={};if(function(){function a(b,c,d){if(b===c)return 0!==b||1/b==1/c;if(null==b||null==c)return b===c;if(b._chain&&(b=b._wrapped),c._chain&&(c=c._wrapped),b.isEqual&&v.isFunction(b.isEqual))return b.isEqual(c);if(c.isEqual&&v.isFunction(c.isEqual))return c.isEqual(b);var e=j.call(b);if(e!=j.call(c))return!1;switch(e){case"[object String]":return b==String(c);case"[object Number]":return b!=+b?c!=+c:0==b?1/b==1/c:b==+c;case"[object Date]":case"[object Boolean]":return+b==+c;case"[object RegExp]":return b.source==c.source&&b.global==c.global&&b.multiline==c.multiline&&b.ignoreCase==c.ignoreCase}if("object"!=typeof b||"object"!=typeof c)return!1;for(var f=d.length;f--;)if(d[f]==b)return!0;d.push(b);var g=0,h=!0;if("[object Array]"==e){if(g=b.length,h=g==c.length)for(;g--&&(h=g in b==g in c&&a(b[g],c[g],d)););}else{if("constructor"in b!="constructor"in c||b.constructor!=c.constructor)return!1;for(var i in b)if(v.has(b,i)&&(g++,!(h=v.has(c,i)&&a(b[i],c[i],d))))break;if(h){for(i in c)if(v.has(c,i)&&!g--)break;h=!g}}return d.pop(),h}var b=this,c=b._,d={},e=Array.prototype,f=Object.prototype,g=Function.prototype,h=e.slice,i=e.unshift,j=f.toString,k=f.hasOwnProperty,l=e.forEach,m=e.map,n=e.reduce,o=(e.reduceRight,e.filter),p=(e.every,e.some),q=e.indexOf,r=e.lastIndexOf,s=Array.isArray,t=Object.keys,u=g.bind,v=function(a){return new A(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=v),exports._=v):b._=v,v.VERSION="1.3.3";var w=v.each=v.forEach=function(a,b,c){if(null!=a)if(l&&a.forEach===l)a.forEach(b,c);else if(a.length===+a.length){for(var e=0,f=a.length;f>e;e++)if(e in a&&b.call(c,a[e],e,a)===d)return}else for(var g in a)if(v.has(a,g)&&b.call(c,a[g],g,a)===d)return};v.map=v.collect=function(a,b,c){var d=[];return null==a?d:m&&a.map===m?a.map(b,c):(w(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)}),a.length===+a.length&&(d.length=a.length),d)},v.reduce=v.foldl=v.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),n&&a.reduce===n)return d&&(b=v.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(w(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError("Reduce of empty array with no initial value");return c},v.find=v.detect=function(a,b,c){var d;return x(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},v.filter=v.select=function(a,b,c){var d=[];return null==a?d:o&&a.filter===o?a.filter(b,c):(w(a,function(a,e,f){b.call(c,a,e,f)&&(d[d.length]=a)}),d)};var x=v.some=v.any=function(a,b,c){b||(b=v.identity);var e=!1;return null==a?e:p&&a.some===p?a.some(b,c):(w(a,function(a,f,g){return e||(e=b.call(c,a,f,g))?d:void 0}),!!e)};v.include=v.contains=function(a,b){var c=!1;return null==a?c:q&&a.indexOf===q?-1!=a.indexOf(b):c=x(a,function(a){return a===b})},v.invoke=function(a,b){var c=h.call(arguments,2);return v.map(a,function(a){return(v.isFunction(b)?b||a:a[b]).apply(a,c)})},v.pluck=function(a,b){return v.map(a,function(a){return a[b]})},v.max=function(a,b,c){if(!b&&v.isArray(a)&&a[0]===+a[0])return Math.max.apply(Math,a);if(!b&&v.isEmpty(a))return-1/0;var d={computed:-1/0};return w(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g>=d.computed&&(d={value:a,computed:g})}),d.value},v.min=function(a,b,c){if(!b&&v.isArray(a)&&a[0]===+a[0])return Math.min.apply(Math,a);if(!b&&v.isEmpty(a))return 1/0;var d={computed:1/0};return w(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g<d.computed&&(d={value:a,computed:g})}),d.value},v.sortBy=function(a,b,c){var d=v.isFunction(b)?b:function(a){return a[b]};return v.pluck(v.map(a,function(a,b,e){return{value:a,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;return void 0===c?1:void 0===d?-1:d>c?-1:c>d?1:0}),"value")},v.groupBy=function(a,b){var c={},d=v.isFunction(b)?b:function(a){return a[b]};return w(a,function(a,b){var e=d(a,b);(c[e]||(c[e]=[])).push(a)}),c},v.sortedIndex=function(a,b,c){c||(c=v.identity);for(var d=0,e=a.length;e>d;){var f=d+e>>1;c(a[f])<c(b)?d=f+1:e=f}return d},v.toArray=function(a){return a?v.isArray(a)?h.call(a):v.isArguments(a)?h.call(a):a.toArray&&v.isFunction(a.toArray)?a.toArray():v.values(a):[]},v.size=function(a){return v.isArray(a)?a.length:v.keys(a).length},v.first=v.head=v.take=function(a,b,c){return null==b||c?a[0]:h.call(a,0,b)},v.initial=function(a,b,c){return h.call(a,0,a.length-(null==b||c?1:b))},v.last=function(a,b,c){return null==b||c?a[a.length-1]:h.call(a,Math.max(a.length-b,0))},v.rest=v.tail=function(a,b,c){return h.call(a,null==b||c?1:b)},v.compact=function(a){return v.filter(a,function(a){return!!a})},v.flatten=function(a,b){return v.reduce(a,function(a,c){return v.isArray(c)?a.concat(b?c:v.flatten(c)):(a[a.length]=c,a)},[])},v.without=function(a){return v.difference(a,h.call(arguments,1))},v.uniq=v.unique=function(a,b,c){var d=c?v.map(a,c):a,e=[];return a.length<3&&(b=!0),v.reduce(d,function(c,d,f){return(b?v.last(c)===d&&c.length:v.include(c,d))||(c.push(d),e.push(a[f])),c},[]),e},v.union=function(){return v.uniq(v.flatten(arguments,!0))},v.difference=function(a){var b=v.flatten(h.call(arguments,1),!0);return v.filter(a,function(a){return!v.include(b,a)})},v.zip=function(){for(var a=h.call(arguments),b=v.max(v.pluck(a,"length")),c=new Array(b),d=0;b>d;d++)c[d]=v.pluck(a,""+d);return c},v.indexOf=function(a,b,c){if(null==a)return-1;var d,e;if(c)return d=v.sortedIndex(a,b),a[d]===b?d:-1;if(q&&a.indexOf===q)return a.indexOf(b);for(d=0,e=a.length;e>d;d++)if(d in a&&a[d]===b)return d;return-1},v.lastIndexOf=function(a,b){if(null==a)return-1;if(r&&a.lastIndexOf===r)return a.lastIndexOf(b);for(var c=a.length;c--;)if(c in a&&a[c]===b)return c;return-1};var y=function(){};v.bind=function(a,b){var c,d;if(a.bind===u&&u)return u.apply(a,h.call(arguments,1));if(!v.isFunction(a))throw new TypeError;return d=h.call(arguments,2),c=function(){if(!(this instanceof c))return a.apply(b,d.concat(h.call(arguments)));y.prototype=a.prototype;var e=new y,f=a.apply(e,d.concat(h.call(arguments)));return Object(f)===f?f:e}},v.bindAll=function(a){var b=h.call(arguments,1);return 0==b.length&&(b=v.functions(a)),w(b,function(b){a[b]=v.bind(a[b],a)}),a},v.memoize=function(a,b){var c={};return b||(b=v.identity),function(){var d=b.apply(this,arguments);return v.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},v.delay=function(a,b){var c=h.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},v.defer=function(a){return v.delay.apply(v,[a,1].concat(h.call(arguments,1)))},v.throttle=function(a,b){var c,d,e,f,g,h,i=v.debounce(function(){g=f=!1},b);return function(){c=this,d=arguments;var j=function(){e=null,g&&a.apply(c,d),i()};return e||(e=setTimeout(j,b)),f?g=!0:h=a.apply(c,d),i(),f=!0,h}},v.debounce=function(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)};c&&!d&&a.apply(e,f),clearTimeout(d),d=setTimeout(g,b)}},v.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments))}},v.wrap=function(a,b){return function(){var c=[a].concat(h.call(arguments,0));return b.apply(this,c)}},v.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},v.after=function(a,b){return 0>=a?b():function(){return--a<1?b.apply(this,arguments):void 0}},v.keys=t||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)v.has(a,c)&&(b[b.length]=c);return b},v.values=function(a){return v.map(a,v.identity)},v.functions=v.methods=function(a){var b=[];for(var c in a)v.isFunction(a[c])&&b.push(c);return b.sort()},v.extend=function(a){return a=a||{},w(h.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},v.pick=function(a){var b={};return w(v.flatten(h.call(arguments,1)),function(c){c in a&&(b[c]=a[c])}),b},v.defaults=function(a){return w(h.call(arguments,1),function(b){for(var c in b)null==a[c]&&(a[c]=b[c])}),a},v.clone=function(a){return v.isObject(a)?v.isArray(a)?a.slice():v.extend({},a):a},v.tap=function(a,b){return b(a),a},v.isEqual=function(b,c){return a(b,c,[])},v.isEmpty=function(a){if(null==a)return!0;if(v.isArray(a)||v.isString(a))return 0===a.length;for(var b in a)if(v.has(a,b))return!1;return!0},v.isElement=function(a){return!(!a||1!=a.nodeType)},v.isArray=s||function(a){return"[object Array]"==j.call(a)},v.isObject=function(a){return a===Object(a)},v.isArguments=function(a){return"[object Arguments]"==j.call(a)},v.isArguments(arguments)||(v.isArguments=function(a){return!(!a||!v.has(a,"callee"))}),v.isFunction=function(a){return"[object Function]"==j.call(a)},v.isString=function(a){return"[object String]"==j.call(a)},v.isNumber=function(a){return"[object Number]"==j.call(a)},v.isFinite=function(a){return v.isNumber(a)&&isFinite(a)},v.isNaN=function(a){return a!==a},v.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==j.call(a)},v.isDate=function(a){return"[object Date]"==j.call(a)},v.isRegExp=function(a){return"[object RegExp]"==j.call(a)},v.isNull=function(a){return null===a},v.isUndefined=function(a){return void 0===a},v.has=function(a,b){return k.call(a,b)},v.noConflict=function(){return b._=c,this},v.identity=function(a){return a},v.times=function(a,b,c){for(var d=0;a>d;d++)b.call(c,d)},v.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},v.result=function(a,b){if(null==a)return null;var c=a[b];return v.isFunction(c)?c.call(a):c},v.mixin=function(a){w(v.functions(a),function(b){C(b,v[b]=a[b])})};var z=0;v.uniqueId=function(a){var b=z++;return a?a+b:b},v.chain=function(a){return v(a).chain()};var A=function(a){this._wrapped=a};v.prototype=A.prototype;var B=function(a,b){return b?v(a).chain():a},C=function(a,b){A.prototype[a]=function(){var a=h.call(arguments);return i.call(a,this._wrapped),B(b.apply(v,a),this._chain)}};v.mixin(v),w(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=e[a];A.prototype[a]=function(){var c=this._wrapped;b.apply(c,arguments);var d=c.length;return"shift"!=a&&"splice"!=a||0!==d||delete c[0],B(c,this._chain)}}),w(["concat","join","slice"],function(a){var b=e[a];A.prototype[a]=function(){return B(b.apply(this._wrapped,arguments),this._chain)}}),A.prototype.chain=function(){return this._chain=!0,this},A.prototype.value=function(){return this._wrapped}}.call(this),"undefined"==typeof b&&(b={}),!b._){b._=_.noConflict();var c=function(){function a(c,d){var e=[];if(d&&"object"==typeof c&&(d===b||!c.location))for(var f in c)try{e.push(f,a(c[f],d-1))}catch(g){}return e.length?e:""+c}var b=3;return""+a([(new Date).getTime(),navigator.userAgent,navigator.plugins,navigator.language,Math.random()],b)},d=function(){var a=4022871197,b=function(b){b=b.toString();for(var c=0;c<b.length;c++){a+=b.charCodeAt(c);var d=.02519603282416938*a;a=d>>>0,d-=a,d*=a,a=d>>>0,d-=a,a+=4294967296*d}return 2.3283064365386963e-10*(a>>>0)};return b.version="Mash 0.9",b},e=function(){return function(a){var b=0,c=0,e=0,f=1;0===a.length&&(a=[+new Date]);var g=d();b=g(" "),c=g(" "),e=g(" ");for(var h=0;h<a.length;h++)b-=g(a[h]),0>b&&(b+=1),c-=g(a[h]),0>c&&(c+=1),e-=g(a[h]),0>e&&(e+=1);g=null;var i=function(){var a=2091639*b+2.3283064365386963e-10*f;return b=c,c=e,f=0|a,e=a-f};return i.uint32=function(){return 4294967296*i()},i.fract53=function(){return i()+1.1102230246251565e-16*(2097152*i()|0)},i.version="Alea 0.9",i.args=a,i}(Array.prototype.slice.call(arguments))},f=e(c());b._.mixin({clear:function(a){if(b._(a).isElement())for(;a.hasChildNodes();)a.removeChild(a.firstChild)},isBlank:function(a){return null===a||"undefined"==typeof a||""===a},now:function(){return+new Date},addParamToUrl:function(a,c,d){if(!b._.isBlank(a)&&!b._.isBlank(c)){var e=[encodeURIComponent(a),encodeURIComponent(c)].join("=");d=d?[d,d.indexOf("?")>-1?"&":"?",e].join(""):e}return d},toQueryString:function(a,c){var d=[],e=encodeURIComponent;return b._.each(a,function(a,c){b._.isArray(a)&&a.length>0?b._.each(a,function(a){d.push([e(c),e(a)].join("="))}):d.push([e(c),e(a)].join("="))}),c?c&&d.length>0?[c,d.join("&")].join(c.indexOf("?")>-1?"&":"?"):c:d.join("&")},fromQueryString:function(a){var c={};a=a||"";var d=a.split("?");if(d.length>1){var e=d[1].split("&");b._.each(e,function(a){var b=a.split(/[=#]/);b[0]&&(c[decodeURIComponent(b[0])]=b.length>1?decodeURIComponent(b[1].replace(/\+/g,"%20")):"")})}return c},make:function(a,c){c=c||{};var d=c.doc||document,e=d.createElement(a);return c.attributes&&b._.attr(e,c.attributes),c.content&&b._.html(e,c.content),e},toElementString:function(a){return a.outerHTML||function(a){var b,c=document.createElement("div");return c.appendChild(a.cloneNode(!0)),b=c.innerHTML,c=null,b}(a)},attr:function(a,c){return b._(a).isElement()?(b._(c).each(function(c,d){if("className"===d)a.className=c;else if("style"===d)if(b._.isString(c)){var e=c.split(";");b._.each(e,function(b){b=b.replace(/\s/g,"");var c=b.split(":");if(c.length>=2){var d=c[0].replace(/-([a-z])/g,function(a,b){return b.toUpperCase()});a.style[d]=c.slice(1).join(":")}})}else b._.each(c,function(b,c){a.style[c]=b});else a.setAttribute(d,c)}),a):a},html:function(a,c){return b._(a).isElement()?void(a.innerHTML=c):a},jsonp:function(a,c,d,e){b._.callbacks=b._.callbacks||{};var f=d.safeUniqueId("cb",!0);c.callback=["FLITE._.callbacks",f].join("."),(d.cachebust===!0||d.baseParent&&d.baseParent.cachebust===!0)&&(c.cache=b._.now()),b._.callbacks[f]=e,a=b._.toQueryString(c,a);var g=b._.make("script",{attributes:{src:a,async:!0}}),h=document.getElementsByTagName("head")[0];h&&h.appendChild(g)},getJSONPInsertionNode:function(a,c){return b._.detect(document.getElementsByTagName("script"),function(b){return"y"!==b.getAttribute("processed")&&b.getAttribute("data-instanceId")===a&&b.getAttribute("data-stage")==c})},jsonpWidgetInfo:function(a,c,d,e,f){if(c.callback="FLITE._.fliteCallback",(d.cachebust===!0||d.baseParent&&d.baseParent.cachebust===!0)&&(c.cache=b._.now()),a=b._.toQueryString(c,a),d.infoLoaded!==!0){d.widgetOnLoad=f,b._.fliteCallback=!c.fetch&&b._.fliteCallback||function(a){b._.isArray(a.widgets)&&b._.each(a.widgets,function(c){var f=b._.getJSONPInsertionNode(c.controllerAppId?c.controllerAppId:c.appId,c.stage)||b._.getJSONPInsertionNode(c.appId,c.stage);if(f){f.setAttribute("processed","y");var g=f.getAttribute("data-uniqueId"),h=b.getInstanceByUniqueId(g)||{};h.infoLoaded===!1&&h.widgetOnLoad(a)}else if(!c.regId){var i=b._.getJSONPInsertionNode(d.guid,e||"0");i&&i.setAttribute("processed","y"),d.trigger("errorConfig")}})};var g=b._.make("script",{attributes:{src:a,async:!0,"data-stage":b._.isNumber(e)||b._.isString(e)?e:0,"data-instanceId":d.guid,"data-uniqueId":d.uniqueId}}),h=document.getElementsByTagName("head")[0];h&&h.appendChild(g)}},createInsertionTarget:function(a,c){c=c||document;var d=(window.FLITE.instances&&window.FLITE.instances[a]||[]).length,e=["flite-",a,"-",d].join("");return b._.make("div",{attributes:{id:e,"class":"flite-div"},doc:c})},getScriptInsertionTarget:function(a){return b._.detect(document.getElementsByTagName("script"),function(c){var d=c.getAttribute("src"),e=function(a){return a.replace(/^http(s)*:/gi,"")};return(d&&(-1!==d.indexOf(e(b.URLS.runtime)+"/ad")||-1!==d.indexOf(e(b.URLS.runtimeCdn)+"/ad"))&&(-1!==d.indexOf(a)||-1!==(c.getAttribute("data-instance")||"").indexOf(a))||b._.is.truly(c.getAttribute("data-injected")))&&"y"!==c.getAttribute("processed")})},variableReplacement:function(a,c){return void 0!==typeof a?a.replace(/\$\{([^\}]+)\}/g,function(){var a=arguments[1];a&&(a=b._.trim(a));var d=c[a]&&(void 0!==c[a].value?c[a].value:c[a]),e=a.match(/var_url([0-9]+)/)||[];return e[1]&&(d+="%flt_url."+e[1]+"!"),"undefined"==typeof d&&(d=arguments[0]),d}):a},replace:function(a,c,d){var e=b._(a).indexOf(c);e>=0&&(a[e]=d)},addEvent:function(a,b,c,d){a&&b&&c&&(a.addEventListener?a.addEventListener(b,c,d):a.attachEvent&&a.attachEvent(["on",b].join(""),c))},removeEvent:function(a,b,c,d){a&&b&&c&&(a.removeEventListener?a.removeEventListener(b,c,d):a.detachEvent&&a.detachEvent(["on",b].join(""),c))},watch:function(a,b,c){var d=a();return setInterval(function(){var c=a();c!=d&&(b(d,c),d=c)},c||100)},apply:function(a){return b._.each(Array.prototype.slice.call(arguments,1),function(b){for(var c in b)a[c]=b[c]}),a},generateGuid:function(a){var b,c=a?36:32,d="0123456789abcdef".split(""),e=[];a&&(e[8]=e[13]=e[18]=e[23]="-",e[14]="4");for(var g=0;c>g;g++)e[g]||(b=0|16*f.fract53(),e[g]=d[19===g?3&b|8:b]);return e.join("")},getWindowLocation:function(){var a;try{b._.is.fif()||(a=document.referrer||window.location.href),a=a&&0===a.indexOf("http")?a:this.getExpandableWindow().location.href}catch(c){}return a=a||window.location.href,0===a.indexOf("http")?a:""},getWindowChain:function(){for(var a=[],c=window,d=!1;c!=window.top&&(a.push(c),c!=c.parent);){try{if(c.FLITE&&c.FLITE.isExpandableWindow){d=!0;break}}catch(e){}c=c.parent}return b._.is.fif()&&!d&&a.push(window.top),a},createNamespaceInWindow:function(a,c){if(a.FLITE&&window.FLITE!==a.FLITE){if(!a.FLITES&&(a.FLITES={},!b._.isEmpty(a.FLITE.instances))){var d=b._.first(b._.keys(a.FLITE.instances));a.FLITES[a.FLITE.instances[d][0].sessionId]=a.FLITE}a.FLITES[c.sessionId]=window.FLITE}else a.FLITE=window.FLITE},getExpandableWindow:function(a){if(a=a||{},a.clear&&(this.expandWindow=null),!this.expandWindow){var c=window;if(b._.is.fif()){var d=b._.getWindowChain();this.expandWindow=b._.detect(d,function(a){try{return a.FLITE&&a.FLITE.isExpandableWindow}catch(b){return!1}}),this.expandWindow||(this.expandWindow=b._.detect(d.reverse(),function(a){try{return a.document}catch(b){return!1}}))}else this.expandWindow=c}return this.expandWindow},inSafeFrame:function(a){try{return frameElement.name=="f_ad_"+a}catch(b){}return!1},setCookie:function(a,b,c,d,e){if(b){a=a||"FLITEAD";var f="";if((void 0===d||null===d||""===d)&&(d=10950),0!==Number(d)){var g=new Date;g.setTime(g.getTime()+864e5*d),f="; expires="+g.toGMTString()}e=e?"domain=."+e+";":"",document.cookie=a+"."+b+"="+c+f+";"+e+"path=/";var h=document.cookie;return h&&h.indexOf(a+"."+b+"="+c)>-1}},getCookie:function(a,b){if(b)for(var c=document.cookie.split("; "),d=(a||"FLITEAD")+"."+b,e=0;e<c.length;e++){var f=c[e].split("=");if(f&&f.length>1&&f[0]==d)return f[1]}},deleteCookie:function(a,b){this.setCookie(a,b,null,-1)},cookiesEnabled:function(){return"cookieEnabled"in window.navigator&&window.navigator.cookieEnabled},stringify:function(a){function c(a,d,e){for(d in(e=a==""+{}&&[])&&a)e.push(c(d)+":"+c(a[d]));return""+a===a?'"'+a+'"':a&&b._.isArray(a)?"["+b._.map(a,c)+"]":e?"{"+e+"}":a}return c(a)},prefix:function(a,c){var d={};return a=a||{},b._.chain(a).keys().each(function(b){d[c+b]=a[b]}),d},format:function(a,b){return a.replace(/\{([^}]+)\}/g,function(a,c){return b.hasOwnProperty(c)?b[c]:a})},trim:function(a){return null===a?null:a.replace(/^\s+|\s+$/g,"")},deepClone:function(a){if(!b._.isObject(a))return a;var c=new a.constructor;return b._.each(a,function(a,d){c[d]=b._.deepClone(a)}),c}});var g=navigator.userAgent.toLowerCase(),h=(g.match(/.+(?:rv|it|ra|ie|me|on)[\/: ]([\d.]+)/)||[])[1];b._.is={fif:function(){return!(window.FLITE&&window.FLITE.inFIF===!1)},iFrame:function(){try{return parent&&document!=parent.document}catch(a){return!0}},truly:function(a){return a===!0||"true"===a||1===a},secureLocation:function(){return window.location&&"https:"===window.location.protocol},xml:function(){for(var a=document.getElementsByTagName("meta"),b=a.length,c=0;b>c;c++)if(/content-type/i.test(a[c].getAttribute("http-equiv"))&&/xml/i.test(a[c].getAttribute("content")))return!0;return!1}(),browser:{version:parseInt(h,10),full_version:h,edge:/edge/.test(g),chrome:/chrome/.test(g),safari:/webkit/.test(g)&&!/chrome/.test(g),webkit:/webkit/.test(g)||document&&document.body&&!!b._.find(b._.keys(document.body.style),function(a){return/webkit/i.test(a)}),opera:/opera/.test(g),msie:(/msie/.test(g)||/rv[: ]11\.[0-9]+/.test(g)&&/like gecko/.test(g))&&!/opera/.test(g),gecko:/gecko/.test(g)&&!/applewebkit/.test(g),mozilla:/mozilla/.test(g)&&!/(compatible|webkit)/.test(g),firefox:/firefox/.test(g),matches:function(a){return g.indexOf(a)>-1}},platform:{ios:/ipad/.test(g)||/iphone/.test(g)||/ipod/.test(g),android:/android/.test(g),mac:/mac/.test(g),windowsLM:/windows live messenger/.test(g)},inConsole:function(){return void 0!==window.$}}}"undefined"==typeof b&&(b={});var i=null,j=function(a,c){i=i||b.URLS.metrics+"/image.gif",c=c||{};var d=c.eventDelegate||a.metrics.eventDelegate;if(d){var e=b.Metrics.getMetricsRequestData(a,c);return d(i,e),e.sq}return null},k=function(a,c,d){return function(e,f){var g=b._.extend({subtype:a,detail:d},f);return g.type=c,j(e,g)}};b.MetricsConstants={Clickthroughs:{URL:"u",URL_ENC:"ue",URL_PREFIX:"up"},OptionKeyMap:{mode:"m",type:"it",subtype:"ist",context:"csq",trigger:"tsq",component:"cmp",part:"prt",detail:"dt"},TrackingKeys:{i:"appId",ri:"regId",aik:"appPK",pt:"widgetPrototypeOrdinal",iv:"appVersion",rpv:"regPubVersion",ark:"regPK",apk:"providerPK",aw:"appWidth",ah:"appHeight",dc:"deviceCategory",prk:"adProductId"},SystemDataTrackingKeys:{crk:"controllerRegPk",cik:"controllerAppPk",crv:"controllerRegVersion",civ:"controllerAppVersion",csv:"controllerSiteVersion",ck:"campaignPk",inf:"trackedInfo"},Keys:{CAUSE:"c",CONTEXT:"ctx",CONTROLLER_APP_ID:"sd.ci",CONTROLLER_APP_KEY:"sd.cik",CONTROLLER_REG_KEY:"sd.crk",CONTROLLER_REG_VERSION:"sd.crv",CONTROLLER_APP_VERSION:"sd.civ",CONTROLLER_SITE_VERSION:"sd.csv",DETAIL:"dt",ENDTOKEN:"et",ENVIRONEMNT:"env",IMPRESSIONSUBTYPE:"ist",IMPRESSIONTYPE:"it",INSTANCE:"i",INSTANCE_PK:"aik",INSTANCE_VERSION:"iv",LABEL:"lbl",LOCATION_URL:"l",PAYLOAD:"pl",PLACEMENT_CAMPAIGN:"pd.cmp",REDIRECT_URL:"r",REG_PUBLISHED_VERSION:"rpv",SCOPE:"scp",SEED_DATA:"cs",SEQUENCE:"sq",SESSIONID:"sid",SUBINSTANCE_KEY:"sik",TARGET_URL:"u",TIMESTAMP_PARAM:"ts",TOKEN:"t",TRIGGER:"tsq",VIEWID:"vid",WRAPPERTYPE:"w",VIDEO_ID:"vi",VIDEO_TYPE:"vt"},Params:{LINK_SUFFIX:"wbx_ls",LINK_PREFIX:"wbx_lp",CLICK_TRACKER:"wbx_ct",CLICK_TRACKER_ENC:"wbx.clickTrackingEncoding",AFFILIATE_TRACKER:"wbx_at",CALLBACK:"wbx_callback"},EventTypes:{IMPRESSION:12,INTERACTION:13,CONTENT:14,NOTATION:15},EventSubtypes:{UNKNOWN:0,IMPRESSION_FULL:1,IMPRESSION_LIMITED:2,IMPRESSION_BACKUP:3,INTERACTION_HOVER:20,INTERACTION_SELECT:21,INTERACTION_DESELECT:22,INTERACTION_CONTROL:26,INTERACTION_LEGACY:28,CONTENT_VIEW:40,CONTENT_PLAY:41,CONTENT_CLICKTHRU:43,CONTENT_SHARE:44,NOTATION_UPDATE:60,NOTATION_ACTION:62,NOTATION_IMPRESSIONDATA:65},EventModes:{CLICK:1,ROLLOVER:3,ROLLOUT:4,TOUCH:5},ShareKeys:["url","subject","body","action","to","from","fname","subservice","image"],Actions:{Cause:{AUTO:0,USER:1,CLICK:2,HOVER:3,TOUCH:4,KEYBOARD:5,SYSTEM:6}},VIDEO_TYPES:{HOSTED_VIDEO:0,YOUTUBE:1,EXTERNAL_VIDEO:2,CLIPSTREAM:3,MOBILE_INLINE:4},ENVIRONMENT_TYPES:{NORMAL:0,MRAID:1,VPAID:2}},b.MetricsConstants.WeightedParams=[b.MetricsConstants.Keys.INSTANCE_PK,b.MetricsConstants.Keys.INSTANCE,b.MetricsConstants.Keys.SUBINSTANCE_KEY,b.MetricsConstants.Keys.SESSIONID,b.MetricsConstants.Keys.SCOPE,b.MetricsConstants.Keys.IMPRESSIONTYPE,b.MetricsConstants.Keys.IMPRESSIONSUBTYPE,b.MetricsConstants.Keys.SEQUENCE,b.MetricsConstants.Keys.CONTEXT,b.MetricsConstants.Keys.TRIGGER,b.MetricsConstants.Keys.DETAIL,b.MetricsConstants.Keys.INSTANCE_VERSION,b.MetricsConstants.Keys.REG_PUBLISHED_VERSION,b.MetricsConstants.Keys.CONTROLLER_APP_KEY,b.MetricsConstants.Keys.CONTROLLER_REG_KEY,b.MetricsConstants.Keys.CONTROLLER_REG_VERSION,b.MetricsConstants.Keys.CONTROLLER_APP_VERSION,b.MetricsConstants.Keys.CONTROLLER_SITE_VERSION,b.MetricsConstants.Keys.PLACEMENT_CAMPAIGN],b.Metrics={logImpression:k(b.MetricsConstants.EventSubtypes.IMPRESSION_FULL,b.MetricsConstants.EventTypes.IMPRESSION,"Impression"),logInteraction:k(b.MetricsConstants.EventSubtypes.UNKNOWN,b.MetricsConstants.EventTypes.INTERACTION),logContent:k(b.MetricsConstants.EventSubtypes.UNKNOWN,b.MetricsConstants.EventTypes.CONTENT),logNotation:k(b.MetricsConstants.EventSubtypes.NOTATION_UPDATE,b.MetricsConstants.EventTypes.NOTATION),getShareUrl:function(a,c){if(c=c||{},!a||!c.service)return null;if(a.baseParent){var d={};if(a.stage){var e=a.getConfigValue("stage");d[b.MetricsConstants.Keys.SCOPE]=e.id}else d[b.MetricsConstants.Keys.SUBINSTANCE_KEY]=a.getConfig().appPK;return b.Metrics.getShareUrl(a.baseParent,b._.extend(c,d))}var f=b.URLS.share+"/share/get/"+a.getConfig().appId+"/"+c.service+".json",g=b._.extend({type:b.MetricsConstants.EventTypes.CONTENT,subtype:b.MetricsConstants.EventSubtypes.CONTENT_SHARE},c),h=b.Metrics.getMetricsRequestData(a,g);b._.extend(h,{ev:2,token:b.token,label:"widget",c:b.MetricsConstants.Actions.Cause.USER});var i=b._.pick(c,b.MetricsConstants.ShareKeys);return b._.extend(h,i),b._.toQueryString(h,b.Metrics.replaceAllTokens(a,f))},getClickthroughUrl:function(a,c){if(!a||!c||!c.url)return null;if(a.baseParent){var d={};if(a.stage){var e=a.getConfigValue("stage");d[b.MetricsConstants.Keys.SCOPE]=e.id}else d[b.MetricsConstants.Keys.SUBINSTANCE_KEY]=a.getConfig().appPK;return b.Metrics.getClickthroughUrl(a.baseParent,b._.extend(c,d))}var f={type:b.MetricsConstants.EventTypes.CONTENT,subtype:b.MetricsConstants.EventSubtypes.CONTENT_CLICKTHRU};b._.extend(c,f);var g=c.url;try{g=decodeURIComponent(g)}catch(h){}g.match("^https?:")||(c.url="http://"+c.url);var j=b.Metrics.getMetricsRequestData(a,c),k=a.getConfigValue(b.MetricsConstants.Params.LINK_SUFFIX)||"";j[b.MetricsConstants.Clickthroughs.URL]=b.Metrics.replaceAllTokens(a,c.url)+k,j[b.MetricsConstants.Keys.DETAIL]=b.Metrics.replaceAllTokens(a,c.detail)+k;var l=a.getConfigValue(b.MetricsConstants.Params.CLICK_TRACKER_ENC);l&&l.length>0&&(j[b.MetricsConstants.Clickthroughs.URL_ENC]=l);var m=a.getParametersByPrefix(b.MetricsConstants.Params.LINK_PREFIX),n=-1;if(b._.each(m,function(c,d){c.value&&c.value.length>0&&(j[d?"up"+d:"up"]=b.Metrics.replaceAllTokens(a,c.value),n=d)}),a.getConfig().ct){var o=n>-1?n+1:"";j[[b.MetricsConstants.Clickthroughs.URL_PREFIX,o].join("")]=a.getConfig().ct}var p=b._.toQueryString(j,b.Metrics.replaceAllTokens(a,i));return p=b._.addParamToUrl(b.MetricsConstants.Keys.ENDTOKEN,"G",p)},replaceAllTokens:function(a,c){return c=b.Metrics.replaceCachebusters(c),c=b.Metrics.replaceMacros(a,c)},replaceCachebusters:function(a){return a=a||"",a=a.replace(/pc=\[tpas_id\][&;]?/gi,""),a.replace(/(__wbx_|\[|%%|[\$\#]?\{)(timestamp|cachebuster|requestid|rand(nu|o)m)(__|\]|%%|\})|%n/gi,b._.now())},replaceMacros:function(a,c){try{var d=/%flt_(.+?)!/gi,e=c.match(d);b._.each(e,function(d){var e,f=d.substring(5,d.length-1);b._.each(["pd","ed","cd"],function(b){var c=a.getConfig()[b];if(0===f.indexOf(b+".")&&c){var d=f.substr(3);d&&c[d]&&(e=c[d])}}),e||(e=b.MetricsConstants.TrackingKeys[f]?a.getConfig()[b.MetricsConstants.TrackingKeys[f]]:b.MetricsConstants.SystemDataTrackingKeys[f]?a.getConfig()[b.MetricsConstants.SystemDataTrackingKeys[f]]:""),c=c.replace(d,b._.isNull(e)||b._.isUndefined(e)?"":e)})}catch(f){}return c},logAffiliateImpressions:function(a){if(a){var c=a.getParametersByPrefix(b.MetricsConstants.Params.AFFILIATE_TRACKER);a.getConfig().at&&c.push({name:"at",value:a.getConfig().at});var d=0;return b._.each(c,function(c){var e=b._.trim(c.value);if(e&&"null"!==e)try{b.Metrics.loadImageTrackingUrl(b.Metrics.replaceAllTokens(a,e),{},!0),d++}catch(f){b.Metrics.logNotation(a,{detail:"Malformed Tracking Pixel",context:a.impressionSequence,eventData:{pixel:e}})}}),d}},getMetricsRequestData:function(a,c){if(a){var d={};c=c||{};var e=a.getConfig();if(a.baseParent){var f={};if(a.stage){var g=a.getConfigValue("stage");f[b.MetricsConstants.Keys.SCOPE]=g.id}else f[b.MetricsConstants.Keys.SUBINSTANCE_KEY]=e.appPK;return b.Metrics.getMetricsRequestData(a.baseParent,b._.extend(c,f))}b._.chain(b.MetricsConstants.TrackingKeys).keys().each(function(a){d[a]=e[b.MetricsConstants.TrackingKeys[a]]}),c.systemData=c.systemData||{},b._.chain(b.MetricsConstants.SystemDataTrackingKeys).keys().each(function(a){e[b.MetricsConstants.SystemDataTrackingKeys[a]]&&(c.systemData[a]=e[b.MetricsConstants.SystemDataTrackingKeys[a]])}),d[b.MetricsConstants.Keys.SESSIONID]=a.sessionId,d[b.MetricsConstants.Keys.VIEWID]=this.getUniqueViewId(a.sessionId);var h=a.getConfigValue("stage");d[b.MetricsConstants.Keys.SCOPE]=h&&h.id||"default";var i=a.config.ts;c.type==b.MetricsConstants.EventTypes.IMPRESSION&&(i&&b.startTime&&(c.systemData.syndLate=b.startTime.getTime()-i),c.systemData.rv="3"),b._.extend(c.systemData,a.metrics.getTOU()),c.type==b.MetricsConstants.EventTypes.INTERACTION&&(a.metrics.engaged||(c.systemData.engaged=1,a.metrics.engaged=1),!c.systemData.pointer&&a.view&&void 0!==a.view.clientX&&void 0!==a.view.clientY&&(c.systemData.pointer='{"x":'+a.view.clientX+', "y":'+a.view.clientY+"}")),window.flashVersion&&(c.systemData.flash=window.flashVersion[0]+"."+window.flashVersion[1]);var j=b._.pick(c,"mode","type","sik","scp","subtype","context","trigger","component","part","detail");c.eventData=b._.extend({},b._.prefix(e.ed,"_"),c.eventData),c.placementData=b._.extend({},e.pd,c.placementData),b._.each(c.placementData,function(a,b){a&&a.match(/(^%.*!$)|(^%+.*%+$)/)&&(c.placementData[b]="")}),c.variableData=b._.extend({},c.variableData,a.getVariablesMap());var k=function(a,c,e){b._.each(a,function(a,b){null!==a&&void 0!==a&&(e&&(b=e[b]||b),d[c+b]=a)})},l=b._.now();return i&&(c.systemData.late=l-i),d[b.MetricsConstants.Keys.ENVIRONEMNT]=a.env||b.MetricsConstants.ENVIRONMENT_TYPES.NORMAL,"videoId"in c&&null!==c.videoId&&void 0!==c.videoId&&(d[b.MetricsConstants.Keys.VIDEO_ID]=c.videoId),"videoType"in c&&null!==c.videoType&&void 0!==c.videoType&&b._.values(b.MetricsConstants.VIDEO_TYPES).indexOf(c.videoType)>-1&&(d[b.MetricsConstants.Keys.VIDEO_TYPE]=c.videoType),k(j,"",b.MetricsConstants.OptionKeyMap),k(c.eventData,"ed."),k(c.placementData,"pd."),k(c.systemData,"sd."),k(c.variableData,"vd."),d[b.MetricsConstants.Keys.TIMESTAMP_PARAM]=l,d[b.MetricsConstants.Keys.LOCATION_URL]=this.getWindowLocation(),d[b.MetricsConstants.Keys.SEQUENCE]=a.metrics.sequence++,a.trigger("metrics:requestData",{options:c,data:d}),d}},getWeightedMetricsRequestData:function(a,c){var d=b.Metrics.getMetricsRequestData(a,c);return b.Metrics.sortParametersByWeight(d,b.MetricsConstants.WeightedParams)},getWindowLocation:function(){return this.locationUrl||(this.locationUrl=(FLITE.locationUrl||b._.getWindowLocation()).split("?")[0])},getUniqueViewId:function(a){if(!this.vid){var c=b._.getExpandableWindow({clear:1});this.vid=c.FLITE_VID,this.vid||(this.vid=a,c.FLITE_VID=this.vid)}return this.vid},sortParametersByWeight:function(a,c){a=a||{},c=c||[];var d=[],e=function(b){b in a&&d.push({key:b,value:a[b]})};b._.each(c,e);var f=b._.difference(b._.keys(a),c);return f=b._.sortBy(f,function(b){var c=a[b];return c&&c.toString()&&c.toString().length}),b._.each(f,e),e=null,d},loadImageTrackingUrl:function(a,c,d){function e(a,c,e){return d!==!0&&(e=e||(c?"P":"G"),a=b._.addParamToUrl(b.MetricsConstants.Keys.ENDTOKEN,e,a)),a}function f(a,c,d){if(c){var e="XMLHttpRequest"in window?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");e.open("POST",a,!0),e.setRequestHeader("Accept","*/*"),e.setRequestHeader("Content-type","application/x-www-form-urlencoded");var f="";b._.each(d,function(a,b){f=f+(b>0?"&":"")+encodeURIComponent(a.key)+"="+encodeURIComponent(a.value)}),e.send(f)}else{var g=new Image(1,1);g.onerror=function(){},g.src=a}}if(a){var g=!1,h=b.Metrics.replaceCachebusters(a);b._.is.secureLocation()&&(h=b.URLFactory.getSecureUrl(h));var i=[],j=[];b._.isEmpty(c)||(i=b.Metrics.sortParametersByWeight(c,b.MetricsConstants.WeightedParams),b._.each(i,function(a){var c=b._.addParamToUrl(a.key,a.value,h);c.length<2e3?h=c:(j.push(a),g=!0)}));try{h=e(h,g),f(h,g,j)}catch(k){}}}},"undefined"==typeof b&&(b={}),b.URLFactory={dataApiEndpoints:{COUNTER_INCR:"cass_counter/incr/{regId}/{dataId}/{label}.{format}",COUNTER_GET:"cass_counter/get/{regId}/{dataId}.{format}",FORM_POST:"cass_form/post/{regId}/{dataId}.{format}"},getProxiedImageUrl:function(a,c){if(null===a||0===a.length)throw"An image URL is required.";
c=c||{};var d=b.URLS.imageProxy+"/ip/origin=="+encodeURIComponent(a);c.maxWidth&&(d+="&&w=="+Math.round(c.maxWidth)),c.maxHeight&&(d+="&&h=="+Math.round(c.maxHeight)),c.type&&(d+="&&type=="+c.type),c.quality&&(d+="&&q=="+c.quality),c.format&&(d+="&&imgfmt=="+c.format.toUpperCase()),c.matte&&(d+="&&matte=="+c.matte),c.maxWidth||c.maxHeight||!c.noMem||(d+="&&nomem==true");var e={token:b.token};return c.instanceGuid&&(e.i=c.instanceGuid),b._.toQueryString(e,d)},getProxiedFeedUrl:function(a,c){if(null===a||0===a.length)throw"An origin is required.";c=c||{};var d=b.URLS.proxy+"/fetch/origin=="+encodeURIComponent(a),e=b._.keys(c).sort();b._.each(e,function(a){c[a]&&"instanceGuid"!=a&&(d+="&&"+a+"=="+encodeURIComponent(c[a]))});var f={token:b.token};return c.instanceGuid&&(f.i=c.instanceGuid),b._.toQueryString(f,d)},getProxiedTwitterUrl:function(a){a=a||{};var c=b.URLS.proxy+"/twitter/",d={token:b.token};return a.instanceGuid&&(d.i=a.instanceGuid,c+="guid/"+a.instanceGuid+"/"),a.endpoint&&(c+="endpoint/"+a.endpoint+"/",a.user&&(c+="user/"+a.user+"/",a.search&&(c+="search/"+encodeURIComponent(a.search)+"/"),a.id&&(c+="id/"+encodeURIComponent(a.id)+"/"))),a.count&&b._.isNumber(parseInt(a.count,10))||(a.count=25),c+="count/"+parseInt(a.count,10)+"/",a.callback&&(c+="wbx_callback/"+a.callback+"/"),b._.toQueryString(d,c)},getDataUrl:function(a,c){var d=[b.URLS.dataApi,"/data-api/",a].join("");c=b._.extend({regId:c.regId,format:"json"},c),d=b._.format(d,c);var e=b._.extend(c.data,{wbx_regId:c.regId,wbx_token:b.token}),f=a!==b.URLFactory.dataApiEndpoints.COUNTER_GET||c.isPreviewInstance;return f&&(e.wbx_appId=c.appId,c.isPreviewInstance&&(e.wbx_isPreview="1")),c.schema&&(e.wbx_schema=c.schema),c.sid&&(e.wbx_session=c.sid),c.callback&&(e.wbx_callback=c.callback),d=b._.toQueryString(e,d),c.dataString&&(d+="&"+c.dataString),d},getGeoLocationURL:function(a){a=a||{};var c=[b.URLS.dataApi,"/data-api/","geo/location.json"].join(""),d={token:b.token};return a.callback&&(d.wbx_callback=a.callback),a.instanceGuid&&(d.i=a.instanceGuid),a.ip&&(d.ip=a.ip),b._.toQueryString(d,c)},getWeatherLocationURL:function(a){a=a||{};var c=[b.URLS.dataApi,"/data-api/","weather"].join(""),d={token:b.token};return a.callback&&(d.wbx_callback=a.callback),a.instanceGuid&&(d.i=a.instanceGuid),a.ip&&(d.ip=a.ip),b._.toQueryString(d,c)},getSecureUrl:function(a){return a&&a.replace("http:","https:")},getManagedContentUrl:function(a){var c=a;return 0!==c.indexOf(b.URLS.runtimeCdn)&&(c=[b.URLS.runtimeCdn,"/cas/",a].join("")),c},getProxiedFacebookUrl:function(a){a=a||{};var c=[b.URLS.proxy,"/facebook/id/",a.id];a.max=a.max&&!isNaN(parseInt(a.max,10))?a.max:20,a.max&&(c=c.concat(["/max/",a.max])),a.callback&&(c=c.concat(["/wbx_callback/",a.callback]));var d={token:b.token};return a.instanceGuid&&(d.i=a.instanceGuid),c=c.join(""),b._.toQueryString(d,c)},getProxiedDataAssetUrl:function(a){a=a||{};var c=b.URLS.proxy+"/datasource_batch/";return a.regId&&(c+="guid/"+a.regId+"/"),a.regVersion&&(c+="rv/"+a.regVersion),c},getDataAPIDataAssetUrl:function(a){a=a||{};var c=b.URLS.dataApi+"/data-api/ds/get/";return a.regId&&(c+="guid/"+a.regId+"/"),a.regVersion&&(c+="rv/"+a.regVersion),c}},"undefined"==typeof b&&(b={}),b.Events={bind:function(a,c,d){var e=(this._callbacks||(this._callbacks={}),this._callbacks[a]||(this._callbacks[a]=[]));return d&&d.single&&(c=b._.once(c)),e.push(c),this},bound:function(a,c){return this._callbacks&&this._callbacks[a]?c?b._.find(this._callbacks[a],function(a){return a===c}):!0:void 0},unbind:function(a,b){if(!a)return this._callbacks={},this;var c=this._callbacks;if(c)if(b){var d=c[a];if(!d)return this;for(var e=0,f=d.length;f>e;e++)if(b===d[e]){d.splice(e,1);break}}else c[a]=[];return this},unbindPrefix:function(a){var c=this;b._.each(c._callbacks,function(b,d){d.split(":")[0]===a&&c.unbind(d)})},trigger:function(a){var b,c,d,e;if(!(c=this._callbacks))return this;if(b=c[a])for(d=0,e=b.length;e>d;d++)void 0!==b[d]&&b[d].apply(this,Array.prototype.slice.call(arguments,1));if(b=c.all)for(d=0,e=b.length;e>d;d++)void 0!==b[d]&&b[d].apply(this,arguments);return this}},"undefined"==typeof b&&(b={});var l=function(){},m=function(a,c,d){var e;return e=c&&c.hasOwnProperty("constructor")?c.constructor:function(){return a.apply(this,arguments)},b._.extend(e,a),l.prototype=a.prototype,e.prototype=new l,c&&b._.extend(e.prototype,c),d&&b._.extend(e,d),b._.extend(e.prototype,b.Events),e.prototype.constructor=e,e.__super__=a.prototype,e};b.Base=function(){},b.Base.extend=a,"undefined"==typeof b&&(b={}),b.AnimateHelper=b.Base.extend({constructor:function(a,b,c){this.el=a,this.prop=b,this.from=c.from,this.to=c.to,this.time=c.time,this.callback=c.callback,this.animDiff=this.to-this.from},_setStyle:function(a){"opacity"===this.prop?(this.el.style[this.prop]=a,this.el.style.filter="alpha(opacity="+100*a+")"):this.el.style[this.prop]=a+"px"},_animate:function(){return this.now=new Date,this.diff=this.now-this.startTime,this.diff>this.time?(this._setStyle(this.to),this.callback&&this.callback.call(this),void clearInterval(this.timer)):(this.percentage=Math.floor(this.diff/this.time*100)/100,this.val=this.animDiff*this.percentage+this.from,void this._setStyle(this.val))},start:function(){var a=this;this.startTime=new Date,this.timer=setInterval(function(){a._animate.call(a)},Math.floor(1e3/30))}}),"undefined"==typeof b&&(b={}),b.HoverHelper=function(){var a=1e3,c="mouseover",d="mouseout",e="mousemove",f="touchstart",g={subtype:b.MetricsConstants.EventSubtypes.INTERACTION_HOVER,mode:b.MetricsConstants.EventModes.ROLLOVER,detail:"1 Second Rollover"},h={subtype:b.MetricsConstants.EventSubtypes.NOTATION_UPDATE,mode:b.MetricsConstants.EventModes.ROLLOUT,detail:"Rollout"};return b.Base.extend({view:null,element:null,moveElement:null,timer:null,sequence:null,start:null,lockout:null,sendMetrics:!0,constructor:function(a,c,d){var e=this;e.view=a,e.element=c,d=d||{},e.moveElement=d.moveElement||e.element,b._.is.truly(d.disableLogging)&&(e.sendMetrics=!1),b._.bindAll(e),e.enable()},enable:function(){var a=this,g=a.element;b._.addEvent(g,f,a.disable,!0),b._.addEvent(g,c,a.startHoverTimerFn,!0),b._.addEvent(g,d,a.rolloutFn,!0),b._.addEvent(g,c,a.rolloverFn,!0),b._.addEvent(a.moveElement,e,a.moveFn,!0)},disable:function(){var a=this,g=a.element;clearInterval(a.timer),b._.removeEvent(g,f,a.disable,!0),b._.removeEvent(g,c,a.startHoverTimerFn,!0),b._.removeEvent(g,c,a.rolloverFn,!0),b._.removeEvent(a.moveElement,e,a.moveFn,!0),b._.removeEvent(g,d,a.rolloutFn,!0),b._.removeEvent(g,d,a.trackRolloutFn,!0)},trackRolloutFn:function(){var a=this,c=a.element,e=a.view;b._.removeEvent(c,d,a.trackRolloutFn,!0),a.sendMetrics&&b.Metrics.logNotation(e.model,b._.extend({context:a.sequence},h)),a.sequence=null},trackHoverFn:function(){var a=this,c=a.element,e=a.view;a.timer&&(clearInterval(a.timer),a.timer=null),a.sendMetrics&&(a.sequence=b.Metrics.logInteraction(e.model,g)),b._.addEvent(c,d,a.trackRolloutFn,!0)},onMove:function(a,b){var c=this,d=c.view;d.clientX=b?a.pageX-b.offsetLeft:a.pageX,d.clientY=b?a.pageY-b.offsetTop:a.pageY,c.trigger("move")},rolloverFn:function(a){this.onMove(a,self.element)},moveFn:function(a){this.onMove(a,self.moveElement)},startHoverTimerFn:function(){var d=this,e=d.element,f=d.view;b._.removeEvent(e,c,d.startHoverTimerFn,!0),d.timer=f.addInterval(d.trackHoverFn,a),d.start=new Date,d.trigger("rollover")},rolloutFn:function(){{var a=this,d=a.element;a.view}a.timer&&(clearInterval(a.timer),a.timer=null),a.start=null,b._.addEvent(d,c,a.startHoverTimerFn,!0),a.trigger("rollout")}})}(),"undefined"==typeof b&&(b={}),b.AbstractView=b.Base.extend({constructor:function(a){var c=this;a=a||{},c.model=a.model||null,c.config=a,c.model&&c.model.viewMixins&&b._.each(c.model.viewMixins,function(a){b[a]&&(b._.extend(c,b[a]),b._.each(b[a].events,function(d,e){c.bind(e,b[a][b[a].events[e]])}))}),c.bind("renderComplete",function(){}),c.bind("show",function(){}),c.bind("hide",function(){}),c.initPartnerView&&c.initPartnerView(a),c.trigger("init")},show:function(){var a=this;return a.dom&&(a.dom.style.display=""),a.target&&(a.target.style.visibility=""),a.preloader&&(a.preloader.style.display=""),a.trigger("show",a),a},hide:function(){var a=this;return a.dom&&(a.dom.style.display="none"),a.target&&(a.target.style.visibility="hidden"),a.preloader&&(a.preloader.style.display="none"),a.trigger("hide",a),a},doClickThrough:function(a,c){var d=this,e=b.Metrics.logInteraction(d.model,b._.extend({detail:c},{mode:b.MetricsConstants.EventModes.CLICK,subtype:b.MetricsConstants.EventSubtypes.INTERACTION_SELECT})),f=b.Metrics.getClickthroughUrl(d.model,{url:a,detail:a,trigger:e});d.openWindow(f)},openWindow:function(a,c,d){var e,f=this;c=c||"_blank";var g=function(){f.model.trigger("metrics:logNotation",{detail:"Popup Blocked",eventData:{url:a}})},h=f.windowTarget||c;try{if(a.length>2e3){"_blank"===h&&(h="_fliteClick"+b._.now(),e=window.open("about:blank",h,d||""),e?e.onerror=g:g());var i=f.dom||f.preloader,j=i&&i.ownerDocument||document,k=b._.uniqueId("flite-form"),l=a.split("?"),m=b._.fromQueryString(a);m.et&&delete m.et;var n=b._.make("FORM",{doc:j,attributes:{id:k,method:"POST",target:h,action:[l[0],"?cb=",b._.now(),"&et=P"].join("")}});for(var o in m)if(m.hasOwnProperty(o)){var p=b._.make("input",{doc:j,attributes:{type:"hidden",name:o,value:m[o]}});n.appendChild(p)}j.body.appendChild(n);var q=j.getElementById(k);q.submit(),q.parentNode.removeChild(q)}else e=window.open(a,f.windowTarget||c,d||""),e?e.onerror=g:g()}catch(r){g()}f.trigger("openWindow",{url:a,target:c,specs:d})},resize:function(a,b){var c=this;if(c.dom&&(a&&(c.dom.style.width=a+"px"),b&&(c.dom.style.height=b+"px"),c.dom.ownerDocument.defaultView!==window.top&&c.dom.ownerDocument.parentWindow!==window.top)){var d=c.getExpandableAnchorInsertionPoint();d&&(d===window.top||d.ownerDocument&&(d.ownerDocument.defaultView===window.top||d.ownerDocument.parentWindow===window.top))&&d!==c.target&&(a&&(d.style.width=a+"px"),b&&(d.style.height=b+"px"))}return c.trigger("resize",c),c},resizeContainer:function(a,c,d){var e,f,g,h=this;d=d||{},e=b._.isNumber(a)?a:parseInt(a,10)||null,f=b._.isNumber(c)?c:parseInt(c,10)||null;var i=h.dom.ownerDocument.defaultView===window.top,j=void 0===d.resizeHeight?f:d.resizeHeight,k=function(a){if(a){var c=a.getAttribute("data-flite-resize");if(!c){var h={w:a.style.width,h:a.style.height};i||(h.mw=a.style.maxWidth,h.mh=a.style.maxHeight),a.setAttribute("data-flite-resize",b._.toQueryString(h,"style"))}var j=isNaN(d.duration)?0:Number(d.duration);if(d.animate&&j){var k={time:1e3*j||1e3,callback:g?null:m};e&&(b._.extend(k,{from:a.offsetWidth,to:e}),new b.AnimateHelper(a,"width",k).start(),i||new b.AnimateHelper(a,"maxWidth",k).start()),f&&(b._.extend(k,{from:a.offsetHeight,to:f}),new b.AnimateHelper(a,"height",k).start(),i||new b.AnimateHelper(a,"maxHeight",k).start())}else e&&(a.style.width=e+"px"),f&&(a.style.height=f+"px"),i||(e&&(a.style.maxWidth=e+"px"),f&&(a.style.maxHeight=f+"px")),g||m();g=!0}},l=function(a){if(a){var c=a.getAttribute("data-flite-resize");if(c){var d=b._.fromQueryString(c);a.style.width=d.w,a.style.height=d.h,i||(a.style.maxWidth=d.mw,a.style.maxHeight=d.mh),a.removeAttribute("data-flite-resize")}}},m=function(){h.trigger("resizeContainer",{width:e,height:f})};h.trigger("beforeResizeContainer");var n=h.getContainerChain(j);if(b._.each(n,k),!h.model||!h.model.parent){var o=function(){b._.each(n,l)};h.bind("destroy",o),h.bind("showStage",function(a){b._.indexOf(["self","pushdown"],a.type)>-1&&h.unbind("destroy",o)})}},getContainerChain:function(a){var c=this;if(!c.containerChain){var d=[],e=c.getExpandableAnchorInsertionPoint();e&&(d.push(e),b._.contains([e.ownerDocument.defaultView,e.ownerDocument.parentWindow],top)&&(d.push(c.getFriendlyIframe(e)),b._.is.inConsole()||(d=d.concat(c.getParentNodeContainers(e,a))))),b._.each(b._.filter(b._.getWindowChain(),function(a){return a!==top}),function(a){try{a.FLITE&&a.FLITE.isExpandableWindow||d.push(a.frameElement)}catch(b){}}),d.push(c.target),d=b._.filter(b._.unique(d),function(b){try{return b&&b!==c.dom&&(Number(b.getAttribute("height")||1e10)<=Number(a)||b.offsetHeight<=Number(a))||b===c.target}catch(d){}}),d.length>0&&(this.containerChain=d)}return c.containerChain},addInterval:function(a,b){var c=setInterval(a,b||100);return this.bind("destroy",function(){clearInterval(c)}),c},addEvent:function(a,c,d){b._.addEvent(a,c,d),this.bind("destroy",function(){b._.removeEvent(a,c,d)})},renderTo:function(){throw"AbstractView#renderTo is abstract, implement it in a concrete subclass"},repositionViewDom:function(a,c){var d=this;if(a=a||d.target,c=c||{},c.preserveTarget&&d.dom&&!c.staticTarget)if(b._.is.inConsole()&&(a.style.overflow="hidden",a.style.position="relative"),d.dom.style.position="absolute",d.preloader)d.dom.style.left=d.preloader.offsetLeft+"px",d.dom.style.top=d.preloader.offsetTop+"px";else if(c.replaceStage){var e=d.model.previous;d.dom.style.left=e&&e.view.dom?e.view.dom.offsetLeft+"px":"0px",d.dom.style.top=e&&e.view.dom?e.view.dom.offsetTop+"px":"0px"}else d.dom.style.top=d.dom.style.left="0px";return d},destroy:function(a){a=a||{};var b=this,c=null;return b.trigger("destroy",b,a),b.target&&b.preventDomRemoval!==!0&&a.preserveTarget!==!0&&(c=b.target.parentNode||b.targetParent,c&&c.removeChild(b.target)),b.dom&&b.preventDomRemoval!==!0&&(c=b.dom.parentNode,c&&c.removeChild(b.dom),delete b.dom),b.unbind(),b},getStageStyleTarget:function(){return b._.getExpandableWindow().document.body},getFriendlyIframe:function(a){var b=this,c=b.parent?b.parent.config:b.model&&b.model.config;try{if("IFRAME"===a.nodeName){var d=(a.getAttribute("src")||"").toLowerCase(),e=a.ownerDocument.defaultView||a.ownerDocument.parentWindow;if(!d||0!==d.indexOf("http")||d.indexOf(e.location.host)>-1){var f=a.contentWindow&&a.contentWindow.document,g=Array.prototype.slice.call(f.getElementsByTagName("iframe"),0).filter(function(a){return(a.offsetWidth<=parseFloat(c.appWidth)||a.offsetHeight<=parseFloat(c.appHeight))&&a!==b.dom&&"flite-ad"!==a.className});return g&&g[0]}}}catch(h){}},getParentNodeContainers:function(a,c){var d=this;if(!d.parentNodeContainers){var e=100,f=a.nodeName.toLowerCase();a=a.parentNode,d.parentNodeContainers=[];try{for(;a&&"body"!==f&&"head"!==f&&"document"!==f&&e>0;){var g=a.style&&a.style.height||a.attributes&&a.attributes.height;if(g&&-1===b._.indexOf(["inherit","auto"],g)&&-1===g.indexOf("%")&&parseFloat(g)<c&&d.parentNodeContainers.push(a),a===a.parentNode)break;a=a.parentNode,f=a&&a.nodeName.toLowerCase(),e-=1}}catch(h){}}return d.parentNodeContainers},getExpandableAnchorInsertionPoint:function(a){a=a||{};var c=b._.getExpandableWindow(a),d=null,e=a.view||this,f=a.referrer||window.document.referrer,g=window.location.href,h=a.base||"baseunit";if("viewport"===h)return c.document.documentElement;if(e.target&&b._.contains([e.target.ownerDocument.defaultView,e.target.ownerDocument.parentWindow],c))return e.iframeDetection="ownerDocument",e.dom||e.target;if(f&&"about:blank"!==f&&0!==f.indexOf("javascript:")){e.iframeDetection="url:"+f;var i=window.location.hash;i&&(i=i.substr(1));var j=b._.filter(c.document.getElementsByTagName("iframe"),function(a){var c=a.getAttribute("src");return c&&(f&&-1!==f.indexOf(c)||g&&-1!==g.indexOf(c)||e.model&&-1!==c.indexOf(["/adframe/i/",e.model.controllerId||e.model.guid].join(""))&&-1!==c.indexOf(i)||b._.contains([window,parent],a.contentWindow))});if(1===j.length)return j[0]}e.iframeDetection="frameElement";var k=b._.getWindowChain(),l=0;for(l=0;l<k.length;l++)try{var m=k[l].frameElement;if(m&&b._.contains([m.ownerDocument.defaultView,m.ownerDocument.parentWindow],c))return m}catch(n){}e.iframeDetection="elementFromPoint";var o=a.mouseX?a.mouseX:e.clientX,p=a.mouseY?a.mouseY:e.clientY;return b._.isNumber(o)&&b._.isNumber(p)&&(d=c.document.elementFromPoint(o,p)),d||e.dom||e.target},getHoverTracker:function(a,c){var d="data-hover";if("1"!==a.getAttribute(d)){a.setAttribute(d,"1"),c=c||{};var e=this,f=e.model&&e.model.baseParent||e.model,g=f.metrics,h=new b.HoverHelper(e,a,c),i=null,j=function(a){return function(){g.startTOU(a?g.justOut:0),g.justOut=0,clearTimeout(i),g.idle(1),i=setTimeout(function(){g.idle(0)},1e3)}};h.bind("move",j(1)),h.bind("rollover",j(0));var k=function(a){return function(){a&&g.onUnit&&(g.justOut=b._.now()),g.onUnit&&(clearTimeout(i),g.idle(1),g.updateTOU(1))}};return h.bind("rollout",k(0)),e.bind("windowOpened",k(0)),f!==e.model&&e.model&&e.model.bind("destroy",k(1)),h}}}),"undefined"==typeof b&&(b={}),b.Instance=b.Base.extend({isInstance:!0,constructor:function(a){var c=this;c.guid=a,c.impressionSequence=0,c.metrics={sequence:0,eventDelegate:b.Metrics.loadImageTrackingUrl,engaged:!1,tou:0,t_tou:0,a_tou:0,onUnit:0,getTOU:function(){var a=c.metrics,b=a.updateTOU();return b.d_tou=b.tou-a.t_tou,a.t_tou=b.tou,b.da_tou=b.a_tou-a.a_tou,a.a_tou=b.a_tou,b},startTOU:function(a){var d=c.metrics;d.onUnit||(d.onUnit=1,d._tou=a||b._.now())},updateTOU:function(a){var d=c.metrics;if(d.onUnit&&d._tou){var e=b._.now();d.tou+=e-d._tou,d._tou=e}return a&&(d.onUnit=0),{tou:d.tou,a_tou:d.tou-(d.idl||0)}},idle:function(a){var d=c.metrics;a?(d._idl&&(d.idl||(d.idl=0),d.idl+=b._.now()-d.idl_),d._idl=0):(d._idl=1,d.idl_=b._.now())}};var d=window.FLITE&&window.FLITE.config&&window.FLITE.config[a];d&&(c.expansionDisabled=d.expansionDisabled,d.vd&&c.setConfigParamOverrides(b._.prefix(d.vd,"var_")),d.sequence&&(c.metrics.sequence=d.sequence)),c.sessionId=d&&d.sessionId||b._.generateGuid(),c.uniqueId=c.safeUniqueId(),c.infoLoaded=!1,c.bind("setConfig",function(a){a.infoLoaded=!0,a.bind("viewInit",function(c){c=c||{};var d={trigger:a.metrics.trigger};a.expansionDisabled&&!c.subtype&&(d.subtype=b.MetricsConstants.EventSubtypes.IMPRESSION_LIMITED),a.trigger("metrics:impression",b._.extend(c,d)),a.trigger("metrics:logAffiliateImpressions")})})},safeUniqueId:function(a,c){a=a||"";var d=b._.uniqueId(a+this.sessionId+"-");return c&&(d=d.replace(/-/g,"")),d},searchParameters:function(a){var c=this.config.configParams,d=b._.select(c,function(b){return a.test(b.name)});return d.sort(function(a,b){return a.name<b.name?-1:1}),d},getParametersByPrefix:function(a){return this.searchParameters(new RegExp(["^",a,"$|",a,"_[0-9]"].join("")))},getConfigValue:function(a){var b=this;return a&&b.config.configParams[a]?b.config.configParams[a].valueMap?b.config.configParams[a].valueMap:b.config.configParams[a].value:void 0},convertDataAssets:function(a){var c={};for(var d in a)if(a.hasOwnProperty(d)){var e=a[d].info;if(e&&e.widgetPrototype)if(0===e.widgetPrototype.indexOf("DATA_"))if(e.isPreview)c[d]=e.url;else{var f=!1;try{if(e.configParams&&e.configParams.metadata){var g=JSON.parse(e.configParams.metadata.value);f="csvd"===g.subtype}}catch(h){}c[d]=f?b.URLFactory.getDataAPIDataAssetUrl({regId:e.regId,regVersion:e.regVersion}):b.URLFactory.getProxiedDataAssetUrl({regId:e.regId,regVersion:e.regVersion})}else"STORY2"===e.widgetPrototype&&(c[d]=b.URLFactory.getManagedContentUrl(e.htmlContent))}return c},getAssets:function(a){if(a&&"object"==typeof a){var b={},c=this.convertDataAssets(a);for(var d in a)if(a.hasOwnProperty(d)&&a[d].info){var e=a[d].info.htmlContent||a[d].info.url;c.hasOwnProperty(d)&&(e=c[d]),b[d]=e}return b}},getAllVariablesMap:function(a){var c=this,d={},e=c.config.configParams;b._.each(e,function(f,g){a||("assets"===g&&e.assets.value&&b._.extend(d,c.getAssets(e[g].value)),"global_assets"===g&&e.global_assets.value&&b._.extend(d,c.getAssets(e[g].value))),g.match(/var_[a-z0-9]+/g)&&(d[g]=e[g].value)});var f={};return b._.extend(f,d,c.getMergedControllerVariables()),b._.each(d,function(a,c){a&&a.match(/\${/g)&&(d[c]=b._.variableReplacement(a,f))}),d},getVariablesMap:function(){return this.getAllVariablesMap(!0)},getMergedControllerVariables:function(){var a=this.config.cvd,c=this.config.controllerVariables,d={};return b._.isObject(c)&&b._.each(c,function(e,f){d["campaign."+f]=b._.isEmpty(a)||b._.isEmpty(a[f])?c[f]:a[f]}),d},getConfig:function(){return this.config},injectInstanceMixins:function(){var a=this,c=a.getConfig().widgetType,d=a.getConfig().widgetPrototype;"URL"===c?b._.extend(a,b.RemoteInstanceMixin):"FLASH"===c&&"AD_V3"===d?b._.extend(a,b.FlashInstanceMixin):"JS"===c&&"AD_TOUCH"===d&&b._.extend(a,b.TouchInstanceMixin),b.FifInstanceMixin&&(b._.extend(a,b.FifInstanceMixin),a.setConfigFromQueryString()),b._(a.events).each(function(b,c){a.bind(c,a[b])},a),a.trigger("mixinsComplete")},setConfigParamOverrides:function(a){var c=this;c.configParamOverrides=b._.extend({},c.configParamOverrides),b._.chain(a).keys().each(function(b){c.configParamOverrides[b]={name:b,value:a[b]}})},setConfig:function(a,c,d){var e=this;return e.config=a,e.configParamOverrides&&(b._.extend(e.config.configParams,e.configParamOverrides),e.configParamOverrides=null),e.scriptDeps=d,e.config.dependencyInfo&&b._.each(e.config.configParams,function(a){"DEPENDENCY"===a.type&&b._.each(a.value,function(a){if(!a.info){var c=e.config.dependencyInfo[a.guid];c&&(a.info=b._.deepClone(c),a.info.configParams&&a.localConfig&&b._.each(a.localConfig,function(b,c){if(a.info.configParams[c]){var d=a.info.configParams[c];d.valueMap?d.valueMap=b:d.value=b}}))}})}),b._.each(c,function(a){a.call(e,b)},e),e.config.isError&&e.unbindPrefix("metrics"),e.injectInstanceMixins(),b._.extend(e.config,window.FLITE&&window.FLITE.config&&(window.FLITE.config[e.guid]||window.FLITE.config[e.config.controllerAppId])||{}),e.trigger("setConfig",e),e},fetch:function(a,c,d,e,f){var g=this,h=[b.URLS.runtime,"get_widget.js"].join("/"),i={output:"json",location:b._.getWindowLocation(),timestamp:b._.now()};i["appId.0"]=g.guid,i["sid.0"]=g.sessionId,c&&(i.dependencies=c.join(",")),d&&(i.scope=d),e&&(i.erv=e),f&&(i.fetch=f),b._.jsonpWidgetInfo(h,i,g,d,function(c){b.token=b.token||c.token,b.version=b.version||c.version,c.widgets&&c.widgets[0]&&g.setConfig(c.widgets[0],c.dependencies,c.scriptDependencies).render(a)})},render:function(a,c){c=c||{};var d=this;if(q(d.uniqueId)){if(!a){var e=b._.getScriptInsertionTarget(d.guid);e.setAttribute("processed","y");var f,g;!d.parent&&d.renderInExpandableWindow?(g=b._.getExpandableWindow(),f=b._.createInsertionTarget(d.guid,g.document),f.ownerDocument.body.insertBefore(f,null),a=f.ownerDocument.getElementById(f.getAttribute("id"))):(f=b._.createInsertionTarget(d.guid),f.style.lineHeight="0px",e.parentNode.insertBefore(f,e),a=document.getElementById(f.getAttribute("id")))}return d.bind("viewReady",function(){d.view&&(d.view.windowTarget=d.baseParent&&d.baseParent.view?d.baseParent.view.windowTarget:d.getConfigValue("wbx.windowTarget"),"_"===d.view.windowTarget&&(d.view.windowTarget=null),d.view.bind("openWindow",function(){d.metrics.updateTOU(1)}))}),d.bind("render",function(b,c){d.unbind("render"),b=b||d.view,c=c||{},b.bind("renderTo",function(){b.renderTo(a,c);var e="AD_TOUCH"===d.getConfig().widgetPrototype;e&&a.parentNode&&b.appendFragment(),b.model.trigger("viewReady")}),b.trigger("pre_render",a,c),b.trigger("renderTo"),b.windowTarget=d.baseParent&&d.baseParent.view?d.baseParent.view.windowTarget:d.getConfigValue("wbx.windowTarget"),"_"===b.windowTarget&&(b.windowTarget=null),d.viewMixins&&d.viewMixins.PinnedViewMixin&&(!d.parent||d.previous)&&b.stylePinned(a,c),d.viewMixins&&!d.parent&&d.viewMixins.LightboxViewMixin&&b.trigger("expandStart",{type:"lightbox"}),b.trigger("render_post",a,c)}),d.trigger("renderReady",a,c),d}},destroy:function(a){a=a||{};var c="metrics:logNotation",d=null,e=this;(a.trigger||0===a.trigger)&&(d=e.parent||e.previous?e.stage?"self"===e.expandType?{detail:"Ad unloaded",eventDelegate:b.Metrics.loadImageTrackingUrl}:{detail:"Stage Closed"}:{detail:"Subsequent ad closed"}:{detail:"Ad unloaded",eventDelegate:b.Metrics.loadImageTrackingUrl}),d&&e.trigger(c,b._.extend(a,d)),e.trigger("destroy",e),e.destroyAllChildren(a);var f=e.parent?e.parent.children:window.FLITE.instances,g=b._.indexOf(f[e.guid],e);f[e.guid]&&(e.previous?f[e.guid]=[]:-1!==g&&f[e.guid].splice(g,1),0===f[e.guid].length&&delete f[e.guid]),e.parent&&e.parent.trigger("childDestroyed",e),e.view&&(e.view.destroy(a),delete e.view),e.unbind(),e.parent=null,e.isDestroyed=!0},destroyAllChildren:function(a){var c=this;c.children&&b._.each(c.children,function(b,d){for(;c.children[d]&&c.children[d].length;)c.children[d][0].destroy(a)})}}),"undefined"==typeof b&&(b={}),"undefined"==typeof window.FLITE&&(window.FLITE={}),b.startTime=new Date;var n=function(a){var c=new b.Instance(a),d=[{evt:"metrics:impression",fn:"logImpression"},{evt:"metrics:logInteraction",fn:"logInteraction"},{evt:"metrics:logContent",fn:"logContent"},{evt:"metrics:logNotation",fn:"logNotation"},{evt:"metrics:logAffiliateImpressions",fn:"logAffiliateImpressions"}];return b._.each(d,function(a){c.bind(a.evt,function(d){b.Metrics[a.fn](c,d)})}),window.FLITE.instances=window.FLITE.instances||{},window.FLITE.instances[a]=window.FLITE.instances[a]||[],c.guidIndex=window.FLITE.instances[a].length,window.FLITE.instances[a].push(c),c},o=function(a,b){var c=[],d=function(b,e){FLITE._.each(b,function(b){FLITE._.each(b,function(b){b[a]===e?c.push(b):b.children&&d(b.children,e)})})};return d(FLITE.instances,b),c},p=function(a){return o("guid",a)},q=function(a){var c=o("uniqueId",a);return b._.first(c)},r=function(a,c,d){d=d||{},d.isLightbox||c.bind("metrics:impression",function(d){var e={};e[b.MetricsConstants.Keys.SUBINSTANCE_KEY]=c.getConfig().appPK,c.impressionSequence=b.ChildMetrics.logImpression(a,b._.extend(d,e))}),c.bind("metrics:logCloseInteraction",function(e){var f={};f[b.MetricsConstants.Keys.SUBINSTANCE_KEY]=c.getConfig().appPK,d.isLightbox&&(f.notation_detail="URL Closed"),b.ChildMetrics.logCloseInteraction(a,b._.extend(e,f))});var e=[{evt:"metrics:logInteraction",fn:"logInteraction"},{evt:"metrics:logContent",fn:"logContent"},{evt:"metrics:logNotation",fn:"logNotation"}];return b._.each(e,function(d){c.bind(d.evt,function(e){var f={};f[b.MetricsConstants.Keys.SUBINSTANCE_KEY]=c.getConfig().appPK,b.Metrics[d.fn](a,b._.extend(e,f))})}),c},s=function(a,c){var d=new b.Instance(c);return d.parent=a,d.baseParent=a.baseParent||a,d.baseParent.trigger("childCreated",d),d.metrics=a.metrics,d.sessionId=a.sessionId,a.children=a.children||{},a.children[c]=a.children[c]||[],d.guidIndex=a.children[c].length,a.children[c].push(d),d},t=function(a,c){var d=b._.getScriptInsertionTarget(c);d.setAttribute("data-instance",a);var e=FLITE.createInstance(a);return e.controllerId=c,e},u=function(a,c){var d=b._.isString(a)||b._.isNumber(a)?q(a):a;d.view._callbacks.createExpansion||d.view.bind("createExpansion",function(a){x.call(this,a)||d.trigger("metrics:logNotation",{trigger:a.trigger,detail:"Expansion Blocked"})}),d.view.trigger("createExpansion",c)},v=function(a,c){var d=b._.isString(a)||b._.isNumber(a)?q(a):a;d.view.trigger("showStage",c,d)},w=function(a,c,d,e){var f=this.model;if(e=e||{},b._.isUndefined(e.anchorToBody)&&(e.anchorToBody=!0),!a(f))return!1;e.mouseX=f.view.clientX,e.mouseY=f.view.clientY;var g=c(f,e);return e.config&&g.setConfigParamOverrides(e.config),e.trigger&&(g.metrics.trigger=e.trigger),b._.expandWindow=null,d(f,g,e),!0},x=function(a){var c=function(b){return!b||b.expansionDisabled?!1:b.children&&b.children[a.id]&&b.children[a.id].length>0?!1:!0},d=function(a,c){var d=s(a,c.id);return r(d.baseParent,d,{isLightbox:"lightbox"===c.type}),a.view&&(d.anchorInsertionPointOverride=a.view.getExpandableAnchorInsertionPoint(b._.extend(c,{clear:!0}))),d},e=function(a,c,d){var e=b._.getExpandableWindow().document;"anchor"===d.type||"expand"===d.type?c.fetch(b._.make("div",{doc:e}),["EXPANDABLE","BUTTON","CHILD"]):"lightbox"===d.type&&c.fetch(b._.make("div",{doc:e}),["LIGHTBOX","BUTTON","CHILD"]),c.bind("viewReady",function(){c.view.trigger("expandStart",d)})};return w.call(this,c,d,e,a)},y=function(a,c){b.token=a,b.version=c};window.FLITE.URLS=window.FLITE.URLS||{},b._.is.secureLocation()&&b._.each(window.FLITE.URLS,function(a,c){this[c]=b.URLFactory.getSecureUrl(a)},window.FLITE.URLS),b._.extend(b,b.Events,{URLS:window.FLITE.URLS,getInstancesByGuid:p,getInstanceByUniqueId:q,createChildInstance:s,attachSubInstanceMetrics:r,childFactory:w}),b._.extend(window.FLITE,{createInstance:n,createController:t,createExpansion:u,showStage:v,injectData:y,getInstanceByUniqueId:q,Metrics:b.Metrics,URLFactory:b.URLFactory,_:b._}),b.cleanup=function(a){b._.each(FLITE.instances,function(c){for(;c&&c.length>0;){var d=b._.first(c);d.expansionDisabled=!0,d.destroy(a)}})},b._.addEvent(window,"unload",function(){b.cleanup({windowUnloaded:!0})})}();window.FLITE.injectData('bf84fb194571c601283d1c9b63361f922ae05d4900000153e8b096cf', '531222493');
FLITE.createInstance('526fbcbd-708f-404c-bd04-cc52c38acfb5').setConfig({"appId":"526fbcbd-708f-404c-bd04-cc52c38acfb5","appWidth":"88","providerServiceLevel":"EXPERT","appHeight":"31","regPK":7155851,"stage":0,"appPK":"173698703","htmlContent":"","regPubVersion":"1","widgetPrototypeOrdinal":"17","configParams":{"wbx.clickTrackingEncoding":{"name":"wbx.clickTrackingEncoding","value":"default"},"theme":{"name":"theme","value":"{}"},"wbx.backupImage":{"name":"wbx.backupImage","value":"http://static.flite.com/screenshot/f8740cb5-4f67-43cb-a9d9-adc68e28cb2f/e06db0d9-967c-44ef-bf94-d66e546413ac/screenshot.png"},"wbx.backupImageLink":{"name":"wbx.backupImageLink","value":"${var_hxgpfdi9}"},"wbx.windowTarget":{"name":"wbx.windowTarget","value":""},"wbx_at_1":{"name":"wbx_at_1","value":""},"wbx.backupImgExpandFallback":{"name":"wbx.backupImgExpandFallback","value":"false"},"stage":{"valueMap":{"height":"31","width":"88"},"name":"stage","value":""},"var_hxgpfdi9":{"name":"var_hxgpfdi9","value":"http://www.t-mobile.com/"},"wbx_at":{"name":"wbx_at","value":"https://ad.doubleclick.net/ddm/trackimp/N3671.149345.CNET.COM/B9590217.130144681;dc_trk_aid=303480345;dc_trk_cid=70030813;ord=[timestamp];dc_lat=;dc_rdid=;tag_for_child_directed_treatment=?"},"assets":{"name":"assets","value":{},"type":"DEPENDENCY"},"wbx_lp":{"name":"wbx_lp","value":"https://ad.doubleclick.net/ddm/trackclk/N3671.149345.CNET.COM/B9590217.130146526;dc_trk_aid=303483562;dc_trk_cid=69924001;dc_lat=;dc_rdid=;tag_for_child_directed_treatment="},"layout":{"name":"layout","value":"[{\"id\":\"Lf4d6bd90\",\"label\":\"88x31_logo copy\",\"x\":0,\"y\":\"0\",\"borderThickness\":0,\"cornerRadius\":0,\"height\":\"31\",\"width\":\"88\",\"component\":\"f4d6bd90\",\"actions\":[{\"trigger\":\"tapclick\",\"payload\":\"1\",\"delay\":\"\",\"options\":{\"type\":\"expand\",\"offsetX\":\"-185\",\"anchor\":\"TL\",\"offsetY\":\"0\",\"hideClose\":\"true\"},\"type\":\"stage\"},{\"trigger\":\"mouseover\",\"delay\":\"\",\"triggerduration\":\"\",\"payload\":\"1\",\"options\":{\"type\":\"expand\",\"anchor\":\"TL\",\"offsetX\":\"-185\",\"offsetY\":\"0\",\"hideClose\":\"true\"},\"type\":\"stage\"}]}]"},"vast":{"name":"vast","value":"{}"},"wbx.buttonMode":{"name":"wbx.buttonMode","value":"2"},"wbx.zIndex":{"name":"wbx.zIndex","value":"1000000"},"flt.initialScript":{"name":"flt.initialScript","value":" "},"components":{"name":"components","value":{"f4d6bd90":{"guid":"6fe1bac1-925a-429d-8255-20342b11f21d","localConfig":{"asset_url":"http://static.flite.com/faf451a9-c491-4eca-bf7f-6f05364e96f5/2656b5a7-4c69-40c4-8c31-8763c94133ce/cnet_t-mobile_socialbarflash_2015_q2_223587_88x31_r2.jpg"},"type":"REGISTRATION"}},"type":"DEPENDENCY"},"actions":{"name":"actions","value":"{}"},"css":{"valueMap":{},"name":"css","value":""}},"dependencies":["FIF","STAGES","VIEWABILITY"],"name":"CNET TMO Champion US Social Logo","regId":"6bfe8b17-2b9d-435e-95db-db505f8235ef","regWidth":"88","deviceCategory":1,"url":"http://asset.flite.com/html5/401.966/touch/Ukitu.min.js","stages":{"sizes":[{"height":31,"width":88},{"height":250,"width":320}],"resources":["COMBO","CORE","BUTTON","EXPANDABLE","FLASH","TOUCH","LIGHTBOX","REMOTE","CHILD","MRAIDV1","LINKEDIN","FIF","AOL","MICROSOFT","YAHOO","TECHTARGET","SLIDE","PINNED","REPLACE","ADMOB","GOOGLE","USCRIPTFRAME","USCRIPTFRIENDLY","ALLFEATURES","CONTAINERSTYLE","STAGES","INITIALSCRIPT","INITIALLAYER","ATLASSERVER","MOPUB","REVIEWVIEW","VOLTRON","GLOBALMESSAGE","RESPONSIVE","CSSINHERITANCE","DATASTREAM","SAFEFRAME","ALLFLASHFEATURES","ATLASMETRICS","VIEWABILITY","EXTERNALDATA","NINTHDECIMAL","VPAIDV2"],"urls":["http://s.flite.com/syndication/ad.js/b/531222493/d/549789370368/dc/1/dh/a0dd213580dc9f3ced9044df976ce011/i/526fbcbd-708f-404c-bd04-cc52c38acfb5/iv/5/r/6bfe8b17-2b9d-435e-95db-db505f8235ef/rv/5/s/0/t/4daeab6abe4abb7fc59bd3c7a5064cbb718c2f6600000153e88513c9/v/0/","http://s.flite.com/syndication/ad.js/b/531222493/d/549789370368/dc/1/dh/a0dd213580dc9f3ced9044df976ce011/i/526fbcbd-708f-404c-bd04-cc52c38acfb5/iv/5/r/6bfe8b17-2b9d-435e-95db-db505f8235ef/rv/5/s/1/t/4daeab6abe4abb7fc59bd3c7a5064cbb718c2f6600000153e88513c9/v/0/"]},"providerPK":1834460,"widgetPrototype":"AD_TOUCH","dependencyInfo":{"6fe1bac1-925a-429d-8255-20342b11f21d":{"regWidth":"300","providerServiceLevel":"null","appWidth":"300","appHeight":"250","regPK":5664373,"deviceCategory":1,"stage":0,"stages":{"sizes":[],"resources":["COMBO","CORE","BUTTON","EXPANDABLE","FLASH","TOUCH","LIGHTBOX","REMOTE","CHILD","MRAIDV1","LINKEDIN","FIF","AOL","MICROSOFT","YAHOO","TECHTARGET","SLIDE","PINNED","REPLACE","ADMOB","GOOGLE","USCRIPTFRAME","USCRIPTFRIENDLY","ALLFEATURES","CONTAINERSTYLE","STAGES","INITIALSCRIPT","INITIALLAYER","ATLASSERVER","MOPUB","REVIEWVIEW","VOLTRON","GLOBALMESSAGE","RESPONSIVE","CSSINHERITANCE","DATASTREAM","SAFEFRAME","ALLFLASHFEATURES","ATLASMETRICS","VIEWABILITY","EXTERNALDATA","NINTHDECIMAL","VPAIDV2"],"urls":[]},"appPK":"0","url":"","providerPK":2216990,"htmlContent":"","regPubVersion":"50","widgetPrototype":"AD_TOUCH_COMPONENT","widgetPrototypeOrdinal":"18","configParams":{"scale":{"name":"scale","value":"100"},"repeat_mode":{"name":"repeat_mode","value":"no-repeat"},"image_loss":{"name":"image_loss","value":"lossless"},"position_h_up":{"name":"position_h_up","value":"center"},"image_quality":{"name":"image_quality","value":"70"},"position_h":{"name":"position_h","value":"left"},"position_v_up":{"name":"position_v_up","value":"center"},"wbx_thumb":{"name":"wbx_thumb","value":"${asset_url}"},"retina":{"name":"retina","value":"DOWNSCALE"},"spinner":{"name":"spinner","value":"false"},"wbx.buttonMode":{"name":"wbx.buttonMode","value":"0"},"position_v":{"name":"position_v","value":"top"},"wbx.customTriggers":{"name":"wbx.customTriggers","value":"[{\"label\":\"Load Complete\",\"fn\":\"image_complete\"}]"},"asset_url":{"name":"asset_url","value":"http://static.flite.com/54be77bf-e7db-4cfc-a678-7f50bc75b370/42284fca-428f-487b-82a2-20165632897d/no-image-300x2501x.png"},"upscale":{"name":"upscale","value":"false"},"scale_mode":{"name":"scale_mode","value":"DOWNSCALE"}},"regVersion":"107","widgetType":"HTML","dependencies":["FIF","STAGES","VIEWABILITY"],"appVersion":"null","name":"Image","regHeight":"250","isRenderedInline":true,"regId":"6fe1bac1-925a-429d-8255-20342b11f21d"}},"regVersion":"5","widgetType":"JS","appVersion":"5","regHeight":"31"}, [function(F) {F.DomUtils={getViewportHeight:function(a){a||(a=document);var b=-1,c=a.compatMode;return b=!c&&!F._.is.browser.msie||F._.is.browser.opera?window.innerHeight?window.innerHeight:0:"CSS1Compat"===c?a.documentElement.clientHeight:a.body.clientHeight},getViewportWidth:function(a){a||(a=document);var b=-1,c=a.compatMode;return b=c||F._.is.browser.msie?"CSS1Compat"===c?a.documentElement.clientWidth:a.body.clientWidth:window.innerWidth?window.innerWidth:0},getDocumentHeight:function(a){return a=a||document,Math.max(Math.max(a.body.scrollHeight,a.documentElement.scrollHeight),Math.max(a.body.offsetHeight,a.documentElement.offsetHeight),Math.max(a.body.clientHeight,a.documentElement.clientHeight))},getDocumentWidth:function(a){return a=a||document,Math.max(Math.max(a.body.scrollWidth,a.documentElement.scrollWidth),Math.max(a.body.offsetWidth,a.documentElement.offsetWidth),Math.max(a.body.clientWidth,a.documentElement.clientWidth))}};var getScrollX=function(a){a=a||window;var b=a?a.pageXOffset:0;return Math.max(a.document.documentElement.scrollLeft,a.document.body.scrollLeft,b)},getScrollY=function(a){a=a||window;var b=a?a.pageYOffset:0;return Math.max(a.document.documentElement.scrollTop,a.document.body.scrollTop,b)},getWebPageScrollMetrics=function(a,b){a=a||window;var c=b.getBoundingClientRect(),d=F.DomUtils.getViewportHeight(a.document),e=F.DomUtils.getViewportWidth(a.document),f=c.left+c.width,g=c.top+c.height;return{viewportWidth:e,viewportHeight:d,viewportXPixels:f,viewportYPixels:g}},getMRAIDPageScrollMetrics=function(a,b){var c=b&&b.getScreenSize&&b.getScreenSize(),d=c&&c.width||F.DomUtils.getViewportWidth(a.document),e=c&&c.height||F.DomUtils.getViewportHeight(a.document);return{viewportWidth:d,viewportHeight:e,viewportXPixels:b&&b.isViewable()?0:1e5,viewportYPixels:b&&b.isViewable()?0:1e5}},getWebViewableMetrics=function(a,b){a=a||window;var c=b.getBoundingClientRect(),d=F.DomUtils.getViewportWidth(a.document),e=F.DomUtils.getViewportHeight(a.document),f=Math.max(c.top,0),g=Math.min(e,c.bottom),h=isHidden()?0:g-f,i=0>=h?0:h/c.height,j=Math.max(c.left,0),k=Math.min(d,c.right),l=isHidden()?0:k-j,m=0>=l?0:l/c.width,n=parseFloat((i*m*100).toFixed(2)),o=d-k,p=e-g;return{x:l,y:h,remainderX:o,remainderY:p,percent:n,region:{top:n>0&&c.top>=0,bottom:n>0&&c.bottom<=e,left:n>0&&c.left>=0,right:n>0&&c.right<=d}}},getMRAIDViewableMetrics=function(a,b,c){return{x:a?b:0,y:a?c:0,percent:a?100:0,region:{top:a,bottom:a,left:a,right:a}}},getHiddenProp=function(){var a=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var b=0;b<a.length;b++)if(a[b]+"Hidden"in document)return a[b]+"Hidden";return null},isHidden=function(a){a=a||window;var b=getHiddenProp();return b?a.document[b]:!1},requestAnimationFrame=function(a){return"requestAnimationFrame"in window?window.requestAnimationFrame(a):setTimeout(a,1e3/30)},cancelAnimationFrame=function(a){return"cancelAnimationFrame"in window?window.cancelAnimationFrame(a):clearTimeout(a)};F.ViewabilityMixin={viewabilityCallbacks:[],scrollPositionCallbacks:[],events:{pre_render:"initViewability",renderComplete:"enableViewability"},initViewability:function(){var a=this;a.model.bind("viewReady",function(){var b=a.model.supports.mraid,c=F._.getExpandableWindow(),d=a.getExpandableAnchorInsertionPoint(),e=a.model.getConfig().appWidth,f=a.model.getConfig().appHeight,g=function(){return b?getMRAIDViewableMetrics(b.isViewable(),e,f):getWebViewableMetrics(c,d)},h=function(){return b?getMRAIDPageScrollMetrics(c,b):getWebPageScrollMetrics(c,d)},i=getScrollX(c),j=getScrollY(c),k=g(),l=k.percent,m=k.x,n=k.y,o=k.region,p=h(),q=p.viewportXPixels,r=p.viewportYPixels,s=i,t=j;a.processViewabilityCallbacks=function(b,d){s=getScrollX(c),t=getScrollY(c),k=g();var e={userInitiated:d,toX:s,fromX:d?i:0,toY:t,fromY:d?j:0,toPercent:k.percent,fromPercent:d?l:0,toPixelsX:k.x,fromPixelsX:d?m:0,toPixelsY:k.y,fromPixelsY:d?n:0,toRegion:k.region,fromRegion:d?o:{},remainderX:k.remainderX,remainderY:k.remainderY,trigger:a.model.impressionSequence};F._.each(a.viewabilityCallbacks,function(c){b&&c!==b||c.apply(a,[e])}),d&&(i=s,j=t,l=k.percent,m=k.x,n=k.y,o=k.region)},a.processScrollPositionCallbacks=function(b,d){s=getScrollX(c),t=getScrollY(c),p=h();var e={userInitiated:d,viewportWidth:p.viewportWidth,viewportHeight:p.viewportHeight,toX:s,fromX:d?i:0,toY:t,fromY:d?j:0,toViewportXPixels:p.viewportXPixels,fromViewportXPixels:d?q:0,toViewportYPixels:p.viewportYPixels,fromViewportYPixels:d?r:0,trigger:a.model.impressionSequence};F._.each(a.scrollPositionCallbacks,function(c){b&&c!==b||c.apply(a,[e])}),d&&(i=s,j=t,q=p.viewportXPixels,r=p.viewportYPixels)};var u={},v=function(a){return function(){u[a]||(u[a]=!0,w(),requestAnimationFrame(function(){u[a]=!1}))}},w=function(){a.processViewabilityCallbacks(null,!0),a.processScrollPositionCallbacks(null,!0)};a.addEvent(c,"scroll",v("scroll")),a.addEvent(c,"resize",v("resize"));var x=getHiddenProp();if(x){var y=x.replace(/[H|h]idden/,"")+"visibilitychange";a.addEvent(c.document,y,w)}if(a.bind("renderComplete",function(){(!b||b.isViewable())&&a.processViewabilityCallbacks(null,!1),a.processScrollPositionCallbacks(null,!1)}),b&&a.addEvent(b,"viewableChange",function(){w()}),!a.model.previous&&!a.model.baseParent){var z=a.model.supports.vpaid?2:1,A=50;e*f>=242500&&(A=30);var B=F._.once(function(b,c){var d=b&&b.info;F.Metrics.logNotation(a.model,{subtype:F.MetricsConstants.EventSubtypes.NOTATION_IMPRESSIONDATA,detail:"Viewable Impression",eventData:{scrollX:d.toX,scrollY:d.toY,pixelsVisible:d.toPixels,percentVisible:d.toPercent,timeThreshold:z,percentThreshold:A},trigger:c})}),C=a.getViewabilityCallback(function(b){B(b,a.model.impressionSequence),a.removeViewabilityListener(C)},this,{area:A,areaUnit:"pct",threshold:z});a.addViewabilityListener(C);var D=!1;a.model.bind("metrics:requestData",function(a){if(!D&&a.data&&a.data.it===F.MetricsConstants.EventTypes.INTERACTION){var b=g();B({info:{toX:getScrollX(c),toY:getScrollY(c),toPixels:b.y,toPercent:b.percent}},a.data.sq),D=!0}})}})},enableViewability:function(){this.viewabilityEnabled=!0,this.processViewabilityCallbacks(),this.processScrollPositionCallbacks()},getViewabilityCallback:function(a,b,c){var d=this,e=F._.extend({areaUnit:"pct"},c),f=Number(d.model.getConfig().appHeight);e.area||(e.area="pct"===e.areaUnit?50:f/2);var g=null,h="out"===e.direction;return function(d){var i="out"===e.direction,j=!1;if(i?e.region&&d.toRegion[e.region]||("px"===e.areaUnit&&f-d.toPixelsY>=e.area||"pct"===e.areaUnit&&100-d.toPercent>=e.area)&&(j=!0):(!e.region||d.toRegion[e.region])&&("px"===e.areaUnit&&(d.toPixelsY>=e.area||d.toPixelsY+d.remainderY>=e.area)||"pct"===e.areaUnit&&d.toPercent>=e.area)&&(j=!0),!h&&j){var k=isNaN(e.threshold)?1:parseInt(e.threshold,10),l=function(){g=null,a.apply(b,[{info:d,options:c}])};k?g=setTimeout(l,1e3*k):l()}else j||(clearTimeout(g),g=null);h=j}},getScrollPositionCallback:function(a,b,c){var d=this,e=F._.extend({},c),f=0,g=0,h=0,i=0,j=Number(d.model.getConfig().appWidth),k=Number(d.model.getConfig().appHeight);return function(d){var l="horizontal"!==e.orientation;if("viewport"===e.mode){var m={};F._.each(["top","bottom","left","right"],function(a){m[a]=0;var b="offset"+a.substr(0,1).toUpperCase()+a.substr(1);if(e[b]){var c=e[b+"Unit"]||"px";if("px"===c)m[a]=e[b];else{var f="top"===a||"bottom"===a?d.viewportHeight:d.viewportWidth;m[a]=f*(e[b]/100)}}});var n=d.viewportWidth+j,o=d.viewportHeight+k,p=e.pageDirection||"top",q=0,r=0;if("middle"===p){var s=n/2,t=o/2;d.toViewportXPixels<s?q=(d.toViewportXPixels-m.left)/(s-m.left):d.toViewportXPixels>s&&(q=1-(d.toViewportXPixels-s)/(s-m.right)),d.toViewportYPixels<t?r=(d.toViewportYPixels-m.top)/(t-m.top):d.toViewportYPixels>t&&(r=1-(d.toViewportYPixels-t)/(t-m.bottom))}else q=(d.toViewportXPixels-m.left)/(n-m.left-m.right),r=(d.toViewportYPixels-m.top)/(o-m.top-m.bottom);q=Number(Math.max(0,Math.min(q,1)).toFixed(4)),r=Number(Math.max(0,Math.min(r,1)).toFixed(4)),"left"===p&&(q=1-q),"top"===p&&(r=1-r),(!l&&q!==f||l&&r!==g)&&a.apply(b,[{info:F._.extend(d,{value:l?r:q}),options:c}]),f=q,g=r}else if("page"===e.mode){var u=e.thresholdAmount||100,v=e.direction||"prev",w=Math.floor((l?d.toY:d.toX)/u),x=l?i:h;if(w>x&&"next"===v||x>w&&"prev"===v)for(var y=Math.abs(w-x);y--;)a.apply(b,[{info:F._.extend(d,{value:w}),options:c}]);l?i=w:h=w}}},addViewabilityListener:function(a){var b=this;b.viewabilityCallbacks.push(a),b.viewabilityEnabled&&b.processViewabilityCallbacks(a,!1)},removeViewabilityListener:function(a){var b=this,c=[];F._.each(b.viewabilityCallbacks,function(b){b!==a&&c.push(b)}),b.viewabilityCallbacks=c},addScrollPositionListener:function(a){var b=this;b.scrollPositionCallbacks.push(a),b.viewabilityEnabled&&b.processScrollPositionCallbacks(a,!1)},removeScrollPositionListener:function(a){var b=this,c=[];F._.each(b.scrollPositionCallbacks,function(b){b!==a&&c.push(b)}),b.scrollPositionCallbacks=c}},this.viewMixins||(this.viewMixins={}),this.viewMixins.ViewabilityMixin="ViewabilityMixin";},function(F) {function processURL(a){return a=a&&window&&window.location&&"https:"===window.location.protocol?a.replace("http:","https:"):a,a&&F._.toQueryString({cb:F.version},a)}F.NodeUtils={getComputedStyle:function(a,b){if(!a||!b)return"";if(window.getComputedStyle&&a.ownerDocument&&a.ownerDocument.defaultView){var c=a.ownerDocument.defaultView.getComputedStyle(a,null);return c?c.getPropertyValue(b):""}var d=/(\-([a-z]){1})/g;return"float"===b&&(b="styleFloat"),d.test(b)&&(b=b.replace(d,function(){return arguments[2].toUpperCase()})),a.currentStyle&&a.currentStyle[b]?a.currentStyle[b]:null},detectParentStyleProperty:function(a,b){if(!a||!b)return!1;for(var c=100,d=a.nodeName.toLowerCase(),e=function(a){return F._.any(b,function(b){return b.value===F.NodeUtils.getComputedStyle(a,b.name)})};a&&"body"!==d&&"head"!==d&&"document"!==d&&c>0;){if(e(a))return a;a=a.parentNode,d=a&&a.nodeName.toLowerCase(),c-=1}if(F._.is.fif())try{var f=a.ownerDocument,g=f&&(f.defaultView||f.parentWindow);if(g&&g.frameElement)return this.detectParentStyleProperty(g.frameElement,b)}catch(h){return null}return null}},F.IFrameUtils={getIframe:function(a,b){var c=["javascript",":"].join("");b=b||document.getElementsByTagName("body")[0];var d=b.ownerDocument.createElement("iframe");d.setAttribute("frameBorder","0"),d.setAttribute("scrolling","no"),d.setAttribute("seamless","seamless"),d.setAttribute("allowTransparency","true"),d.setAttribute("allowfullscreen","allowfullscreen"),b=b||document.getElementsByTagName("body")[0],b.appendChild(d),setTimeout(function(){d.src=c+"false";var b,e;try{b=d.contentWindow.document}catch(f){e=document.domain;var g="var d=document.open();d.domain='"+e+"';void(0);";d.src=c+g,b=d.contentWindow.document}b.open()._l=function(){var b=this,c=b.parentWindow||b.defaultView;a.call(null,d,b,c)},b.write('<!DOCTYPE html><body style="margin:0px;padding:0px;border:none;" onload="document._l();"></body>'),b.close()},30)}},F.ScriptHelper=F.Base.extend({scripts:{},callbacks:{},callbackFns:{},windows:{},windowCallbacks:{},containerNode:null,handlerId:null,handlerCallback:null,constructor:function(a){this.containerNode=a||document.getElementsByTagName("body")[0],F._.defaults(FLITE,{scriptHandlers:{}}),this.windows={},this.handlerId="js_"+F._.keys(FLITE.scriptHandlers).length,FLITE.scriptHandlers[this.handlerId]={callbackFns:{}},this.handlerCallback=["FLITE.scriptHandlers.",this.handlerId,".callbackFns"].join("")},loadScript:function(a,b){var c=this;c._doPreloadScript(a,b,c.callbacks,c.scripts,function(a,b,d){c._doLoadScript(a,b,d)})},loadWindowedScript:function(a,b){var c=this;c._doPreloadScript(a,b,c.windowCallbacks,c.windows,c._doLoadWindowedScript)},loadUncachedScript:function(a,b,c){a&&this._doLoadScript(a,b,c)},getCallbackName:function(a){var b=FLITE.scriptHandlers[this.handlerId],c="cb"+F._.keys(b.callbackFns).length;return b.callbackFns[c]=a,[this.handlerCallback,c].join(".")},isScriptLoaded:function(a){return this.scripts[a]},_doPreloadScript:function(a,b,c,d,e){var f=this;if(d[a])try{b.call(null,d[a])}catch(g){}else"undefined"==typeof c[a]&&(c[a]=[]),c[a].push(b),"undefined"==typeof d[a]&&(d[a]=0,e.call(f,a,function(b){f._runCallbacks(a,c,d,b)}))},_doLoadScript:function(a,b,c){var d=document.createElement("script");d.setAttribute("type","text/javascript"),d.setAttribute("async","async"),"function"==typeof b&&(d.onload=b),"function"==typeof c&&(d.onerror=c),d.setAttribute("src",a),this.containerNode.appendChild(d)},_doLoadWindowedScript:function(a,b,c){var d=this;F.IFrameUtils.getIframe(function(d,e,f){d.width=1,d.height=1;var g=e.createElement("script");"function"==typeof b&&(g.onload=function(){b.call(null,f)}),"function"==typeof c&&(g.onerror=function(){c.call(null,f)}),g.src=a;var h=e.getElementsByTagName("body")[0];h.appendChild(g)},d.containerNode)},_runCallbacks:function(a,b,c,d){d=d||a,c[a]=d;var e=b[a];e&&(F._.each(e,function(b){try{b.call(null,c[a])}catch(d){}},this),b[a]=[])}}),F.TouchView=F.AbstractView.extend({constructor:function(a){F.AbstractView.prototype.constructor.call(this,a)},renderTo:function(a,b){b=b||{};var c=this;b.preserveTarget||F._.clear(a),c.target=a,c.targetParent=c.target.parentNode;var d=c.target.ownerDocument||document,e=d.createElement("iframe");return e.height=c.model.getConfig().appHeight,e.width=c.model.getConfig().appWidth,e.style.border="0px",e.scrolling="no",e.seamless="seamless",e.frameBorder="0",e.allowTransparency="true",e.className="flite-ad",e.setAttribute("allowfullscreen","allowfullscreen"),c.target.appendChild(e),c.dom=e,c.repositionViewDom(a,b),c.model.stage&&c.model.stage>0&&FLITE.resizeToFitAd&&FLITE.resizeToFitAd(c.model.uniqueId),c},appendFragment:function(){var a,b,c=this,d="script",e="text/javascript",f=c.dom;f.src="javascript:false",F._.extend((f.frameElement||f).style,{height:c.model.getConfig().appHeight,width:c.model.getConfig().appWidth,border:"0",display:"inline-block"},c.model.getConfig().appHeight<=5?{verticalAlign:"top"}:{});try{b=f.contentWindow.document}catch(g){a=document.domain,f.src="javascript:var d=document.open();d.domain='"+a+"';void(0);",b=f.contentWindow.document}var h=window.FLITE;b.open()._l=function(){var b=this,f=b.parentWindow||b.defaultView;f.FLITE=h,f.F=F,f.FLITE.NodeUtils=F.NodeUtils;var g="flite-"+F._.uniqueId(),i=function(){var a=b.createElement(d);a.type=e,a.text=['var ukitu=new window.Ukitu({instance:FLITE.getInstanceByUniqueId("'+c.model.uniqueId+'"), stage:document.getElementById("'+g+'")}); ukitu.init().then(function(){ukitu.render({x:0, y:0, width:',c.model.getConfig().appWidth,",height:",c.model.getConfig().appHeight,"})});"].join(""),b.body.appendChild(a)},j=b.createElement(d);if(a&&(b.domain=a),j.id="ukitu",j.type=e,j.addEventListener)j.addEventListener("load",i,!1);else if(j.readyState){var k=!1;j.onreadystatechange=function(){k||"loaded"!=this.readyState&&"complete"!=this.readyState||(k=!0,i())}}j.src=processURL(c.model.getConfig().url),F._.is.platform.ios||F._.is.platform.android||c.getHoverTracker(c.dom,{moveElement:b.body}),b.body.style.padding="0",b.body.style.margin="0";var l=b.createElement("div");l.id=g,b.body.appendChild(l),b.body.appendChild(j),c.trigger("domReady")},b.write('<!DOCTYPE html><body style="margin:0px;padding:0px;" onload="document._l();"></body>'),b.close()},openWindow:function(a,b,c){var d=this,e=document.createElement("a");e.setAttribute("href",a),e.setAttribute("target",b);var f=navigator.userAgent.match(/Android (\d+(?:\.\d+)+)/i),g=f&&2==f.length&&"2"==f[1].charAt(0),h=this.model.baseParent||this.model,i=h.getConfig()&&h.getConfig().oob;if(i&&F.Metrics.loadImageTrackingUrl(i,{},!0),F._.is.platform.ios||0===a.indexOf("tel:")||0===a.indexOf("sms:")||0===a.indexOf("mailto:"))e.click(),d.trigger("openWindow",{url:a,target:b,specs:c});else if(g){var j=document.createEvent("HTMLEvents");j.initEvent("click",!0,!0),e.dispatchEvent(j),d.trigger("openWindow",{url:a,target:b,specs:c})}else F.TouchView.__super__.openWindow.call(this,a,b,c)}}),"undefined"==typeof F&&(F={}),F.BackupImageView=F.AbstractView.extend({isBackupImage:!0,constructor:function(a){F.AbstractView.prototype.constructor.call(this,a)},renderTo:function(a){var b=this,c=b.config.width,d=b.config.height,e=b.model.getAllVariablesMap(),f=F._.variableReplacement(b.model.getConfigValue("wbx.backupImageLink")||"",e),g=F._.variableReplacement(b.model.getConfigValue("wbx.backupImage")||"",e);g&&(g=F.URLFactory.getProxiedImageUrl(g,{maxWidth:c,maxHeight:d})),b.dom=F._.make("div");var h=F._.make("img",{attributes:{src:g,height:d,width:c,border:0}});b.dom.appendChild(h),a.innerHTML=F._.toElementString(b.dom);var i=a.firstChild;if(i.firstChild.onload=function(){b.trigger("renderComplete",b)},b.getHoverTracker(i),f){var j=F._.is.browser.msie?"mouseup":F._.is.browser.mozilla||F._.is.browser.safari?"click":"mousedown";b.clickthroughFn=function(){var a=b.model.getConfig()&&b.model.getConfig().oob;a&&F.Metrics.loadImageTrackingUrl(a,{},!0),f&&b.doClickThrough(f,"Backup Image")},i.style.cursor="pointer",F._.addEvent(i,j,b.clickthroughFn)}return b.stylePinned&&b.stylePinned(a),b}}),"undefined"==typeof F&&(F={}),F.TouchInstanceMixin={events:{renderReady:"renderTouch",targetReady:"appendFragment"},supports:{mraid:!1,admob:!1,vpaid:!1},asyncDependencies:{},renderTouch:function(a,b){var c=this;b=b||{},F.VPAIDInterface&&(c.supports.vpaid=F.VPAIDInterface.getInterface(c));for(var d=F._.getWindowChain(),e=0;e<d.length;e++)try{if(d[e].mraid){c.supports.mraid=d[e].mraid;break}if(d[e].admob){window.admob=d[e].admob,c.supports.admob=!0;break}}catch(f){}var g=!F._.is.browser.webkit&&!F._.is.platform.ios&&(!F._.is.browser.msie||F._.is.browser.msie&&F._.is.browser.version<9)&&(!F._.is.browser.mozilla||F._.is.browser.mozilla&&F._.is.browser.version<15&&!("transition"in window.document.body.style)&&!("transform"in window.document.body.style))||c.expansionDisabled&&F._.is.truly(c.getConfigValue("wbx.backupImgExpandFallback"))||!("addEventListener"in window);if(g&&!F._.is.truly(c.scalingReq))return c.trigger("viewInit",{subtype:F.MetricsConstants.EventSubtypes.IMPRESSION_BACKUP}),c.view=new F.BackupImageView({model:c,width:c.config.appWidth,height:c.config.appHeight}).renderTo(a),void c.trigger("viewReady");if(c.supports.admob){var h=c.getConfigValue("stage");h&&h.id&&c.getConfig().stage>0&&(c.unbindPrefix("metrics"),F.StagesMixin.attachChildMetrics(c,c,F.MetricsConstants.Keys.SCOPE,h.id));var i=window.FLITE.config&&window.FLITE.config[c.guid]&&window.FLITE.config[c.guid].mixin&&window.FLITE.config[c.guid].mixin[c.getConfig().widgetPrototype]&&window.FLITE.config[c.guid].mixin[c.getConfig().widgetPrototype].admob;if(!admob.opener.isOverlayShowing()&&i&&i.interstitial)return void window.admob.events.addEventListener("onshow",function(){c.trigger("viewInit"),c.assembleView(a,b)})}else if(c.supports.mraid){var j=function(d){d&&(c.trigger("viewInit"),c.assembleView(a,b)),c.supports.mraid.removeEventListener(j)};if(!c.supports.mraid.isViewable()&&"expanded"!=c.supports.mraid.getState())return void c.supports.mraid.addEventListener("viewableChange",j)}else if(c.supports.vpaid&&!c.supports.vpaid._hasStarted()){var k=function(){c.unbind("vpaid.initAd",k),c.trigger("viewInit"),c.assembleView(a,b)};return void c.bind("vpaid.initAd",k)}c.trigger("viewInit"),c.assembleView(a,b)},assembleView:function(a,b){var c=this,d=c.getConfigValue("components");if(d){var e=F._.keys(d);F._.each(c.scriptDeps,function(a,b){for(var c=0,f=e.length;f>c;c++){var g=d[e[c]];g.guid===b&&(g.info.scriptContent=a)}})}var f=function(a){delete c.asyncDependencies[a]};c.bind("asyncInit",function(a,b){c.asyncDependencies[a]=1,b&&setTimeout(function(){f(a)},5e3)}),c.bind("asyncComplete",f),c.view=new F.TouchView({model:this});var g=function(){0===F._.keys(c.asyncDependencies).length?c.trigger("render",c.view,b):setTimeout(g,10)};c.view.bound("platformMixinSetup")?(c.view.bind("platformMixinReady",function(){g()}),c.view.trigger("platformMixinSetup")):g()},appendFragment:function(){this.view.appendFragment()}};},function(F) {var includedDependencies=function(a,b){var c=[];if(null!==b){var d=b.toString(2).split("").reverse();F._.each(a,function(a,b){parseInt(d[b],2)&&c.push(a)})}return c},getBitVector=function(a,b){var c=[];null!==b&&b.length>0&&F._.each(a,function(a){c.unshift(F._.indexOf(b,a)>-1?1:0)});var d=c.join("")||"0";return parseInt(d,2)},attachChildMetrics=function(a,b,c,d){var e=[{evt:"metrics:logInteraction",fn:"logInteraction"},{evt:"metrics:logContent",fn:"logContent"},{evt:"metrics:logNotation",fn:"logNotation"}];return b.bind("metrics:impression",function(e){var f={};f[c]=d,b.expandType&&(f.expandType=b.expandType),F.ChildMetrics&&(b.impressionSequence=F.ChildMetrics.logImpression(a,F._.extend(e,f)))}),b.bind("metrics:logCloseInteraction",function(e){var f={};f[c]=d,b.expandType&&(f.expandType=b.expandType),F.ChildMetrics&&F.ChildMetrics.logCloseInteraction(a,F._.extend(e,f))}),F._.each(e,function(e){b.bind(e.evt,function(b){var f={};f[c]=d,F.Metrics[e.fn](a,F._.extend(b,f))})}),b},showStageFunc=function(a){var b=function(b){if(!b||b.expansionDisabled||!b.getConfig().stages)return!1;if(b.children&&b.children[b.guid]){var c=F._.detect(b.children[b.guid],function(b){return b.stage===a.stage});if(c)return!1}return!0},c=function(a,b){var c=F.createChildInstance(a,a.guid);return c.stage=b.stage,c.expandType=b.type,a.view&&(c.anchorInsertionPointOverride=a.view.getExpandableAnchorInsertionPoint(F._.extend(b,{clear:!0}))),c},d=function(a,b,c){var d=buildStageUrl(a,c.stage,c);F._.jsonpWidgetInfo(d,{},b,c.stage,function(d){b.setConfig(d.widgets[0],d.dependencies,d.scriptDependencies);var e=b.getConfigValue("stage");attachChildMetrics(a,b,F.MetricsConstants.Keys.SCOPE,e.id),b.bind("viewReady",function(){b.view.trigger("expandStart",c)});var f=F._.getExpandableWindow().document,g=F._.make("div",{doc:f});b.render(g)})};return F.childFactory.call(this,b,c,d,a)},buildStageUrl=function(a,b,c){var d=a.getConfig().stages.urls,e=a.getConfig().stages.resources;return a&&a.view&&a.view.getStageUrl(e,d[b],c)},replaceStage=function(a,b){if(!b||!b.getConfig().stages||b.pushDownInstance)return!1;a=a||{};var c=F.createChildInstance(b.parent||b,b.guid);c.sessionId=b.sessionId,c.metrics=b.metrics,c.stage=a.stage,c.expandType=a.type,c.previous=b,a.config&&c.setConfigParamOverrides(a.config),a.trigger&&(c.metrics.trigger=a.trigger);var d=buildStageUrl(b,c.stage,a);"pushdown"===a.type&&(b.pushDownInstance=c),F._.jsonpWidgetInfo(d,{},c,c.stage,function(d){c.setConfig(d.widgets[0],d.dependencies,d.scriptDependencies),attachChildMetrics(b.parent||b,c,F.MetricsConstants.Keys.SCOPE,c.getConfigValue("stage").id),c.bind("viewReady",function(){c.view.trigger("replaceStart",a)});var e=b.view.target.ownerDocument,f=F._.make("div",{doc:e}),g=b.view.target.parentNode||b.view.targetParent;g.insertBefore(f,b.view.target),c.render(b.view.target,{preserveTarget:!0,replaceStage:!0})})};F.StagesMixin={events:{showStage:"doShowStageCallback"},attachChildMetrics:attachChildMetrics,doShowStageCallback:function(a,b){if(!F.AdMobViewMixin){var c=b.baseParent||b;"self"===a.type||"pushdown"===a.type?!b.parent&&c.replaceStageOverride?c.replaceStageOverride(a,b):replaceStage.call(this,a,b):c.showStageOverride?c.showStageOverride(a,b):showStageFunc.call(this,a,b)||b.trigger("metrics:logNotation",{trigger:a.trigger,detail:"Expansion Blocked"})}},getStageUrl:function(a,b,c){var d=b.match(/(\/d\/)([0-9]*)/),e=[];if(d&&3===d.length){var f=parseInt(d[2],10);e=includedDependencies(a,f)}var g=function(a){F._.each(["LIGHTBOX","EXPANDABLE","SLIDE"],function(b){var c=F._.indexOf(a,b);c>=0&&a.splice(c,1)})};if(F._.contains(["anchor","expand"],c.type))g(e),e=F._.union(e,["EXPANDABLE","BUTTON","CHILD"]);else if(F._.contains(["lightbox","slide"],c.type))g(e),e=F._.union(e,[c.type.toUpperCase(),"BUTTON","CHILD"]);else if(F._.contains(["pushdown","self"],c.type)){var h=["REPLACE"];this.model.viewMixins.PinnedViewMixin&&h.push("PINNED"),e=F._.union(e,h)}var i=getBitVector(a,e);return d?(b=[F.URLS.runtimeCdn,"/json",b.substring(b.indexOf("/",F.URLS.runtimeCdn.length+1),b.length)].join(""),b=b.replace(/(\/d\/)([0-9]*)/,"/d/"+i)):(b=b.substring(b.indexOf("/",F.URLS.runtimeCdn.length+1),b.length),b=[F.URLS.runtimeCdn,"/json",b,"/d/",i].join("")),b}},this.viewMixins||(this.viewMixins={}),this.viewMixins.StagesMixin="StagesMixin";},function(F) {"undefined"==typeof F&&(F={});var testDomain,updateDocumentDomain=function(){var a=F._.getExpandableWindow(),b=function(){return a!==window.top&&a!==window?a:window.top};testDomain=function(){try{if((b().document||b().document.domain)&&b().document.location.href)return!0}catch(a){return!1}return!0};var c=function(){var a=document.domain.split(".");a&&a.length>0&&(a.shift(),document.domain=a.join("."))};try{testDomain()||(document.domain=document.domain,testDomain()||(c(),testDomain()||(c(),testDomain()||(window.FLITE.inFIF=!1))))}catch(d){window.FLITE.inFIF=!1}},pollDocumentDomain=function(a){var b=F._.watch(testDomain,updateDocumentDomain,100);a.bind("destroy",function(){clearInterval(b)}),setTimeout(function(){clearInterval(b)},1e4)},watchDocumentDomain=function(a){if(window.FLITE.inFIF&&window!==top){if(window.postMessage){var b=function(a,b){var c=F._.make("script",{doc:a,attributes:{id:"dd-"+top.FLITE_DD.key}});c.text="("+b.toString()+")();var flite_s=document.getElementById('dd-"+top.FLITE_DD.key+"');if(flite_s)document.body.removeChild(flite_s);",a.body.appendChild(c)};try{if(!top.FLITE_DD){top.FLITE_DD={wins:[],key:+new Date+Math.floor(1e5*Math.random()),domain:top.document.domain,i:null};var c=function(){var a,b=document,c=window.FLITE_DD,d="domain";c.i=setInterval(function(){if(b[d]!==c[d])for(c[d]=b[d],a=0;a<c.wins.length;a++)c.wins[a]!==window&&(c.wins[a].postMessage({dd:c[d],dk:c.key},"*"),clearInterval(c.i))},250)};b(top.document,c)}var d=function(){var a=window,b=document;if(!a.FLITE_DD){a.FLITE_DD={key:top.FLITE_DD.key,cb:function(c){c.data.dk===a.FLITE_DD.key&&c.data.dd&&(b.domain=c.data.dd,a.F&&a.F._&&(a.F._.expandWindow=null))}};var c="message";a.addEventListener?a.addEventListener(c,a.FLITE_DD.cb):a.attachEvent("on"+c,a.FLITE_DD.cb)}},e=F._.getWindowChain();return F._.each(e,function(a){a!==top&&a!==parent&&b(a.document,d)}),void(top.FLITE_DD.wins=F._.unique(top.FLITE_DD.wins.concat(e)))}catch(f){}}pollDocumentDomain(a)}};F.FifInstanceMixin={isFifInstance:!0,setConfigFromQueryString:function(a){a=a||window.location.href;var b=F._.fromQueryString(a),c="false"===b.f;window.FLITE.inFIF=F._.is.fif()&&!c,window.FLITE.inFIF&&(updateDocumentDomain(),watchDocumentDomain(this)),this.expansionDisabled=!window.FLITE.inFIF;var d=this.guid,e={};if(window.FLITE.config=window.FLITE.config||{},window.FLITE.config[d]=window.FLITE.config[d]||{},!window.FLITE.safeFrame){var f,g={},h=function(a){0===f.indexOf(a+".")&&(g[a]=g[a]||{},g[a][f.substr(a.length+1)]=b[f])};for(var i in b)b.hasOwnProperty(i)&&(f=i,F._.each(["ed","pd","cd","vd","cvd"],h));b.p&&(e.ct=b.p),b.oob&&(e.oob=b.oob),b.at&&(e.at=b.at),b.cb&&(e.cb=b.cb),b.ts&&(e.ts=b.ts),e=F._.extend(e,g),g.vd&&(window.FLITE.config[d].vd=window.FLITE.config[d].vd||{},this.setConfigParamOverrides(F._.prefix(F._.extend(window.FLITE.config[d].vd,g.vd),"var_")),F._.extend(this.config.configParams,this.configParamOverrides),this.configParamOverrides=null)}window.FLITE.config[d]=F._.defaults(F._.extend(window.FLITE.config[d],e),{expansionDisabled:this.expansionDisabled})}};}],{"6fe1bac1-925a-429d-8255-20342b11f21d":(function(window, document, eval, top){ return Object({name:"Image",rectangle:null,api:null,image:null,spinner:null,config:null,resizeTimeout:null,assetUrl:null,scaleMode:null,position:null,repeatMode:null,upScale:null,scale:null,showSpinner:!1,retina:!1,lossy:!1,imageQuality:null,isSVG:null,flite:{properties:{supportsPreload:!0},initialize:function(e){this.rectangle=e.rectangle,this.api=e.api,this.config=e.config,this.assetUrl=this.config.getValue("asset_url"),this.isSVG=this.assetUrl&&!!this.assetUrl.match(/\.svg$/),this.scaleMode=this.config.getValue("scale_mode")||"DOWNSCALE",this.upScale=this.config.getBoolean("upscale"),this.scale=this.config.getInt("scale")||100,this.api.util.inRange(this.scale,0,200,!0)||(this.scale=100),this.position=this.upScale?(this.config.getValue("position_v_up")||"center")+" "+(this.config.getValue("position_h_up")||"center"):(this.config.getValue("position_v")||"top")+" "+(this.config.getValue("position_h")||"left"),this.repeatMode=this.config.getValue("repeat_mode")||"no-repeat",this.showSpinner=this.config.getBoolean("spinner"),this.retina=this.config.getBoolean("retina"),this.lossy=this.config.getValue("image_loss")==="lossy",this.imageQuality=this.config.getInt("image_quality")||70,this.api.util.inRange(this.imageQuality,0,100,!0)||(this.imageQuality=70)},stateChange:function(e){e.state===this.api.state.ENABLED||e.state===this.api.state.PRELOADED?this.image||this.loadImage():e.state===this.api.state.UNLOADED&&this.image&&this.removeChild(this.image)},resize:function(e){var t=this;if(this.rectangle.width!=e.width||this.rectangle.height!=e.height)this.rectangle=e,this.isSVG?(t.image.width(t.rectangle.width),t.image.height(t.rectangle.height)):(this.alpha(.5),this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.removeChild(t.image),t.loadImage(),t.alpha(1)},500))}},loadImage:function(){var e=this;if(e.assetUrl){var t=e.assetUrl,n=e.retina?2:1,r=e.retina?.5:1;if(e.assetUrl.indexOf("data")!==0)if(!e.isSVG){var i={maxWidth:e.rectangle.width*n,maxHeight:e.rectangle.height*n,type:e.scaleMode};e.lossy&&(i.format="JPG",i.quality=e.imageQuality),t=e.api.urls.getProxiedImageUrl(e.assetUrl,i)}else r=1,n=1,t=e.api.urls.getProxiedFeedUrl(e.assetUrl,{raw:!0});e.spinner=null,e.showSpinner&&(e.spinner=e.api.factory.getSpinner(),e.spinner.x(.5*(e.rectangle.width-e.spinner.width())),e.spinner.y(.5*(e.rectangle.height-e.spinner.height())),e.addChild(e.spinner));var s=new Image;s.onload=function(){var n=e.isSVG?e.rectangle.width:s.width*r,i=e.isSVG?e.rectangle.height:s.height*r;e.image.css("backgroundImage","url('"+t+"')");if(e.upScale){var o=0;e.scaleMode!=="DOWNSCALE"?(n<e.rectangle.width&&(o=e.rectangle.width/n,n*=o,i*=o),i<e.rectangle.height&&(o=e.rectangle.height/i,n*=o,i*=o)):(o=Math.min(e.rectangle.width/n,e.rectangle.height/i),n*=o,i*=o),e.image.css("background-size",n+"px "+i+"px")}else n=n*e.scale/100,i=i*e.scale/100,e.image.css("background-size",n+"px "+i+"px");e.repeatMode!=="tile"&&e.image.css("background-repeat",e.repeatMode),e.position!=="left top"&&e.image.css("background-position",e.position),e.image.width(e.rectangle.width),e.image.height(e.rectangle.height),e.addChild(e.image),e.removeSpinner(),e.trigger({type:e.api.state.events.LOADED}),e.trigger({type:"image_complete"},!0)},s.onerror=function(){e.removeSpinner(),e.trigger({type:"image_error"},!0)},e.image=e.api.dom.getElement("div"),s.src=t}else e.trigger({type:this.api.state.events.LOADED})},removeSpinner:function(){this.spinner&&(this.removeChild(this.spinner),this.spinner=null)}}); })()}).render();
/* End /ad.js */