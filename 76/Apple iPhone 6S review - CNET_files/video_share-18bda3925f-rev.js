/**
 * easyXDM
 * http://easyxdm.net/
 * Copyright(c) 2009-2011, Øyvind Sean Kinsey, oyvind@kinsey.no.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */

// Copyright(c) 2009-2011, Øyvind Sean Kinsey, oyvind@kinsey.no.

// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell

// The above copyright notice and this permission notice shall be included in

/*!
* jQuery throttle / debounce - v1.1 - 3/7/2010
* http://benalman.com/projects/jquery-throttle-debounce-plugin/
*
* Copyright (c) 2010 "Cowboy" Ben Alman
* Dual licensed under the MIT and GPL licenses.
* http://benalman.com/about/license/
*/

// Script: jQuery throttle / debounce: Sometimes, less is more!
//
// *Version: 1.1, Last updated: 3/7/2010*
//
// Project Home - http://benalman.com/projects/jquery-throttle-debounce-plugin/
// GitHub - http://github.com/cowboy/jquery-throttle-debounce/
// Source - http://github.com/cowboy/jquery-throttle-debounce/raw/master/jquery.ba-throttle-debounce.js
// (Minified) - http://github.com/cowboy/jquery-throttle-debounce/raw/master/jquery.ba-throttle-debounce.min.js (0.7kb)
//
// About: License
//
// Copyright (c) 2010 "Cowboy" Ben Alman,
// Dual licensed under the MIT and GPL licenses.
// http://benalman.com/about/license/
//
// About: Examples
//
// These working examples, complete with fully commented code, illustrate a few
// ways in which this plugin can be used.
//
// Throttle - http://benalman.com/code/projects/jquery-throttle-debounce/examples/throttle/
// Debounce - http://benalman.com/code/projects/jquery-throttle-debounce/examples/debounce/
//
// About: Support and Testing
//
// Information about what version or versions of jQuery this plugin has been
// tested with, what browsers it has been tested in, and where the unit tests
// reside (so you can test it yourself).
//
// jQuery Versions - none, 1.3.2, 1.4.2
// Browsers Tested - Internet Explorer 6-8, Firefox 2-3.6, Safari 3-4, Chrome 4-5, Opera 9.6-10.1.
// Unit Tests - http://benalman.com/code/projects/jquery-throttle-debounce/unit/
//
// About: Release History
//
// 1.1 - (3/7/2010) Fixed a bug in <jQuery.throttle> where trailing callbacks
// executed later than they should. Reworked a fair amount of internal
// logic as well.
// 1.0 - (3/6/2010) Initial release as a stand-alone project. Migrated over
// from jquery-misc repo v0.4 to jquery-throttle repo v1.0, added the
// no_trailing throttle parameter and debounce functionality.
//
// Topic: Note for non-jQuery users
//
// jQuery isn't actually required for this plugin, because nothing internal
// uses any jQuery methods or properties. jQuery is just used as a namespace
// under which these methods can exist.
//
// Since jQuery isn't actually required for this plugin, if jQuery doesn't exist
// when this plugin is loaded, the method described below will be created in
// the `Cowboy` namespace. Usage will be exactly the same, but instead of
// $.method() or jQuery.method(), you'll need to use Cowboy.method().

define("managers/client-storage",["jquery","utils/cookie"],function(e,t){function n(e){var n=null;return n=!a()||i.forceCookies||e?t.read(i.dataNamespace+(e?i.sessionSuffix:i.permanentSuffix))||null:localStorage.getItem(i.dataNamespace)||null,JSON.parse(n)||{}}function o(e,n){var o=JSON.stringify(e);!a()||i.forceCookies||n?n?t.write(i.dataNamespace+i.sessionSuffix,o):t.write(i.dataNamespace+i.permanentSuffix,o,{expires:365}):localStorage.setItem(i.dataNamespace,o)}function a(){var e=!1;if("undefined"!=typeof Storage)try{var t="test";localStorage.setItem(t,0),localStorage.removeItem(t),e=!0}catch(n){}return e}var i={dataNamespace:"cnetSettings",forceCookies:!1,permanentSuffix:"Permanent",sessionSuffix:"Session"};return{init:function(t){e.extend(!0,i,t)},read:function(e,t){t=t||!1;var o=n(t);return o[e]||null},write:function(e,t,a){a=a||!1;var i=n(a);i[e]=t,o(i,a)},erase:function(e,t){t=t||!1;var a=n(t);delete a[e],o(a,t)}}}),define("managers/tealium",["jquery","version!fly/managers/debug","managers/page-vars","tealium"],function(e,t,n){var o=t.get("tealium");return{trackLead:function(e){this._trackClickViaUtag("om","trackLeadClick","trackLeadClick",e)},trackExternalLink:function(e){this._trackClickViaUtag("om","trackClick","trackExternalLink",e)},trackSocial:function(e){var t="";t="object"==typeof n.tracking.data.collectionId?n.tracking.data.collectionId[0]:"string"==typeof n.tracking.data.collectionId?n.tracking.data.collectionId:"";var o={wd:"socialbutton",wdloc:"sharebar",ssite:e&&e.socialService?e.socialService:"",brand:n.tracking.data.brand,_collectionPrimaryId:t,_dwLinkTag:e.sharebarSection};this._trackClickViaUtag("om","trackSocialClick","trackSocialClick",e,o)},trackComment:function(t,o,a){var i="";i="object"==typeof n.tracking.data.collectionId?n.tracking.data.collectionId[0]:"string"==typeof n.tracking.data.collectionId?n.tracking.data.collectionId:"";var r={link_text:t,_clickAction:a?a:t,_levtType:"ria",_levtEventType:"log",_riaMapp:"livefyre",_riaObjType:"url",levtType:"social",socialService:"cnet",sc:"es",wdloc:"livefyrecommentbox",brand:n.tracking.data.brand,_collectionPrimaryId:i,_dwLinkTag:o.sharebarSection};this._trackClickViaUtag("utag","link",t,o,e.extend({},this._getUdoStockData(),r))},trackSuggestedSearch:function(e){var t={};this._trackClickViaUtag("om","trackSuggestedSearchClick","trackSuggestedSearchClick",e,t)},trackPodcast:function(e){this._trackClickViaUtag("om","trackPodcast","trackPodcast",e)},trackForum:function(e,t){var n={};this._trackClickViaUtag("om","trackForum",e,t,n)},trackVideo:function(e,t,o){var a=e.charAt(0).toUpperCase()+e.slice(1),i=0===t?"Start":100===t?"Complete":t+"Percent",r="pause"===e?"videoTime":"video"+a+i,s=n.tracking.data,l={_noLinkTrack:"LEVT",_videoAction:r,link_text:r,siteHier:s.siteHier,siteSection:s.siteSection,siteEdition:s.siteEdition,brand:s.brand,siteType:s.siteType,deviceType:s.deviceType,pageType:s.pageType,pageNum:null!=s.pageNum?s.pageNum:1,topicId:s.topicId,pageViewGuid:s.pageViewGuid,articleAuthorId:s.articleAuthorId,articleAuthorName:s.articleAuthorName,articleId:s.articleId,articleTitle:s.articleTitle,articleType:s.articleType,productId:s.productId,productName:s.productName};this._trackClickViaUtag("utag","link",r,o,l)},trackPageLoad:function(e){try{n.tracking.enabled===!0?(e="undefined"==typeof e?{}:e,utag.view(e),o.log("Track view: ",e)):o.log("Event tracking aborted; tracking is not enabled!")}catch(t){o.log("Page load tracking failed:",t)}},trackCustomEvent:function(e,t,n){var o={link_text:e,_clickAction:n?n:e,_noLinkTrack:"LEVT"};this._trackClickViaUtag("utag","link",e,t,o)},_trackClickViaUtag:function(t,a,i,r,s){try{if(n.tracking.enabled===!0){s="object"!=typeof s?{}:s;var l={_test:n.tracking.data.testName?n.tracking.data.testName+"|"+n.tracking.data.testVersion+"|"+n.tracking.data.testGroup:""};r="object"!=typeof r?e.extend({},l,s):e.extend({},l,s,r),e.inArray(t,["om","omnitureMgr","utag"])>=0?(window[t][a](r),"object"==typeof window.s&&(window.s.events=""),o.log(i+" ping: ",r)):o.log("Invalid tracking object",t)}else o.log(i+" aborted; tracking is not enabled!")}catch(c){o.log(i+" failed:",c)}},init:function(t){n.tracking.enabled===!0?(n.tracking.data=t,utag_data=t,o.log("Load tracking data: ",t),e(window).on("unload",function(){try{var e=document.createElement("img");e.setAttribute("src","http://dw.cbsi.com/levt/ria/e.gif?event=log&mapp=exiteventtrack&riaevent=exit&v6="+window.location.href+"&v12="+(t.siteEdition||"")+"&v13="+(t.testName||"")+"|"+(t.testVersion||"")+"|"+(t.testGroup||"")+"&v16="+(t.pageViewGuid||"")+"&v17="+(t.topicId&&t.topicId.length>0?t.topicId[0]:"")+"&v18="+(t.articleId||"")+"&v19="+(t.pageType||"")+"&v20="+(t.articleType||"")+"&v21="+(t.siteType||"")+"|||"+(t.deviceType||"")+"&v23="+(t.dwAccount||"")+"&ts="+(new Date).getTime())}catch(n){}})):o.log("Initialization aborted; tracking is not enabled!")},setPageValue:function(e,t){this[e]=t,utag_data[e]=t,n.tracking.data[e]=t},setPageValues:function(t){e.extend(utag_data,t),e.extend(n.tracking.data,t)},getTrackingData:function(){return n.tracking.enabled===!0?n.tracking.data:{}},_getUdoStockData:function(){var e=n.tracking.data;return{siteEdition:e.siteEdition,pageViewGuid:e.pageViewGuid,pageType:e.pageType,siteHier:e.siteHier,siteType:e.siteType,deviceType:e.deviceType,articleId:e.articleId,articleTitle:e.articleTitle,articleType:e.articleType,articlePubDate:e.articlePubDate,articleAuthorId:e.articleAuthorId,articleAuthorName:e.articleAuthorName,topicId:e.topicId,topicName:e.topicName}}}}),define("fly/components/modal-1.0",["jquery","version!fly/components/base"],function(e){var t=e.support.touch?"vclick":"click";e.widget("fly.modal",e.fly.base,{options:{content:null,position:"absolute",classModal:"modal",classBackdrop:"modal-backdrop",classShow:"show",classFixed:"fixed",enableKeyEvents:!0,openOnInit:!1,template:null},$modal:null,$backdrop:null,$body:null,isOpen:!1,eventData:{},_create:function(){var n=this.options,o="fixed"===n.position?" "+n.classFixed:"",a={},i={};this._setup(),this.$modal=this.$element.addClass(n.classModal+o),this.$backdrop=e("<div>").addClass(n.classBackdrop+o),this.$body=e(document.body),this.top=parseInt(this.$modal.css("top"),10),n.content&&this.setContent(n.content),this.eventData={$modal:this.$modal,$backdrop:this.$backdrop},a[t]="_handleClose",i[t+' [data-close="modal"]']="_handleClose",this._on(this.$backdrop,a),this._on(this.$modal,i)},_init:function(){this.options.openOnInit&&this.open()},_handleKeyboard:function(e){27==e.keyCode&&this.close()},_handleClose:function(e){e.preventDefault(),this.close()},open:function(){var e=this.options;this.isOpen||this._trigger("open",null,this.eventData)!==!1&&(this.$backdrop.addClass(e.classShow).appendTo(this.$body),this.$modal.addClass(e.classShow).appendTo(this.$body),this.position(),e.enableKeyEvents&&this._on(this.$document,{keyup:"_handleKeyboard"}),this.isOpen=!0,this._trigger("opened",null,this.eventData))},close:function(){var e=this.options;this.isOpen&&this._trigger("close",null,this.eventData)!==!1&&(this.$backdrop.removeClass(e.classShow),this.$modal.removeClass(e.classShow),this._off(this.$document,"keyup"),this.isOpen=!1,this._trigger("closed",null,this.eventData))},setContent:function(t){var n,o=this.options,a=this,i=e(t);i.hasClass(o.classModal)&&(i.removeClass(o.classModal),n=i.prop("attributes"),e.each(n,function(){"class"===this.name?a.$modal.addClass(this.value):a.$modal.attr(this.name,this.value)}),i=i.children()),this.$modal.empty().append(i),this._trigger("contentSet",null,e.extend({},this.eventData,{$modal:this.$modal,$content:i}))},position:function(){var e=this.options,t=this.$window.height(),n=isNaN(this.top)?(t-this.$modal.outerHeight())/3:this.top;20>n&&(n=20),"absolute"==e.position&&(n+=this.$window.scrollTop(),this.$backdrop.css({height:this.$document.height()})),this.$modal.css({top:n}),this._trigger("positioned",null,{$modal:this.$modal})},_destroy:function(){this.$backdrop.remove()}}),e(document).on(t+".modal-api.data-api",'[data-open="modal"]',function(t){var n=e(this),o=n.data(),a=o.$modal;t.preventDefault(),a||(a=e(o.target||n.attr("href")),n.data("$modal",a)),a.length&&a.modal().modal("open")})}),define("components/global-modal",["jquery","version!fly/components/modal"],function(e){e.widget("cnet.globalModal",e.fly.modal,{options:{modalTemplate:'<a class="close" data-close="modal"></a> {{content}}',container:null,setContentOnInit:!0},_create:function(){var t=this,n=null;this.options.setContentOnInit||(n=this.options.content,this.options.content=null),this._super(),this.options.setContentOnInit||(this.options.content=n,this.$element.on("modalopen",function(){!t.options.setContentOnInit&&t.options.content&&t.setContent(t.options.content)})),this.$body=this.options.container?e(this.options.container):this.$body},setContent:function(t){var n,o=this.options,a=this;"string"==typeof t?this.$modal.html(o.modalTemplate.replace("{{content}}",t)):(t.hasClass(o.classModal)&&(t.removeClass(o.classModal),n=t.prop("attributes"),e.each(n,function(){"class"===this.name?a.$modal.addClass(this.value):a.$modal.attr(this.name,this.value)}),t=o.modalTemplate.replace("{{content}}",t.html())),this.$modal.empty().append(t),this._trigger("contentSet",null,e.extend({},this.eventData,{$modal:this.$modal,$content:t})))},position:function(){var t,n,o,a,i,r,s=this.options,l=this.$body.is(e(document.body));l?(t=this.$window.height(),o=this.$window.scrollTop(),i=this.$document.height(),r=this.$window.width()/2,a=this.$window.scrollLeft()):(t=this.$body.height(),o=this.$body.scrollTop(),i=t,r=this.$body.width()/2,a=this.$body.scrollLeft()),n=isNaN(this.top)?(t-this.$modal.outerHeight())/3:this.top,20>n&&(n=20),"absolute"==s.position&&(n+=o,this.$backdrop.css({height:i})),this.$modal.css({top:n}),this._trigger("positioned",null,{$modal:this.$modal}),this.$element.css("left",r+a-this.$element.outerWidth()/2)}})}),define("translations/user-controller",["managers/edition"],function(e){var t={en:{loginText:"Log In / Join"},es:{loginText:"Iniciar sesión / Crear cuenta"}};return e.getTranslation(t)}),define("utils/urs-helper",["jquery","version!fly/managers/debug","urs"],function(e,t){t=t.init("ursHelper");var n={16:257,103:259,222:263,225:265,242:266,256:268,295:298,358:359,363:361,364:362,368:365,369:366,370:367,372:371,403:401,404:402,9:269,36:270,74:278,305:304,27:280,374:373,376:375,393:394,395:396,397:398};return{getSocialAppId:function(e){return n[e]},getUrs:function(e,t){var n=URS.getInstance(e);return n||(n=URS.newInstance({appId:e,environment:URS.ursEnvironments.LIVE}),t&&t(n)),n}}}),define("fly/utils/string-vars-1.0",["jquery"],function(e){return{compile:function(t,n,o){var a=this;return"string"!=typeof t?"":(o=e.makeArray(o),t=t.replace(/\{([^}]+)\}/g,function(t){var i=o,r="";return t=t.replace(/\|[^\}|]+/g,function(e){return i.push(e.substr(1)),""}),r=n[t.replace(/[{}]+/g,"")]||"",e.each(i,function(e,t){r=a.modify(t,r)}),r}))},modify:function(e,t){switch(e){case"lower":t=t.toLowerCase();break;case"upper":t=t.toUpperCase();break;case"urlencode":t=encodeURIComponent(t)}return t}}}),define("fly/components/loading-1.0",["jquery","version!fly/utils/string-vars","version!fly/components/base"],function(e,t){e.widget("fly.loading",e.fly.base,{options:{disabled:!1,delay:100,timeout:25e3,initState:"",template:'<div class="{baseClass} {stateClass}"><span class="text">{text}</span></div>',classes:{base:"loader",idle:"",loading:"loading",end:"load-end",error:"load-error"},text:{idle:"",loading:"Loading",end:"The End",error:"Error Encountered :("}},_create:function(){this._setup(),this._state=null,this._timeoutId=null},_init:function(){var e=this.options;!e.disabled&&e.initState&&(this._setContent(e.initState),this._state=e.initState)},_setContent:function(n,o){var a,i=this.options;return"remove"===n?void this.$element.empty():(a=t.compile(i.template,e.extend({state:n,baseClass:i.classes.base,stateClass:i.classes[n],text:i.text[n]},o)),void this.$element.html(a))},add:function(){var t=this.options;this._trigger("add")!==!1&&(this.update("loading"),"number"==typeof t.timeout&&t.timeout>0&&(this._timeoutId=setTimeout(e.proxy(this.remove,this),t.timeout)),this._trigger("added"))},remove:function(){this._trigger("remove")!==!1&&(this.update("remove"),this._trigger("removed"))},update:function(e,t){var n=this.options,o={state:e};this._trigger("update",null,o)!==!1&&(this._state=e,n.disabled||(clearTimeout(this._timeoutId),this._setContent(e,t),this._trigger("updated",null,o)))},isLoading:function(){return"loading"===this._state?!0:!1},getState:function(){return this._state},_setOption:function(e,t){var n=this.options;"data"===e?this.$element.data("data",t):"disabled"===e&&(t===!0?this.$element.empty():this._setContent(n.initState)),this._super(e,t)},_destroy:function(){this.$element.remove()}})}),define("fly/components/modal-iframe-1.0",["jquery","version!fly/utils/object-helper","version!fly/utils/url-helper","version!fly/components/modal","version!fly/components/loading"],function(e,t,n){e.support.touch?"vclick":"click";e.widget("fly.modalIframe",e.fly.modal,{options:{url:null,requestData:{},messages:{},loader:{disabled:!1}},messenger:null,_create:function(){this._super(),this._setupLoader()},_setupLoader:function(){var t=this;this.loader=e.fly.loading(e.extend(this.options.loader,{shown:function(){t.$element.addClass(t.loader.options.classes.loading)},hidden:function(){t.$element.removeClass(t.loader.options.classes.loading)}})),this.loader.$element.appendTo(this.$element)},open:function(){this.isOpen||(this.loader.add(),this.loadContent(),this._super())},_getUrl:function(){var t=this.options,n=t.url;return t.requestData&&(n=n+(n.indexOf("?")>0?"&":"?")+e.param(t.requestData)),n},loadContent:function(){var t=this.options,n=this;this.messenger=this.$element.iframeMessenger({remoteUrl:this._getUrl(),receivableMessages:e.extend({},t.messages,{ready:function(){n._trigger("iframeReady"),n.loader.remove()},closeModal:function(){n.close()},scroll:function(t){var o=n.$element.offset().top+t.offset;o-=n.$window.height()/6,e("html, body").animate({scrollTop:o},"fast")}})})}})}),define("translations/loading",["managers/edition"],function(e){var t={en:{loading:"Loading",end:"The End",error:"Error Encountered"},es:{loading:"Cargando",end:"Fin",error:"Error Encontrado"}};return e.getTranslation(t)}),define("components/loading",["jquery","version!fly/managers/debug","translations/loading","version!fly/components/loading"],function(e,t,n){t=t.init("loading"),e.widget("cnet.loading",e.fly.loading,{options:{classes:{base:"loader",idle:"",loading:"loadingCircle",end:"load-end",error:"load-error"},text:n},add:function(){this._super(),this.$element.parent().addClass("loadingArea")},remove:function(){this._super(),this.$element.parent().removeClass("loadingArea")}})}),define("components/modal-iframe",["jquery","version!fly/managers/debug","version!fly/components/modal-iframe","components/loading"],function(e,t){t=t.init("modalIframe"),e.widget("fly.modalIframe",e.fly.modalIframe,{options:{modalTemplate:'<a class="close" data-close="modal"></a> {{content}}',loader:{classes:{loading:"loadingCircle"}}},$body:null,_create:function(){this._super(),this.$body=e(document.body),this.setContent('<a class="close" data-close="modal"></a>'),this._setupLoader()},_setupLoader:function(){var t=this;this.loader=e.cnet.loading(e.extend(this.options.loader,{shown:function(){t.$element.addClass(t.loader.options.classes.loading)},hidden:function(){t.$element.removeClass(t.loader.options.classes.loading)}})),this.loader.$element.appendTo(this.$element)},open:function(){this.isOpen||(this.loader.add(),this.loadContent(),this._super(),this.centerHorizontally())},loadContent:function(){var t=this.options,n=this;this.messenger=this.$element.iframeMessenger({remoteUrl:this._getUrl(),receivableMessages:e.extend({},t.messages,{ready:function(){n._trigger("iframeReady"),n.loader.remove(),setTimeout(n.centerHorizontally.bind(n),250)},closeModal:function(){n.close()}})})},centerHorizontally:function(){this.$element.css("margin-left",-(this.$element.width()/2))},position:function(){var e=this.options,t=this.$window.height(),n=isNaN(this.top)?(t-this.$modal.outerHeight())/3:this.top;20>n&&(n=20),"absolute"==e.position&&(n+=this.$window.scrollTop(),this.$backdrop.css({height:this.$document.height()})),this.$modal.css({top:n}),this._trigger("positioned",null,{$modal:this.$modal})}})}),define("components/user-controller",["jquery","utils/cookie","version!fly/managers/debug","translations/user-controller","managers/edition","managers/page-vars","version!fly/utils/string-helper","managers/tealium","utils/urs-helper","version!fly/components/base","components/modal-iframe","urs"],function(e,t,n,o,a,i,r,s,l){n=n.init("userController"),e.widget("cnet.userController",e.fly.base,{options:{urls:{login:"/user/login/",register:"/user/registration/",confirmRegistration:"/user/instructions-confirm-registration/",forgotPassword:"/user/forgotten-password/",passwordSent:"/user/password-sent/",createUsername:"/user/create-username/",sendConfirmation:"/user/send-confirmation/?registered=1",userData:"/user/get-data/",socialAdditionalInformation:"/user/social-additional-information/"},suppressWhileLoggedIn:[],classLinked:"linked",classUnlinked:"unlinked",textLinked:"Linked to ",textUnlinked:"Unlinked to ",cookieUserRecognized:"urs_social_recognized"},events:{showModal:function(t){this.showModal(t.modal,e.extend(!0,t.params,{appId:this.currentAppId}))},submit:function(){this.modal.loader.add()},submitted:function(){this.modal.loader.remove()},logoutSuccess:function(){s.trackCustomEvent("trackLogout",{ursId:"",userState:"not authenticated",userType:"anon"},"logout")},loginSuccess:function(o){if(o.messages.success){var a=!this.suppressReload;s.trackCustomEvent("trackLogin",{ursId:o.user.registrationId,userState:"authenticated",userType:"registered"},"login"),t.write("previousLogin",o.user.registrationId,{expires:365}),n.log("making immediate post login call to urs for edition"),e.ajax({dataType:"json",url:this.options.urls.userData,async:!1,success:function(e){if(e.user.edition&&t.write("fly_preferred_edition",e.user.edition,{expires:365}),e.user.downloadUseInstaller&&("true"==e.user.downloadUseInstaller||"false"==e.user.downloadUseInstaller)&&null===t.read("killDlm")){var n="true"==e.user.downloadUseInstaller?"no":"yes";t.write("killDlm",n,{expires:7300})}}}),this.userData.userName=o.user.userName,this.userData.registrationId=o.user.registrationId,this.isLoggedIn=!0,this.modal.close(),"function"==typeof this.nextAction&&(a=this.nextAction(o),this.nextAction=null),a!==!1?"www.theroadshow.com"===window.location.hostname?window.location="http://www.cnet.com/roadshow/":window.location.reload():this._loadUserData()}},loginFailure:function(e){e.messages||(this.modal.close(),this.showModal("confirmRegistration",{appId:this.currentAppId,email:e.email}))},registerSuccess:function(e){e.messages.success&&(s.trackCustomEvent("trackRegistrationNew",{userRegFormType:"",userRegService:""},"newRegistration"),this.modal.close(),"es"!==i.edition.code&&this.showModal("confirmRegistration",{appId:this.currentAppId,email:e.email,registered:1}))},registerFailure:function(e){},forgotPasswordSuccess:function(e){e.messages.success&&(this.modal.close(),this.showModal("passwordSent",{appId:this.currentAppId,email:e.email}),s.trackCustomEvent("trackForgotPassword",{},"forgotPassword"))},forgotPasswordFailure:function(e){},createUsernameSuccess:function(e){var t=!this.suppressReload;e.messages.success&&(this.userData.userName=e.user.userName,"function"==typeof this.nextAction&&(t=this.nextAction(),this.nextAction=null),this.modal.close(),t!==!1?window.location.reload():this._loadUserData())},createUsernameFailure:function(e){},socialAuthComplete:function(e){this._handleAuthComplete(e.event,e.apiResponse)}},modal:null,isLoggedIn:!1,userData:null,nextAction:null,suppressReload:!1,currentAppId:a.getDefaultAppId(),_create:function(){var t=this;this._setup(),t.options=e.extend(!0,t.options,i.user),e(document).ready(function(){t._cacheBreakLogout(),t._cacheBreakLegacy()}),this._setupEvents(),this._loadUserData(),this._initSocialRecognition()},_setupEvents:function(){var t=this;e.each(this.events,function(e,n){t.events[e]=n.bind(t)}),this.setupButtonEvents(),"true"==e('[data-user-action="logout"]').attr("data-user-suppress-refresh")&&this.$document.on("tap",'[data-user-action="logout"]',function(e){e.preventDefault(),t.ajaxLogOut()})},setupButtonEvents:function(t){var n=this;e("[data-user-show]",t).on("tap",function(t){t.preventDefault();var o=e(this).data("userShow");n.suppressReload=o.suppressReload,o.params.appId&&(n.currentAppId=o.params.appId),"desktop"==i.device?n.showModal(o.action,o.params):n._redirect(o.action,o.params)}),this.$document.on("tap","[data-user-access]",function(t){t.preventDefault();var o=e(this).data("userAccess");n.hasAccess(o)}),window.URS&&e("[data-user-social]",t).on("tap",function(t){t.preventDefault();var o=e(this).data("userSocial"),a=l.getUrs(l.getSocialAppId(o.params.appId),n._setupSocialEvents.bind(n));if(n.currentAppId=o.params.appId,"login"===o.action)a.social.authenticate(o.socialSite);else if("register"===o.action){var i=e("#user_tos");if(0===i.length||i.prop("checked"))a.social.authenticate(o.socialSite,!0);else{var r=i.closest("form").data("formValidate");r.testField(i)}}})},_setupSocialEvents:function(t){var n=this;t.common.addEventListener(URS.events.AUTH_COMPLETE,this._handleAuthComplete.bind(this)),t.common.addEventListener(URS.events.GET_LINKS_COMPLETE,function(o,a){var i=e.map(a.response.socialLinks,function(e,t){return e.socialSite});e.each(URS.social.sites,function(o,a){var r=e("[data-user-link="+a+"]");r.length>0&&(e.inArray(a,i)>=0?r.removeClass(n.options.classUnlinked).addClass(n.options.classLinked):r.removeClass(n.options.classLinked).addClass(n.options.classUnlinked),r.on("tap",function(o){e(this).hasClass(n.options.classLinked)?t.social.unlink(a):t.social.link(a)}))})}),t.common.addEventListener(URS.events.LINK_COMPLETE,function(t,o){!o.hasErrors()&&o.response.linked&&e("[data-user-link="+o.response.socialSite+"]").removeClass(n.options.classUnlinked).addClass(n.options.classLinked)}),t.common.addEventListener(URS.events.UNLINK_COMPLETE,function(t,o){!o.hasErrors()&&o.response.accountUnlinked&&e("[data-user-link="+o.response.socialSite+"]").removeClass(n.options.classLinked).addClass(n.options.classUnlinked)})},_handleAuthComplete:function(n,o){var a=this,r=!0;if(o.response.status.errors&&o.response.status.errors.length>0){var s=e.map(o.response.status.errors,function(e,t){return e.applicationCode}),l=s.join(",");if(l.indexOf("invalid.noLink")>=0)this.showModal("register",{appId:this.currentAppId});else if(l.match(/required\.|\.required/)){for(var c=[],d=0;d<s.length;d++)s[d].match(/required\.|\.required/)&&c.push(s[d].replace(/required\.|\.required/,"").toLowerCase());this.showModal("socialAdditionalInformation",{appId:this.currentAppId,socialSite:"facebook",fields:c.join(",")})}}else t.write(this.options.cookieUserRecognized,JSON.stringify({username:o.response.receipt.account.displayName,socialSite:o.response.socialSite}),{expires:365}),this.userData=null,e.post("/user/social-login/",{email:o.response.receipt.account.emailAddress},function(t){if("success"===t.status)if(null!==a.modal&&a.modal.close(),"desktop"==i.device)"function"==typeof a.nextAction&&(r=a.nextAction(o.response.receipt.account),a.nextAction=null),r!==!1?window.location.reload():a._loadUserData();else{var n=e('input[name="redirectUrl"]');window.location.href=n.length>0&&n.val().length>0?n.val():"/"}},"json")},_loadUserData:function(){var n=this;t.read("purs_1")?e.ajax({dataType:"json",url:this.options.urls.userData}).done(function(t){if(n.isLoggedIn=t.isLoggedIn,n.userData=e.extend(!0,t.user,{isLoggedIn:t.isLoggedIn}),n._updateDisplay(),n.isLoggedIn){var o=l.getUrs(l.getSocialAppId(a.getDefaultAppId()),n._setupSocialEvents.bind(n));o.social.getLinks(),n.$element.trigger("userhasloggedin")}n.$element.trigger("userdataloaded",[n.userData])}):this.userData={status:"success",isLoggedIn:!1}},_redirect:function(t,n){var o=this.options.urls[t],a=o;n&&(a+=(o.indexOf("?")>0?"&":"?")+e.param(n)),window.location.href=a},_updateDisplay:function(){var t=this,n=e("body");this.isLoggedIn?(e("[data-user-var]").each(function(){var n=e(this),o=n.data("userVar"),a=n.data("userVarAttr"),i=t.userData[o];"userName"===o?(i||(i=t.userData.displayName),i.length>13&&(i=i.substr(0,13)+"...")):"profileLink"===o&&(a="href",i=n.attr("data-template").replace("__username__",t.userData.userName?t.userData.userName.replace(/ /g,"+").toLowerCase():t.userData.registrationId)),i&&(a?n.attr(a,i):"avatar"===o?(n.html('<img src="'+i+'" />'),n.addClass("profilePic")):n.text(i))}),n.addClass("is-logged-in").removeClass("not-logged-in")):n.removeClass("is-logged-in").addClass("not-logged-in")},_cacheBreakLogout:function(){var t=e('[data-user-action="logout"]'),n=(new Date).getTime();t.each(function(t,o){var a=e(o);a.attr("href",a.attr("href")+"?t="+n)})},_cacheBreakLegacy:function(){this.getUserData(function(t,n){if(n.isLoggedIn){var o=e('[data-user-action="legacy"]'),a=(new Date).getTime();o.each(function(t,n){var o=e(n);o.attr("href",o.attr("href")+"?t="+a)})}})},ajaxLogOut:function(){var t=this;e.ajax({dataType:"json",url:e('[data-user-action="logout"]').attr("href"),success:function(n){t.isLoggedIn=!1,t.userData={status:"success",isLoggedIn:!1},t._updateDisplay(),e('[data-user-var="userName"]').text(o.loginText),e('[data-user-var="avatar"]').removeClass("profilePic"),e('[data-user-var="avatar"] img').remove(),t.$element.trigger("userhasloggedout")}})},_initSocialRecognition:function(){var n=this,o=JSON.parse(t.read(this.options.cookieUserRecognized)),a=e(".unrecognized"),i=e(".recognized");o?(a.hide(),i.show(),e("[data-user-template]",i).each(function(t,n){var a=e(n);"name"===a.data("userTemplate")&&a.text(o.username)}),e("[data-user-social]",i).each(function(t,n){var a=e(n),i=a.data("userSocial");a.data("userSocial",e.extend(!0,i,{socialSite:o.socialSite})),a.addClass(o.socialSite),e(".logo",a).text(o.socialSite)}),e("[data-user-action]",i).on("tap",function(t){"differentNetwork"===e(this).data("userAction")&&(e.removeCookie(n.options.cookieUserRecognized,{path:"/",domain:".cnet.com"}),i.hide(),a.show())})):(a.show(),i.hide())},showModal:function(t,n){this.modal&&this.modal.isOpen&&this.modal.close();var o=e("#flyoutPromo");o.length>0&&require(["managers/promotionals.desktop"],function(e){o.hide(),e.suppress("flyoutPromo")}),this.modal=e.fly.modalIframe(e.extend(!0,{},this.options.modalIframe,{url:this.options.urls[t],requestData:e.extend(n||{},{ifmsgr:!0,path:window.location.href}),messages:this.events,classModal:"modal modal-authentication"})),this.modal.$element.addClass("modal-"+r.fromCamelCase(t)),this.isLoggedIn&&e.inArray(t,this.options.suppressWhileLoggedIn)>=0||this.modal.open()},hasAccess:function(t){var n=this;t=e.extend(!0,{requireUsername:!1,nextAction:e.noop,eCode:"",forceRegistration:!1,redirectUrl:null},t),t.appId&&(this.currentAppId=t.appId);var o=t.redirectUrl?{redirectUrl:t.redirectUrl}:{};this.getUserData(function(a,r){r&&n.isLoggedIn||!t.forceRegistration?r&&n.isLoggedIn?t.requireUsername&&!r.userName?"desktop"==i.device?(n.nextAction=t.nextAction,n.showModal("createUsername",{appId:t.appId})):n._redirect("createUsername",e.extend({},{appId:t.appId},o)):t.nextAction(r):"desktop"==i.device?(n.nextAction=t.nextAction,n.showModal("login",{appId:t.appId})):n._redirect("login",e.extend({},{appId:t.appId},o)):"desktop"==i.device?(n.nextAction=t.nextAction,n.showModal("register",{appId:t.appId,eCode:t.eCode})):n._redirect("register",e.extend({},{appId:t.appId},o))})},getUserData:function(e){this.userData?e(null,this.userData):this.$element.on("userdataloaded",e)}})}),define("translations/user-form",["managers/edition"],function(e){var t={en:{globalError:"We are having technical difficulties. Please try again."},es:{globalError:"Estamos experimentando fallas técnicas. Por favor intenta de nuevo."}};return e.getTranslation(t)}),function(e,t,n,o,a,i){function r(e,t){var n=typeof e[t];return"function"==n||!("object"!=n||!e[t])||"unknown"==n}function s(e,t){return!("object"!=typeof e[t]||!e[t])}function l(e){return"[object Array]"===Object.prototype.toString.call(e)}function c(){var e="Shockwave Flash",t="application/x-shockwave-flash";if(!k(navigator.plugins)&&"object"==typeof navigator.plugins[e]){var n=navigator.plugins[e].description;n&&!k(navigator.mimeTypes)&&navigator.mimeTypes[t]&&navigator.mimeTypes[t].enabledPlugin&&($=n.match(/\d+/g))}if(!$){var o;try{o=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),$=Array.prototype.slice.call(o.GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),1),o=null}catch(a){}}if(!$)return!1;var i=parseInt($[0],10),r=parseInt($[1],10);return E=i>9&&r>0,!0}function d(){if(!H){H=!0;for(var e=0;e<B.length;e++)B[e]();B.length=0}}function u(e,t){return H?void e.call(t):void B.push(function(){e.call(t)})}function m(){var e=parent;if(""!==P)for(var t=0,n=P.split(".");t<n.length;t++)e=e[n[t]];return e.easyXDM}function p(t){return e.easyXDM=N,P=t,P&&(F="easyXDM_"+P.replace(".","_")+"_"),j}function h(e){return e.match(D)[3]}function g(e){return e.match(D)[4]||""}function f(e){var t=e.toLowerCase().match(D),n=t[2],o=t[3],a=t[4]||"";return("http:"==n&&":80"==a||"https:"==n&&":443"==a)&&(a=""),n+"//"+o+a}function v(e){if(e=e.replace(O,"$1/"),!e.match(/^(http||https):\/\//)){var t="/"===e.substring(0,1)?"":n.pathname;"/"!==t.substring(t.length-1)&&(t=t.substring(0,t.lastIndexOf("/")+1)),e=n.protocol+"//"+n.host+t+e}for(;U.test(e);)e=e.replace(U,"");return e}function y(e,t){var n="",o=e.indexOf("#");-1!==o&&(n=e.substring(o),e=e.substring(0,o));var a=[];for(var r in t)t.hasOwnProperty(r)&&a.push(r+"="+i(t[r]));return e+(V?"#":-1==e.indexOf("?")?"?":"&")+a.join("&")+n}function k(e){return"undefined"==typeof e}function b(e,t,n){var o;for(var a in t)t.hasOwnProperty(a)&&(a in e?(o=t[a],"object"==typeof o?b(e[a],o,n):n||(e[a]=t[a])):e[a]=t[a]);return e}function w(){var e=t.body.appendChild(t.createElement("form")),n=e.appendChild(t.createElement("input"));n.name=F+"TEST"+L,q=n!==e.elements[n.name],t.body.removeChild(e)}function _(e){k(q)&&w();var n;q?n=t.createElement('<iframe name="'+e.props.name+'"/>'):(n=t.createElement("IFRAME"),n.name=e.props.name),n.id=n.name=e.props.name,delete e.props.name,"string"==typeof e.container&&(e.container=t.getElementById(e.container)),e.container||(b(n.style,{position:"absolute",top:"-2000px",left:"0px"}),e.container=t.body);var o=e.props.src;if(e.props.src="javascript:false",b(n,e.props),n.border=n.frameBorder=0,n.allowTransparency=!0,e.container.appendChild(n),e.onLoad&&I(n,"load",e.onLoad),e.usePost){var a,i=e.container.appendChild(t.createElement("form"));if(i.target=n.name,i.action=o,i.method="POST","object"==typeof e.usePost)for(var r in e.usePost)e.usePost.hasOwnProperty(r)&&(q?a=t.createElement('<input name="'+r+'"/>'):(a=t.createElement("INPUT"),a.name=r),a.value=e.usePost[r],i.appendChild(a));i.submit(),i.parentNode.removeChild(i)}else n.src=o;return e.props.src=o,n}function T(e,t){"string"==typeof e&&(e=[e]);for(var n,o=e.length;o--;)if(n=e[o],n=new RegExp("^"==n.substr(0,1)?n:"^"+n.replace(/(\*)/g,".$1").replace(/\?/g,".")+"$"),n.test(t))return!0;return!1}function C(o){var a,i=o.protocol;if(o.isHost=o.isHost||k(W.xdm_p),V=o.hash||!1,o.props||(o.props={}),o.isHost)o.remote=v(o.remote),o.channel=o.channel||"default"+L++,o.secret=Math.random().toString(16).substring(2),k(i)&&(i=f(n.href)==f(o.remote)?"4":r(e,"postMessage")||r(t,"postMessage")?"1":o.swf&&r(e,"ActiveXObject")&&c()?"6":"Gecko"===navigator.product&&"frameElement"in e&&-1==navigator.userAgent.indexOf("WebKit")?"5":o.remoteHelper?"2":"0");else if(o.channel=W.xdm_c.replace(/["'<>\\]/g,""),o.secret=W.xdm_s,o.remote=W.xdm_e.replace(/["'<>\\]/g,""),i=W.xdm_p,o.acl&&!T(o.acl,o.remote))throw new Error("Access denied for "+o.remote);
switch(o.protocol=i,i){case"0":if(b(o,{interval:100,delay:2e3,useResize:!0,useParent:!1,usePolling:!1},!0),o.isHost){if(!o.local){for(var s,l=n.protocol+"//"+n.host,d=t.body.getElementsByTagName("img"),u=d.length;u--;)if(s=d[u],s.src.substring(0,l.length)===l){o.local=s.src;break}o.local||(o.local=e)}var m={xdm_c:o.channel,xdm_p:0};o.local===e?(o.usePolling=!0,o.useParent=!0,o.local=n.protocol+"//"+n.host+n.pathname+n.search,m.xdm_e=o.local,m.xdm_pa=1):m.xdm_e=v(o.local),o.container&&(o.useResize=!1,m.xdm_po=1),o.remote=y(o.remote,m)}else b(o,{channel:W.xdm_c,remote:W.xdm_e,useParent:!k(W.xdm_pa),usePolling:!k(W.xdm_po),useResize:o.useParent?!1:o.useResize});a=[new j.stack.HashTransport(o),new j.stack.ReliableBehavior({}),new j.stack.QueueBehavior({encode:!0,maxLength:4e3-o.remote.length}),new j.stack.VerifyBehavior({initiate:o.isHost})];break;case"1":a=[new j.stack.PostMessageTransport(o)];break;case"2":o.isHost&&(o.remoteHelper=v(o.remoteHelper)),a=[new j.stack.NameTransport(o),new j.stack.QueueBehavior,new j.stack.VerifyBehavior({initiate:o.isHost})];break;case"3":a=[new j.stack.NixTransport(o)];break;case"4":a=[new j.stack.SameOriginTransport(o)];break;case"5":a=[new j.stack.FrameElementTransport(o)];break;case"6":$||c(),a=[new j.stack.FlashTransport(o)]}return a.push(new j.stack.QueueBehavior({lazy:o.lazy,remove:!0})),a}function S(e){for(var t,n={incoming:function(e,t){this.up.incoming(e,t)},outgoing:function(e,t){this.down.outgoing(e,t)},callback:function(e){this.up.callback(e)},init:function(){this.down.init()},destroy:function(){this.down.destroy()}},o=0,a=e.length;a>o;o++)t=e[o],b(t,n,!0),0!==o&&(t.down=e[o-1]),o!==a-1&&(t.up=e[o+1]);return t}function x(e){e.up.down=e.down,e.down.up=e.up,e.up=e.down=null}var q,$,E,I,M,A=this,L=Math.floor(1e4*Math.random()),R=Function.prototype,D=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/,U=/[\-\w]+\/\.\.\//,O=/([^:])\/\//g,P="",j={},N=e.easyXDM,F="easyXDM_",V=!1;if(r(e,"addEventListener"))I=function(e,t,n){e.addEventListener(t,n,!1)},M=function(e,t,n){e.removeEventListener(t,n,!1)};else{if(!r(e,"attachEvent"))throw new Error("Browser not supported");I=function(e,t,n){e.attachEvent("on"+t,n)},M=function(e,t,n){e.detachEvent("on"+t,n)}}var z,H=!1,B=[];if("readyState"in t?(z=t.readyState,H="complete"==z||~navigator.userAgent.indexOf("AppleWebKit/")&&("loaded"==z||"interactive"==z)):H=!!t.body,!H){if(r(e,"addEventListener"))I(t,"DOMContentLoaded",d);else if(I(t,"readystatechange",function(){"complete"==t.readyState&&d()}),t.documentElement.doScroll&&e===top){var G=function(){if(!H){try{t.documentElement.doScroll("left")}catch(e){return void o(G,1)}d()}};G()}I(e,"load",d)}var W=function(e){e=e.substring(1).split("&");for(var t,n={},o=e.length;o--;)t=e[o].split("="),n[t[0]]=a(t[1]);return n}(/xdm_e=/.test(n.search)?n.search:n.hash),J=function(){var e={},t={a:[1,2,3]},n='{"a":[1,2,3]}';return"undefined"!=typeof JSON&&"function"==typeof JSON.stringify&&JSON.stringify(t).replace(/\s/g,"")===n?JSON:(Object.toJSON&&Object.toJSON(t).replace(/\s/g,"")===n&&(e.stringify=Object.toJSON),"function"==typeof String.prototype.evalJSON&&(t=n.evalJSON(),t.a&&3===t.a.length&&3===t.a[2]&&(e.parse=function(e){return e.evalJSON()})),e.stringify&&e.parse?(J=function(){return e},e):null)};b(j,{version:"2.4.19.3",query:W,stack:{},apply:b,getJSONObject:J,whenReady:u,noConflict:p}),j.DomHelper={on:I,un:M,requiresJSON:function(n){s(e,"JSON")||t.write('<script type="text/javascript" src="'+n+'"></script>')}},function(){var e={};j.Fn={set:function(t,n){e[t]=n},get:function(t,n){if(e.hasOwnProperty(t)){var o=e[t];return n&&delete e[t],o}}}}(),j.Socket=function(e){var t=S(C(e).concat([{incoming:function(t,n){e.onMessage(t,n)},callback:function(t){e.onReady&&e.onReady(t)}}])),n=f(e.remote);this.origin=f(e.remote),this.destroy=function(){t.destroy()},this.postMessage=function(e){t.outgoing(e,n)},t.init()},j.Rpc=function(e,t){if(t.local)for(var n in t.local)if(t.local.hasOwnProperty(n)){var o=t.local[n];"function"==typeof o&&(t.local[n]={method:o})}var a=S(C(e).concat([new j.stack.RpcBehavior(this,t),{callback:function(t){e.onReady&&e.onReady(t)}}]));this.origin=f(e.remote),this.destroy=function(){a.destroy()},a.init()},j.stack.SameOriginTransport=function(e){var t,a,i,r;return t={outgoing:function(e,t,n){i(e),n&&n()},destroy:function(){a&&(a.parentNode.removeChild(a),a=null)},onDOMReady:function(){r=f(e.remote),e.isHost?(b(e.props,{src:y(e.remote,{xdm_e:n.protocol+"//"+n.host+n.pathname,xdm_c:e.channel,xdm_p:4}),name:F+e.channel+"_provider"}),a=_(e),j.Fn.set(e.channel,function(e){return i=e,o(function(){t.up.callback(!0)},0),function(e){t.up.incoming(e,r)}})):(i=m().Fn.get(e.channel,!1)(function(e){t.up.incoming(e,r)}),o(function(){t.up.callback(!0)},0))},init:function(){u(t.onDOMReady,t)}}},j.stack.FlashTransport=function(e){function a(e,t){o(function(){s.up.incoming(e,c)},0)}function r(n){var o=e.swf+"?host="+e.isHost,a="easyXDM_swf_"+Math.floor(1e4*Math.random());j.Fn.set("flash_loaded"+n.replace(/[\-.]/g,"_"),function(){j.stack.FlashTransport[n].swf=d=m.firstChild;for(var e=j.stack.FlashTransport[n].queue,t=0;t<e.length;t++)e[t]();e.length=0}),e.swfContainer?m="string"==typeof e.swfContainer?t.getElementById(e.swfContainer):e.swfContainer:(m=t.createElement("div"),b(m.style,E&&e.swfNoThrottle?{height:"20px",width:"20px",position:"fixed",right:0,top:0}:{height:"1px",width:"1px",position:"absolute",overflow:"hidden",right:0,top:0}),t.body.appendChild(m));var r="callback=flash_loaded"+i(n.replace(/[\-.]/g,"_"))+"&proto="+A.location.protocol+"&domain="+i(h(A.location.href))+"&port="+i(g(A.location.href))+"&ns="+i(P);m.innerHTML="<object height='20' width='20' type='application/x-shockwave-flash' id='"+a+"' data='"+o+"'><param name='allowScriptAccess' value='sameDomain'></param><param name='wmode' value='transparent'><param name='movie' value='"+o+"'></param><param name='flashvars' value='"+r+"'></param><embed type='application/x-shockwave-flash' FlashVars='"+r+"' allowScriptAccess='sameDomain' wmode='transparent' src='"+o+"' height='1' width='1'></embed></object>"}var s,l,c,d,m;return s={outgoing:function(t,n,o){d.postMessage(e.channel,t.toString()),o&&o()},destroy:function(){try{d.destroyChannel(e.channel)}catch(t){}d=null,l&&(l.parentNode.removeChild(l),l=null)},onDOMReady:function(){c=e.remote,j.Fn.set("flash_"+e.channel+"_init",function(){o(function(){s.up.callback(!0)})}),j.Fn.set("flash_"+e.channel+"_onMessage",a),e.swf=v(e.swf);var t=h(e.swf),i=function(){j.stack.FlashTransport[t].init=!0,d=j.stack.FlashTransport[t].swf,d.createChannel(e.channel,e.secret,f(e.remote),e.isHost),e.isHost&&(E&&e.swfNoThrottle&&b(e.props,{position:"fixed",right:0,top:0,height:"20px",width:"20px"}),b(e.props,{src:y(e.remote,{xdm_e:f(n.href),xdm_c:e.channel,xdm_p:6,xdm_s:e.secret}),name:F+e.channel+"_provider"}),l=_(e))};j.stack.FlashTransport[t]&&j.stack.FlashTransport[t].init?i():j.stack.FlashTransport[t]?j.stack.FlashTransport[t].queue.push(i):(j.stack.FlashTransport[t]={queue:[i]},r(t))},init:function(){u(s.onDOMReady,s)}}},j.stack.PostMessageTransport=function(t){function a(e){if(e.origin)return f(e.origin);if(e.uri)return f(e.uri);if(e.domain)return n.protocol+"//"+e.domain;throw"Unable to retrieve the origin of the event"}function i(e){var n=a(e);n==c&&e.data.substring(0,t.channel.length+1)==t.channel+" "&&r.up.incoming(e.data.substring(t.channel.length+1),n)}var r,s,l,c;return r={outgoing:function(e,n,o){l.postMessage(t.channel+" "+e,n||c),o&&o()},destroy:function(){M(e,"message",i),s&&(l=null,s.parentNode.removeChild(s),s=null)},onDOMReady:function(){if(c=f(t.remote),t.isHost){var a=function(n){n.data==t.channel+"-ready"&&(l="postMessage"in s.contentWindow?s.contentWindow:s.contentWindow.document,M(e,"message",a),I(e,"message",i),o(function(){r.up.callback(!0)},0))};I(e,"message",a),b(t.props,{src:y(t.remote,{xdm_e:f(n.href),xdm_c:t.channel,xdm_p:1}),name:F+t.channel+"_provider"}),s=_(t)}else I(e,"message",i),l="postMessage"in e.parent?e.parent:e.parent.document,l.postMessage(t.channel+"-ready",c),o(function(){r.up.callback(!0)},0)},init:function(){u(r.onDOMReady,r)}}},j.stack.FrameElementTransport=function(a){var i,r,s,l;return i={outgoing:function(e,t,n){s.call(this,e),n&&n()},destroy:function(){r&&(r.parentNode.removeChild(r),r=null)},onDOMReady:function(){l=f(a.remote),a.isHost?(b(a.props,{src:y(a.remote,{xdm_e:f(n.href),xdm_c:a.channel,xdm_p:5}),name:F+a.channel+"_provider"}),r=_(a),r.fn=function(e){return delete r.fn,s=e,o(function(){i.up.callback(!0)},0),function(e){i.up.incoming(e,l)}}):(t.referrer&&f(t.referrer)!=W.xdm_e&&(e.top.location=W.xdm_e),s=e.frameElement.fn(function(e){i.up.incoming(e,l)}),i.up.callback(!0))},init:function(){u(i.onDOMReady,i)}}},j.stack.NameTransport=function(e){function t(t){var n=e.remoteHelper+(s?"#_3":"#_2")+e.channel;l.contentWindow.sendMessage(t,n)}function n(){s?2!==++d&&s||r.up.callback(!0):(t("ready"),r.up.callback(!0))}function a(e){r.up.incoming(e,p)}function i(){m&&o(function(){m(!0)},0)}var r,s,l,c,d,m,p,h;return r={outgoing:function(e,n,o){m=o,t(e)},destroy:function(){l.parentNode.removeChild(l),l=null,s&&(c.parentNode.removeChild(c),c=null)},onDOMReady:function(){s=e.isHost,d=0,p=f(e.remote),e.local=v(e.local),s?(j.Fn.set(e.channel,function(t){s&&"ready"===t&&(j.Fn.set(e.channel,a),n())}),h=y(e.remote,{xdm_e:e.local,xdm_c:e.channel,xdm_p:2}),b(e.props,{src:h+"#"+e.channel,name:F+e.channel+"_provider"}),c=_(e)):(e.remoteHelper=e.remote,j.Fn.set(e.channel,a));var t=function(){var a=l||this;M(a,"load",t),j.Fn.set(e.channel+"_load",i),function r(){"function"==typeof a.contentWindow.sendMessage?n():o(r,50)}()};l=_({props:{src:e.local+"#_4"+e.channel},onLoad:t})},init:function(){u(r.onDOMReady,r)}}},j.stack.HashTransport=function(t){function n(e){if(g){var n=t.remote+"#"+p++ +"_"+e;(l||!v?g.contentWindow:g).location=n}}function a(e){m=e,s.up.incoming(m.substring(m.indexOf("_")+1),y)}function i(){if(h){var e=h.location.href,t="",n=e.indexOf("#");-1!=n&&(t=e.substring(n)),t&&t!=m&&a(t)}}function r(){c=setInterval(i,d)}var s,l,c,d,m,p,h,g,v,y;return s={outgoing:function(e,t){n(e)},destroy:function(){e.clearInterval(c),(l||!v)&&g.parentNode.removeChild(g),g=null},onDOMReady:function(){if(l=t.isHost,d=t.interval,m="#"+t.channel,p=0,v=t.useParent,y=f(t.remote),l){if(b(t.props,{src:t.remote,name:F+t.channel+"_provider"}),v)t.onLoad=function(){h=e,r(),s.up.callback(!0)};else{var n=0,a=t.delay/50;!function i(){if(++n>a)throw new Error("Unable to reference listenerwindow");try{h=g.contentWindow.frames[F+t.channel+"_consumer"]}catch(e){}h?(r(),s.up.callback(!0)):o(i,50)}()}g=_(t)}else h=e,r(),v?(g=parent,s.up.callback(!0)):(b(t,{props:{src:t.remote+"#"+t.channel+new Date,name:F+t.channel+"_consumer"},onLoad:function(){s.up.callback(!0)}}),g=_(t))},init:function(){u(s.onDOMReady,s)}}},j.stack.ReliableBehavior=function(e){var t,n,o=0,a=0,i="";return t={incoming:function(e,r){var s=e.indexOf("_"),l=e.substring(0,s).split(",");e=e.substring(s+1),l[0]==o&&(i="",n&&n(!0)),e.length>0&&(t.down.outgoing(l[1]+","+o+"_"+i,r),a!=l[1]&&(a=l[1],t.up.incoming(e,r)))},outgoing:function(e,r,s){i=e,n=s,t.down.outgoing(a+","+ ++o+"_"+e,r)}}},j.stack.QueueBehavior=function(e){function t(){if(e.remove&&0===s.length)return void x(n);if(!l&&0!==s.length&&!r){l=!0;var a=s.shift();n.down.outgoing(a.data,a.origin,function(e){l=!1,a.callback&&o(function(){a.callback(e)},0),t()})}}var n,r,s=[],l=!0,c="",d=0,u=!1,m=!1;return n={init:function(){k(e)&&(e={}),e.maxLength&&(d=e.maxLength,m=!0),e.lazy?u=!0:n.down.init()},callback:function(e){l=!1;var o=n.up;t(),o.callback(e)},incoming:function(t,o){if(m){var i=t.indexOf("_"),r=parseInt(t.substring(0,i),10);c+=t.substring(i+1),0===r&&(e.encode&&(c=a(c)),n.up.incoming(c,o),c="")}else n.up.incoming(t,o)},outgoing:function(o,a,r){e.encode&&(o=i(o));var l,c=[];if(m){for(;0!==o.length;)l=o.substring(0,d),o=o.substring(l.length),c.push(l);for(;l=c.shift();)s.push({data:c.length+"_"+l,origin:a,callback:0===c.length?r:null})}else s.push({data:o,origin:a,callback:r});u?n.down.init():t()},destroy:function(){r=!0,n.down.destroy()}}},j.stack.VerifyBehavior=function(e){function t(){o=Math.random().toString(16).substring(2),n.down.outgoing(o)}var n,o,a;return n={incoming:function(i,r){var s=i.indexOf("_");-1===s?i===o?n.up.callback(!0):a||(a=i,e.initiate||t(),n.down.outgoing(i)):i.substring(0,s)===a&&n.up.incoming(i.substring(s+1),r)},outgoing:function(e,t,a){n.down.outgoing(o+"_"+e,t,a)},callback:function(n){e.initiate&&t()}}},j.stack.RpcBehavior=function(e,t){function n(e){e.jsonrpc="2.0",i.down.outgoing(r.stringify(e))}function o(e,t){var o=Array.prototype.slice;return function(){var a,i=arguments.length,r={method:t};i>0&&"function"==typeof arguments[i-1]?(i>1&&"function"==typeof arguments[i-2]?(a={success:arguments[i-2],error:arguments[i-1]},r.params=o.call(arguments,0,i-2)):(a={success:arguments[i-1]},r.params=o.call(arguments,0,i-1)),c[""+ ++s]=a,r.id=s):r.params=o.call(arguments,0),e.namedParams&&1===r.params.length&&(r.params=r.params[0]),n(r)}}function a(e,t,o,a){if(!o)return void(t&&n({id:t,error:{code:-32601,message:"Procedure not found."}}));var i,r;t?(i=function(e){i=R,n({id:t,result:e})},r=function(e,o){r=R;var a={id:t,error:{code:-32099,message:e}};o&&(a.error.data=o),n(a)}):i=r=R,l(a)||(a=[a]);try{var s=o.method.apply(o.scope,a.concat([i,r]));k(s)||i(s)}catch(c){r(c.message)}}var i,r=t.serializer||J(),s=0,c={};return i={incoming:function(e,o){var i=r.parse(e);if(i.method)t.handle?t.handle(i,n):a(i.method,i.id,t.local[i.method],i.params);else{var s=c[i.id];i.error?s.error&&s.error(i.error):s.success&&s.success(i.result),delete c[i.id]}},init:function(){if(t.remote)for(var n in t.remote)t.remote.hasOwnProperty(n)&&(e[n]=o(t.remote[n],n));i.down.init()},destroy:function(){for(var n in t.remote)t.remote.hasOwnProperty(n)&&e.hasOwnProperty(n)&&delete e[n];i.down.destroy()}}},A.easyXDM=j}(window,document,location,window.setTimeout,decodeURIComponent,encodeURIComponent),define("fly/libs/easy-xdm-cbsi-2.4.19.3",function(){}),define("fly/libs/jquery.throttle-debounce-1.1",["jquery"],function(e){"$:nomunge";var t;e.throttle=t=function(t,n,o,a){function i(){function e(){s=+new Date,o.apply(l,d)}function i(){r=void 0}var l=this,c=+new Date-s,d=arguments;a&&!r&&e(),r&&clearTimeout(r),void 0===a&&c>t?e():n!==!0&&(r=setTimeout(a?i:e,void 0===a?t-c:t))}var r,s=0;return"boolean"!=typeof n&&(a=o,o=n,n=void 0),e.guid&&(i.guid=o.guid=o.guid||e.guid++),i},e.debounce=function(e,n,o){return void 0===o?t(e,n,!1):t(e,o,n!==!1)}}),define("fly/components/iframe-messenger-1.1",["jquery","version!fly/utils/url-helper","version!fly/managers/debug","version!fly/components/base","version!fly/libs/easy-xdm-cbsi","version!fly/libs/jquery.throttle-debounce"],function(e,t,n){window.fly=window.fly||{},window.fly.easyXDM=easyXDM.noConflict("fly");var o=n.get("iframeMessenger");e.widget("fly.iframeMessenger",e.fly.base,{options:{remoteUrl:null,resizeOnReady:!0,receivableMessages:{}},isProvider:null,_create:function(){var n=this,o=this.options;this._setup(),this.isProvider=t.getParam("xdm_e")?!0:!1,o.remoteUrl?this.socket=new window.fly.easyXDM.Socket({remote:o.remoteUrl,container:this.$element[0],onMessage:e.proxy(this._onMessage,this)}):this.isProvider&&(this.socket=new window.fly.easyXDM.Socket({isHost:!1,onReady:e.proxy(this._onReady,this),onMessage:e.proxy(this._onMessage,this)}),this.$document.on("displayChange",function(){n.postMessage("resize")}))},_initWindowResize:function(){var t=this,n=e(window);this.width=n.width(),n.resize(e.throttle(150,function(){var n=e(window).width();t.width!==n&&(t.postMessage("resize"),t.width=n)}))},_onReady:function(){this.postMessage("ready",null,!0),this._initWindowResize()},_onMessage:function(e,t){var n,a=this.options;e=JSON.parse(e)||{},!this.isProvider&&e.size&&e.size.height&&(n=this.$element.find("iframe"),"ready"===e.name?(n.animate({height:e.size.height},"fast"),this.$element.height(e.size.height)):(this.$element.height(e.size.height),n.height(e.size.height))),o.log("messageRecieved: ",e,"handler: ",a.receivableMessages[e.name]),a.receivableMessages[e.name]&&a.receivableMessages[e.name](e.data,t)},postMessage:function(t,n,a){a=a||!1;var i,r=this,s=(a||"resize"===t)&&this.isProvider?!0:!1,l={name:t,data:n};r.socket&&(s&&e.extend(!0,l,{size:{height:e(document.body).height()}}),i=JSON.stringify(l),o.log("postMessage: ",i),r.socket.postMessage(i))}})}),define("translations/form-validate",["managers/edition"],function(e){var t={en:{required:{field:"This field is required",radio:"One of these fields is required"},availableEmail:"Este email esta en uso.  Elige otro.",availableUsername:"This user name is already in use. Please choose another.",validPassword:"Password must be a minimum of 6 characters, including at least 1 special character or number (no spaces).",minlength:"This field must be at least {minlength} characters",maxlength:"This field must be no more than {maxlength} characters",email:"E-mail format invalid.",noUrl:"A url is not allowed in this field",noSpecialCharacters:"The special characters @, &, and % are not allowed in this field",equalTo:"Fields do not match",usernameSpecialCharacters:'Please use only alphanumeric characters, underscores "_", and dashes "-"',usernameCharacterLength:"Your username must be at least 3 and no more than 25 characters.",atLeastOneAlphanumeric:"You must include at least one alphanumeric character"},es:{required:{field:"Campo requerido",radio:"One of these fields is required"},availableEmail:"This e-mail address is already in use. Please choose another.",availableUsername:"Este nombre de usuario ya esta en uso.",validPassword:"Tu contraseña debe de tener por lo menos 6 caracteres, incluyendo por lo menos un carácter alfanumérico (sin espacios).",minlength:"Este campo debe tener al menos {minlength} caracteres",maxlength:"This field must be no more than {maxlength} characters",email:"Por favor escribe un email válido.  Ejemplo:  johndoe@mail.com",noUrl:"A url is not allowed in this field",noSpecialCharacters:"The special characters @, &, and % are not allowed in this field",equalTo:"Fields do not match",usernameSpecialCharacters:'Por favor, usa solamente caracteres alfanuméricos, guiones bajos "_", y guiones "-"',usernameCharacterLength:"Tu nombre de usuario debe tener un mínimo de 3 caracteres y un máximo de 25.",atLeastOneAlphanumeric:"You must include at least one alphanumeric character"}};return e.getTranslation(t)}),define("fly/components/form-validate-1.0",["jquery","version!fly/utils/string-helper","version!fly/utils/string-vars","version!fly/managers/debug","version!fly/components/base"],function(e,t,n,o){var a=e.support.touch?"vclick":"click",i=o.init("formValidate");e.widget("fly.formValidate",e.fly.base,{options:{inlineErrorTemplate:'<label for="{id}" class="validate-{type}">{message}</label>',globalErrorTemplate:'<div class="alert alert-{type}">{message}</div>',classFieldStatus:"validate-{type}",animation:"slide",fieldSelector:'[data-item="field"]',ignoreHidden:!0,ignoreSelector:null,validateOnChange:!0,scrollToErrors:!1,attributes:["required","maxlength","minlength"],rules:{},success:function(e,t){t.$form.submit()},failure:function(e,t){},placeError:function(e,t){t.is(":checkbox, :radio")&&t.parent("label").length?e.insertAfter(t.parent("label")):e.insertAfter(t)}},rules:{required:{message:function(e){return e.is(":radio")?"One of these fields is required":"This field is required"},test:function(e){var t,n;return e.is(":radio")?(t=e.closest("form").find(':radio[name="'+e.attr("name")+'"]'),t.is(":checked")):(n=e.is(":checkbox")?e.is(":checked"):e.val(),n?!0:!1)}},mailcheck:{type:"warning",message:null,test:function(e,t){var n=this,o=e.closest("form");return require(["fly/libs/mailcheck-1.1"],function(){e.mailcheck({suggested:function(i,r){n.message='Did you mean <a class="mailcheck" data-_insert="mailcheck">'+r.domain+"</a>?",o.on(a+".mailcheck",'[data-_insert="mailcheck"]',function(){e.val(r.full).trigger("change")}),t.reject("mailcheck")},empty:function(e){o.off(".mailcheck"),t.resolve()}})}),t.promise()}},availableEmail:{remote:!0,message:"Email is already in use"},availableUsername:{remote:!0,message:"User Name is already in use"},minlength:{message:function(e){return"This field must be at least "+e.attr("minlength")+" characters"},test:function(e){return e.val().length>=e.attr("minlength")}},maxlength:{message:function(e){return"This field must be no more than "+e.attr("maxlength")+" characters"},test:function(e){return e.val().length<=e.attr("maxlength")}},email:{message:"Please enter a valid email",test:function(e){return/^[A-Z0-9._%+\-]+@[A-Z0-9.\-]+\.[A-Z]{2,4}$/i.test(e.val())}},noUrl:{message:"A url is not allowed in this field",test:function(e){return!/http:\/\//i.test(e.val())}},noSpecialCharacters:{message:"The special characters @, &, and % are not allowed in this field",test:function(e){return/^[^@&%]+$/i.test(e.val())}},equalTo:{message:"Fields do not match",test:function(t){var n=e('input[name="'+t.data("validate-equal-to")+'"]');return n.length&&t.val()===n.val()}}},wasSubmitted:!1,isWorking:!1,isFormValid:!1,_create:function(){var e=this.options,t={};this._setup(),this.$form=this.$element,this.$form.attr("novalidate","novalidate"),this.globalErrors=[],this.ignoreSelector=":submit, :reset, :image, [disabled]",e.ignoreHidden&&(this.ignoreSelector+=", :hidden"),e.ignoreSelector&&(this.ignoreSelector+=", "+e.ignoreSelector),this.addRules(e.rules),this._on(this.$form,{submit:"_handleSubmit"}),e.validateOnChange&&(t["focusout :input:not("+this.ignoreSelector+", [data-_enabled])"]="_handleFocusOut",t["keyup :input:not("+this.ignoreSelector+", [readonly])"]="_handleChange",t["change :input:not("+this.ignoreSelector+")"]="_handleChange",this._on(this.$form,t))},_handleSubmit:function(e){this._off(this.$form,"focusout"),this.wasSubmitted=!0,this.isFormValid||(e.preventDefault(),e.stopImmediatePropagation(),this.validate())},_handleFocusOut:function(t){var n=e(t.target);n.attr("data-_enabled","true"),this._handleChange(t)},_handleChange:function(t){var n=e(t.target);this.isFormValid=!1,(this.wasSubmitted||n.data("_enabled"))&&(n.data("_passed",!1),this.testField(n))},getRule:function(e){return"undefined"!=typeof this.rules[e]?this.rules[e]:!1},getRulesToValidate:function(t){var n=this,o=t.data("validate")||[],a=e.isArray(o)?o:o.split(" ");return e.each(this.options.attributes,function(e,n){t.attr(n)&&a.unshift(n)}),e.grep(a,function(e,t){return n.getRule(e)})},addRules:function(t){e.isPlainObject(t)&&e.extend(this.rules,t)},removeRule:function(e){this.getRule(e)!==!1&&delete this.rules[e]},setFieldDelegate:function(e){var t=null;return e.is(":radio")&&(t=this.$form.find(':radio[name="'+e.attr("name")+'"]').first()),e.data("_field_delegate",t),e},testField:function(t){var n,o=this,a=[],r=t.data()||{},s=r.error||{},l=e.Deferred();return r._passed?(l.resolve(),l.promise()):(this.setFieldDelegate(t),r.remoteRequest&&r.remoteRequest.abort(),n=this.getRulesToValidate(t),i.log("test field: ",t," w/ rules:",n),e.each(n,function(n,r){var l,c=o.getRule(r),d=!0,u=c.remote?!0:!1,m=null;return u&&(m=c.remoteUrl||t.data("remoteUrl"),o.removeError(t)),l=function(){var n=e.Deferred(),a=null;return a=u?o.requestRemote(m,t,r,n):c.test(t,n),a===!1?(d=!1,n.reject(r)):a===!0&&n.resolve(r),n.promise()},l=l(),a.push(l),e.when(l).fail(function(){i.log("rule failed: ",r,t)}).then(function(){s.name===r&&o.removeError(t),i.log("rule passed: ",r,t)}),d?void 0:!1}),e.when.apply(null,a).fail(function(e){var n=o.getRule(e),a=n.type?n.type:"error",r=t.data(),s=r.error||{};r.remoteTimeout&&clearTimeout(r.remoteTimeout),r.remoteRequest&&r.remoteRequest.abort(),s.message!=o.getMessage(e,t)&&(o.removeError(t),o.addInlineError(t,e)),"error"!==a?(l.resolve(),i.log("field passed: ",t," type: ",a)):(l.reject(),i.log("field failed: ",t))}).then(function(){t.data("_passed",!0),o.removeError(t),l.resolve(),i.log("field passed: ",t)}),l.promise())},requestRemote:function(t,n,o,a){var i={},r=null,s=null,l=n.data()||{};l.remoteTimeout&&(clearTimeout(l.remoteTimeout),l.remoteQueue.resolve(o)),i[n.attr("name")]=n.val(),s=setTimeout(function(){r=e.ajax({type:"POST",dataType:"json",url:t,data:i,timeout:5e3,success:function(t){switch(t){case!0:a.resolve(o);break;case!1:a.reject(o);break;default:e.isPlainObject(t)&&t.status?"success"===t.status?a.resolve(o):a.reject(o):a.resolve(o)}},complete:function(){n.data("remoteRequest",null)},error:function(e,t){a.resolve(o),n.data("_passed",!1)}}),n.data({remoteRequest:r,remoteQueue:null,remoteTimeout:null})},300),n.data({remoteQueue:a,remoteTimeout:s})},validate:function(){var t=this.options,n=this,o=[];this.isWorking||this._trigger("validate")!==!1&&(this.isWorking=!0,this.removeGlobalErrors(),this.$form.find(":input").not(this.ignoreSelector).each(function(){var t=e(this);o.push(n.testField(t))}),e.when.apply(null,o).fail(function(){i.log("validate failed"),n._trigger("failure",null,{$form:n.$form}),t.scrollToErrors&&n.scrollToErrors()}).then(function(){i.log("validate success"),n.isFormValid=!0,n._trigger("success",null,{$form:n.$form}),n.isFormValid=!1}).always(function(){n._trigger("validated"),n.isWorking=!1}))},scrollToErrors:function(){var t=this.options,n=this.$form.find("[data-validate-error]").first(),o=n.closest(t.fieldSelector),a=(o.length?o:n).offset().top;this._trigger("scroll",null,{offset:a})!==!1&&(a-=this.$window.height()/6,e("html, body").animate({scrollTop:a},"fast"))},removeError:function(t){t=t.data("_field_delegate")||t;var n=this,o=this.options,a=t.data("error");a&&("slide"===o.animation?a.$error.slideUp("fast",function(){e(this).remove(),n._completeRemoveError(a,t)}):(t.remove(),this._completeRemoveError(a,t)),t.removeClass(a.fieldClass).removeData("error"))},getMessage:function(t,n){var o=this.getRule(t),a=n.data("validate-message-"+t)||n.data("validate-message-"+t.toLowerCase());return a||a===!1||(a=e.isFunction(o.message)?o.message(n):o.message),a},addInlineError:function(t,o){t=t.data("_field_delegate")||t;var a,i,r,s,l=this,c=this.options,d=t.data("error")||{},u={name:o,position:"inline"};"error"!==d.type&&(r=this.getMessage(o,t),a=this.getRule(o),i=a.type||"error",s=n.compile(c.inlineErrorTemplate,{type:i,id:t.attr("id"),message:r}),e.extend(u,{type:i,message:r,$error:e(s).attr("data-validate-error",!0),fieldClass:n.compile(this.options.classFieldStatus,{type:i})}),t.addClass(u.fieldClass).data("error",u),r!==!1&&("slide"===c.animation?(u.$error=e("<div />").wrapInner(u.$error),u.$error.hide(),c.placeError.call(this,u.$error,t),u.$error.slideDown("fast",function(){l._completeAddError(u,t)})):(c.placeError.call(this,u.$error,t),this._completeAddError(u,t))))},addGlobalError:function(t,o){o=o||"error";var a,i=this,r=this.options,s={position:"global",type:o,message:t};a=n.compile(r.globalErrorTemplate,{type:o,message:t}),e.extend(s,{$error:e(a).attr("data-validate-error",!0)}),"slide"===r.animation?(s.$error=e("<div />").wrapInner(s.$error),s.$error.hide().prependTo(this.$form).slideDown("fast",function(){i._completeAddError(s)})):(this.$form.prepend(s.$error),this._completeAddError(s)),this.globalErrors.push(s)},removeGlobalErrors:function(){var t=this;e.each(this.globalErrors,function(e,n){n.$error.remove(),t._completeRemoveError(n)})},removeInlineErrors:function(){var t=this;this.$form.find("[data-validate-error]").each(function(){var n=e(this),o=n.data();o.error&&t.removeError(n),o.remoteRequest&&o.remoteRequest.abort()})},_completeAddError:function(t,n){this._trigger("errorAdded",null,e.extend(t,{$field:n})),this.$document.trigger("displayChange",{type:"errorAdded"})},_completeRemoveError:function(t,n){this._trigger("errorRemoved",null,e.extend(t,{$field:n})),this.$document.trigger("displayChange",{type:"errorRemoved"})},_disable:function(){this.removeGlobalErrors(),this.removeInlineErrors()},_destroy:function(){this._disable()}})}),define("components/form-validate",["jquery","version!fly/managers/debug","translations/form-validate","version!fly/utils/string-vars","version!fly/components/form-validate"],function(e,t,n,o){var a=e.support.touch?"vclick":"click";t.init("formValidate"),e.widget("cnet.formValidate",e.fly.formValidate,{rules:{required:{message:function(e){return e.is(":radio")?n.required.radio:n.required.field}},mailcheck:{message:null,test:function(e,t){var n=this,o=e.closest("form");return require(["libs/mailcheck-1.1"],function(){e.mailcheck({suggested:function(i,r){r.domain?n.message='Did you mean <a class="mailcheck" data-_insert="mailcheck">'+r.domain+"</a>?":r.error&&(n.message="Please double check your email address."),o.on(a+".mailcheck",'[data-_insert="mailcheck"]',function(){e.val(r.full).trigger("change")}),t.reject("mailcheck")},empty:function(e){o.off(".mailcheck"),t.resolve()},topLevelDomains:["com","org","net","int","edu","gov","mil","arpa","co.uk"]})}),t.promise()}},availableEmail:{message:n.availableEmail},availableUsername:{message:n.availableUsername},validPassword:{message:n.validPassword,test:function(e){return/[0-9\(\)\.@`!#\$%\^&*+=\-\[\]\\';,/\{\}\|":<>\?~_]+/.test(e.val())&&e.val().length>5&&-1==e.val().indexOf(" ")}},minlength:{message:function(e){return o.compile(n.minlength,{minlength:e.attr("minlength")})}},maxlength:{message:function(e){return o.compile(n.maxlength,{maxlength:e.attr("maxlength")})}},email:{message:n.email,test:function(e){return/^[A-Z0-9._%+\-]+@[A-Z0-9.\-]+\.[A-Z]{2,}$/i.test(e.val())}},noUrl:{message:n.noUrl},noSpecialCharacters:{message:n.noSpecialCharacters},equalTo:{message:n.equalTo},usernameSpecialCharacters:{message:n.usernameSpecialCharacters,test:function(e){return/^[a-z0-9\-_]*$/i.test(e.val())}},usernameCharacterLength:{message:n.usernameCharacterLength,test:function(e){var t=e.val().length;return t>=3&&25>=t}},atLeastOneAlphanumeric:{message:n.atLeastOneAlphanumeric,test:function(e){return/.*[a-z0-9]+.*/i.test(e.val())}}},addInlineError:function(t,n){t=t.data("_field_delegate")||t;var a,i,r,s,l=this.options,c=t.data("error")||{},d={name:n,position:"inline"};"error"!==c.type&&(r=this.getMessage(n,t),a=this.getRule(n),i=a.type||"error",s=o.compile(l.inlineErrorTemplate,{type:i,id:t.attr("id"),message:r}),e.extend(d,{type:i,message:r,$error:e(s).attr("data-validate-error",!0),fieldClass:o.compile(this.options.classFieldStatus,{type:i})}),t.addClass(d.fieldClass).data("error",d),r!==!1&&("slide"===l.animation?(d.$error=e("<div />").wrapInner(d.$error),l.placeError.call(this,d.$error,t),this._completeAddError(d,t)):(l.placeError.call(this,d.$error,t),this._completeAddError(d,t))))},removeError:function(e){e=e.data("_field_delegate")||e;var t=this.options,n=e.data("error");n&&("slide"===t.animation?n.$error.remove():(e.remove(),this._completeRemoveError(n,e)),e.removeClass(n.fieldClass).removeData("error"),this._completeRemoveError(n,e))}})}),define("components/user-form",["jquery","utils/cookie","version!fly/managers/debug","translations/user-form","utils/urs-helper","version!fly/components/base","version!fly/components/iframe-messenger","components/form-validate","urs"],function(e,t,n,o,a){n=n.init("userForm"),e.widget("cnet.userForm",e.fly.base,{options:{cookieUserRecognized:"urs_social_recognized"},messenger:e.fly.iframeMessenger(),_create:function(){var t=this;this._setup(),this._initSocialRecognition(),e(document).ready(function(){t._setupEvents(),t._initForm()})},_setupEvents:function(){var t=this;e("[data-user-show]").on("click",function(n){n.preventDefault();var o=e(this).data("userShow");t.messenger.postMessage("showModal",{modal:o.action,params:o.params},!0)}),e("[data-user-social]").on("click",function(n){n.preventDefault();var o=e(this).data("userSocial"),i=a.getUrs(a.getSocialAppId(o.params.appId),t._setupSocialEvents.bind(t));if("login"===o.action)i.social.authenticate(o.socialSite);else if("register"===o.action){var r=e("#user_tos");if(0===r.length||r.prop("checked"))i.social.authenticate(o.socialSite,!0);else{var s=e("form").data("formValidate");s.testField(r)}}})},
_setupSocialEvents:function(e){var t=this;e.common.addEventListener(URS.events.AUTH_COMPLETE,function(e,n){delete e.target,t.messenger.postMessage("socialAuthComplete",{event:e,apiResponse:n})})},_initForm:function(){var t=this,n=e("form").first(),i=n.data("user-submit");n.formValidate({validateOnChange:!0,success:function(r){r.preventDefault();var s=n.data("formValidate"),l=n.serializeArray();if(t.messenger.postMessage("submit",{action:i}),"social-additional-information"===n.attr("id")){for(var c=null,d=null,u={},m=0;m<l.length;m++)"appId"===l[m].name?c=l[m].value:"redirectUrl"===l[m].name||("socialSite"===l[m].name?d=l[m].value:u[l[m].name]=l[m].value);if(c&&d){var p=a.getUrs(a.getSocialAppId(c),t._setupSocialEvents.bind(t));p.social.authenticate(d,!0,u)}}else l.push({name:"viewType",value:"json"}),e.ajax({dataType:"json",url:n.attr("action"),data:e.param(l),type:"POST"}).done(function(n){n=n||{},"success"===n.status?t.messenger.postMessage(i+"Success",n):"failure"===n.status&&(n.messages&&n.messages.error&&e.each(n.messages.error.reverse(),function(e,t){s.addGlobalError(t,"error")}),t.messenger.postMessage(i+"Failure",n))}).fail(function(e,n){s.addGlobalError(o.globalError,"error"),t.messenger.postMessage(i+"LoadFailure",e)}).always(function(){t.messenger.postMessage("submitted",{action:i}),t.messenger.postMessage(i+"Submitted")})},failure:function(e){t.messenger.postMessage("validation_failed",{},!0)},errorAdded:function(e){t.messenger.postMessage("validation_failed",{},!0)},errorRemoved:function(e){t.messenger.postMessage("validation_passed",{},!0)}})},_initSocialRecognition:function(){var n=this,o=JSON.parse(t.read(this.options.cookieUserRecognized)),a=e(".unrecognized"),i=e(".recognized");o?(a.hide(),i.show(),e("[data-user-template]",i).each(function(t,n){var a=e(n);"name"===a.data("userTemplate")&&a.text(o.username)}),e("[data-user-social]",i).each(function(t,n){var a=e(n),i=a.data("userSocial");a.data("userSocial",e.extend(!0,i,{socialSite:o.socialSite})),a.addClass(o.socialSite),e(".logo",a).text(o.socialSite)}),e("[data-user-action]",i).on("click",function(t){"differentNetwork"===e(this).data("userAction")&&(e.removeCookie(n.options.cookieUserRecognized,{path:"/",domain:".cnet.com"}),i.hide(),a.show())})):(a.show(),i.hide())}})}),define("managers/user",["jquery","version!fly/utils/url-helper","components/user-controller","components/user-form"],function(e,t){var n=null;return n=t.getParam("xdm_e")?e.cnet.userForm():e.cnet.userController()}),define("translations/modal-email",["managers/edition"],function(e){var t={en:{confirmation:"Your e-mail was sent successfully!",incorrectCaptcha:"The response you entered was incorrect.  Please try again."},es:{confirmation:"Tu email fue enviado exitosamente!",incorrectCaptcha:"La Captcha no es correcta. Por favor, inténtalo otra vez."}};return e.getTranslation(t)}),define("components/modal-email",["jquery","version!fly/managers/debug","version!fly/managers/components","managers/edition","managers/user","translations/modal-email","components/global-modal","components/loading","version!fly/components/form-validate"],function(e,t,n,o,a,i){t=t.init("modalEmail"),e.widget("cnet.modalEmail",e.cnet.globalModal,{options:{emailType:"friend",pageTitle:function(){return document.title},pageUrl:function(){return window.location.href},recipientId:null,recipientName:"",messageThankYou:i.confirmation},emailTypes:{friend:{url:{us:"/email/friend/",uk:"/uk/email/friend/",au:"/au/email/friend/",es:"/es/email/friend/"},requireUsername:!1},friendRoadshow:{url:{us:"/email/friend/roadshow",uk:"/uk/email/friend/roadshow",au:"/au/email/friend/roadshow",es:"/es/email/friend/roadshow"},requireUsername:!1},member:{url:{us:"/email/member/",uk:"/uk/email/member/",au:"/au/email/member/",es:"/es/email/member/"},requireUsername:!0},editor:{url:{us:"/email/editor/",uk:"/uk/email/editor/",au:"/au/email/editor/",es:"/es/email/editor/"},requireUsername:!1},flag:{url:{us:"/email/flag/",uk:"/uk/email/flag/",au:"/au/email/flag/",es:"/es/email/flag/"},requireUsername:!0},video:{url:{us:"/email/video-feedback/",uk:"/uk/email/video-feedback/",au:"/au/email/video-feedback/",es:"/es/email/video-feedback/"},requireUsername:!1}},errorMessages:{"cnet.notsent":"There was an error attempting to send your e-mail.  Please try again.","cnet.nousername":"You must have a valid username to send an e-mail.","cnet.notloggedin":"You must be logged in to send an e-mail.","cnet_recaptcha.incorrect-captcha-sol":i.incorrectCaptcha,"cnet_recaptcha.missing-input-response":i.incorrectCaptcha},_create:function(){this._super(),this.setContent('<a class="close" data-close="modal"></a>'),this._setupLoader()},_setupLoader:function(){this.loader=e.cnet.loading(),this.loader.$element.addClass("modal-content")},open:function(){var e=this,t=this.emailTypes[this.options.emailType];this.isOpen||(t.requireUsername?(a._loadUserData(),a.isLoggedIn?(a.hasAccess({requireUsername:!0,nextAction:function(n){e._openEmailType(t)}}),e._super()):a.showModal("login",{appId:this.options.appId})):(this._openEmailType(t),e._super()))},_openEmailType:function(t){var a=this;this.setContent(""),this.loader.$element.appendTo(this.$element),this.loader.add(),e.ajax({url:t.url[o.getEdition()],data:this.options.recipientId?{regId:this.options.recipientId}:null,dataType:"text"}).done(function(t){a.loader.remove(),a.setContent(t),a.position(),a._setupEvents(),e("[data-email-var]",a.$element).each(function(t,n){var o=e(n),i=o.data("emailVar");"pageTitle"===i?o.text(a.options.pageTitle):"recipientName"===i&&o.text(a.options.recipientName)}),e('input[name="emailFriend[pageTitle]"]',a.$element).val(a.options.pageTitle);var o="string"==typeof a.options.pageUrl?a.options.pageUrl:a.options.pageUrl();if(e('input[name="emailFriend[pageUrl]"]',a.$element).val(o.replace(/^http:\/\//i,"")),"video"===a.options.emailType){var i=e('[data-component="cnetVideo"], [data-component="cnetVideoUvp"]'),r=i.length>0?i[i.data("component")]("getVideoInfo"):'{debug: "Not available"}';e('input[name="videoFeedback[debugInfo]"]',a.$element).val(e.param(JSON.parse(r))),e('input[name="videoFeedback[pageTitle]"]',a.$element).val(a.options.pageTitle),e('input[name="videoFeedback[pageUrl]"]',a.$element).val(a.options.pageUrl)}n.process(a.$element)}).always(function(){a.loader.remove()})},_setupEvents:function(){var t=this,n=e("form",this.$element),o=e('[data-component="recaptcha"], .g-recaptcha',t.$element),a=e('[data-email-var="error"]',n);n.formValidate({success:function(i){i.preventDefault(),e.ajax({dataType:"json",url:n.attr("action"),data:n.serialize()}).done(function(e){"success"===e.status?(n.html(t.options.messageThankYou),t.position()):(e.errors?a.text(e.errors[0]):a.text(t.errorMessages[e.message]),o.recaptcha("reload"))})}})}}),e(document).on("click.modalEmail-api.data-api",'[data-open="modalEmail"]',function(t){var n,o=e(this),a=o.data(),i=a.$modal;t.preventDefault(),i?i.open():(n=o.data("modalEmailOptions")||o.dataPrefix("modalEmail"),o.data("$modal",e.cnet.modalEmail(e.extend(n,{openOnInit:!0,destroy:function(){o.data("$modal",null)}}))))})}),define("components/mobile-footer-link",["jquery","version!fly/managers/debug","managers/client-storage","utils/cookie","version!fly/components/base"],function(e,t,n,o){t=t.init("mobileFooterLink"),e.widget("cnet.mobileFooterLink",e.fly.base,{options:{},_create:function(){this._setup();var e=this;n.read("mobileRedirect")&&(e.$element.append('<li><a class="view">Switch to mobile</a></li>'),this._setEvent())},_setEvent:function(){this.$element.find("a.view").on("click",function(){o.write("fly_device","mobile"),n.erase("mobileRedirect"),window.location.reload(!0)})}})}),define("components/auto-suggest",["jquery","version!fly/managers/debug","managers/tealium","managers/page-vars","version!fly/components/base"],function(e,t,n,o){t=t.init("autoSuggest"),e.widget("cnet.autoSuggest",e.fly.base,{options:{classMenuShow:"active",classOpen:"open",classReady:"ready",classSelected:"selected",selectorMenu:".menuWrapper",selectorSuggestions:"li:not(.hed)",url:"/autosuggest/xhr/"},suggestXhr:null,$searchBox:null,$submitButton:null,_didTrackEnterSubmit:!1,_baseTrackingData:{_pageTitle:o.tracking.data._pageTitle,siteSection:o.tracking.data.siteSection,pageType:o.tracking.data.pageType,siteEdition:o.tracking.data.siteEdition,siteType:o.tracking.data.siteType,siteHier:o.tracking.data.siteHier,brand:o.tracking.data.brand,_pageChannelType:o.tracking.data._pageChannelType},_create:function(){this._setup(),this.$searchBox=this.$element.find("input"),this.$submitButton=this.$element.find('[type="submit"]'),this._setupEvents(),this._setupTracking()},_setupEvents:function(){var t=this;this.$element.on("submit",function(n){var o=e(t.options.selectorSuggestions,t.$element).filter("."+t.options.classSelected),a=o.text(),i=o.attr("href");i?(n.preventDefault(),window.location.href=i):a&&t.$searchBox.val(a)}),this.$element.on("mousedown",this.options.selectorSuggestions,function(n){var o=e(this).attr("href");if(!o){var a=e(t.options.selectorSuggestions,t.$element).filter("."+t.options.classSelected);""!==a.text()&&a.removeClass(t.options.classSelected),t._submitAutoSuggest(n)}}),this.$searchBox.on("focusout",function(){t._hideAutoSuggest()}),this.$searchBox.on("keyup",function(e){e.which>=37&&e.which<=40||t._doAutoSuggest()}),this.$searchBox.on("keydown",function(e){e.which>=37&&e.which<=40&&t._doArrowKey(e)})},_doAutoSuggest:function(){var n=this,o=n.options;if(n.suggestXhr&&4!=n.suggestXhr.readyState&&0!==n.suggestXhr.readyState&&n.suggestXhr.abort(),""!==n.$searchBox.val()){var a=o.url+"?query="+n.$searchBox.val();t.log("AutoSuggestXHR: ",a),this.$submitButton.addClass(this.options.classReady),n.suggestXhr=e.ajax({url:a,dataType:"json",context:document.body}).done(function(t){n.$element.addClass(o.classMenuShow);var a=e(e.parseHTML(e.trim(t.html)));e(o.selectorSuggestions,a).length>0?(0===e(o.selectorMenu,n.$element).length?a.appendTo(n.$element):e(o.selectorMenu,n.$element).replaceWith(a),n._setupAdditionalResults()):(n._hideAutoSuggest(),e(o.selectorMenu,n.$element).html(""))}).fail(function(){n._hideAutoSuggest()})}else n._hideAutoSuggest(),e(o.selectorMenu,n.$element).html(""),this.$submitButton.removeClass(this.options.classReady)},_doArrowKey:function(t){var n=e(this.options.selectorSuggestions,this.$element),o=n.filter("."+this.options.classSelected),a=n.index(o);if(38===t.which)o.removeClass(this.options.classSelected),0>=a?n.last().addClass(this.options.classSelected):n.eq(a-1).addClass(this.options.classSelected);else if(40===t.which)o.removeClass(this.options.classSelected),0>a||a===n.length-1?n.first().addClass(this.options.classSelected):n.eq(a+1).addClass(this.options.classSelected);else if(37===t.which||39===t.which){var i=o.closest("[data-additional-results]");i.length>0&&this._toggleAdditionalResults(this.$element.find("[data-additional-results]"),i,39===t.which)}},_hideAutoSuggest:function(){var e=this,t=e.options;e.$element.removeClass(t.classMenuShow)},_submitAutoSuggest:function(t){var o=e(t.target),a=o.text();n.trackSuggestedSearch({searchTerm:a,dwLinkTag:"search|suggestedSearch|"+o.prevAll().length}),this.$searchBox.val(a),this.$element.submit()},_setupAdditionalResults:function(){var t=this,n=this.$element.find("[data-additional-results]");n.each(function(o,a){var i=e(a);i.find('[data-auto-suggest-item="trigger"]').on("click",function(){t._toggleAdditionalResults(n,i)})})},_toggleAdditionalResults:function(t,n,o){var a=this,i=n.find('[data-auto-suggest-item="container"]');i.html()?n.toggleClass(function(e,t,n){return n||i.find("."+a.options.classSelected).removeClass(a.options.classSelected),a.options.classOpen},o):o!==!1&&e.ajax({dataType:"json",type:"GET",url:n.data("additionalResults")}).done(function(e){e.html&&(i.html(e.html),n.addClass(a.options.classOpen))}),t.not(n).removeClass(this.options.classOpen)},_setupTracking:function(){t.log("Setting up Smart Search tracking");var o=this,a=o.$element,i=a.find('input[type="search"]'),r=a.find(".submit"),s=e('[data-target="#search"]');i.on("keydown.smartSearchTracking",function(e){13===e.keyCode&&(o._trackSubmit("enter"),o._didTrackEnterSubmit=!0)}),r.on("click.smartSearchTracking",function(){o._didTrackEnterSubmit||o._trackSubmit("button")}),a.on("click.smartSearchTrackingMakeAndModel",".makesAndModels a",function(t){o._trackMakeModelClick(e(this))}),a.on("click.smartSearchTrackingContent",".results a",function(t){o._trackContentLinkClick(e(this))}),s.on("trackOpenEvent",function(){n.trackCustomEvent("searchToggle",e.extend(o._baseTrackingData,{clickGenericText:"smartsearch|open"}),"trackClick")}),s.on("trackCloseEvent",function(){n.trackCustomEvent("searchToggle",e.extend(o._baseTrackingData,{clickGenericText:"smartsearch|close"}),"trackClick")})},_trackSubmit:function(o){t.log("Track submit with "+o);var a=this.$element.find('input[type="search"]').val();t.log("Typed text: "+a);var i="search|submit|"+o;n.trackCustomEvent("searchSubmit",e.extend(this._baseTrackingData,{_searchTerm:a.toLowerCase(),clickGenericText:i}),"trackClick")},_trackMakeModelClick:function(o){t.log("Track make and model click");var a=o.text(),i=(e('.autoHeader input[type="search"]').val(),o.attr("data-category")),r=o.parent().index()+1,s="search|suggested"+i+"|"+r,l=e.extend(this._baseTrackingData,{searchTerm:a.toLowerCase(),clickGenericText:s});n.trackCustomEvent("searchResultClick",l,"trackClick")},_trackContentLinkClick:function(o){t.log("Track content link click");var a=e('.autoHeader input[type="search"]').val(),i=o.parent().index()+1,r="search|suggestedContent|"+i;n.trackCustomEvent("searchResultClick",e.extend(this._baseTrackingData,{searchTerm:a,clickGenericText:r}),"trackClick")}})}),define("components/taboola",["jquery","taboola","version!fly/managers/debug","managers/page-vars","version!fly/components/base"],function(e,t,n,o){n=n.init("taboola"),t=window._taboola||[],e.widget("cnet.taboola",e.fly.base,{options:{mode:null,container:null,placement:null,targetType:"mix",canonicalUrl:null,isXhr:!1},initOptions:{},_create:function(){if(o.ads.enabled===!0){this._super(),n.log("Taboola widget created");var e=this.options;pageType=this._getPageType(),n.log("Taboola Page Type: "+pageType),this.initOptions[pageType]="auto",this.initOptions.visibile=e.mode?!0:!1,e.canonicalUrl&&(this.initOptions.url=e.canonicalUrl),e.placement=o.tracking.data.pageType+" "+o.device+" "+e.placement,e.isXhr||this.pushTaboola()}else n.log("Ads disabled")},_getPageType:function(){var e={front_door:"home",article:"article",video_page:"video",image_gallery:"photo",section_door:"category",image_gallery_list:"category",search:"search",search_null:"search"},t="other";return e[o.pageType]&&(t=e[o.pageType]),t},pushTaboola:function(){var e=this.options;e.mode&&t.push({mode:e.mode,container:e.container,placement:e.placement,target_type:e.targetType}),t.push(this.initOptions)}})}),define("managers/components.desktop",["jquery","version!fly/managers/components","version!fly/managers/debug","managers/tealium","managers/page-vars","components/global-modal","components/modal-email","components/modal-iframe","components/mobile-footer-link","components/auto-suggest","components/taboola"],function(e,t,n,o,a){return n=n.init("componentManager"),t.register({globalModal:{},modalEmail:{},modalIframe:{},mobileFooterLink:{},autoSuggest:{},accordion:{require:"version!fly/components/accordion"},addthisevent:{require:"components/add-this-event"},alert:{require:"version!fly/components/alert"},audioPlayer:{require:"components/audio-player"},autoplayControls:{require:"components/autoplay-controls"},backgroundVideo:{require:"components/background-video"},bestFitVideoPromo:{require:"components/best-fit-video-promo"},bestList:{require:"components/best-list"},breakingNews:{require:"components/breaking-news"},carFinder:{require:"components/car-finder"},carousel:{require:"version!fly/components/carousel",options:{slidechanged:function(t){e(window).trigger("scroll")}}},carouselDesktop:{require:"components/carousel.desktop"},carouselFull:{require:"components/carousel-full"},cesCategoryListing:{require:"components/ces-category-listing"},cnet100:{require:"components/cnet100"},cnetVideo:{require:"components/cnet-video"},cnetVideoUvp:{require:"components/cnet-video-uvp"},connectComponent:{require:"components/connect-es-component"},contactUs:{require:"components/contact-us"},couponsDesktop:{require:"components/coupons-page.desktop"},dropdown:{require:"components/dropdown"},dfllActivator:{require:"components/dfll-activator.desktop"},dfllUpdater:{require:"components/dfll-updater.desktop"},dealerQuote:{require:"components/dealer-quote"},editionToggler:{require:"components/edition-toggler"},editorsChoiceToggle:{require:"components/editors-choice-toggle"},ellipsis:{require:"components/ellipsis"},expando:{require:"components/expando"},HGGFD:{require:"components/hgg-door"},holidayNav:{require:"components/holiday-nav"},inlineProductCarousel:{require:"components/inline-product-carousel"},topStories:{require:"components/top-stories"},errorModal:{require:"components/error-modal"},expiredDealModal:{require:"components/expired-deal-modal.desktop"},externalLink:{require:"components/external-link"},fixate:{require:"components/fixate"},formAjax:{require:"components/form-ajax"},formTrim:{require:"components/form-trim"},formValidate:{require:"components/form-validate"},forumsBestAnswer:{require:"components/forums-best-answer"},forumsMarkAsRead:{require:"components/forums-mark-as-read"},forumsRealtime:{require:"components/forums-realtime"},forumsPostToggle:{require:"components/forums-post-toggle"},forumsPostPreview:{require:"components/forums-post-preview"},forumsPostFlag:{require:"components/forums-post-flag"},forumsPermalink:{require:"components/forums-permalink"},forumsLoadForm:{require:"components/forums-load-form"},forumsSearchUpdater:{require:"components/forums-search-updater"},forumsTools:{require:"components/forums-tools"},forumsTrack:{require:"components/forums-track"},forumsVote:{require:"components/forums-vote"},fullScreenSlides:{require:"components/full-screen-slides"},googleCsa:{require:"components/google-csa"},iframeHoverFix:{require:"components/iframe-hover-fix"},imageGallery:{require:"components/image-gallery"},imageGalleryAuto:{require:"components/image-gallery-auto"},imageGalleryModal:{require:"components/image-gallery-modal"},interactiveFloorPlans:{require:"components/interactive-floor-plans"},interactiveVideoPlayer:{require:"components/interactive-video-player"},interactiveVideoPollTimer:{require:"components/interactive-video-poll-timer"},joinCnet:{require:"components/join-cnet"},lazyloadImages:{require:"components/lazyload-images"},lazyloadElement:{require:"components/lazyload-element"},leadsTracker:{require:"components/leads-tracker"},linkTracker:{require:"components/link-tracker"},livefyreCommentcount:{require:"version!fly/components/livefyre-commentcount"},livefyreConversation:{require:"components/livefyre-conversation"},livefyreConversationAsync:{require:"components/livefyre-conversation-async"},livefyreReviews:{require:"components/livefyre-reviews"},loadMore:{require:"components/load-more",options:{load:function(e){e._clickAction="trackClick",e.clickGenericText="load-more",e.siteSection=a.tracking.data.siteSection,e.pageType=a.tracking.data.pageType,e.siteEdition=a.tracking.data.siteEdition,e.siteType=a.tracking.data.siteType,e.deviceType=a.tracking.data.deviceType,e._pageChannelType=a.tracking.data._pageChannelType,o.trackCustomEvent("loadMore",e)}}},loadMoreMasonry:{require:"components/load-more-masonry-river",options:{load:function(e){e._clickAction="trackClick",e.clickGenericText="load-more",e.siteSection=a.tracking.data.siteSection,e.pageType=a.tracking.data.pageType,e.siteEdition=a.tracking.data.siteEdition,e.siteType=a.tracking.data.siteType,e.deviceType=a.tracking.data.deviceType,e._pageChannelType=a.tracking.data._pageChannelType,o.trackCustomEvent("loadMore",e)}}},loadNewest:{require:"components/load-newest",options:{load:function(e){e._clickAction="trackClick",e.clickGenericText="refresh-river",e.siteSection=a.tracking.data.siteSection,e.pageType=a.tracking.data.pageType,e.siteEdition=a.tracking.data.siteEdition,e.siteType=a.tracking.data.siteType,e.deviceType=a.tracking.data.deviceType,e._pageChannelType=a.tracking.data._pageChannelType,o.trackCustomEvent("loadMore",e)}}},magnet:{require:"components/magnet"},modal:{require:"version!fly/components/modal"},modalEnlargeImage:{require:"components/modal-enlarge-image"},mostPopularDeal:{require:"components/most-popular-deal.desktop"},mostPopularDealListing:{require:"components/most-popular-deal-listing.desktop",options:{contentSet:function(e){t.process(e.$content)}}},moveIncrementalHTML:{require:"components/move-incremental-html"},myLists:{require:"components/mylists"},myListsButton:{require:"components/mylists-button"},newsletterSubscription:{require:"components/newsletter-subscription"},newsCarousel:{require:"components/news-carousel"},nrelate:{require:"components/nrelate"},pageHeader:{require:"components/page-header"},parallaxReveal:{require:"components/parallax-reveal"},poll:{require:"components/poll"},preLoadImageVideo:{require:"components/pre-load-image-video"},productMediaCarousel:{require:"components/product-media-carousel"},productSeriesModal:{require:"components/product-series",options:{contentSet:function(e){t.process(e.$content)}}},productSpecs:{require:"components/product-specs"},productReviewVideo:{require:"components/product-review-video"},profileReauth:{require:"components/profile-reauth"},scrollTracking:{require:"components/scroll-tracking"},profileSubscriptions:{require:"components/profile-subscriptions",options:{contentSet:function(e){t.process(e.$content)}}},profileModal:{require:"components/profile-modal",options:{contentSet:function(e){t.process(e.$content)}}},profileUpdate:{require:"components/profile-update",options:{contentSet:function(e){t.process(e.$content)}}},profileUgc:{require:"components/profile-ugc",options:{contentSet:function(e){t.process(e.$content)}}},profileDiscussions:{require:"components/profile-discussions"},radio:{require:"components/radio"},readMore:{require:"components/read-more"},realtimeDrawer:{require:"components/realtime-drawer"},realtimeTicker:{require:"components/realtime-ticker"},recaptcha:{require:"components/recaptcha"},scrollbarArea:{require:"components/scrollbar-area"},searchBar:{require:"components/search-bar"},searchPagination:{require:"components/search-paginator",options:{contentSet:function(e){t.process(e.$content)}}},searchSort:{require:"components/search-sort"},sharebar:{require:"components/sharebar"},shortcodeGallery:{require:"components/shortcode-gallery"},shortcodeGalleryController:{require:"components/shortcode-gallery-controller"},showcaseHeroTabs:{require:"components/showcase-hero-tabs"},showcaseRailBody:{require:"components/showcase-rail-body"},showcaseVideos:{require:"components/showcase-videos"},sideNav:{require:"components/side-nav"},similarCars:{require:"components/similar-cars"},slider:{require:"components/slider"},stacklaEvents:{require:"components/stackla-events"},uiSlider:{require:"version!libs/jquery/ui/jquery.ui.slider"},socialButton:{require:"version!fly/components/social-button"},socialCounts:{require:"components/social-counts"},socialMenu:{require:"components/social-menu"},socialTracking:{require:"components/social-tracking"},stickyElement:{require:"components/sticky-element"},stickyLeader:{require:"components/sticky-leader"},subratingModalToggle:{require:"components/subrating-modal-toggle"},suggestedSearches:{require:"components/suggested-searches"},tableSorter:{require:"components/table-sorter"},taboola:{require:"components/taboola"},taboolaNewsroom:{require:"components/taboola-newsroom"},tabs:{require:"version!fly/components/tabs"},tabsAsync:{require:"components/tabs-async",options:{contentSet:function(e){t.process(e.$content)}}},tabsModal:{require:"components/tabs-modal"},tabsRefresh:{require:"components/tabs-refresh"},tagLetterSorter:{require:"components/tag-letter-sorter"},textCounter:{require:"components/text-counter"},tileSpecialNav:{require:"components/tile-special-nav"},tocNav:{require:"components/toc-nav"},toggle:{require:"components/toggle"},tooltip:{require:"components/tooltip"},touchMenuHover:{require:"components/touch-menu-hover"},trackDownload:{require:"components/track-download"},tvFeature:{require:"components/tv-feature"},twitterFetcher:{require:"components/twitter-fetcher"},videoControls:{require:"components/video-controls"},videoHook:{require:"components/video-hook"},videoModal:{require:"components/video-modal"},videoOnPage:{require:"components/video-on-page"},videoScroller:{require:"components/video-scroller"},videoListing:{require:"components/video-listing"},videoPlaylistConnector:{require:"components/video-playlist-connector"},videoShowGallery:{require:"components/video-show-gallery"},waypointPromo:{require:"component/waypoint-promo"},zipCode:{require:"components/zip-code"},profileNewsletterSubscription:{require:"components/profile-newsletter-subscription"},bandwidthMeterBar:{require:"components/bandwidth-meter-bar"}}),t}),window.Modernizr=function(e,t,n){function o(e){p.cssText=e}function a(e,t){return typeof e===t}var i,r,s,l="2.6.2",c={},d=t.documentElement,u="modernizr",m=t.createElement(u),p=m.style,h=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),g={},f=[],v=f.slice,y=function(e,n,o,a){var i,r,s,l,c=t.createElement("div"),m=t.body,p=m||t.createElement("body");if(parseInt(o,10))for(;o--;)s=t.createElement("div"),s.id=a?a[o]:u+(o+1),c.appendChild(s);return i=["&#173;",'<style id="s',u,'">',e,"</style>"].join(""),c.id=u,(m?c:p).innerHTML+=i,p.appendChild(c),m||(p.style.background="",p.style.overflow="hidden",l=d.style.overflow,d.style.overflow="hidden",d.appendChild(p)),r=n(c,e),m?c.parentNode.removeChild(c):(p.parentNode.removeChild(p),d.style.overflow=l),!!r},k={}.hasOwnProperty;s=a(k,"undefined")||a(k.call,"undefined")?function(e,t){return t in e&&a(e.constructor.prototype[t],"undefined")}:function(e,t){return k.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=v.call(arguments,1),o=function(){if(this instanceof o){var a=function(){};a.prototype=t.prototype;var i=new a,r=t.apply(i,n.concat(v.call(arguments)));return Object(r)===r?r:i}return t.apply(e,n.concat(v.call(arguments)))};return o}),g.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:y(["@media (",h.join("touch-enabled),("),u,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=9===e.offsetTop}),n};for(var b in g)s(g,b)&&(r=b.toLowerCase(),c[r]=g[b](),f.push((c[r]?"":"no-")+r));return c.addTest=function(e,t){if("object"==typeof e)for(var o in e)s(e,o)&&c.addTest(o,e[o]);else{if(e=e.toLowerCase(),c[e]!==n)return c;t="function"==typeof t?t():t,"undefined"!=typeof enableClasses&&enableClasses&&(d.className+=" "+(t?"":"no-")+e),c[e]=t}return c},o(""),m=i=null,c._version=l,c._prefixes=h,c.testStyles=y,c}(this,this.document),define("libs/modernizr.custom-2.6.2",function(){}),define("managers/device",["jquery","version!fly/managers/debug","version!libs/modernizr.custom"],function(e,t){t=t.init("device");var n={desktop:"desktop",mobile:"mobile"},o={type:"desktop"},a={init:function(t){o.type=t;var n=e("body");Modernizr.touch?n.addClass("touch-enabled"):n.addClass("touch-disabled")},getType:function(){return o.type},isDesktop:function(){return o.type===n.desktop},isMobile:function(){return o.type===n.mobile},isAndroid:function(){return navigator.userAgent.match(/Android/i)},isKindle:function(){return navigator.userAgent.match(/Kindle/i)||navigator.userAgent.match(/Silk/i)},isBlackBerry:function(){return navigator.userAgent.match(/BB10/i)&&navigator.userAgent.match(/Mobile/i)},isWinPhone:function(){return navigator.userAgent.match(/Windows Phone/i)},isIPhone:function(){return navigator.userAgent.match(/iPhone/i)},isIPad:function(){return navigator.userAgent.match(/iPad/i)},isDesktopUserAgent:function(){return!(this.isAndroid()||this.isKindle()||this.isBlackBerry()||this.isWinPhone()||this.isIPhone()||this.isIPad())},isMobileUserAgent:function(){return this.isAndroid()||this.isKindle()||this.isBlackBerry()||this.isWinPhone()},getClickType:function(){return Modernizr.touch?"tap":"click"},getImmediateClickType:function(){return Modernizr.touch?"touchstart":"click"}};return a}),define("main.lean.desktop",["jquery","managers/client-storage","managers/components.desktop","managers/device","managers/tealium","managers/page-vars","utils/function-natives"],function(e,t,n,o,a,i){e(document).ready(function(){t.init(),n.process(e("body")),o.init(i.device),a.init(i.tracking.data)})}),define(["main.lean.desktop","components/"+("string"==typeof CnetPageVars.tracking.data.testGroup&&"uvp"===CnetPageVars.tracking.data.testGroup?"cnet-video-uvp":"cnet-video")]);