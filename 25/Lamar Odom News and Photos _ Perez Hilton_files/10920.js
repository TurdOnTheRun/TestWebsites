/*
 * Kiosked CFE library
 * @copyright Kiosked Ltd. - All rights reserved
 * @see http://kiosked.com
 */
var _slicedToArray=function(){return function(u,m){if(Array.isArray(u))return u;if(Symbol.iterator in Object(u)){var G=[],h=!0,F=!1,M=void 0;try{for(var w=u[Symbol.iterator](),O;!(h=(O=w.next()).done)&&(G.push(O.value),!m||G.length!==m);h=!0);}catch(g){F=!0,M=g}finally{try{if(!h&&w["return"])w["return"]()}finally{if(F)throw M;}}return G}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();
function _toConsumableArray(u){if(Array.isArray(u)){for(var m=0,G=Array(u.length);m<u.length;m++)G[m]=u[m];return G}return Array.from(u)}function _typeof(u){return u&&"undefined"!==typeof Symbol&&u.constructor===Symbol?"symbol":typeof u}
(function(){function u(){var g=arguments,e=g.length;if(1===e)return function(){var c=Array.prototype.slice.call(arguments);return c.shift().extend(g[0].apply(g[0],c))};if(2===e)return function(){return g[0].extend(g[1].apply(g[1]))};throw Error("Invalid number of arguments");}(function(g,e){function c(a){t[q]=b.apply(e,a);return q++}function b(a){var b=[].slice.call(arguments,1);return function(){"function"===typeof a?a.apply(e,b):(new Function(""+a))()}}function a(f){if(B)setTimeout(b(a,f),0);else{var c=
t[f];if(c){B=!0;try{c()}finally{d(f),B=!1}}}}function d(a){delete t[a]}function f(){h=function(){var d=c(arguments);process.nextTick(b(a,d));return d}}function l(){if(g.postMessage&&!g.importScripts){var a=!0,b=g.onmessage;g.onmessage=function(){a=!1};g.postMessage("","*");g.onmessage=b;return a}}function k(){var b="setImmediate$"+Math.random()+"$",d=function(d){d.source===g&&"string"===typeof d.data&&0===d.data.indexOf(b)&&a(+d.data.slice(b.length))};g.addEventListener?g.addEventListener("message",
d,!1):g.attachEvent("onmessage",d);h=function(){var a=c(arguments);g.postMessage(b+a,"*");return a}}function x(){var b=new MessageChannel;b.port1.onmessage=function(b){a(b.data)};h=function(){var a=c(arguments);b.port2.postMessage(a);return a}}function p(){var b=v.documentElement;h=function(){var d=c(arguments),f=v.createElement("script");f.onreadystatechange=function(){a(d);f.onreadystatechange=null;b.removeChild(f);f=null};b.appendChild(f);return d}}function s(){h=function(){var d=c(arguments);
setTimeout(b(a,d),0);return d}}if(!g.setImmediate){var q=1,t={},B=!1,v=g.document,h,C=Object.getPrototypeOf&&Object.getPrototypeOf(g),C=C&&C.setTimeout?C:g;"[object process]"==={}.toString.call(g.process)?f():l()?k():g.MessageChannel?x():v&&"onreadystatechange"in v.createElement("script")?p():s();C.setImmediate=h;C.clearImmediate=d}})("undefined"===typeof self?"undefined"===typeof global?this:global:self);(function(g){function e(a,b){return function(){a.apply(b,arguments)}}function c(b){if("object"!==
_typeof(this))throw new TypeError("Promises must be constructed via new");if("function"!==typeof b)throw new TypeError("not a function");this._value=this._state=null;this._deferreds=[];k(b,e(a,this),e(d,this))}function b(a){var b=this;null===this._state?this._deferreds.push(a):x(function(){var d=b._state?a.onFulfilled:a.onRejected;if(null===d)(b._state?a.resolve:a.reject)(b._value);else{var f;try{f=d(b._value)}catch(c){a.reject(c);return}a.resolve(f)}})}function a(b){try{if(b===this)throw new TypeError("A promise cannot be resolved with itself.");
if(b&&("object"===("undefined"===typeof b?"undefined":_typeof(b))||"function"===typeof b)){var c=b.then;if("function"===typeof c){k(e(c,b),e(a,this),e(d,this));return}}this._state=!0;this._value=b;f.call(this)}catch(l){d.call(this,l)}}function d(a){this._state=!1;this._value=a;f.call(this)}function f(){for(var a=0,d=this._deferreds.length;a<d;a++)b.call(this,this._deferreds[a]);this._deferreds=null}function l(a,b,d,f){this.onFulfilled="function"===typeof a?a:null;this.onRejected="function"===typeof b?
b:null;this.resolve=d;this.reject=f}function k(a,b,d){var f=!1;try{a(function(a){f||(f=!0,b(a))},function(a){f||(f=!0,d(a))})}catch(c){f||(f=!0,d(c))}}var x="function"===typeof setImmediate&&setImmediate||function(a){setTimeout(a,1)},p=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};c.prototype["catch"]=function(a){return this.then(null,a)};c.prototype.then=function(a,d){var f=this;return new c(function(c,k){b.call(f,new l(a,d,c,k))})};c.all=function(){var a=
Array.prototype.slice.call(1===arguments.length&&p(arguments[0])?arguments[0]:arguments);return new c(function(b,d){function f(k,e){try{if(e&&("object"===("undefined"===typeof e?"undefined":_typeof(e))||"function"===typeof e)){var l=e.then;if("function"===typeof l){l.call(e,function(a){f(k,a)},d);return}}a[k]=e;0===--c&&b(a)}catch(p){d(p)}}if(0===a.length)return b([]);for(var c=a.length,k=0;k<a.length;k++)f(k,a[k])})};c.resolve=function(a){return a&&"object"===("undefined"===typeof a?"undefined":
_typeof(a))&&a.constructor===c?a:new c(function(b){b(a)})};c.reject=function(a){return new c(function(b,d){d(a)})};c.race=function(a){return new c(function(b,d){for(var f=0,c=a.length;f<c;f++)a[f].then(b,d)})};c._setImmediateFn=function(a){x=a};"undefined"!==typeof module&&module.exports?module.exports=c:g.Promise||(g.Promise=c)})(this||window);(function(g,e){"object"===("undefined"===typeof module?"undefined":_typeof(module))&&module.exports?module.exports=g.lamd:g.lamd=e()})(this||window,function(){function g(b){"string"===
typeof b&&(b=a[b]||null);return b&&void 0!==b.output}function e(c,e){c="string"===typeof c?[c]:c;e=e||f;var l=c.length;if(0>=l)d(e);else{if(1===l&&g(c[0]))return d(function(){e(a[c[0]].output)}),a[c[0]].output;b(c,function(a){a=a.map(function(a){return a.output});e.apply(null,a)})}}function c(b,d){var f=a[b]=a[b]||{id:b,def:!1,output:void 0};g(b)?d(f):(f.waitList=f.waitList||[]).push(function(){d(f)})}function b(a,b){var d=[],f=a.length;a.forEach(function(e){c(e,function(c){d[a.indexOf(c.id)]=c;f-=
1;0>=f&&b(d)})})}var a={},d,f=function(){};d="function"===typeof setImmediate?setImmediate:function(a){setTimeout(a,0)};var l={define:function(){var b=arguments.length,d,f=null,c=[];if(2===b)f=arguments[1];else if(3===b)c=arguments[1],f=arguments[2];else throw Error("Invalid number of arguments");d=arguments[0];var l=a[d]=a[d]||{id:d,def:!1,output:void 0};if(!1!==l.def)throw Error("Module already defined: "+d);l.factory=f;l.def=!0;e(c,function(){var a=Array.prototype.slice.call(arguments);l.output=
"function"===typeof l.factory?l.factory.apply(l.factory,a):l.factory;if(void 0===l.output)throw Error("Module factory output cannot be undefined: "+d);(l.waitList||[]).forEach(function(a){a()})})},require:e,setImmediate:d};l.define.amd={};return l});var m=lamd.define,G=lamd.require;(function(g,e){"function"===typeof m&&m.amd?m("archetype",e):g.archetype=e()})(window,function(){function g(c){var b;b=document.readyState&&0<=["loading","interactive","complete"].indexOf(document.readyState)?0<=["interactive",
"complete"].indexOf(document.readyState):document.body&&document.body.appendChild;b?c():document.addEventListener("DOMContentLoaded",function d(b){c();document.removeEventListener("DOMContentLoaded",d,!1)},!1)}var e={onReady:function(c){g(function(){setTimeout(function(){c(e)},1)})}};g(function(){function c(a,b){return function(){return a.apply(b,arguments)}}function b(a,b,d){b=b||s.top;var f,c=a.split("."),k=c.shift();if(!0!==b.hasOwnProperty(k))throw Error("Invalid path: "+a);c.unshift(b[k]);a=
c.reduce(function(a,b){if(a&&a[b])return f=a,a[b]});d=d||f;return a&&d?{method:a,context:d}:void 0}function a(a){var b="undefined"===typeof a?"undefined":_typeof(a),d="function"===b?f.call(a):null;return d?p.test(d)||g.test(d):a&&"object"==b&&k.test(l.call(a))||!1}var d=function(){var a=document.createElement("iframe");a.style.display="none";a.style.visibility="hidden";a.setAttribute("owner","archetype");document.body.appendChild(a);return a}().contentWindow,f=d.Function.prototype.toString,l=d.Object.prototype.toString,
k=/^\[object .+?Constructor\]$/,g=new RegExp("^"+String(l).replace(/[.*+?^${}()|[\]\/\\]/g,"\\$&").replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),p=/__archetype_bound_method__/,s={top:{window:window,document:window.document},safe:{window:d,document:d.document}};e.getNativeMethod=function(a,d){var f=b(a);d=d||f.context;if(!f)throw Error("Unknown method (top window): "+a);if(f&&!e.isNative(f.method)){f=b(a,s.safe,f.context);if(!f)throw Error("Unknown method (safe window): "+
a);if(f&&!e.isNative(f.method))throw Error("Failed finding a native method for: "+a);}return c(f.method,d)};e.isNative=function(d){d="string"===typeof d?(d=b(d,void 0))?a(d.method):!1:a(d);return d};e.patchMethod=function(a){var b=e.getNativeMethod(a),d=a.split("."),f=d.shift(),c;if(!0!==s.top.hasOwnProperty(f))throw Error("Invalid path: "+a);if(1>d.length)throw Error("Invalid path - not specific enough: "+a);for(f=s.top[f];1<d.length;)if(c=d.shift(),f[c])f=f[c];else throw Error("Unknown method: "+
a);f[d.shift()]=b}});return e});var h=window.ITGS=window.ITGS||{};h.Includes=h.Includes||{};h.Plugins=h.Plugins||{};h.Facades=h.Facades||{};h.Analyzers=h.Analyzers||{};h.AdProviders=h.AdProviders||{};h.MessageHandlers=h.MessageHandlers||{};h.MessageSources=h.MessageSources||{};h.Sniffing=h.Sniffing||{};h.External=h.External||{};h.overrideFunctions=h.overrideFunctions||{};h.destructors={};h.eventCallbacks=h.eventCallbacks||[];h.r=G;m("tools/decorators",["Status"],function(g){return{decorateWithMeta:function(e){if("object"!==
("undefined"===typeof e?"undefined":_typeof(e)))throw new w("Parameter expected to be of type object");e._metaStore={};e.getMeta=function(c,b){return this._metaStore.hasOwnProperty(c)?this._metaStore[c]:b};e.setMeta=function(c,b){this._metaStore[c]=b}},decorateWithMutex:function(e,c){if("object"!==("undefined"===typeof e?"undefined":_typeof(e)))throw new w("Target is not an object");e.isLocked=function(){return c.isLocked.apply(c,arguments)};e.lock=function(){return c.lock.apply(c,arguments)};e.lockMany=
function(){return c.lockMany.apply(c,arguments)};e.unlock=function(){return c.unlock.apply(c,arguments)}},decorateWithPubSub:function(e,c){if("object"!==("undefined"===typeof e?"undefined":_typeof(e)))throw new w("Target is not an object");e.onEvents=function(){return c.onEvents.apply(c,arguments)};e.publish=function(){return c.publish.apply(c,arguments)};e.removeSubscriptions=function(){return c.removeAll.apply(c,arguments)};e.subscribe=function(){return c.subscribe.apply(c,arguments)}},decorateWithStatus:function(e,
c){if("object"!==("undefined"===typeof e?"undefined":_typeof(e)))throw new w("Parameter expected to be of type object");if(!0!==c instanceof g)throw new w("Expected parameter to be of type Status");e.is=function(){return c.is.apply(c,arguments)};e.isNot=function(){return c.isNot.apply(c,arguments)};e.has=e.is;e.hasNot=e.isNot;e.set=function(){e.publish&&e.publish("statusSet",Array.prototype.slice.call(arguments));c.set.apply(c,arguments)};e.unset=function(){e.publish&&e.publish("statusUnset",Array.prototype.slice.call(arguments));
return c.unset.apply(c,arguments)};e.addStatus=function(b){return c.registerStatus(b)};e.addStatusSet=function(){c.addSelection.apply(c,arguments)}}}});m("core/KioskedClass",function(){function g(a,b){return Object.prototype.hasOwnProperty.call(a,b)?a[b]:void 0}function e(a){b=!0;a=new a;b=!1;return a}var c=this,b=!1;if(!c.KskdClass){var a=0<function(){$super()}.toString().indexOf("$super"),d=function(){};d.$classyVersion="1.4";d.extend=function(f){var l=this.prototype,k=e(this);if(f.__include__)for(var x=
0,p=f.__include__.length;x!==p;x+=1){var s=f.__include__[x],h;for(h in s)void 0!==g(s,h)&&(k[h]=s[h])}f.__classvars__=f.__classvars__||{};if(k.__classvars__)for(var t in k.__classvars__)f.__classvars__[t]||(x=g(k.__classvars__,t),f.__classvars__[t]=x);for(var B in f)t=g(f,B),"__include__"!==B&&void 0!==t&&(k[B]="function"!==typeof t||a&&!/\B\$super\b/.test(t.toString())?t:function(a,b){return function(){var d=g(this,"$super");this.$super=l[b];try{return a.apply(this,arguments)}finally{void 0===d?
delete this.$super:this.$super=d}}}(t,B));B=function C(){if(b)return null;var a=c===this?e(arguments.callee):this;a.construct&&a.construct.apply(a,arguments);a.$class=C;return a};for(var v in f.__classvars__)t=g(f.__classvars__,v),void 0!==t&&(B[v]=t);B.prototype=k;B.constructor=B;B.extend=d.extend;B.$withData=d.$withData;return B};d.$withData=function(a){var b=e(this),d;for(d in a){var c=g(a,d);void 0!==c&&(b[d]=c)}return b};return d}});m("tools/scope",["tools/array"],function(g){return{hasOwnProperties:function(e,
c,b){var a=!1;"string"===typeof c&&(c=[c]);b=b||function(a,b){return a.hasOwnProperty(b)};if("object"===("undefined"===typeof e?"undefined":_typeof(e))&&g.isArray(c))for(var a=!0,d=0;d<c.length;d+=1)if(!b(e,c[d])){a=!1;break}return a}}});m("Mutex",function(){var g=function(){this._locks={}};g.prototype.isLocked=function(e){return this._locks.hasOwnProperty(e)&&!0===this._locks[e].locked};g.prototype.lock=function(e,c){c=c||0;var b=this._locks[e]=this._locks.hasOwnProperty(e)?this._locks[e]:{locked:!1,
queue:[]};if(b.locked){if(0!==c&&b.queue.length>=c)return Promise.reject();var a={activate:!1};a.promise=new Promise(function(b){a.activate=b});b.queue.push(a);return a.promise}b.locked=!0;return Promise.resolve()};g.prototype.lockMany=function(){var e=this;return Promise.all(Array.prototype.slice.call(arguments).map(function(c){return e.lock(c)}))};g.prototype.unlock=function(e){if(this._locks.hasOwnProperty(e)){e=this._locks[e];var c=e.queue.shift();c?c.activate():e.locked=!1}};return g});m("messaging/PubSub",
["tools/general"],function(g){var e=function(){this._topics={}};e.prototype.onEvents=function(){var c=Array.prototype.slice.call(arguments),b=this;return{publishOn:function(a){c.forEach(function(d){b.subscribe(d,function(b){a&&a.publish&&a.publish(d,b)})})}}};e.prototype.publish=function(c,b,a){this._topics.hasOwnProperty(c)&&(b=b||null,g.isset(a)||(a=!0),this._topics[c].forEach(function(d){a?setImmediate(function(){d(b)}):d(b)}))};e.prototype.removeAll=function(){this._topics={}};e.prototype.subscribe=
function(c,b){this._topics.hasOwnProperty(c)||(this._topics[c]=[]);this._topics[c].push(b);var a=this;return{remove:function(){a._topics.hasOwnProperty(c)&&a._topics[c].splice(a._topics[c].indexOf(b),1)}}};return e});m("Status",function(){var g=function c(){if(!this instanceof c)return new c;this._selectorsBin=[];this._selectors={};this._statuses={};return this};g.prototype.addSelection=function(c,b){if("[object Array]"!==Object.prototype.toString.call(c))throw new TypeError("Expected array");var a=
c.length;if(0>=a)throw Error("Empty options array");b||(b=c[0]);if(0>c.indexOf(b))throw Error("Default not in options array");for(var d=0;d<a;d+=1)if(this.statusExists(c[d]))throw Error("Cannot register status '"+c[d]+"' - already exists");for(var d=this._selectorsBin.push(c)-1,f=0;f<a;f+=1)if(!0!==this.registerStatus(c[f],d))throw Error("Failed registering status: '"+c[f]+"'");this.set(b)};g.prototype.is=function(){var c=arguments.length;if(0<c){for(var b=0;b<c;b+=1)if(!this.statusSet(arguments[b]))return!1;
return!0}return!1};g.prototype.isNot=function(){var c=arguments.length;if(0<c){for(var b=0;b<c;b+=1)if(this.statusSet(arguments[b]))return!1;return!0}return!1};g.prototype.isSelector=function(c){return this.statusExists(c)&&-1<this._selectors[c]};g.prototype.registerStatus=function(c,b){if(null===b||void 0===b)b=-1;return"string"!==typeof c||this._selectors.hasOwnProperty(c)?!1:(this._selectors[c]=b,!0)};g.prototype.set=function(){var c=arguments.length;if(0<c)for(var b=0;b<c;b+=1)this.setStatus(arguments[b])};
g.prototype.setStatus=function(c){if(this.statusExists(c)){if(this.isSelector(c)){var b=this._selectorsBin[this._selectors[c]].slice(0);b.splice(b.indexOf(c),1);for(var a=b.length,d=0;d<a;d+=1)if(this._statuses.hasOwnProperty(b[d])&&(delete this._statuses[b[d]],this._statuses[b[d]]))throw Error("Failed disabling status: '"+b[d]+"'");}}else this.registerStatus(c);this._statuses[c]=!0};g.prototype.statusExists=function(c){return this._selectors.hasOwnProperty(c)};g.prototype.statusSet=function(c){return this.statusExists(c)&&
this._statuses[c]};g.prototype.unset=function(){var c=arguments.length;if(0<c){for(var b=!0,a=0;a<c;a+=1)!0!==this.unsetStatus(arguments[a])&&(b=!1);return b}return!1};g.prototype.unsetStatus=function(c){if(this.statusExists(c)){if(this.isSelector(c))throw Error("Cannot unset optioned status: '"+c+"'");delete this._statuses[c];if(this._statuses[c])throw Error("Failed disabling status: '"+c+"'");return!0}return!1};return g});m("core/KioskedObject","core/KioskedClass Status Mutex messaging/PubSub tools/decorators tools/compatibility tools/general".split(" "),
u(function(g,e,c,b,a,d){return{construct:function(){this._status=new g;b.decorateWithStatus(this,this._status);this._pubSub=new c;b.decorateWithPubSub(this,this._pubSub);b.decorateWithMeta(this);this._mutex=new e;b.decorateWithMutex(this,this._mutex)},bindMember:function(b){var d=this[b];if("function"!==typeof d)throw new w("Provided member name did not match any member function: "+b);return a.bindFunction(d,this)},destroy:function(){this._pubSub.removeAll();this.destroyed=!0},destroyMembers:function(){for(var a=
Array.prototype.slice.call(arguments)||[],b=[],c=this,e=0,p=a.length;e<p;e+=1)(function(a){b.push(d.safeDestroy(c[a]).then(function(){c[a]=null;try{delete c[a]}catch(b){}}))})(a[e]);return Promise.all(b)},isBuilt:function(){return!0}}}));m("tools/environment","tools/general tools/hashing tools/matching tools/dom tools/debug tools/performance tools/device tools/native locators/PageInventoryLocator locators/SnifferControllerLocator locators/PlacementContainerLocator".split(" "),function(g,e,c,b,a,d,
f,l,k,x,p){var s="",q="",t=null,B=0,v={checkIfContentFit:function(){return screen.width>=window.innerWidth},generateEventHash:function(a,b){B+=1;var d=e.md5(""+a+b),f=e.md5(""+B+g.getRandomInt(1,999999)+Date.now()+g.getRandomInt(1,999999));return d+f},generatePageEventHash:function(){0>=q.length&&(q=e.md5(v.getPageUrl()+g.getRandomInt(1,999999))+e.md5(""+g.getRandomInt(1,999999)+Date.now()));return q},getAnalyticsConsumerData:function(){return{"browser.ts":d.getCurrentTimestamp(),"browser.device":v.getDeviceType(),
distinct_id:"",run_id:v.generatePageEventHash(),user_agent:v.getUserAgent(),"library.version":h.Config.VERSION}},getAnalyticsPageData:function(a){return new Promise(function(d){G("sniffing/SnifferUtilities",function(f){var e=F.length,l=0,p=k.getPageInventory();if(0<e)for(var t=0;t<e;t+=1)F[t].isHealthy()&&(l+=1);var e=a||x.getSnifferController(),s=e.getPageProperties(),t=s.publisherID,s=s.siteID,B=v.getContainerTypesCount(),q=v.getPageUrl();f=f.processPageURL(q);var y={};if(0<F.length){var z=F[0].getPlacement().getOptions();
z.categories&&(z=c.getMostRelevantCategory(z.categories,"iabtier1"))&&(y=z)}d(g.mergeDefaults({"page.uri":f,"page.original_uri":q,"page.publisher_id":t,"page.album_id":s,"page.containers":l,"page.unfiltered_containers":e.getUnfilteredContainers(),"page.valid_containers":p.getValidContainers(),"page.valid_inventory":p.getValidInventory(),environment:M,"library.version":h.Config.VERSION,"page.container_types.total":B.all,"page.container_types.in-content":B["in-content"],"page.container_types.in-line":B["in-line"],
"page.container_types.in-screen":B["in-screen"],"page.container_types.interstitial":B.interstitial,"page.container_types.in-scroll":B["in-scroll"],"page.container_types.reward":B.reward,"page.category":y,"page.meta.keywords":b.getMetaKeywords()},v.getAnalyticsConsumerData()))})})},getContainerTypesCount:function(){var b,d=F.length;b={all:0,"in-content":0,"in-line":0,"in-screen":0,interstitial:0,"in-scroll":0,reward:0};if(0<d)try{for(var f=0;f<d;f+=1)if(F[f].isHealthy()){var c=F[f].getPlacement().getAnchor().getOptions().anchorType;
b.all+=1;c===h.Config.PLACEMENT_TYPE.IN_MEDIA&&(b["in-content"]+=1);c===h.Config.PLACEMENT_ANCHOR_TYPE.STUB&&(b["in-line"]+=1);c===h.Config.PLACEMENT_ANCHOR_TYPE.LAUNCHPAD&&(b["in-screen"]+=1);c===h.Config.PLACEMENT_ANCHOR_TYPE.INTERSTITIAL&&(b.interstitial+=1);c===h.Config.PLACEMENT_ANCHOR_TYPE.IN_SCROLL&&(b["in-scroll"]+=1);c===h.Config.PLACEMENT_ANCHOR_TYPE.REWARD&&(b.reward+=1)}}catch(k){a.warn("Failed counting container types",k)}return b},getDataEndpoint:function(){return s},getDeviceType:function(){var a=
f.isTablet();return f.isMobile()||a?a?"tablet":"mobile":"desktop"},getDeviceNumericalType:function(){switch(v.getDeviceType()){case "mobile":return h.Config.SETTINGS_DEVICE_TARGET.MOBILE;case "tablet":return h.Config.SETTINGS_DEVICE_TARGET.TABLET;case "desktop":return h.Config.SETTINGS_DEVICE_TARGET.DESKTOP;default:return h.Config.SETTINGS_DEVICE_TARGET.ANY}},getImageFullURL:function(a){var b=l.createElement("div"),d;try{d=a.split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")}catch(f){d=
a}b.innerHTML='<a href="'+d+'">x</a>';return b.firstChild.href},getIOWAdServerURL:function(){return h.Config.IOW_AD_SERVER.PRODUCTION},getMetaTagByName:function(a){for(var b=l.getElementsByTagName("meta"),d=0,f=b.length;d<f;d+=1)if(b[d].getAttribute("name")===a)return b[d];return!1},getPageDomain:function(){return 0<window.location.hostname.length?window.location.hostname:window.location.host},getPageUrl:function(){return document.URL+""},getPlacementIndex:function(a){a=a.getOptions().kioskID;a=p.getPlacementContainerByID(a);
a=F.indexOf(a);return 0<=a?a:!1},getPublisherID:function(){return t},getResourcesDomain:function(){return"production"===M?"resources.kiosked.com":"resources-staging.intags.com"},getUserAgent:function(){return navigator.userAgent},getZoneDataURL:function(){var a=v.getDataEndpoint();return a&&0<a.length?"//"+a+h.Config.ZONE_DATA_URL_SUFFIX:""},getZoneReportURL:function(){var a=v.getDataEndpoint();return a&&0<a.length?"//"+a+h.Config.ZONE_REPORT_URL_SUFFIX:""},isMobileFriendly:function(){var a=v.getMetaTagByName("viewport"),
b=v.checkIfContentFit();return a&&-1<a.getAttribute("content").indexOf("width=device-width")&&b?!0:!1},setDataEndpoint:function(a){s=a},setPublisherID:function(a){t=a}};return v});m("QuantcastManager",["core/KioskedObject","tools/general","tools/debug","tools/native"],u(function(g,e,c){return{construct:function(b){this.$super();b=b||{};this._options=g.mergeDefaults({name:"QuantcastManager",publisherID:"",siteID:""},b);this.addStatus("setupQuantcast")},boot:function(){if(this.hasNot("setupQuantcast")){var b=
this.getOptions();this.set("setupQuantcast");try{this._initiateQuantcastScript(),this._pushEvent(b.publisherID,b.siteID),e.log("/QuantcastManager/","Quantcast booted publisher "+b.publisherID+" and site "+b.siteID)}catch(a){e.error("/QuantcastManager/","Failed setting up Quantcast: "+a.message)}}},getOptions:function(){return this._options},_initiateQuantcastScript:function(b){b=b||function(a){var b=c.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)};window._qevents=window._qevents||
[];var a=c.createElement("script");a.src=("https:"===document.location.protocol?"https://secure":"http://edge")+".quantserve.com/quant.js";a.async=!0;a.type="text/javascript";b(a);return a},_pushEvent:function(b,a){window._qevents.push({qacct:"p-ynz_3dxL9ZLvx",labels:"publisher."+b+",site."+a})}}}));m("tools/compatibility",function(){(function(){for(var g=0,e=["webkit","moz"],c=0;c<e.length&&!window.requestAnimationFrame;c+=1)window.requestAnimationFrame=window[e[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=
window[e[c]+"CancelAnimationFrame"]||window[e[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var a=(new Date).getTime(),d=Math.max(0,16-(a-g)),f=window.setTimeout(function(){b(a+d)},d);g=a+d;return f});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(b){clearTimeout(b)})})();return{bindFunction:function(g,e){if("function"!==typeof g)throw new TypeError("bindFunction - what is trying to be bound is not callable");var c=Array.prototype.slice.call(arguments,
2),b=function(){},a=function(){return g.apply(this instanceof b&&e?this:e,c.concat(Array.prototype.slice.call(arguments)))};b.prototype=g.prototype;a.prototype=new b;return a},isLocalStorageNameSupported:function(){var g=window.localStorage;try{return g.setItem("test","1"),g.removeItem("test"),!0}catch(e){return!1}}}});m("tools/general",["tools/array"],function(g){var e={animations:[],easingFunctions:{backInCubic:function(c,b,a,d){d=(c/=d)*c;return b+a*(4*d*c+-3*d)},backInQuartic:function(c,b,a,d){d=
(c/=d)*c;return b+a*(2*d*d+2*d*c+-3*d)},inOutQuintic:function(c,b,a,d){d=(c/=d)*c;c*=d;return b+a*(6*c*d+-15*d*d+10*c)},linear:function(c,b,a,d){return b+c/d*(a-b)},outElastic:function(c,b,a,d){d=(c/=d)*c;var f=d*c;return b+a*(56*f*d+-175*d*d+200*f+-100*d+20*c)},outQuartic:function(c,b,a,d){d=(c/=d)*c;return b+a*(-1*d*d+4*d*c+-6*d+4*c)},outQuintic:function(c,b,a,d){d=(c/=d)*c;var f=d*c;return b+a*(f*d+-5*d*d+10*f+-10*d+5*c)}},addClass:function(c,b){this.hasClass(c,b)||(c.className+=" "+b)},addCSSRule:function(c,
b,a,d){"insertRule"in c?c.insertRule(b+"{"+a+"}",d):"addRule"in c&&c.addRule(b,a,d)},_getValues:function(c,b){var a={},d=window.getComputedStyle(c),f;for(f in b)b.hasOwnProperty(f)&&(a[f]=parseFloat(c.style[f]||d.getPropertyValue(f)),a[f]=a[f]?a[f]:0);return a},_getUnits:function(c){var b={},a;for(a in c)if(c.hasOwnProperty(a)){var d=c[a].toString().match(/[A-Za-z%]+/g);b[a]={value:parseFloat(c[a].toString().match(/-?[0-9\.]+/)),unit:null!==d?d[0]:null}}return b},animate:function(c,b){var a=Date.now(),
d=b.easing||"linear",f=e.isset(b.duration)?b.duration:1E3,l=this._getValues(c,b.properties),k=this._getUnits(b.properties),g=this,p;return new Promise(function(e){(function t(){var h=Date.now()-a,v,L,C;for(C in b.properties)b.properties.hasOwnProperty(C)&&(L=k[C].value-l[C],v=g.easingFunctions[d](h,l[C],L,f),v=(h>f?l[C]+L:v)+k[C].unit,c.style[C]=v);h>f?(b.callback&&b.callback(c),cancelAnimationFrame(p),e()):p=requestAnimationFrame(t)})()})},calculateZIndex:function(c){if(!(c instanceof HTMLElement))throw Error("Expected HTMLElement, received "+
("undefined"===typeof c?"undefined":_typeof(c))+" instead");return window.getComputedStyle?(c=parseInt(document.defaultView.getComputedStyle(c,null).zIndex,10),isNaN(c)?!1:c):c.currentStyle?(c=parseInt(c.currentStyle.zIndex,10),isNaN(c)?!1:c):!1},calculateZIndexOfChildren:function(c){var b=0;if(!(c instanceof HTMLElement))return!1;for(var a=c.childNodes.length,d=0;d<a;d+=1)if(!(!0!==c.childNodes[d]instanceof HTMLElement||0<=(c.childNodes[d].className||"").indexOf("kskd"))&&e.isVisible(c.childNodes[d])){var f=
e.calculateZIndex(c.childNodes[d]);f>b&&(b=f)}return b},compose:function(){function c(a){for(var d=b.length-1;-1<d;d-=1)try{a=b[d].call(this,a)}catch(f){throw f.message=c.toString()+" blew up on "+b[d].toString(),f;}return a}var b=arguments;c.toString=function(){return"compose("+[].slice.call(b).map(function(a){return a.toString()}).join(", ")+")"};return c},curry:function(c,b){var a=c.length;b=b?b:null;return function f(){var e=Array.prototype.slice.call(arguments,0);return e.length>=a?c.apply(b,
e):function(){var a=Array.prototype.slice.call(arguments,0);return f.apply(b,e.concat(a))}}},curryWhole:function(c,b){b=b?b:null;return function(){var a=Array.prototype.slice.call(arguments,0);return function(){return c.apply(b,a)}}},deepClone:function b(a,d){e.isset(d)||(d=!1);if(null===a||"object"!==("undefined"===typeof a?"undefined":_typeof(a)))return a;if(a instanceof Date){var f=new Date;f.setTime(a.getTime());return f}if(a instanceof Array){for(var f=[],l=0,k=a.length;l<k;l+=1)f[l]=b(a[l],
d);return f}if(a instanceof HTMLElement)return a;if(a instanceof Object){f={};for(l in a)if(a.hasOwnProperty(l)||d)f[l]=b(a[l],d);return f}throw Error("Unable to clone object - Type not supported");},deepFreeze:function(b){Object.getOwnPropertyNames(b).forEach(function(a){a=b[a];"object"!==("undefined"===typeof a?"undefined":_typeof(a))||Object.isFrozen(a)||e.deepFreeze(a)});return Object.freeze(b)},delay:function(b,a){e.isset(a)||(a=!1);var d=function(){return new Promise(function(a){setTimeout(a,
b||1)})};return a?d:d()},escapeHTML:function(b){b=(b||"").replace(/&#([^\s]*);/g,function(a,b){return String.fromCharCode(Number(b))});return b.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")},getObjectLength:function(b){var a=0;if("object"===("undefined"===typeof b?"undefined":_typeof(b)))for(var d in b)b.hasOwnProperty(d)&&(a+=1);return a},getRandomInt:function(b,a){a+=1;return Math.floor(Math.random()*(a-b))+b},getRange:function(b,a){return 0<=b?0<=a?a-b:0-(Math.abs(a)+
b):0<=a?Math.abs(b)+a:a-b},getWindowLocationPath:function(){var b=e.overrideCall("tools.getWindowLocationPath");return b?b():window.location.protocol+"//"+window.location.hostname+window.location.pathname},getWindowSize:function(){var b=0,a=0;window.innerWidth?(b=window.innerWidth,a=window.innerHeight):0!==document.documentElement.clientWidth&&(b=document.documentElement.clientWidth,a=document.documentElement.clientHeight);return{width:parseInt(b,10),height:parseInt(a,10)}},hasClass:function(b,a){return null!==
b.className.match(new RegExp("(\\s|^)"+a+"(\\s|$)"))},hash:function(b){e.isString(b)||(b+="");var a,d,f=2166136261;a=0;for(d=b.length;a<d;a+=1)f^=b.charCodeAt(a),f+=(f<<1)+(f<<4)+(f<<7)+(f<<8)+(f<<24);return("0000000"+(f>>>0).toString(16)).substr(-8)},isBrowser:{chrome:function(){return!!window.chrome},edge:function(){return/edge/i.test(navigator.userAgent)},firefox:function(){return/firefox/i.test(navigator.userAgent)},internetExplorer:function(){return e.isBrowser.internetExplorer11()||-1!==navigator.appVersion.indexOf("MSIE")},
internetExplorer9:function(){return e.isBrowser.internetExplorer()&&9===parseInt(document.documentMode,10)},internetExplorer11:function(){var b=-1<navigator.userAgent.indexOf("Trident/7.0"),a=-1<navigator.userAgent.indexOf(".NET4.0E")||-1<navigator.userAgent.indexOf(".NET CLR");return b&&a}},isDifferentPosition:function(b,a){return b.top!==a.top||b.left!==a.left},isDifferentSize:function(b,a){return b.width!==a.width||b.height!==a.height},isEmpty:function(b){if(null===b||!1===b)return!0;switch("undefined"===
typeof b?"undefined":_typeof(b)){case "undefined":return!0;case "boolean":return!1===b;case "number":return 0===b;case "string":return 0===b.length||""===b||"0"===b;case "object":return b instanceof Array?0===b.length:0===Object.getOwnPropertyNames(b).length;default:throw Error("unexpected case: "+b);}},isLandscapeOrientation:function(){return window.innerWidth>window.innerHeight},isMobileType:function(){var b=/Android/i.test(navigator.userAgent),a=/BlackBerry/i.test(navigator.userAgent),d=/iPhone|iPad|iPod|iPhone Simulator|iPad Simulator/i.test(navigator.userAgent),
f=/iPad|iPad Simulator/i.test(navigator.userAgent),e=/iPhone|iPod|iPhone Simulator/i.test(navigator.userAgent),k=/Opera Mini/i.test(navigator.userAgent),g=/IEMobile|Windows Phone/i.test(navigator.userAgent),p;p=navigator.userAgent||navigator.vendor||window.opera;p=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(p)||
/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(p.substr(0,
4))?!0:!1;return{Android:b,BlackBerry:a,iOS:d,iPad:f,iPhone:e,Opera:k,Windows:g,any:p}}(),isOnScreen:function(b,a){var d=!1,f="object"===("undefined"===typeof a?"undefined":_typeof(a))?a:e.deepClone(b.getBoundingClientRect(),!0);if(f.top>-1*f.height&&f.bottom-window.innerHeight<f.height&&f.left>-1*f.width&&f.right-window.innerWidth<f.width){0===f.height&&(f.height=1);0===f.width&&(f.width=1);var d=f.height-(f.height+f.top),l=f.bottom-window.innerHeight,k=f.width-(f.width+f.left),g=f.right-window.innerWidth,
d=(f.width-(0<k?k:0)-(0<g?g:0))*(f.height-(0<d?d:0)-(0<l?l:0))/(f.width*f.height)*100}return d},isset:function(b){return"undefined"!==typeof b&&null!==b},isString:function(b){return"string"===typeof b||b instanceof String},isVisible:function(b){var a=window.getComputedStyle(b);return 0===a.getPropertyValue("opacity")||"none"===a.getPropertyValue("display")||"hidden"===a.getPropertyValue("visibility")||0===parseInt(b.style.opacity,10)||"none"===b.style.display||"hidden"===b.style.visibility?!1:!0},
mergeDefaults:function a(d,f){for(var e in f)if(f.hasOwnProperty(e))try{d[e]=f[e].constructor===Object?d[e]instanceof HTMLElement||f[e]instanceof HTMLElement?f[e]:a(d[e],f[e]):f[e]}catch(k){d[e]=f[e]}return d?d:f},outerHeight:function(a){if("undefined"===typeof a)return 0;var d=parseInt(a.offsetHeight,10);a.style.marginTop&&(d+=parseInt(a.style.marginTop,10));a.style.marginBottom&&(d+=parseInt(a.style.marginBottom,10));return d},overrideCall:function(a){return h.overrideFunctions[a]&&"function"===
typeof h.overrideFunctions[a]?h.overrideFunctions[a]:!1},pageProtocol:function(){var a=["http:","https:"];return 0<=a.indexOf(window.location.protocol)?window.location.protocol:a[0]}(),parseBoolean:function(a){return"string"!==typeof a||"true"!==a.toLowerCase()&&"yes"!==a.toLowerCase()?"boolean"===typeof a?a:0<parseInt(a,10):!0},preventDefault:function(a,d){a&&(a.preventDefault&&a.preventDefault(),a.returnValue=!1,d&&(a.cancelBubble=!0,a.cancel=!0,a.stopPropagation&&a.stopPropagation()))},processPluginsArray:function(a,
d){var f,l=e.deepClone(a);if(d.isSet("overridePlugins")){var k,l=[];try{if(k=JSON.parse(d.get("overridePlugins")),g.isArray(k))for(f=0;f<k.length;f+=1)l.push(k[f]);else l=[k]}catch(x){for(k=d.get("overridePlugins").split(","),f=0;f<k.length;f+=1){var p=e.trim(k[f]);if(h.Plugins.hasOwnProperty(p))l.push({name:p});else throw p=0>=p.length?"(empty)":p,new w("Failed loading plugin with invalid name:",p);}}}return l},promiseRace:function(a){return new Promise(function(d,f){for(var e=0,k=a.length;e<k;e+=
1)a[e].then(d,f)})},routeSettingsOutput:function(a){var d={settings:{},targets:{}};if("[object Array]"===Object.prototype.toString.call(a)){var f=a.length;if(0<f)for(var l=0;l<f;l+=1)a[l].hasOwnProperty("key")&&a[l].hasOwnProperty("value")&&(a[l].hasOwnProperty("target")&&e.isset(a[l].target)?(d.targets.hasOwnProperty(a[l].target)||(d.targets[a[l].target]={}),d.targets[a[l].target][a[l].key]=a[l].value):d.settings[a[l].key]=a[l].value)}return d},safeDestroy:function(a){if(a)try{var d=a.destroy();
if(d instanceof Promise)return d}catch(f){}return Promise.resolve()},sequence:function(){return e.compose.apply(this,Array.prototype.slice.call(arguments).reverse())},settingsDiff:function(a,d){var f=function(a,d){return a.filter(function(a){return 0===d.filter(function(d){return d.key===a.key&&d.target===a.target&&parseInt(d.targetDeviceFamily,10)===parseInt(a.targetDeviceFamily,10)}).length})},e=a.length;return{deleted:f(a,d),added:f(d,a),changed:d.filter(function(d){for(var f=0;f<e;f+=1)if(d.key===
a[f].key&&d.target===a[f].target&&parseInt(d.targetDeviceFamily,10)===parseInt(a[f].targetDeviceFamily,10)&&d.value!==a[f].value)return!0;return!1}).map(function(d){for(var f=null,p=0;p<e;p+=1)if(d.key===a[p].key&&d.target===a[p].target&&parseInt(d.targetDeviceFamily,10)===parseInt(a[p].targetDeviceFamily,10)){f=a[p].value;break}d.originalValue=f;return d})}},shuffleArray:function(a){for(var d=[];a.length;)d.push(a.splice(Math.random()*a.length,1)[0]);for(;d.length;)a.push(d.pop());return a},trim:function(a){return a?
a.replace(/^\s+|\s+$/g,""):""}};return e});m("tools/debug",["tools/formatting"],function(g){function e(a,b,f){var c="production"===M;if((!c||(void 0===f?0:f))&&window.console&&window.console[a]){try{console[a].apply(console,b)}catch(e){console[a](b.join(" "))}return!0}return!1}function c(a,b){return g&&g.zeroPad?g.zeroPad(a,b):a}var b={error:function(){var a=b.getLogPrefix();if(0<arguments.length){var d=Array.prototype.slice.call(arguments,0);d.unshift(a);return e.call(this,"error",d,!0)}return!1},
getLogPrefix:function(){var a=new Date;return"[Kiosked] ("+c(a.getHours(),2)+":"+c(a.getMinutes(),2)+":"+c(a.getSeconds(),2)+")"},log:function(){var a=b.getLogPrefix();if(0<arguments.length){var d=Array.prototype.slice.call(arguments,0);d.unshift(a);return e.call(this,"log",d)}return!1},warn:function(){var a=b.getLogPrefix();if(0<arguments.length){var d=Array.prototype.slice.call(arguments,0);d.unshift(a);return e.call(this,"warn",d)}return!1}};return b});m("validation/execution",["tools/debug","tools/environment"],
function(g){function e(c){return c.reduce(function(b,a){a=a.trim();0<a.length&&b.push(a);return b},[])}return{countryValid:function(c,b){var a=c.get("ui.geo.filter.country.blacklist","").split(","),d=c.get("ui.geo.filter.country.whitelist","").split(",");if(b&&2===b.length){b=b.toUpperCase();d=e(d);if(0<d.length&&0>d.indexOf(b))return g.log("/PreFlight/","Country not in whitelist: "+b),!1;a=e(a);if(0<a.length&&0<=a.indexOf(b))return g.log("/PreFlight/","Country is in the blacklist: "+b),!1}return!0},
domainIsValid:function(){return!0}}});m("sniffing/SnifferController","core/KioskedObject QuantcastManager LocalStorage RewardWrapper locators/ErrorCollectorLocator locators/InstanceControlManagerLocator InstanceControlManager locators/GrandCentralStationLocator locators/LocalStorageEventQueue locators/SnifferControllerLocator locators/UnloadManagerLocator locators/StylesLocator factories/PlacementContainerFactory sniffing/SearchContextsAdapter sniffing/SearchNodeFactory sniffing/SnifferUtilities sniffing/SnifferConveyor sniffing/ElementQueue adelement/WaterfallResolver placement/AnchorTypeResolver tools/general tools/debug tools/environment tools/dom tools/performance".split(" "),
function(g,e,c,b,a,d,f,l,k,x,p,s,q,t,B,v,L,C,E,K,H,D,n,r,m){function A(a){var b=this,d=a.context.getSettings().clone(),f=this.getOptions(),c=K.resolveAnchorTypeForSettings(d),e=K.convertAnchorTypeToPlacementType(c),k=E.prepareWaterfallResolver(this.getAdZoneTemplates()),e=k.selectByLocation(f.countryCode||h.Config.COUNTRY_CODE_UNKNOWN).selectByDevice().selectByOperatingSystem().selectByURI().selectByPlacementType(e).getWaterfalls(),l={anchorType:c,categories:a.categories,kioskedZoneID:a.hash,settings:d,
settingsMeta:f.settingsData.meta,targetElement:a.element,publisherID:this.getPageProperties().publisherID,siteID:this.getPageProperties().siteID,waterfall:0<e.length?e[0]:null,waterfallsInitial:k.totalWaterfalls};return q.createPlacementContainerWithOptions(l).then(function(a){b._unfilteredContainers+=1;P.createWithMedia(a);l.anchorType===h.Config.PLACEMENT_ANCHOR_TYPE.REWARD&&h.publish("placementCreated",a);D.log("/SnifferController/","Created placement")},function(a){D.warn("/SnifferController/",
"Placement was not created: "+a)})}function y(a,b){var d=b.getInt("ui.sniff.maxBanners",50),f=this.getActivatedElements().length,c=d-f,f=a.length;if(0>=c){for(d=0;d<f;d+=1)this.setReservedElementByZoneID(a[d].hash,!0);return[]}var e=function(a){return a.width&&a.height?a.width*a.height:parseFloat(a.element.offsetWidth)*parseFloat(a.element.offsetHeight)};a=a.sort(function(a,b){var d=e(a),f=e(b);return d<f?1:f<d?-1:0});a=this.getReservedElements().concat(a);f=a.length;if(f>c)for(d=a.splice(c,f),f-=
c,c=0;c<f;c+=1)this.setReservedElementByZoneID(d[c].hash,!0);return a}function z(){var a=this;if(this.isNot("running"))return this.set("idle"),Promise.resolve();this.set("sniffing");var b=Promise.resolve([]),d=this.getSettings();this.getRootSearchNode().forEachNode(function(d){b=b.then(function(b){return new Promise(function(f){var c=[].concat(b),e=new L(a,d);e.retrieveItems().then(function(a){c=c.concat(a);f(c)});e.destroy()})})});return b.then(function(b){b=y.call(a,b,d);var f=b.length;b.forEach(function(b){a.setReservedElementByZoneID(b.hash,
!1);a.setActivatedElementByZoneID(b.hash,!0)});a.getElementQueue().addItems(b);a.hasNot("timedFirstElementsCreation")&&(a.set("timedFirstElementsCreation"),l.getGrandCentralStation().dispatch("timingEvent",{name:"snifferFirstBatch",properties:{item_count:f}}))}).then(function(){a.unset("sniffing");setTimeout(function(){z.call(a)},h.Config.SNIFFER_INTERVAL)})}function J(){var a=this,b=l.getGrandCentralStation();b.addListener("mediaPageImpression",function(){var b=a.getQuantcastManager();H.isset(b)&&
b.boot()});b.addListener("bannerProviderNotInitiated",function(a){x.getSnifferController().setActivatedElementByZoneID(a.placementID,!1)});b.addListener("maxPluginsExceeded",function(a){x.getSnifferController().setActivatedElementByZoneID(a.placementID,!1)});b.addListener("BannerDestroyedForSizeRestriction",function(a){x.getSnifferController().setActivatedElementByZoneID(a.placementID,!1)});b.addListener("incorrectPluginName",function(a){x.getSnifferController().setActivatedElementByZoneID(a.placementID,
!1)})}function I(){var b=l.getGrandCentralStation(),d=this.getSettings();b.prepareTimingController().then(function(f){if(c.storageAvailable()&&!0===d.getBool("ui.analytics.sendTimingData",!1)){k.getLocalStorageEventQueue().sendQueueFromStorage();if(m.memoryProfilingSupported()){var e=m.getMemoryProfiling(),l=n.getAnalyticsConsumerData();l.memoryProfiling=e;l[h.Config.ANALYTICS_EVENT_NAME_PROPERTY]="kskdMemoryProfiling";k.getLocalStorageEventQueue().setEventInQueue(l)}e=p.getUnloadManager();e.registerShutdownHandler(function(){return(new Promise(function(d){b.dispatch("timingEvent",
{name:"unload"});var c=n.getAnalyticsConsumerData();f.registerInitialsEvents();var e=f.getTimingEvents();c.records=e;f.registerResources();c.resources=f.getResources();c[h.Config.ANALYTICS_EVENT_NAME_PROPERTY]="pageTimings";k.getLocalStorageEventQueue().setEventInQueue(c);c=a.getErrorCollector().getErrorList();e=n.getAnalyticsConsumerData();e.errors=c;e[h.Config.ANALYTICS_EVENT_NAME_PROPERTY]="kskdErrors";k.getLocalStorageEventQueue().setEventInQueue(e);d()})).then(function(){k.getLocalStorageEventQueue().saveQueueInStorage()})},
e.PRIORITY_HIGH)}})}var N=[{name:"BannerSlot"}],P=g.extend({construct:function(a,b){this.$super();a=a||{};this._options=H.mergeDefaults({elementHashAttribute:"kioskedhash_"+M,countryCode:"",settingsData:{},zoneDataEndpoint:n.getZoneDataURL(),zoneReportEndpoint:n.getZoneReportURL()},a);var c=a.settingsData||{};b=b||new t(c,{countryCode:this._options.countryCode});this._markedElements=[];this._pageType=null;this._rootContext=b.getRootContext();this._settings=b.getBaseSettingsContext().getSettings();
this._adZoneTemplates=[];this._pageProperties={publisherID:a.hasOwnProperty("publisherID")?parseInt(a.publisherID,10):null,siteID:a.hasOwnProperty("siteID")?parseInt(a.siteID,10):null};this.addStatusSet(["idle","running","stopping","disabled"],"idle");this.addStatus("sniffing");if(!H.isset(this._pageProperties.publisherID)||0>this._pageProperties.publisherID)throw Error("Invalid/unset publisher ID: "+this._pageProperties.publisherID);if(!H.isset(this._pageProperties.siteID)||0>this._pageProperties.siteID)throw Error("Invalid/unset site ID: "+
this._pageProperties.siteID);c=this.getOptions();this._rootSearchNode=(new B(this._rootContext,{hashAttribute:c.elementHashAttribute})).getRootNode();var k=this.getSettings(),c=d.getSharedInstance(),l=k.getInt("ui.media.maxPlugins.BannerSlot",0),p=k.getInt("ui.media.maxPlugins.ExternalBannerSlot",0),k=k.getInt("ui.media.maxPlugins.VastPreroll",0);c.applyLimit(f.InstanceType.Anchor,h.Config.PLACEMENT_ANCHOR_TYPE.BOX,l);c.applyLimit(f.InstanceType.Anchor,h.Config.PLACEMENT_ANCHOR_TYPE.STUB,p);c.applyLimit(f.InstanceType.AdFill,
"AdFillVast",k);b.destroy();this._elementQueue=new C(this,{publisherID:this._pageProperties.publisherID,siteID:this._pageProperties.siteID,zoneDataURL:this._options.zoneDataEndpoint,zoneReportURL:this._options.zoneReportEndpoint,cachedZones:this.getOptions().cachedZoneResponse&&this.getOptions().cachedZoneResponse.hasOwnProperty("results")?this.getOptions().cachedZoneResponse.results:[]});v.processDOMModifications(this);s.getStyling().placeHeaderStylesheet(h.stylesheets.images,"images");this._quantcastManager=
null;!0===this.getSettings().getBool("ui.sniff.quantcastEnabled",!1)&&(this._quantcastManager=new e({publisherID:this.getPageProperties().publisherID,siteID:this.getPageProperties().siteID}));this._unfilteredContainers=this._unfilteredContainers||0;J.call(this);I.call(this)},destroy:function(){var a=this,b=this.bindMember("$super");return this.stop().then(function(){a.getElementQueue().destroy();a.getRootSearchNode().destroy();a.unMarkAllElements();b()})},addMarkedItem:function(a){this._markedElements.push(a)},
deactivateItemByZoneID:function(a){this.setActivatedElementByZoneID(a,!1);this.setReservedElementByZoneID(a,!1)},getActivatedElements:function(){for(var a=[],b=this.getMarkedElements(),d=b.length,f=0;f<d;f+=1)b[f].activated&&!0===b[f].activated&&a.push(b[f]);return a},getAdZoneTemplates:function(){return this._adZoneTemplates},getCategories:function(a){var b,d,f,c={};if(!H.isset(a))return c;for(var e=0;e<a.length;e+=1){b=a[e].type;d=H.mergeDefaults({},a[e].result);d.items||(d.items=[]);if(d)if(d.state&&
"error"===d.state)continue;else if(!d.state||"ok"!==d.state)continue;if(H.isset(d))if("focus100k"===b){b=d.items;d=Math.min(3,b.length);var k=[];for(f=0;f<d;f+=1)k.push(b[f]);c.focus100k=k}else if("iabtier2"===b){b=d.items;d=Math.min(2,b.length);k=[];for(f=0;f<d;f+=1)k.push(b[f]);c.iabtier2=k}else if("iabtier1"===b){b=d.items;d=Math.min(2,b.length);k=[];for(f=0;f<d;f+=1)k.push(b[f]);c.iabtier1=k}}return c},getElementQueue:function(){return this._elementQueue},getItemByZoneID:function(a){for(var b=
this.getMarkedElements(),d=b.length,f=0;f<d;f+=1)if(b[f].hash===a)return b[f];return null},getMarkedElements:function(){return this._markedElements},getOptions:function(){return this._options},getPageProperties:function(){return this._pageProperties},getPageType:function(){return!1===this.getSettings().getBool("ui.sniff.disableIndexPageAnalysis",!1)?this._pageType=this._pageType||v.getPageType():"article"},getQuantcastManager:function(){return this._quantcastManager},getReservedElements:function(){for(var a=
[],b=this.getMarkedElements(),d=b.length,f=0;f<d;f+=1)b[f].reserved&&!0===b[f].reserved&&a.push(b[f]);return a},getRootSearchContext:function(){return this._rootContext},getRootSearchNode:function(){return this._rootSearchNode},getSettings:function(){return this._settings},getSettingsMetaAbTesting:function(){var a=-1,b=0,d=this.getOptions();d.hasOwnProperty("settingsMeta")&&(a=d.settingsMeta.hasOwnProperty("appliedAbTestStatus")?d.settingsMeta.appliedAbTestStatus:a,b=d.settingsMeta.hasOwnProperty("appliedAbTest")?
d.settingsMeta.appliedAbTest:b);return{status:a,test:b}},getUnfilteredContainers:function(){return this._unfilteredContainers},getUniqueNodeIndex:function(a){var b=[],d=this.getMarkedElements(),f=d.length;if(0<f){if(a instanceof HTMLImageElement)for(var c=0;c<f;c+=1){var e;e=d[c].element;e=a===e?!0:a.src&&e.src&&a.src===e.src;e&&b.push(d[c].element)}else for(c=v.elementAsString(a),e=0;e<f;e+=1)c===v.elementAsString(d[e].element)&&b.push(d[e].element);return b.push(a)-1}return 0},isLargeEnough:function(a){var b=
a.context.getSettings();return a.width>=b.getInt("ui.sniff.minMediaWidth",300)&&a.height>=b.getInt("ui.sniff.minMediaHeight",250)},isPermittedBySettings:function(a){var b=!0,d=a.element;if((a=a.context.getSettings().get("ui.sniff.disableKiosksInElements",!1))&&(a=r.query(a))&&0<a.length)for(var f=0;f<a.length;f+=1){var c=a[f];if(d===c||r.isDescendant(c,d)){b=!1;break}}return b},loadItemWithData:function(a,b){if(H.isEmpty(b))D.log("/SnifferController/","Unable to load item, no categories data (possibly blacklisted): "+
a);else{for(var d=!1,f=this.getActivatedElements(),c=f.length,e=0;e<c;e+=1)if(f[e].hash===a){d=f[e];break}if(!1!==d){d.categories=this.getCategories(b);d.plugins=this.processPluginsForSettings(N,d.context.getSettings());try{A.call(this,d)}catch(k){throw D.warn("/SnifferController/","Failed creating placement"),k;}}else D.error("/SnifferController/","Unable to find media item for zone:",a)}},markElementAsProcessed:function(a){if(!(a instanceof HTMLElement))throw Error("Invalid element: not a HTMLElement");
var b=this.getUniqueNodeIndex(a),b=v.createElementHash(a,b,this._pageProperties.publisherID);a.setAttribute(this.getOptions().elementHashAttribute,b);return b},processPluginsForSettings:function(a,b){return H.processPluginsArray(H.deepClone(a),b)},setActivatedElementByZoneID:function(a,b){this.getItemByZoneID(a).activated=b},setAdZoneTemplates:function(a){this._adZoneTemplates=a},setReservedElementByZoneID:function(a,b){this.getItemByZoneID(a).reserved=b},start:function(){return this.is("idle")?(this.set("running"),
z.call(this),!0):!1},stop:function(){var a=this;return new Promise(function(b){if(a.is("running")){a.set("stopping");var d=setInterval(function(){a.is("idle")&&(clearInterval(d),b(!0))},80)}else b(!1)})},unMarkAllElements:function(){for(var a=this.getOptions().elementHashAttribute,b=r.query("["+a+"]"),d=b.length,f=0;f<d;f+=1)b[f].removeAttribute(a);return d},unsniffItemWithZoneID:function(a){var b=this.getItemByZoneID(a),d=this._markedElements.indexOf(b),f=this.getOptions().elementHashAttribute;if(H.isset(b)&&
0<=d)this._markedElements.splice(d,1),b.element.removeAttribute(f);else throw Error("Unable to un-sniff item: doesn't exist ("+a+")");},wasSelectedAsCustom:function(a){return a.selectionMode===h.Config.ELEMENT_SELECTION_MODE.CUSTOM}});P.createWithMedia=function(a){F.push(a);return a};return P});m("LocalStorage",["tools/compatibility"],function(g){var e=g.isLocalStorageNameSupported();return{get:function(c){return this.storageAvailable()?window.localStorage.getItem(c)||null:null},set:function(c,b){return this.storageAvailable()?
(window.localStorage.setItem(c,b),!0):!1},storageAvailable:function(){return e},remove:function(c){return this.storageAvailable()?(window.localStorage.removeItem(c),!0):!1}}});h.styles=h.styles||{AdContainerElement:{"default":{position:"absolute",overflow:"hidden",pointerEvents:"all"}},BannerCloseImage:{"default":{__stylesheet:"images.BannerCloseImage"},mobile:{__stylesheet:"images.BannerCloseImageMobile"}},BannerCloseImageInside:{"default":{__stylesheet:"images.BannerCloseImageInside"},mobile:{__stylesheet:"images.BannerCloseImageInsideMobile"}},
BannerCloseImageWhite:{"default":{__stylesheet:"images.BannerCloseImageWhite"},mobile:{__stylesheet:"images.BannerCloseImageWhiteMobile"}},BannerDisclaimerContainer:{"default":{position:"absolute",overflow:"hidden",zIndex:2,height:"18px",right:"0px",minWidth:"18px",marginBottom:"0px",opacity:"0"},mobile:{__include:"default",height:"20px",marginTop:"0px"},hd:{__include:"mobile"}},BannerDisclaimerContainerInside:{"default":{position:"absolute",overflow:"hidden",zIndex:11,height:"18px",left:"0px",minWidth:"18px",
opacity:"0"},mobile:{__include:"default",height:"20px",marginTop:"0px"},hd:{__include:"mobile"}},BannerDisclaimerCloseButtonContainer:{"default":{position:"absolute",right:"0px",top:"0px",width:"18px",height:"18px",cursor:"pointer",zIndex:2},mobile:{__include:"default",width:"20px",height:"20px"},hd:{__include:"mobile"}},BannerDisclaimerCloseButtonContainerLeft:{"default":{position:"absolute",left:"0px",top:"0px",width:"18px",height:"18px",cursor:"pointer",zIndex:2},mobile:{__include:"default",width:"20px",
height:"20px"},hd:{__include:"mobile"}},BannerDisclaimerCloseButtonIcon:{"default":{__include:"BannerCloseImage.default.normal",width:"100%",height:"100%"},mobile:{__include:["default","BannerCloseImage.mobile.normal"]},hd:{__include:"mobile"}},BannerDisclaimerCloseButtonIconInside:{"default":{__include:["BannerDisclaimerCloseButtonIcon.default.normal","BannerCloseImageInside.default.normal"]},mobile:{__include:["default","BannerCloseImageInside.mobile.normal"]},hd:{__include:"mobile"}},BannerDisclaimerCloseButtonWhiteIcon:{"default":{__include:"BannerCloseImageWhite.default.normal",
width:"100%",height:"100%"},mobile:{__include:["default","BannerCloseImageWhite.mobile.normal"]},hd:{__include:"mobile"}},BannerDisclaimerAdsLogo:{"default":{__include:"BannerAdsLogo.default.normal",position:"relative","float":"left",width:"100%",height:"100%",backgroundSize:"auto 100%"},mobile:{__include:["default","BannerAdsLogo.mobile.normal"],backgroundSize:"85px 20px"},hd:{__include:["mobile","BannerAdsLogo.hd.normal"]}},BannerDisclaimerAdsLogoExternal:{"default":{__include:["BannerDisclaimerAdsLogo.default.normal",
"BannerAdsLogoGrey.default.normal"]},mobile:{__include:["default","BannerAdsLogoGrey.mobile.normal"]},hd:{__include:["default","BannerAdsLogoGrey.hd.normal"]}},BannerDisclaimerAdsLogoInside:{"default":{__include:["BannerAdsLogoBackground.default.normal"],position:"relative","float":"left",width:"100%",height:"100%"},mobile:{__include:["default","BannerAdsLogoBackground.mobile.normal"]},hd:{__include:["default","BannerAdsLogoBackground.hd.normal"]}},BannerDisclaimerAdsLogoFloor:{"default":{__include:["BannerDisclaimerAdsLogo.default.normal"]},
mobile:{__include:["BannerDisclaimerAdsLogo.mobile.normal","BannerAdsLogo.mobile.normal"]},hd:{__include:["BannerDisclaimerAdsLogo.hd.normal"]}},BannerDisclaimerAdsLogoContainer:{"default":{position:"relative",height:"18px",width:"77px",marginRight:"18px"},mobile:{__include:"default",height:"20px",width:"85px",marginRight:"20px"},hd:{__include:"mobile"}},BannerDisclaimerAdsLogoContainerLeft:{"default":{normal:{position:"relative",height:"18px",width:"18px",marginLeft:"19px"},hover:{position:"relative",
height:"18px",width:"77px",marginLeft:"19px"}},mobile:{__include:"default",height:"20px",width:"20px",marginLeft:"21px"},hd:{__include:"mobile"}},BannerAdsLogo:{"default":{__stylesheet:"images.BannerAdsLogoDefault"},mobile:{__stylesheet:"images.BannerAdsLogoMobile"},hd:{__include:"mobile"}},BannerAdsLogoGrey:{"default":{__stylesheet:"images.BannerAdsLogoGreyDefault"},mobile:{__stylesheet:"images.BannerAdsLogoGreyMobile"},hd:{__include:"mobile"}},BannerAdsLogoBackground:{"default":{__stylesheet:"images.BannerAdsLogoBackgroundDefault"},
mobile:{__stylesheet:"images.BannerAdsLogoBackgroundMobile"},hd:{__include:"mobile"}},BannerFooterContainer:{"default":{position:"fixed",left:"0px",right:"0px",bottom:"-500px"}},InterstitialLightBox:{"default":{position:"fixed",overflow:"auto",overflowX:"hidden",background:"rgba(0, 0, 0, 0.70)",top:0,left:0,right:0,bottom:0,border:0,opacity:0,display:"block",zIndex:"72101021"},mobile:{__include:"default"},hd:{__include:"default"}},InterstitialContentBox:{"default":{position:"absolute",top:"50%",left:"50%",
opacity:0,"webkit-transform-origin":"0% 100%"},mobile:{__include:"default"},hd:{__include:"mobile"}},InterstitialContainerCloseButton:{"default":{position:"absolute",right:"18px",top:"18px",width:"36px",height:"36px",cursor:"pointer",zIndex:"72101021",display:"none"},mobile:{__include:"default",width:"50px",height:"50px",top:"0px",right:"0px"},hd:{__include:"mobile"}},InterstitialCloseButtonIcon:{"default":{__stylesheet:"images.BannerCloseImageInterstitial",width:"100%",height:"100%",backgroundSize:"100%"},
mobile:{__include:"default",__stylesheet:"images.BannerCloseImageInterstitialMobile"},hd:{__include:"mobile"}},InScrollWrapper:{"default":{position:"fixed",backgroundColor:"rgba(0, 0, 0, 0)",top:"100vh",height:"100vh",left:0,right:0,display:"none",zIndex:"72101021",pointerEvents:"none"},mobile:{__include:"default"},hd:{__include:"default"}},InScrollContentWrapper:{"default":{position:"absolute",top:"100%",left:0,right:0,height:"100vh"}},InScrollContentBox:{"default":{position:"absolute",top:"50%",
transform:"translateY(-50%)","-webkit-transform":"translateY(-50%)","-ms-transform":"translateY(-50%)",left:0,right:0,padding:"18px"},mobile:{__include:"default",padding:"20px"}},InScrollAdContainerElement:{"default":{position:"relative",overflow:"hidden",pointerEvents:"all",boxShadow:"0px 0px 50px 15px rgba(0, 0, 0, 0.6)",backgroundColor:"#000",margin:"0 auto",borderRadius:"0.5px"}},InScrollIFrameClickHandler:{"default":{position:"absolute",top:0,bottom:0,left:0,right:0,backgroundColor:"rgba(0,0,0,0)",
zIndex:20}},InScrollVisibilityFrame:{"default":{position:"absolute",top:"20px",bottom:"20px",left:"20px",right:"20px"}},InScrollSwipeGuide:{"default":{position:"absolute",top:"100%",left:"50%",width:"50px",height:"26px",marginLeft:"-25px",opacity:0,transition:"opacity .4s","-webkit-transition":"opacity .4s",__stylesheet:"images.InScrollSwipeGuideMobile"}},InScrollTrickery:{"default":{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)","-webkit-transform":"translate(-50%,-50%)",
overflow:"scroll","-webkit-overflow-scrolling":"touch"}},ExpandableBannerDisclaimerContainer:{"default":{position:"absolute",top:"-20px",right:"0px",overflow:"hidden",zIndex:2,height:"20px",minWidth:"20px",marginTop:"0px"},mobile:{__include:"default",top:"-20px",height:"20px",marginTop:"0px"},hd:{__include:"mobile"}}};m("tools/device",function(){var g=null,e=null,c=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,
b=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,
a=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,d={getOperatingSystem:function(){var a=d.getPlatform(),b=/(u|li)n[ui]x|X11/i;if(a&&0<a.length){if(/^Windows|Win[a-z0-9]{2}($|[^a-z0-9])|OS\/2/i.test(a))return h.Config.OPERATING_SYSTEM.WINDOWS;
if(/Macintosh|Mac(Intel|PPC|68K)/i.test(a))return h.Config.OPERATING_SYSTEM.MAC_OS}else{a=d.getUserAgent();if(/Windows|Win(\d{2}|NT|CE| 9x)($|[^a-z0-9])/i.test(a))return h.Config.OPERATING_SYSTEM.WINDOWS;if(/MacPPC|MacIntel|Mac_PowerPC|Macintosh|Mac OS X/i.test(a))return h.Config.OPERATING_SYSTEM.MAC_OS}return b.test(a)?h.Config.OPERATING_SYSTEM.LINUX:h.Config.OPERATING_SYSTEM.UNKNOWN},getPlatform:function(){return window.navigator.platform||""},getUserAgent:function(){return""+(navigator.userAgent||
navigator.vendor||window.opera)},isMobile:function(a){if(null===g||a)a=d.getUserAgent(),g=c.test(a)||b.test(a.substr(0,4));return g},isTablet:function(f){if(null===e||f)f=d.getUserAgent(),e=a.test(f)||b.test(f.substr(0,4));return e&&!d.isMobile()}};return d});m("core/AdComponentAbstract",["core/KioskedObject"],u(function(){return{construct:function(){this.$super();this.set("healthy")},destroy:function(){this.unset("healthy");this.$super()},isHealthy:function(){return this.is("healthy")}}}));m("adfill/AdFillAbstract",
["core/AdComponentAbstract","factories/AdElementFactory","locators/IOWManagerLocator","tools/general","tools/dom"],u(function(g,e,c,b){return{construct:function(a,b){this.$super();b=b||{};this._options=c.mergeDefaults({kioskID:"",name:"AdFillAbstract",proportions:{width:0,height:0},orientation:"horizontal",refreshEnabled:!0,scaleEnabled:!0,viewabilityEnabled:!1,zIndex:h.Config.BANNER_AD_Z_INDEX},b);if(0>=this._options.kioskID.length)throw Error("Kiosk ID was empty");this._adElement=null;this._anchor=
a;this.addStatusSet(["idle","loading","loaded"],"idle");this.addStatusSet(["shown","hidden","animating"],"hidden");this._lastPlacementSize={width:0,height:0}},createNewAdElement:function(a,b){return g.createAdElementWithWaterfall(this.getAnchor().getAdContainerElement(),a,this.getOptions().kioskID,b,this.getAnchor())},destroy:function(){this._adElement&&(this._adElement.destroy(),this._adElement=null);this.$super()},empty:function(){var a=this.getAdElement(),d=a.getScalingElement();d&&b.destroy(d);
a.destroy()},getAdElement:function(){return this._adElement},getAnchor:function(){return this._anchor},getOptions:function(){return this._options},getPlacementSize:function(){return this._lastPlacementSize},setPlacementSize:function(a){this._lastPlacementSize.width=a.width;this._lastPlacementSize.height=a.height;this.updateLayout()},setProportions:function(a){this.getOptions().proportions=a},setup:function(a){this.set("loading");return new Promise(function(b){a.containsNetwork("iow")?e.getIOWManager().prepareLibrary().then(b):
b()})},updateLayout:function(){},waitForLoad:function(){var a=this;return new Promise(function(b,f){var c=setInterval(function(){a?a.is("loaded")&&(clearInterval(c),b()):(clearInterval(c),f())},100)})}}}));m("analytics/KioskedAnalytics","core/KioskedObject locators/UnloadManagerLocator tools/general tools/environment tools/debug tools/communication".split(" "),u(function(g,e,c,b,a){return{construct:function(){this.$super();this._eventsBuffer=[];this.addStatus("sendingInstantly");this.setFlushTimer();
var a=this,b=g.getUnloadManager();b.registerShutdownHandler(function(){a.flushSendBuffer();a.set("sendingInstantly")},b.PRIORITY_HIGH)},destroy:function(){this._flushTimer&&clearInterval(this._flushTimer);this.$super()},flushSendBuffer:function(){var b=this.getEventsBuffer();if(0<b.length&&("production"===M||"staging"===M)){for(var f,c={};f=b.shift();){c.hasOwnProperty(f.destination)||(c[f.destination]=[]);var e=this.prepareEventItem(f);this.sampleRateCancelsEvent(e["cntr.type"],e._type)?0===c[f.destination].length&&
delete c[f.destination]:c[f.destination].push(e)}for(var g in c)c.hasOwnProperty(g)&&a.sendRequest({destination:g,method:"POST",errorCallback:function(){throw Error("(Kiosked) Failed sending analytics");},data:{json:JSON.stringify(c[g])}});this._eventsBuffer=[]}},getEventNameProperty:function(){return h.Config.ANALYTICS_EVENT_NAME_PROPERTY},getEventsBuffer:function(){return this._eventsBuffer},getRandomNumber:function(){return h.Config.SAMPLE_RATE_RANDOM_CURRENT},getSampleRate:function(a,b){return"normal"===
a?h.Config.SAMPLE_RATE_0_5:"containerImpression"===b?h.Config.SAMPLE_RATE_CONTAINER_IMP:"containerOpportunity"===b?h.Config.SAMPLE_RATE_CONTAINER_OPP:"pageImpression"===b?h.Config.SAMPLE_RATE_PAGE_IMP:"pageTimings"===b?h.Config.SAMPLE_RATE_PAGE_TIMINGS:"kskdErrors"===b?h.Config.SAMPLE_RATE_KSKD_ERRORS:"kskdMemoryProfiling"===b?h.Config.SAMPLE_RATE_KSKD_MEMORY_PROFILING:0<=["waterfallTrickle","waterfallEnd","waterfallRender"].indexOf(b)?h.Config.SAMPLE_RATE_WATERFALL:0<=["videoStarted","videoCompleted"].indexOf(b)?
h.Config.SAMPLE_RATE_VIDEO:"oldCache"===b?h.Config.SAMPLE_RATE_PAGE_IMP:h.Config.SAMPLE_RATE_SEND_ALL},prepareEventItem:function(a){var f={};a=a.properties;f._type=a[this.getEventNameProperty()];for(var c in a)a.hasOwnProperty(c)&&("_"===c[0]&&"_type"!==c?b.log("/"+h.Config.ANALYTICS_MODULE_LOG_NAME+"/","Bad parameter name '"+c+"'"):f[c]=a[c]);if(e.isEmpty(f._type))throw new w("No _type property in analytics packet");f.sample_rate=this.getSampleRate(f["cntr.type"],f._type);return f},processEvent:function(a,
f){var c=e.deepClone(a);c._event&&(c.event=a._event,delete c._event);c.event_id=f;if(c.hasOwnProperty(this.getEventNameProperty())&&"string"===typeof c[this.getEventNameProperty()]){var k=c[this.getEventNameProperty()],g=e.pageProtocol;"production"===M?this._eventsBuffer.push({event:k,properties:c,destination:g+h.Config.ANALYTICS_TARGET_DOMAIN_PRODUCTION}):"staging"===M&&this._eventsBuffer.push({event:k,properties:c,destination:g+h.Config.ANALYTICS_TARGET_DOMAIN_STAGING});this.is("sendingInstantly")&&
this.flushSendBuffer();"production"===M||"staging"===M?b.log("/"+h.Config.ANALYTICS_MODULE_LOG_NAME+"/ "+k,c):(c.sample_rate=this.getSampleRate(c["cntr.type"],c[this.getEventNameProperty()]),b.log("/"+h.Config.ANALYTICS_MODULE_LOG_NAME+"/ "+k,c,"(log only)"))}else throw new w("Invalid event name for analytics packet");},sampleRateCancelsEvent:function(a,b){var c=this.getSampleRate(a,b);return 0<=h.Config.ANALYTICS_SAMPLERATE_IMMUNE_EVENTS.indexOf(b)?!1:this.getRandomNumber()>=c},setFlushTimer:function(a){e.isset(a)||
(a=500);var b=this;this._flushTimer&&clearInterval(this._flushTimer);this._flushTimer=setInterval(function(){b.flushSendBuffer()},a)}}}));m("styles/StylesController","core/KioskedObject tools/general tools/debug tools/array tools/device tools/native".split(" "),u(function(g,e,c,b,a){return{construct:function(){this.$super();this._lastDeviceType=null;e.log("/StylesController/","Styling initiated with device type: "+this.getDeviceType());this._lastRendered=this._lastSelectedStyleset=null},applyToElement:function(a,
b){b=b||"normal";if(!this._lastSelectedStyleset)throw new w("No stylesheet is selected");this._lastRendered||(this._lastRendered=this.fulfillItem(this._lastSelectedStyleset));var c=this.getDeviceType(),k=null;try{k=this._lastRendered[c][b]}catch(g){e.error("/StylesController/","Failed getting normal styles for device:",c,this._lastRendered)}if(!k)throw new w("No available styles to apply");this.styleElement(a,k);return this},clear:function(){this._lastRendered=this._lastSelectedStyleset=null},destroy:function(){this.clear()},
fulfillItem:function(a){var b={"default":{normal:{},hover:{}},mobile:{normal:{},hover:{}},hd:{normal:{},hover:{}}},l;for(l in a)if(a.hasOwnProperty(l))if(a[l].hasOwnProperty("normal"))for(var k in a[l])a[l].hasOwnProperty(k)&&(b[l][k]=g.deepClone(a[l][k]));else b[l].normal=g.deepClone(a[l]);l=!0;for(k=0;l;){l=!1;for(var x in b)if(b.hasOwnProperty(x))for(var p in b[x])if(b[x].hasOwnProperty(p)&&b[x][p].hasOwnProperty("__include")){var s=g.deepClone(b[x][p].__include),h={},s=c.isArray(s)?s:[s];s.reverse();
var t=s.length;if(0<t)for(t-=1;0<=t;t-=1){var B=s[t];0>B.indexOf(".")&&(B+=".normal");var v=B.split("."),L,C,E={};if(3===v.length){L=v[1];C=v[2];try{var K=this.getStylesItem(v[0]),E=this.fulfillItem(K)[L][C]}catch(H){e.log("/StylesController/","Failed processing style lookup (global) for __include:",B)}}else{L=v[0];C=v[1];try{E=b[L][C]}catch(D){e.log("/StylesController/","Failed processing __include: ",a)}}E.hasOwnProperty("__include")?l=!0:(h=g.mergeDefaults(h,g.deepClone(E)),s.splice(t,1))}0>=s.length&&
(b[x][p]=g.mergeDefaults(h,b[x][p]),delete b[x][p].__include)}k+=1;if(10<k)throw new w("Unable to fulfill all __include directives");}"default"!==this.getDeviceType()&&(0>=g.getObjectLength(b["default"].normal)||(0===g.getObjectLength(b.mobile.normal)&&(b.mobile.normal=g.deepClone(b["default"].normal)),0===g.getObjectLength(b.hd.normal)&&(b.hd.normal=g.deepClone(b["default"].normal))));return b},getDeviceType:function(){if(this._lastDeviceType)return this._lastDeviceType;this._lastDeviceType="default";
b.isMobile()&&(this._lastDeviceType="mobile");return this._lastDeviceType},getRenderedStyle:function(a,b){b=b||"normal";var c=this.getDeviceType();this.selectStyle(a);this._lastRendered||(this._lastRendered=this.fulfillItem(this._lastSelectedStyleset));return this._lastRendered&&this._lastRendered[c]&&this._lastRendered[c][b]?this._lastRendered[c][b]:null},getStylesItem:function(a){var b=this.getStylesRoot();return b.hasOwnProperty(a)?b[a]:null},getStylesRoot:function(){return h.styles},placeHeaderStylesheet:function(b,
f){var c="",e=document.head||a.getElementsByTagName("head")[0];f=f&&0<f.length?f:"";for(var g in b)if(b.hasOwnProperty(g)){var p=b[g],s=p.properties||{};if(p=p.classToHeader){var c=c+(p+" {\n"),h;for(h in s)s.hasOwnProperty(h)&&(c+="\t"+h+": "+s[h]+";\n");c+="}\n"}}g=a.createElement("style");g.setAttribute("type","text/css");g.setAttribute("kiosked","stylesheet:"+f);g.appendChild(a.createTextNode(c));e.appendChild(g)},placeHeaderStylesheetWithNamespace:function(b,c){for(var e="body {ID}.kskdCls, body {ID}.kskdCls .kskdDiv, body {ID}.kskdCls .kskdDiv img, body {ID}.kskdCls .kskdDiv div, body {ID}.kskdCls .kskdDiv iframe, body {ID}.kskdCls .kskdDiv span, .kskdDiv.kskdFixedBannerContainer,body {ID}.kskdCls.kskdDiv .kskdDiv {display: block;float: none;opacity: 1;position: static;overflow: visible;width:auto;left:auto;right:auto;letter-spacing: normal;white-space: normal;top:auto;bottom:auto;height:auto;min-height:0;max-height:none;min-width:0;max-width:none;clear: none;margin: 0px;margin-top: 0px;margin-bottom: 0px;margin-left: 0px;margin-right: 0px;padding: 0px;border: 0px;font-size: 12px;line-height: 1.2;text-align: left;text-transform: none;color: #6d6c71;font-family: Arial, Helvetica, sans-serif;font-style: normal;vertical-align: baseline;background: transparent;box-sizing: content-box;-moz-box-sizing: content-box;-webkit-box-sizing: content-box;filter: none;}body {ID}.kskdCls .kskdDiv iframe {width: 100%;height: 100%;} body {ID}.kskdCls.kskdDiv .kskdDiv a *:not(.kskdDiv) {display: none !important;} @media print {   .kskdCls, .kskdCls * {       display: none !important;   }}".replace(/\{ID}/g,
"#kskd"+c),k=document.head||a.getElementsByTagName("head")[0],g=k.getElementsByTagName("style"),p=g.length,s=!1,h=0;h<p;h+=1)g[h].getAttribute("kiosked")===b&&(s=!0);return s?!1:(g=a.createElement("style"),g.setAttribute("type","text/css"),g.setAttribute("kiosked",b),g.styleSheet?g.styleSheet.cssText=e:g.appendChild(a.createTextNode(e)),k.appendChild(g),!0)},selectStyle:function(a){if(!g.isString(a)||0>=a.length)throw new w("Parameter expected to be of type string");this.clear();this._lastSelectedStyleset=
this.getStylesItem(a);return this},styleElement:function(a,b){if(!0!==a instanceof HTMLElement)throw new w("Parameter expected to be of type HTMLElement");for(var l in b)if(b.hasOwnProperty(l)&&"__"!==l.substr(0,2))try{a.style[l]=b[l]}catch(k){e.error("/StylesController/","Failed applying style '"+l+"' to element",a,k)}if(b.hasOwnProperty("__stylesheet")){l=c.isArray(b.__stylesheet)?b.__stylesheet:[b.__stylesheet];for(var g=l.length,p=0;p<g;p+=1){for(var s=l[p].split("."),q=h.stylesheets;0<s.length;)q=
q[s.shift()]||{};if(q.hasOwnProperty("classToElement"))try{a.className=a.className+(0<a.className.length?" ":"")+q.classToElement}catch(t){e.error("/StylesController/","Failed applying classname '"+q.classToElement)}}}}}}));m("components/DisplayComponent",["core/KioskedObject","tools/general","tools/dom"],u(function(g,e){return{construct:function(){this.$super();this._container=null;this.addStatus("built");this.build()},build:function(){this.is("built")||(this._container=e.create("div"),this.set("built"))},
destroy:function(){this.unset("built");e.destroy(this._container);this._container=null;this.$super()},getContainer:function(){return this._container}}}));m("core/EventDispatcher",["core/AdComponentAbstract","tools/general","tools/debug"],u(function(g,e){function c(a,b){this._domEventsSet.hasOwnProperty(a)||(this._domEventsSet[a]=[]);this._domEventsSet[a].push(b)}function b(a,b){return this._domEventsSet.hasOwnProperty(a)?-1!==this._domEventsSet[a].indexOf(b):!1}return{construct:function(){this._domEventsSet=
{};var a=["webkit","moz","o","ms","khtml"];h.supportsFullScreen=!1;for(var b=0,c=a.length;b<c;b+=1)if(h.brwsrprefix=a[b],"undefined"!==typeof document[h.brwsrprefix+"CancelFullScreen"]){h.supportsFullScreen=!0;break}this._callbacks={};this.$super()},addListener:function(a,d,f){if(this.destroying&&!0===this.destroying)return e.warn("/EventDispatcher/","Tried adding listeners during destruction",a),null;var l=this,k;k=f?f:l.getContainer();var g=!1;(a in document.documentElement||a in window)&&!b.call(this,
a,k)&&("onresize"!==a?(g=function(b){!b.srcElement||"target"in b||(b.target=b.srcElement);l.dispatch(a,{event:b,relatedElement:k})},l.listen(k,a,g)):g=window[a]=function(b){l.dispatch(a,{event:b,relatedElement:k})},c.call(this,a,k));this._callbacks[a]||(this._callbacks[a]=[]);var p={callback:d,element:k};!1!==g&&(p.eventFunction=g);this._callbacks[a].push(p);return{listener:a,element:f,callback:d}},listen:function(a,b,c){a.attachEvent?a.attachEvent(b,c):a.addEventListener&&("on"===b.substring(0,2)&&
(b=b.substring(2)),a.addEventListener(b,c,!1))},dispatch:function(a,b,c){var e;g.isset(c)||(c="getEventHash"in this?this.getEventHash():g.getRandomInt(1,999999));if(this._callbacks&&this._callbacks.hasOwnProperty(a))for(e=this._callbacks[a],a=0;a<e.length;a+=1)if(!b||!b.hasOwnProperty("relatedElement")||b.relatedElement===e[a].element){var k=b;b&&b.hasOwnProperty("event")&&(k=b.event);e[a].callback(k,c)}},destroy:function(){this.destroying=!0;for(var a in this._callbacks)if(this._callbacks.hasOwnProperty(a)&&
0<this._callbacks[a].length)for(var b=0;b<this._callbacks[a].length&&!this.removeListener(a,this._callbacks[a][b].callback,this._callbacks[a][b].element);b+=1);this._callbacks=null;delete this._callbacks},getContainer:function(){return!1},removeListener:function(a,d,c){var e=!1;if("string"===typeof a&&"function"===typeof d){var k=!1;if(c&&c instanceof HTMLElement&&b.call(this,a,c))a:{if(b.call(this,a,c)&&(k=this._domEventsSet[a].indexOf(c),this._domEventsSet[a].splice(k,1),0>=this._domEventsSet[a].length)){delete this._domEventsSet[a];
k=!0;break a}k=!1}for(var g in this._callbacks)if(this._callbacks.hasOwnProperty(g)&&g===a){var p=this._callbacks[g],s=p.length;if(0<s){for(var h=!1,t=0;t<s;t+=1)if(p[t].callback===d){h=!0;k&&p[t].hasOwnProperty("eventFunction")&&this.unlisten(c,a,p[t].eventFunction);this._callbacks[g].splice(t,1);break}if(h){0>=this._callbacks[g].length&&(delete this._callbacks[g],e=!0);break}}}}else throw new w("Invalid listener configuration");return e},unlisten:function(a,b,c){a.detachEvent?a.detachEvent(b,c):
a.removeEventListener&&("on"===b.substring(0,2)&&(b=b.substring(2)),a.removeEventListener(b,c,!1))},isBuilt:function(){return this.$super()}}}));m("init/placeholders",["tools/debug"],function(g){var e={adZoneTemplate:{"115":{"templateId":115,"publisherId":10920,"siteId":10550,"isRtb":true,"fromTime":1458666188,"waterfallGroups":[{"abTestCaseId":null,"waterfalls":[{"waterfallHandleId":305,"name":"perezhilton.com - in-media - 320x50","placementType":"in-media","orderInWaterfallGroup":0,"domain":"perezhilton.com","waterfallRules":[{"propertyKey":"device_family","propertyValue":"2","exclusive":false}],"kPlacements":[{"adNetworkId":"IOW","networkInternalPlacementId":"66","order":0,"floorPrice":0.8,"adType":"banner","adSize":"320x50","content":null,"applicator":null},{"adNetworkId":"AppNexus","networkInternalPlacementId":"5026001","order":1,"floorPrice":0.6,"adType":"banner","adSize":"320x50","content":null,"applicator":null},{"adNetworkId":"OpenX","networkInternalPlacementId":"537998118","order":2,"floorPrice":0.4,"adType":"banner","adSize":"320x50","content":null,"applicator":null}]},{"waterfallHandleId":304,"name":"perezhilton.com - in-media - 728x90","placementType":"in-media","orderInWaterfallGroup":1,"domain":"perezhilton.com","waterfallRules":[{"propertyKey":"device_family","propertyValue":"1","exclusive":false},{"propertyKey":"device_family","propertyValue":"3","exclusive":false}],"kPlacements":[{"adNetworkId":"IOW","networkInternalPlacementId":"64","order":0,"floorPrice":0.75,"adType":"banner","adSize":"728x90","content":null,"applicator":null},{"adNetworkId":"aol","networkInternalPlacementId":"3477664","order":1,"floorPrice":0.6,"adType":"banner","adSize":"728x90","content":null,"applicator":null},{"adNetworkId":"AppNexus","networkInternalPlacementId":"3886327","order":2,"floorPrice":0.6,"adType":"banner","adSize":"728x90","content":null,"applicator":null},{"adNetworkId":"OpenX","networkInternalPlacementId":"537255577","order":3,"floorPrice":0.5,"adType":"banner","adSize":"728x90","content":null,"applicator":null},{"adNetworkId":"technorati","networkInternalPlacementId":"41063","order":4,"floorPrice":0.15,"adType":"banner","adSize":"728x90","content":null,"applicator":null}]}]}]}},allowedDomains:[],countryCode:"US",domain:"ssp.kiosked.com",environment:"[KCDN:ENVIRONMENT]",publisherID:10920,settings:{"settings":{"settingsTree":{"conditionId":3,"conditionType":"default","conditionValue":null,"properties":[{"key":"ui.media.cutSizeFromParents","value":"auto","target":"","targetDeviceFamily":0},{"key":"ui.media.zIndex","value":"auto","target":"","targetDeviceFamily":0},{"key":"ui.sniff.minMediaHeight","value":"200","target":"","targetDeviceFamily":0},{"key":"ui.sniff.minMediaWidth","value":"290","target":"","targetDeviceFamily":0},{"key":"ui.media.Banner.minMediaSize.horizontalWidth","value":"300","target":"","targetDeviceFamily":0},{"key":"ui.override.js.ITGS.SnifferUtilities.processPageURL","value":function(url) {return ITGS.Facades.URLProcessing.getURLPathOnly(url);},"target":"","targetDeviceFamily":0},{"key":"ui.media.overlays.Disclaimer.containerWidth","value":"264","target":"","targetDeviceFamily":0},{"key":"ui.media.Banner.showDisclaimer","value":"true","target":"","targetDeviceFamily":0},{"key":"ui.sniff.disableIndexPageAnalysis","value":"true","target":"","targetDeviceFamily":0},{"key":"ui.media.overlays.Disclaimer.disclaimerLink","value":"http:\/\/page.kiosked.com\/advertising-automation-platform","target":"","targetDeviceFamily":0},{"key":"ui.sniff.quantcastEnabled","value":"true","target":"","targetDeviceFamily":0},{"key":"ui.geo.filter.country.whitelist","value":"","target":"","targetDeviceFamily":0},{"key":"ui.geo.filter.country.blacklist","value":"","target":"","targetDeviceFamily":0},{"key":"ui.sniff.sendZoneDataRequests","value":"false","target":"","targetDeviceFamily":0},{"key":"ui.media.Banner.waterfallAnalyticsEnabled","value":"true","target":"","targetDeviceFamily":0},{"key":"ui.libraryVersion","value":"4.18.1","target":"","targetDeviceFamily":0}],"childConditions":[{"conditionId":853,"conditionType":"account","conditionValue":"10920","properties":[{"key":"ui.override.js.ITGS.SnifferUtilities.processPageURL","value":function(url) {return ITGS.Facades.URLProcessing.getURLWithoutFragment(url);},"target":"","targetDeviceFamily":0},{"key":"ui.sniff.quantcastEnabled","value":"true","target":"","targetDeviceFamily":0}],"childConditions":[{"conditionId":857,"conditionType":"URI","conditionValue":"perezhilton.com","properties":[{"key":"ui.sniff.disableKiosksInElements","value":".no-gumgum, #next_post_arrow, #prev_post_arrow, .navigation, #masthead, #featuredPostsContainer, #leaderboard, #site_tabs, #right, .trc_rbox_container, .more_photos","target":"","targetDeviceFamily":0},{"key":"ui.sniff.minMediaHeight","value":"450","target":"","targetDeviceFamily":0},{"key":"ui.sniff.minMediaWidth","value":"400","target":"","targetDeviceFamily":1},{"key":"ui.sniff.maxBanners","value":"3","target":"","targetDeviceFamily":0},{"key":"ui.media.Banner.minMediaSize.horizontalWidth","value":"400","target":"","targetDeviceFamily":1},{"key":"ui.media.Banner.minMediaSize.verticalHeight","value":"450","target":"","targetDeviceFamily":0},{"key":"ui.sniff.sendZoneDataRequests","value":"false","target":"","targetDeviceFamily":0},{"key":"ui.analytics.sendTimingData","value":"true","target":"","targetDeviceFamily":0},{"key":"ui.media.Banner.adTemplateId","value":"115","target":"","targetDeviceFamily":0}]},{"conditionId":3076,"conditionType":"URI","conditionValue":"dlisted.com","properties":[{"key":"ui.sniff.disableKiosksInElements","value":".right-col, #taboola-below-main-column, #posts, .GoogleActiveViewClass, .adMainContainer_for_mobile_ad_zone","target":"","targetDeviceFamily":0},{"key":"ui.media.overridePlugins","value":"BannerSlot","target":"","targetDeviceFamily":0},{"key":"ui.media.Banner.horizontalZoneId","value":"189","target":"","targetDeviceFamily":0},{"key":"ui.sniff.minMediaWidth","value":"250","target":"","targetDeviceFamily":0},{"key":"ui.sniff.maxBanners","value":"2","target":"","targetDeviceFamily":0},{"key":"ui.media.Banner.minMediaSize.horizontalWidth","value":"350","target":"","targetDeviceFamily":0},{"key":"ui.media.Banner.provider","value":"iow","target":"","targetDeviceFamily":0},{"key":"ui.media.Banner.mobileZoneId","value":"","target":"","targetDeviceFamily":2},{"key":"ui.media.Banner.minMediaSize.mobileWidth","value":"265","target":"","targetDeviceFamily":2}]}]}]},"activeAbTestCases":[],"notifications":[]}},siteID:10550};window&&"object"===_typeof(window.ITGSsettings)&&
(g.log("/Override/","Custom settings are in use"),e.settings=window.ITGSsettings);return{getClientDataset:function(c,b){return e.hasOwnProperty(c)&&!1===("string"===typeof e[c]&&0<=e[c].indexOf("KCDN:"))?e[c]:b}}});m("iow/lib",function(){var g=function(e,c,b,a,d,f){(function(l){function k(){var a=this;a.stack={};a.displayAd=function(){};a.requestAds=function(b){var d=l[l.libServingName__];if(0===(b||{}).sectionId||(b||{}).sectionId)try{d.requestAds.call(d,b)}catch(c){a.stack[b.sectionId+""]=b}}}function g(){function k(a){function b(a){t("server request sent: "+
a.sectionId);var c,f,e;e=d.generateAdServerUrl(a);t("Ad server full URL: "+e);if(!0===d.isSyncMode(a.sectionId))return a='<script type="text/javascript" src="{{url}}">\x3c/script>'.replace("{{url}}",e),document.write(a),!0;c=document.createElement("script");c.async=!0;c.type="text/javascript";c.src=e;f=document.getElementsByTagName("script")[0];d.isPresto()?setTimeout(function(){f.parentNode.insertBefore(c,f)},0):f.parentNode.insertBefore(c,f);return!0}var d=this;this.globalPart=a;this.displayedAds=
{};this.serverSlotsDef={};this.adRenderer=new l(this);this.dmpIsLoading=!1;this.segments=[];this.dmpParams={};this.dmpFinishCallbackFns={};this.dmpExpireTimers=[];this.maxDmpTime=200;this.pid=this.genPageId();this.globalPart.displayAd=function(a,b,c){var f=c;c||(f=d.getSlotDefById(a,b));d.notEmptyVar(a)&&d.serverSlotsDef&&f&&!d.slotIsDisplayed(f)&&d.adRenderer.renderSlot(f)&&d.setSlotIsDisplayed(!0,f)};this.displayAd=this.globalPart.displayAd;this.globalPart.processDmp=function(a,b){d.dmpIsLoading=
!1;d.isDmpProcessed=!0;var c={},f=["gender_age","home_location","occupation","work_location"],e,k;e=!0;d.isArray(a)?(k=a,e=!1):a&&d.isArray(a.segments)&&(k=a.segments);if(c&&e)for(var p=0;p<f.length;p++)e=f[p],a.hasOwnProperty(e)&&(c[e]=a[e]);d.segments=k;d.dmpParams=c;d.onDmpProcessed()};this.processDmp=this.processDmp=this.globalPart.processDmp;this.processStack=function(){window.__ASL_USE_DMP&&!d.dmpIsLoading&&!d.dmpIsLoading&&C(!!window.__ASL_DMP_SYNC);var a=this.globalPart&&this.globalPart.stack||
{},b;for(b in a)a.hasOwnProperty(b+"")&&(b=parseInt(b,10),this.requestAds(a[b]),delete a[b])};this.requestAds=this.requestAds=function(a){a=a||{};var b;delete d.displayedAds[a.sectionId];delete d.serverSlotsDef[a.sectionId];this.sectionInfo[a.sectionId]=a;a.dmp&&!d.isDmpProcessed?(t("set callback"),!d.dmpIsLoading&&C(a.sync),b=a.sectionId,d.dmpFinishCallbackFns[b]=d.requestAdServiceData.bind(d,a),a.sync||d.dmpExpireTimers.push(setTimeout(this.onDmpExpire.bind(this,b,a),this.maxDmpTime))):(a.dmp&&
t("make a call"),this.requestAdServiceData(a))};this.onDmpExpire=function(a,b){t("DMP expire callback is called");d.dmpFinishCallbackFns=d.dmpFinishCallbackFns||{};a in d.dmpFinishCallbackFns&&delete d.dmpFinishCallbackFns[a];d.requestAdServiceData(b)};this.requestAdServiceData=function(a){var c=window.__DMP_RESULT;a.dmp?c&&!d.isDmpProcessed?d.processDmp(c.r1,c.r2,a):b(a):b(a)};this.onDmpProcessed=function(){var a,b;for(a in d.dmpFinishCallbackFns)b=d.dmpFinishCallbackFns[a],d.dmpFinishCallbackFns.hasOwnProperty(a)&&
"function"===typeof b&&b.call();d.dmpExpireTimers=d.dmpExpireTimers||[];a=0;for(b=d.dmpExpireTimers.length;a<b;a++)clearTimeout(d.dmpExpireTimers[a])};window[D]=function(a){var b,c,f,e={};d.serverSlotsDef=d.serverSlotsDef||{};for(var k=0,p=a.length;k<p;k++)b=a[k],c=n+b.id+"_"+b.section_id+"_"+b.suid,f=b.size,d.notEmptyVar(f)&&(f=f.split(d.sizeDelimiter)),c={slotId:c,sectionId:b.section_id,data:b.data,type:b.type||"",size:f,isRich:!!b.is_rich,suid:b.suid,plc:b.plc,fld:b.fld},e[b.section_id]=e[b.section_id]||
[],e[b.section_id].push(c),d.serverSlotsDef[c.sectionId]=d.serverSlotsDef[c.sectionId]||{},d.serverSlotsDef[c.sectionId][c.slotId]=c;h.r("locators/IOWManagerLocator",function(a){a=a.getIOWManager().getProxy();for(var b in e)e.hasOwnProperty(b)&&a.processSlotsResponse(b,e[b])})};this.generateAdServerUrl=function(a){a=a||{};if(a.sectionId){var b="https:"===document.location.protocol,c,f,e=[],k=this.getLang();f="section_id handler_name tz fl click3rd seg is_secure ord pid".split(" ");c=H.replace(/^http:|^https:|\?$/im,
"");c=(b?"https:":"http:")+c;b=["section_id="+a.sectionId,"handler_name="+D,"tz="+(new Date).getTimezoneOffset(),"fl="+d.getFlashVersion(),"is_secure="+(b?1:0),"pid="+d.pid,"plc="+a.plc,"suid="+a.suid,"ab_test_value="+a.ab_test_value,"url="+encodeURIComponent(a.url),"device_family="+a.device_family,"fld="+a.fld,"mf="+a.mf];e=e.concat(b);e=d.addParams((this.sectionInfo[a.sectionId]||{}).custom,e,f);a.dmp&&d.dmpParams&&(e=d.addParams(d.dmpParams,e,f));f=d.segments;"undefined"!==typeof f&&0<f.length&&
e.push("seg="+f.join("_"));(a=(this.sectionInfo[a.sectionId]||{}).click3rd)&&e.push("click3rd="+a);!1!==k&&e.push("lang="+encodeURIComponent(k));return c+"?"+e.join("&")+"&ord="+Math.floor(1E13*Math.random())}};this.addParams=function(a,b,c){a=a||{};b=b||[];c=c||[];var f,e;a:for(e in a){f=0;for(var k=c.length;f<k;f++)if(c[f]+""===e+"")continue a;if(a.hasOwnProperty(e)){f=a[e];if(d.isArray(f)){for(k=0;k<f.length;k++)b.push(e+"="+encodeURIComponent(f[k]));continue a}b.push(e+"="+encodeURIComponent(f))}}return b};
this.getSlotDefById=function(a,b){d.serverSlotsDef=d.serverSlotsDef||{};var c;d.isDefined(b)||(c=a.split("_"),0<c.length&&(b=c[c.length-1]));return d.serverSlotsDef[b]&&d.serverSlotsDef[b][a]};this.setSlotIsDisplayed=function(a,b){if(d.isDefined(a))return d.displayedAds[b.sectionId]=d.displayedAds[b.sectionId]||{},a?d.displayedAds[b.sectionId][b.slotId]=!0:delete d.displayedAds[b.sectionId][b.slotId],this};this.slotIsDisplayed=function(a){var b,c;c=a.sectionId;a=a.slotId;try{b=!!d.displayedAds[c][a]}catch(f){b=
!1}return b};this.getLang=function(){for(var a=document.getElementsByTagName("meta"),b,d=!1,c=0;c<a.length;c++)if(b=!1,a[c]&&(b=a[c].getAttribute("http-equiv")||a[c].httpEquiv),b&&"content-language"===b.toLowerCase()){d=(d=a[c].getAttribute("content")||a[c].content)||!1;break}return d}}function l(a){var b=this;a instanceof k&&(this.adManager=a);this.renderSlot=function(a){var d=document.getElementById(a.slotId),c,f,e;if(!d)return t("Not ready to render: "+a.slotId),!1;e=a.type;if("javascript"===e&&
b.isSyncMode(a.sectionId))return f='<script type="text/javascript">'+a.data+"\x3c/script>",document.write(f),t("Filled content on: "+a.slotId+" with "+a.type+" content"),!0;c=b.prepareFrame(a);c.src="javascript:\"<html><body style='background:transparent;margin:0%;'></body></html>\"";d.innerHTML="";d.appendChild(c);switch(e){case "javascript":f='<html><body style=\'background:transparent;margin:0%;\'><script type="text/javascript">var inDapIF=true;\x3c/script><script type="text/javascript">'+(0!==
b.getIEVersion()?b.hexEncode(a.data):a.data)+"\x3c/script></body></html>";break;case "html":f=0!==b.getIEVersion()?b.hexEncode(a.data):a.data}d=b.isNetscape();0!==b.getIEVersion()||d?(c=window.frames[c.name],c.contents=f,c.location.replace(b.getFifLocationIE(a))):(c=c.contentWindow?c.contentWindow.document:c.contentDocument,-1!==navigator.userAgent.indexOf("Firefox")&&c.open("text/html","replace"),c.write(f),b.isPresto()||c.close());t("Filled content on: "+a.slotId+" with "+a.type+" content");return!0};
this.prepareFrame=function(a){var d=document.createElement("iframe"),c="border:none;",f=b.getFrameName(a.slotId);b.notEmptyVar(a.size[0])&&(c+="width:"+a.size[0]+"px;",d.width=a.size[0]);b.notEmptyVar(a.size[1])&&(c+="height:"+a.size[1]+"px;",d.height=a.size[1]);d.setAttribute("style",c);d.setAttribute("frameBorder","0");d.setAttribute("scrolling","no");d.name=f;d.id=f;return d};this.getFifLocationIE=function(a){return b.isNetscape()&&!b.isSyncMode(a.sectionId)?"javascript:document.write(window.contents);":
"javascript:window.contents"};this.getFrameName=function(a){return"fif_slot_"+n+"_"+a}}function x(){var a=this;this.sectionInfo={};this.sizeDelimiter="x";Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),d=this,c=function(){},f=function(){return d.apply(this instanceof c?this:a,b.concat(Array.prototype.slice.call(arguments)))};
c.prototype=this.prototype;f.prototype=new c;return f});this.getFlashVersion=function(){var b=0,d;if(a.isDefined(navigator.plugins)&&"object"===_typeof(navigator.plugins["Shockwave Flash"]))!(d=navigator.plugins["Shockwave Flash"].description)||a.isDefined(navigator.mimeTypes)&&navigator.mimeTypes["application/x-shockwave-flash"]&&!navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin||(d=d.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),b=parseInt(d.replace(/^(.*)\..*$/,"$1"),10));else if(a.isDefined(window.ActiveXObject))try{var c=
new ActiveXObject("ShockwaveFlash.ShockwaveFlash");c&&(d=c.GetVariable("$version"))&&(d=d.split(" ")[1].split(","),b=parseInt(d[0],10))}catch(f){}return b};this.getScreenSize=function(){var a=0,b=0;"number"===typeof window.innerHeight?(a=window.innerHeight,b=window.innerWidth):document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?(a=document.documentElement.clientHeight,b=document.documentElement.clientWidth):document.body&&(document.body.clientWidth||
document.body.clientHeight)&&(a=document.body.clientHeight,b=document.body.clientWidth);return{width:b,height:a}};this.isDefined=function(a){return"undefined"!==typeof a};this.notEmptyVar=function(b){return a.isDefined(b)&&null!==b&&""!==b+""};this.isSyncMode=function(b){return a.sectionInfo&&a.sectionInfo[b]&&a.sectionInfo[b].sync};this.getIEVersion=function(){var a=navigator.userAgent,b=a.indexOf("MSIE ");return-1===b?0:parseFloat(a.substring(b+5,a.indexOf(";",b)))};this.isNetscape=function(){var a=
navigator.userAgent;return null!==a.match(/\d\sNavigator\/\d/)||null!==a.match(/\d\sNetscape\/\d/)};this.isPresto=function(){return-1!==navigator.userAgent.indexOf("Opera")};this.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)};this.hexEncode=function(a){window.hexDic=window.hexDic||{};a+="";for(var b=[],d=window.hexDic,c=0;c<a.length;c++){var f=a.charAt(c),e=f.charCodeAt(0),k=c+1;if(31>e||127<e)f in d?f=d[f]:(e="&#x"+("000"+e.toString(16)).slice(-4)+";",f=d[f]=e);b[k]=
f}return b.join("")};this.genPageId=function(){return(this.genRandomInt(1E6,99999999)+this.genRandomString(20)+((new Date).getTime()+"").split("").reverse().join("")).slice(0,35)};this.genRandomInt=function(a,b){return Math.floor(Math.random()*(b-a+1))+a};this.genRandomString=function(a){var b;b="";a=a||0;if(0>a)return"";for(;0<a;)b+="1qwe8rty2uiop3a0sdf4ghjkl5z9xcv6bnm7MNBVCXZASDFGHJKLPOIUYTREWQ"[this.genRandomInt(0,61)],a--;return b}}function t(a){window.__SHOWAD_DEBUG&&"undefined"!==typeof console&&
console.info&&console.info(new Date," -> ",a.replace("http","htt_p"))}function B(){window.__DMP_PROCESSING_CALLBACK_FN=function(a,b){var d;window.__DMP_RESULT=window.__DMP_RESULT||{};d=window.__DMP_RESULT;d.r1=a;d.r2=b;(d=window[K])&&"function"===typeof d.processDmp&&d.processDmp.call(window,a,b);var c,f;"[object Array]"===L(a)?c=a:a&&L(a.segments)&&(c=a.segments);L(b)?f=b:a&&L(a.piggybacks)&&(f=a.piggybacks);v(f);if(!window.__ASL_DMP_NO_COOKIE&&c&&L(c)&&(f="seg_cookie_name",""!==f+"")){f+="";d=new Date;
d.setTime(d.getTime()+31536E6);d=d.toGMTString();var e="";if(0<c.length){for(var k=0;21>k&&k<c.length;k++)c[k]=("0000"+String(c[k])).slice(-5),e+="kskd_cookie_prefix"+k+"="+c[k]+"/";e=e.replace(/\,$/,"")}else e="kskd_cookie_prefix0=0";document.cookie=f+"="+escape(e)+"; expires="+d+"; path=/"}}}function v(a){if(a&&L(a)&&!(0>=a.length)){var b="cftdpb_"+Math.floor(1E13*Math.random()),d=document.createElement("iframe");d.id=b;d.style.display="none";d.onload=function(){for(var b=d.contentWindow.document,
c=0;c<a.length;c++)if("https:"===location.protocol&&(a[c].url=a[c].url.split("http:").join("https:")),"script"===a[c].type){var f=document.createElement("script");f.type="text/javascript";f.src=a[c].url;b.body.appendChild(f)}else"image"===a[c].type&&((new Image).src=a[c].url)};b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(d,b)}}function L(a){return"[object Array]"===Object.prototype.toString.call(a)}function C(a){if("function"===typeof window.__DMP_PROCESSING_CALLBACK_FN){r.dmpIsLoading=
!0;var b=("https:"===document.location.protocol?"https:":"http:")+"?dd_jsonp=__DMP_PROCESSING_CALLBACK_FN&dd_rft=je&oid=dmp_oid",d,c=0,b=b+("&src="+encodeURIComponent(location.href));document.referrer&&(b+="&ref="+encodeURIComponent(document.referrer));a:{d=0;for(var f=document.getElementsByTagName("meta"),e,k;d<f.length;d++)if(k=(e=f[d])&&e.getAttribute("name"),e=e&&e.getAttribute("content"),k&&"keywords"===(k+"").toLowerCase()&&e){d=0;for(f=(e||"").split(",");d<f.length;d++)f[d]=f[d].replace(/(^[\s]+)|([\s]+$)/g,
"");d=f;break a}d=[]}for(;c<d.length;c++)b+="&mtk="+encodeURIComponent(d[c]);for(;2E3<b.length;)b=b.split("&"),b.pop(),b=b.join("&");a?document.write('<script type="text/javascript" src="'+b+'">\x3c/script>'):E(b)}}function E(a){var b=document.createElement("script"),d=document.getElementsByTagName("script")[0];b.type="text/javascript";b.src=a;b.async=!0;-1!==navigator.userAgent.indexOf("Opera")?setTimeout(function(){d.parentNode.insertBefore(b,d)},0):d.parentNode.insertBefore(b,d)}var K=c;if("undefined"===
typeof window[K]){var H=b,D=a,n=d;if("undefined"===typeof window[f])throw Error("Failed initialising library");k.prototype=new x;k.prototype.constructor=k;l.prototype=k.prototype;l.prototype.constructor=l;var r=new k(window[f]);B();window[K]=r;r.processStack();setTimeout(e,1)}}l.libServingName__=c;l[f]=l[f]||new k;"undefined"===typeof l.__ASL_LIB_LOADED&&g();l.__ASL_LIB_LOADED=1})(window)};return{init:function(){var e=!1;g&&(e=!0,g.apply(this,arguments));g=null;return e},isInitialised:function(){return null===
g}}});m("sniffing/SearchContext",["core/KioskedObject","SettingsOBC","tools/general","tools/debug"],u(function(g,e,c){function b(a){for(var b={},c=a.length,e=0;e<c;e+=1)b[a[e].key]=a[e].value;return b}return{construct:function(a){this.$super();a=a||{};this._options=e.mergeDefaults({name:"SearchContext",contextSelector:"body",countryCode:"",parentContextElement:null,settings:[]},a);this._childContexts=[];this.addStatus("processedContextElements");a=this.getOptions();var d=new g({});e.isset(a.parentContextElement)&&
(d=a.parentContextElement.getSettings().clone());this._settings=d=d.mergeSettings(b(a.settings));this.set("enabled");this.detectStatus()},destroy:function(){this.$super()},addChildContext:function(a){this._childContexts.push(a)},detectStatus:function(){this.getSettings().getBool("ui.enabled",!0)?this.set("enabled"):this.unset("enabled");var a=this.getOptions().countryCode;!0!==G("validation/execution").countryValid(this.getSettings(),a)&&(c.log("/SearchContext/","Disabled search context for unsupported country:",
a),this.unset("enabled"));return this},getChildContexts:function(){return this._childContexts},getChildContextSelectors:function(){for(var a=[],b=this.getChildContexts(),c=b.length,e=0;e<c;e+=1)a=a.concat(b[e].getContextSelectors());return a},getContextSelectors:function(){for(var a=this.getOptions().contextSelector.split(","),b=a.length,c=0;c<b;c+=1)a[c]=e.trim(a[c]);return a},getOptions:function(){return this._options},getSettings:function(){return this._settings},setSettings:function(a){this._settings=
a},toString:function(){for(var a=this.getOptions(),b=this.getSettings(),c=this.getChildContexts(),e=c.length,k=[],g=0;g<e;g+=1)k.push(c[g].toString());return JSON.stringify({contextSelector:a.contextSelector,contextEnabled:a.contextEnabled,settings:b.getSettingsObject(),children:"--children--"}).replace('"--children--"',"["+k.join(",")+"]")}}}));m("sniffing/SnifferUtilities","LocalStorage tools/general tools/dom tools/environment tools/performance tools/native".split(" "),function(g,e,c,b,a,d){var f=
["style","kioskedhash_development","kioskedhash_staging","kioskedhash_production"];return{createElementHash:function(a,d,g){e.isset(d)||(d=0);var p=e.hash(this.processPageURL(b.getPageUrl()).toLowerCase()),s="",s=a instanceof HTMLImageElement?this.processImageURL(c.getImageSource(a)):this.elementAsString(a,f),s=s+d.toString(),s=e.hash(s.toLowerCase());return g+"_"+p+"_"+s},checkFreqMin:function(b,d){if(0<d&&g.storageAvailable()){var c=g.get(b)||0,f=a.getCurrentTimestamp();if(f-c>6E4*d)return g.set(b,
f),!0}return!1},resetFreqMin:function(a){g.set(a,0)},elementAsString:function(a,b){if(!0!==a instanceof HTMLElement)throw new w("Argument must be of type HTMLElement");b=b||f;var d=a.tagName.toLowerCase(),c=a.attributes,e=c.length,g={},t=[],h;for(h=0;h<e;h+=1){var v=c[h].name;0<=b.indexOf(v)||t.push(v)}t.sort();c=t.length;for(h=0;h<c;h+=1)g[t[h]]=a.getAttribute(t[h]);return d+=" "+JSON.stringify(g)},elementHashIsValid:function(a){var b=/^[0-9]{1,6}_[A-Za-z0-9]{8}_[A-Za-z0-9]{8}$/;return e.isString(a)&&
b.test(a)},getMaximumItemsPerRound:function(){return e.isBrowser.internetExplorer11()?h.Config.SNIFFER_MAX_ELEMENTS_PER_CYCLE_STEADY:h.Config.SNIFFER_MAX_ELEMENTS_PER_CYCLE},getPageType:function(){for(var a=0,b=0,c=0,f=d.getElementsByTagName("img"),e=0,g=0,c=0;c<f.length;c+=1)250<f[c].offsetHeight&&300<f[c].offsetWidth&&(e+=1);for(c=0;c<f.length;c+=1)100<f[c].offsetHeight&&180<f[c].offsetWidth&&(g+=1);3>e&&(a+=10);20<g&&(b+=20);3<d.getElementsByTagName("h1").length&&(b+=20);3<d.getElementsByTagName("h2").length&&
(b+=10);50<d.getElementsByTagName("h3").length&&(b+=30);return b>a?"index":"article"},getSnifferItemSkeleton:function(){return{categories:null,context:null,element:null,hash:"",node:null,plugins:[]}},highlightAnalyzedElement:function(a,b,d){if(d&&(b=b.toLowerCase(),a instanceof HTMLElement))switch(b){case "target":a.style.border="solid 8px #00FF00";break;case "title":a.style.backgroundColor="#0000FF";a.style.color="#FFF";break;case "content":a.style.backgroundColor="#FF0000"}},choosePriorityCappingSlot:function(a){for(var b=
0,d=a.length;b<d;b+=1)if(!1===a[b].requiresFreq||this.checkFreqMin(a[b].freqKey,a[b].freqMin))return a[b].divName},processDOMModifications:function(a){a._bodyHTMLCollection=null;var b=a.getSettings();if(b){var c=[],f=b.getInt("ui.media.Banner.interstitialFreqMin",0),e=b.getInt("ui.media.Banner.inScrollFreqMin",0),g=b.getBool("ui.media.Banner.showFloorBanner",!1),b=b.getInt("ui.media.Banner.floorBannerFreqMin",0),t;"undefined"!==typeof window.ITGSInScrollForce&&!0===window.ITGSInScrollForce?c.push("kskdInScroll"):
(f=[{divName:"kskdInterstitial",freqKey:"kskdInterstitialFreqMin",freqMin:f,enabled:0<f,requiresFreq:!0},{divName:"kskdInScroll",freqKey:"kskdInScrollFreqMin",freqMin:e,enabled:0<e,requiresFreq:!0},{divName:"kskdFooter",freqKey:"kskdFloorBannerFreqMin",freqMin:b,enabled:g,requiresFreq:!1}].filter(function(a){return a.enabled}),f=this.choosePriorityCappingSlot(f),("kskdFooter"===f&&g||"kskdFooter"!==f)&&c.push(f));if(0<c.length){var h=5E3,g=function(){var b=!1;try{for(var f=0,e=c.length;f<e;f+=1)a._bodyHTMLCollection=
d.createElement("div"),document.body.appendChild(a._bodyHTMLCollection),a._bodyHTMLCollection.innerHTML+='<div style="width: 5px; height: 5px" id='+c[f]+"></div>"}catch(k){b=!0}if(!1===b)clearInterval(t);else if(h-=100,0>=h)throw clearInterval(t),Error("Sniffer DOM modification never succeeded");};t=setInterval(g,100);g()}}},processImageURL:function(a){var b=e.overrideCall("SnifferUtilities.processImageURL");return b?b(a):a},processPageURL:function(a){var b=e.overrideCall("SnifferUtilities.processPageURL");
return b?b(a):a.replace(/#.*$/,"")}}});m("tools/URLParser",["core/KioskedObject","tools/array"],u(function(g){var e=/#[-_a-zA-Z0-9.%]+$/,c=/^[-_a-zA-Z0-9:/\.@%+~|]+/,b=/\?[-_a-zA-Z0-9=&.+|~"{}^\[\]%;]+/;return{construct:function(a){this._originalURL=a},getFragment:function(){var a;(a=this._matchedFragment)||(a=this.matchRegularExpression(this.getOriginalURL(),e).replace("#",""));return this._matchedFragment=a},getOriginalURL:function(){return this._originalURL},getPath:function(){return this._matchedPath=
this._matchedPath||this.matchRegularExpression(this._originalURL,c)},getQuery:function(){var a;(a=this._matchedQuery)||(a=this.matchRegularExpression(this.getOriginalURL(),b).substring(1));return this._matchedQuery=a},getQueryParameters:function(){var a=this.getQuery(),a=a.replace("&amp;","__AMPERSAND_PLACEHOLDER__"),a=a.split("&"),b={};if(0<a.length)for(var c=0;c<a.length;c+=1){var e=a[c].replace("__AMPERSAND_PLACEHOLDER__","&amp;").split("=");2===e.length&&(b[e[0]]=e[1])}return b},matchRegularExpression:function(a,
b){var c=a.match(b);return c?g.isArray(c)?c[0]:c:""}}}));m("placement/PlacementInputAbstract",["core/AdComponentAbstract","tools/general"],u(function(g){return{construct:function(e,c){this.$super();this._options=g.mergeDefaults({name:"AbstractInput",kioskID:0,order:0},e);this._lastPlacement=null;this._settings=c},getLastPlacement:function(){return this._lastPlacement},getOptions:function(){return this._options},getSettings:function(){return this._settings},process:function(e){this._lastPlacement=
e}}}));h.Config=h.Config||{ANALYTICS_EVENT_NAME:"kioskedAnalytics",ANALYTICS_EVENT_NAME_PROPERTY:"name",ANALYTICS_MODULE_LOG_NAME:"KioskedAnalytics",ANALYTICS_SAMPLERATE_IMMUNE_EVENTS:["pageDataInvalid"],ANALYTICS_TARGET_DOMAIN_PRODUCTION:"//events.kiosked.com/u",ANALYTICS_TARGET_DOMAIN_STAGING:"//events.intags.com/u",BANNER_AD_Z_INDEX:10,BANNER_ANIMATION_SPEED_IN:600,BANNER_ANIMATION_SPEED_OUT:600,BANNER_CLASS_NAMES:"BannerSlotAbstract BannerSlot ExternalBannerSlot FloorBannerSlot ExpandableBannerSlot ExpandableBannerLightBoxSlot VastPreroll".split(" "),
BANNER_COMPONENT_LOAD_STATUS:{BUILT:500,BUILT_AND_LOADED:501},BANNER_DISCLAIMER:{HEIGHT_DESKTOP:18,HEIGHT_MOBILE:20},BANNER_SIZE_STANDARDS:{HORIZONTAL:{WIDTH:728,HEIGHT:90},HORIZONTAL_SMALL:{WIDTH:468,HEIGHT:60},VERTICAL:{WIDTH:160,HEIGHT:600},MOBILE:{WIDTH:320,HEIGHT:50},MEDIUM_RECT:{WIDTH:300,HEIGHT:250},VIDEO:{WIDTH:640,HEIGHT:360},INTERSTITIAL:{WIDTH:320,HEIGHT:480}},BANNER_VIS_FRAME_Z_INDEX:5,BANNER_VIS_UPDATE_INTERVAL:400,CACHE:{ZONE_RESPONSE:!1},COUNTRY_CODE_UNKNOWN:"00",DFP_ELEMENT_PLACEMENT_ID_ATTR:"kskd-dfp-placement",
DISCLAIMER_DEFAULT_LINK:"http://page.kiosked.com/who-served-this-ad",DISCLAIMER_DELAY_MAX:8E3,ELEMENT_SEARCH_MODE:{SEARCH:"search",SELECT:"select"},ELEMENT_SELECTION_MODE:{NORMAL:"normal",CUSTOM:"custom"},FIXED_BANNER_DIV_CLASS:"kskdFixedBannerContainer",FIXED_BANNER_Z_INDEX:2147483640,FLASH_PLAYER_NAME:"KskdAdPlayer_v0.2.0.swf",INTERSTITIAL_CLOSING:3,INSCROLL_DESTROY_TIMEOUT:3E3,INSCROLL_DISMISS_TRESHOLD:75,INSCROLL_DISMISS_POSSIBLE:500,INSCROLL_TRICKERY_CONTENT:2E4,IOW_AD_RESPONSE_CB:"_kskd_ad_response",
IOW_AD_RESPONSE_SLOT_PREFIX:"kskd_slot_",IOW_AD_SERVER:{PRODUCTION:"//ads.kiosked.com/ad",DEVELOPMENT:"//adserving-dev.kiosked.iponweb.net/ad"},IOW_GLOBAL_NAMESPACE:"KRTB",IOW_TAGPROVIDER_GLOBAL_NAME:"KRTBTagProvider",KIOSKED_AD_ELEMENT_ID_ATTRIBUTE:"data-kioskid",LIGHTBOX_DIV_CLASS:"kskdLightBoxContainer",META_MAX_KEYWORDS:10,OPERATING_SYSTEM:{UNKNOWN:"unknown",WINDOWS:"win",MAC_OS:"mac",LINUX:"linux"},PERFORMANCE_RESOURCES_PROPS:"redirectStart redirectEnd domainLookupStart domainLookupEnd connectStart connectEnd secureConnectionStart requestStart responseStart responseEnd duration fetchStart initiatorType name startTime".split(" "),
PLACEMENT_ANCHOR_TYPE:{BOX:"box",STUB:"stub",LAUNCHPAD:"launchpad",INTERSTITIAL:"interstitial",IN_SCROLL:"in-scroll",REWARD:"reward"},PLACEMENT_INPUT_MGR_INTERVAL:400,PLACEMENT_TYPE:{UNDEFINED:"",IN_MEDIA:"in-media",IN_LINE:"in-line",IN_SCREEN:"in-screen",IN_SCROLL:"in-scroll",INTERSTITIAL:"interstitial",REWARD:"reward"},RTB_PERCENTAGE_ATF:.5,RTB_POS:{UNKNOWN:0,ABOVE_FOLD:1,BELOW_FOLD:3},SAMPLE_RATE_PAGE_IMP:.1,SAMPLE_RATE_CONTAINER_IMP:.1,SAMPLE_RATE_CONTAINER_OPP:.1,SAMPLE_RATE_PAGE_TIMINGS:.1,
SAMPLE_RATE_SEND_ALL:1,SAMPLE_RATE_VIDEO:.1,SAMPLE_RATE_WATERFALL:.1,SAMPLE_RATE_KSKD_ERRORS:.025,SAMPLE_RATE_KSKD_MEMORY_PROFILING:.025,SETTINGS_AB_TEST_OVERRIDE_NONE:0,SETTINGS_AB_TEST_OVERRIDE_FAIL:1,SETTINGS_AB_TEST_OVERRIDE_PARTIAL:2,SETTINGS_AB_TEST_OVERRIDE_FULL:3,SETTINGS_CONDITION_VALUE:{DEFAULT:"default",ACCOUNT:"account",URI:"URI",ZONE:"zone",CSS_SELECTOR:"css-selector"},SETTINGS_DEVICE_TARGET:{ANY:0,DESKTOP:1,MOBILE:2,TABLET:3},SNIFFER_BLOCK_PARAM:"kskd-disable",SNIFFER_ELEMENT_QUEUE_DELAY:500,
SNIFFER_INTERVAL:500,SNIFFER_MAX_ELEMENTS_PER_CYCLE:15,SNIFFER_MAX_ELEMENTS_PER_CYCLE_STEADY:5,SAMPLE_RATE_RANDOM_CURRENT:1,VAST_VIDEO_FORMAT_UNKNOWN:0,VAST_VIDEO_FORMAT_FLASH:1,VAST_VIDEO_FORMAT_HTML5:2,VERSION:"4.18.1",WATERFALL_RULE_FILTER:{DEVICE:"device_family",LOCATION:"location",OS:"os",URI:"uri"},ZONE_DATA_URL_SUFFIX:"/ssp/zone-data",ZONE_REPORT_URL_SUFFIX:"/matching-report/report"};m("components/ScrollerComponent",["core/KioskedObject","tools/dom","tools/compatibility"],u(function(g,e){return{construct:function(c,
b){this.$super();this.latestKnownScrollY=0;this.ticking=!1;this.element=c;this.updateCallback=b;this.removeHandler=null},start:function(){this.removeHandler=g.addEvent(this.element,"scroll",e.bindFunction(this.onScroll,this)).remove},onScroll:function(c){this.latestKnownScrollY=c.target.scrollTop||this.element.scrollTop||this.element.scrollY||c.target.documentElement.scrollTop;this.requestTick(c)},requestTick:function(c){this.ticking||requestAnimationFrame(e.bindFunction(this.update,this,c));this.ticking=
!0},update:function(c){var b=this.latestKnownScrollY;this.ticking=!1;this.updateCallback.call(this,b,c)},destroy:function(){this.removeHandler();this.$super()}}}));m("placement/DisclaimerBarAbstract",["components/DisplayComponent","locators/StylesLocator","tools/general","tools/dom"],u(function(g,e,c){return{construct:function(b){b=b||{};this._options=e.mergeDefaults({disclaimerLink:h.Config.DISCLAIMER_DEFAULT_LINK,external:!0,showDisclaimer:!1},b);if(0>=this._options.disclaimerLink.length)throw Error("Disclaimer link was empty");
this._adsLogoDisclaimerContainer=this._closeButtonContainer=null;this.$super()},build:function(){this.$super();this.unset("built");this._closeButtonContainer=c.create("div");this._adsLogoDisclaimerContainer=c.create("div");this.set("built")},destroy:function(){c.destroy(this._closeButtonContainer);c.destroy(this._adsLogoDisclaimerContainer);this._adsLogoDisclaimerContainer=this._closeButtonContainer=null;this.$super()},getCloseButtonContainer:function(){return this._closeButtonContainer},getAdsLogoDisclaimerContainer:function(){return this._adsLogoDisclaimerContainer},
getHeight:function(){return"default"===g.getStyling().getDeviceType()?h.Config.BANNER_DISCLAIMER.HEIGHT_DESKTOP:h.Config.BANNER_DISCLAIMER.HEIGHT_MOBILE},getHeightOutsideBanner:function(){return!0===this.getOptions().external?this.getHeight():0},getOptions:function(){return this._options}}}));m("Analyzer","core/KioskedObject sniffing/SnifferUtilities SettingsOBC tools/general tools/communication tools/environment tools/debug tools/dom tools/native".split(" "),u(function(g,e,c,b,a,d,f,l){function k(a){if(!a)return null;
-1===a.indexOf("http:")&&-1===a.indexOf("https:")&&(a=window.location.protocol+"//"+x(a)+a);if(-1<a.indexOf(".jpg")||-1<a.indexOf(".png")||-1<a.indexOf(".gif"))return null;for(var b=x.call(this,a),d=this.getMediaSettings().getSubset("ui").get("hostNames","").split(","),f=0;f<d.length;f+=1)d[f]=c.trim(d[f]);for(var f=!1,e=0;e<d.length;e+=1)3<d[e].length&&-1!==b.indexOf(d[e])&&(f=!0);return!1===f?null:a}function x(a){var b=l.createElement("a");b.href=a;return b.hostname}function p(a,b){try{if(a instanceof
HTMLElement){if(b){a=a.cloneNode(!0);for(var e=f.query(b,a),k=0;k<e.length;k+=1)e[k]instanceof HTMLElement&&f.destroy(e[k])}return c.trim(f.getPlainText(a)).replace(/(\r\n|\n|\r)/gm," ").replace(/\s+/g," ")}}catch(p){d.log("could not process element content",p)}return""}function h(a){if(!a)return 0;a=a.replace(/(\r\n|\n|\r)/gm," ");a=a.replace(/[ ]{2,}/gi," ");a=a.replace(/(^\s*)|(\s*$)/gi,"");return""===a?0:a.split(" ").length}function q(a,b,d){var e="",k=0,p;b=f.query(a,b);for(var l=0;l<b.length;l+=
1){a=c.trim(f.getPlainText(b[l]));var t=window.getComputedStyle(b[l],null).getPropertyValue("font-size"),t=parseFloat(t);2<h.call(this,a)&&t>k&&(e=a,k=t,p=b[l])}if(d&&k>d)return g.highlightAnalyzedElement(p,"title",this.debugMode),e;if(d)return"";g.highlightAnalyzedElement(p,"title",this.debugMode);return e}function t(a,b){var d="",e=f.query("h1",a),k=0<e.length?c.trim(f.getPlainText(e[0])):"",p=l.getElementsByTagName("body")[0];if(0===d.length&&(0<k.length&&(d=k,g.highlightAnalyzedElement(e[0],"title",
this.debugMode)),b&&0===d.length&&(d=q.call(this,"h1",p,55)),b&&0===d.length&&(d=q.call(this,"h2",p,55)),b&&0===d.length&&(d=q.call(this,"h3",p,55)),0===d.length&&(e=f.query("h2",a),d=k=0<e.length?c.trim(f.getPlainText(e[0])):"",g.highlightAnalyzedElement(e[0],"title",this.debugMode)),0===d.length&&(d=f.query("h3",a),d=k=0<d.length?c.trim(f.getPlainText(d[0])):"",g.highlightAnalyzedElement(a,"title",this.debugMode)),0===d.length&&(d=q.call(this,"h1",a.parentNode),0===d.length&&(d=q.call(this,"h2",
a.parentNode)),0===d.length&&(d=q.call(this,"h3",a.parentNode)),0===d.length))){d=q.call(this,"h1",a.parentNode.parentNode);0===d.length&&(d=q.call(this,"h2",a.parentNode.parentNode));0===d.length&&(d=q.call(this,"h3",a.parentNode.parentNode));if(0===d.length&&b)for(k=l.getElementsByTagName("meta"),e=0;e<k.length;e+=1)"og:title"===k[e].getAttribute("property")&&(d=k[e].getAttribute("content"));0===d.length&&(d=q.call(this,"h1",p),0===d.length&&(d=q.call(this,"h2",p)),0===d.length&&(d=q.call(this,
"h3",p)))}return d}function B(a,b){var d="",e=f.query("figcaption",a);if(e=(e=0<e.length?f.getPlainText(e[0]):!1)?c.trim(e):!1)d=e;else for(var e=f.query("a",a),k=0;k<e.length;k+=1)if(b.link&&e[k].getAttribute("href")===b.link){var p=c.trim(f.getPlainText(e[k]));5<h.call(this,p)&&(d=p)}return d}return{MIN_WORD_COUNT:30,MAX_WORD_COUNT:300,construct:function(a){this.zoneAnalysis=this.pageAnalysis=null;this._settings={};this._zoneReportURL=a.zoneReportURL||null;if(c.isEmpty(this._zoneReportURL))throw new w("Unset zone-report URL");
this._settings=new e({});a&&(!0===a.debugMode&&(this.debugMode=!0),c.isset(a.settings)&&(this._settings=a.settings.getSubset("ui.analyzers"),this._mediaSettings=a.settings))},getSettings:function(){return this._settings},getMediaSettings:function(){return this._mediaSettings},analyzePage:function(b,d,c){var e="article";!1===this.getMediaSettings().getBool("ui.sniff.disableIndexPageAnalysis",!1)&&(e=g.getPageType(b));for(var k=b="",p=l.getElementsByTagName("title")[0],p=p?f.getPlainText(p):"",t=l.getElementsByTagName("meta"),
x=0;x<t.length;x+=1){var h=t[x].getAttribute("property"),s=t[x].getAttribute("name");""===p&&"title"===s&&(p=t[x].getAttribute("content"));""===p&&"og:title"===h&&(p=t[x].getAttribute("content"));""===b&&"og:description"===h&&(b=t[x].getAttribute("content"));""===b&&"description"===s&&(b=t[x].getAttribute("content"));"keywords"===s&&(k=t[x].getAttribute("content"))}b={title:p,description:b,keywords:k};this.pageType=e;this.pageAnalysis=b;this.pageAnalysis.url=g.processPageURL(a.getPageUrl());this.pageAnalysis.type=
"webPage";this.pageAnalysis.albumId=d;this.pageAnalysis.publisherId=c;this.pageAnalysis.pageType=e;return this.pageAnalysis},analyzeZones:function(b){var c=[],f=g.processPageURL(a.getPageUrl());this.pageType||(this.pageType=g.getPageType(b));for(var e=0;e<b.length;e+=1){g.highlightAnalyzedElement(b[e].img,"target",this.debugMode);var x;a:{var q=b[e];x=this.pageType;var D=q.img,n={pageUrl:f,id:q.zoneId},r=0;n.type="webImage";n.responseTypes=q.responseTypes;if(D instanceof HTMLImageElement&&D.src&&
0<D.src.length){if(n.url=D.src,!this.isValidResourceURL(n.url)){d.warn("/Analyzer/","Invalid image URL",D);x=!1;break a}}else n.url=q.zoneId;n.width=D.offsetWidth;n.height=D.offsetHeight;n.alt=D.getAttribute("alt");if("index"===this.pageType){for(var q=void 0,m=D.parentNode;m&&m.parentNode;){if("A"===m.tagName.toUpperCase()&&m.getAttribute("href")){q=m.getAttribute("href");break}m=m.parentNode}if(q=k.call(this,q))n.link=a.getImageFullURL(q)}var A=this.getSettings().getSubset("GeneralAnalyzer"),r=
A.get("forceContentElement",!1),q=A.get("excludeContentElement",!1),m=A.get("minWordCount",this.MIN_WORD_COUNT),A=A.get("minWordCount",this.MAX_WORD_COUNT),y=!1,z=D,J="";if(r=r?l.querySelector(r):!1)z=r,J=p(z,q),n.content=J,n.caption=B.call(this,z,n),n.title=t.call(this,z,x),n.width=D.offsetWidth,n.height=D.offsetHeight,g.highlightAnalyzedElement(z,"content",this.debugMode);else for(;!1===y;){if("BODY"===z.parentNode.tagName.toUpperCase()||"HTML"===z.parentNode.tagName.toUpperCase())y=!0;J=p(z,q);
r=h.call(this,J);if(r>m){var y=z.parentNode,I=p(y,q),r=h.call(this,I);r<A?(n.content=I,n.caption=B.call(this,y,n),n.title=t.call(this,y,x)):(n.content=J,n.caption=B.call(this,z,n),n.title=t.call(this,z,x));n.width=D.offsetWidth;n.height=D.offsetHeight;g.highlightAnalyzedElement(z,"content",this.debugMode);y=!0}z=z.parentNode}x=n}x?c.push(x):d.warn("/Analyzer/","Failed analysis for item:",b[e])}return this.zoneAnalysis=c},getPageAnalysis:function(){this.pageAnalysis&&(this.pageAnalysis.url=g.processPageURL(a.getPageUrl()));
return this.pageAnalysis},isValidResourceURL:function(a){return/https?:\/\/[a-zA-Z0-9._-]+\/([^ ])*/i.test(a)},sendAnalysis:function(a){var c=this._zoneReportURL,f=[];a&&this.pageAnalysis&&f.push(this.pageAnalysis);if(this.zoneAnalysis){for(a=0;a<this.zoneAnalysis.length;a+=1)f.push(this.zoneAnalysis[a]);b.sendRequest({destination:c,method:"POST",errorCallback:function(){throw Error("(Kiosked) Failed sending page analysis");},data:{json:JSON.stringify(f)}}).then(function(){d.log("/Analyzer/","(Page Analysis)",
"Successfully sent page analysis.")})}}}}));m("placement/PlacementAnchorAbstract","core/AdComponentAbstract placement/DisclaimerBarAbstract locators/StylesLocator tools/general tools/device tools/dom".split(" "),u(function(g,e,c,b,a){return{construct:function(a,f){this.$super();f=f||{};var l=this._options=c.mergeDefaults({anchorType:!1,disclaimer:null,kioskID:"",placementType:null,refreshEnabled:!0,scaleEnabled:!0},f);if(0>=l.kioskID.length)throw Error("Kiosk ID was empty");if(!0!==l.disclaimer instanceof
g)throw Error("Disclaimer was not an instance of DisclaimerBarAbstract");this.addStatus("visible");this.addStatus("beenVisible");this.addStatusSet(["desktopAnchor","mobileAnchor"]);this._targetElement=a;this._disclaimer=this._visibilityDetectionFrame=this._adContainerElement=this._anchorElement=null;this._RTBPosition=h.Config.RTB_POS.UNKNOWN;e.getStyling().placeHeaderStylesheetWithNamespace("clearStyles_"+this.getOptions().kioskID,this.getOptions().kioskID);b.isMobile()?this.set("mobileAnchor"):this.set("desktopAnchor")},
destroy:function(){this.unset("visible");this._disclaimer&&this._disclaimer.destroy();this._anchorElement&&(a.destroy(this._anchorElement),this._visibilityDetectionFrame=this._adContainerElement=this._anchorElement=null);this.$super()},appendAdElement:function(a){this.getAdContainerElement().appendChild(a)},applyPosition:function(a){var b=this.getAdContainerElement();b.style.left=a.left+"px";b.style.top=a.top+"px"},buildVisibilityDetectionFrame:function(){},createAnchorElement:function(){if(null===
this._anchorElement){var b=this.getOptions().kioskID;this._anchorElement=a.create("div",{cssClass:"kskdCls",style:{position:"relative",display:"block",width:"0px",height:"0px",clear:"both"},id:"kskd"+b})}},createContainerElement:function(){null===this._adContainerElement&&(this._adContainerElement=a.create("div",{},this.getAnchorElement()),e.getStyling().selectStyle("AdContainerElement").applyToElement(this._adContainerElement))},getAdContainerElement:function(){return this._adContainerElement},getAnchorElement:function(){return this._anchorElement},
getDisclaimer:function(){return this._disclaimer},getOptions:function(){return this._options},getRTBPosition:function(){return this._RTBPosition},getTargetElement:function(){return this._targetElement},getVisibilityDetectionFrame:function(){return this._visibilityDetectionFrame},isVisible:function(){if(this.getVisibilityDetectionFrame()){var a=c.isOnScreen(this._visibilityDetectionFrame);(a=!1!==a&&50<=a)?(this.set("visible"),this.set("beenVisible")):this.unset("visible");return a}return!1},prepareDisclaimer:function(){var a=
this.getAdContainerElement();this._disclaimer=this.getOptions().disclaimer;a.appendChild(this._disclaimer.getContainer())},setRTBPosition:function(a){this._RTBPosition=a},updateLayout:function(a){var b=this.getAdContainerElement();b.style.width=a.width+"px";b.style.height=a.height+"px"}}}));m("messaging/MessageSourceAbstract",["core/KioskedObject","tools/general"],u(function(g){return{construct:function(e){this.$super();this._options=g.mergeDefaults({name:"MessageSourceAbstract"},e||{})},canReceiveMessage:function(){return!1},
getOptions:function(){return this._options},sendMessage:function(){return!1}}}));m("messaging/MessageHandlerAbstract",["core/KioskedObject","tools/general"],u(function(g){return{construct:function(e){this.$super();this._gcs=null;this._options=g.mergeDefaults({name:"MessageHandlerAbstract"},e||{})},canHandleMessage:function(){return!1},captures:function(){return!1},getGCS:function(){return this._gcs},getOptions:function(){return this._options},handleMessage:function(){},setGCS:function(e){this._gcs=
e}}}));m("placement/PlacementContainer","core/AdComponentAbstract placement/PlacementInputManager locators/GrandCentralStationLocator Destructors tools/compatibility tools/environment".split(" "),u(function(g,e,c,b,a){function d(){var a=this;this.getPlacement().subscribe("buildFailed",function(){c.destroyPlacementContainer(a)})}return{construct:function(a){this.$super();this._placement=a;this._inputManager=new g;this._inputManager.setPlacement(a);d.call(this);this._firePageImpression()},destroy:function(){var a=
this,d=b.bindFunction(this.$super,this);this._inputManager.destroy();this._inputManager=null;return this._placement.destroy().then(function(){a._placement=null;d()})},getInputManager:function(){return this._inputManager},getPlacement:function(){return this._placement},isHealthy:function(){return this.getPlacement()&&this.getInputManager()?this.$super()&&this.getPlacement().isHealthy()&&this.getInputManager().isHealthy():!1},_firePageImpression:function(){var b=e.getGrandCentralStation();if(h.hasNot("firedPageImpression")){h.set("firedPageImpression");
b.dispatch("timingEvent",{name:"firstMediaCreated"});var d=this.getPlacement().getSettings().getInt("ui.media.analytics.pageImpressionDelay",1250),c=this.getPlacement().getOptions().kioskID;setTimeout(function(){h.hasNot("sentPageImpression")&&(h.set("sentPageImpression"),a.getAnalyticsPageData().then(function(a){a[h.Config.ANALYTICS_EVENT_NAME_PROPERTY]="pageImpression";b.dispatch(h.Config.ANALYTICS_EVENT_NAME,a);b.dispatch("mediaPageImpression");b.dispatch("timingEvent",{name:"pageImpression",properties:{kioskID:c}})}))},
d)}}}}));m("adfill/VASTVideoAdAbstract",["core/AdComponentAbstract","locators/GrandCentralStationLocator"],u(function(g){return{construct:function(e){this.$super();this._VASTResponseText=e;this._kioskID="000000";this._size={width:h.Config.BANNER_SIZE_STANDARDS.VIDEO.WIDTH,height:h.Config.BANNER_SIZE_STANDARDS.VIDEO.HEIGHT};this._videoOptions={}},destroy:function(){this.$super()},getKioskID:function(){return this._kioskID},getVideoOptions:function(){return this._videoOptions},getSize:function(){return this._size},
getVASTResponseText:function(){return this._VASTResponseText},initialise:function(){return Promise.resolve()},setKioskID:function(e){this._kioskID=e},setVideoOptions:function(e){this._videoOptions=e},setupInContainer:function(){},start:function(){},_adCompleted:function(){this.publish("adCompleted");h.publish("videoCompleted",this.getKioskID())},_adErrored:function(){g.getGrandCentralStation().dispatch("videoFallback",{id:this.getKioskID()});h.publish("videoFallback",{id:this.getKioskID()});this.publish("adErrored")},
_adLoaded:function(){this.publish("adLoaded");h.publish("videoLoaded",this.getKioskID())},_adStarted:function(){this.publish("adStarted");h.publish("videoStarted",this.getKioskID())}}}));m("adfill/AdFillBanner",["adfill/AdFillAbstract","locators/GrandCentralStationLocator","tools/general","tools/debug"],u(function(g,e,c){return{construct:function(b,a){a=e.mergeDefaults({name:"AdFillBanner",sourceURL:""},a);this.$super(b,a)},setup:function(b,a){var d=this,f=this.getAnchor().getOptions().kioskID,e=
function(){g.getGrandCentralStation().dispatch("timingEvent",{name:"bannerCreated",properties:{kioskID:f}});d.publish("waterfallTrickle",{waterfall:b})};return this.$super(b,a).then(function(){return d.createNewAdElement(b,a)}).then(function(a){var f=b.getCurrentStep();f?d.setProportions(f.proportions):c.warn("/AdFillBanner/","No step from waterfall");return a}).then(function(a){if(!a)throw new w("No ad element was created");d._adElement=a;d._adElement.subscribe("adCompleted",function(){d.publish("adCompleted")});
!0===d.getOptions().viewabilityEnabled&&0===b.getCurrentStepIndex()?(d._adElement.bundleApplicator(e),d.set("loaded")):(e(),d._adElement.applyInitialisation().then(function(){d.set("loaded")}));return d._adElement})},updateLayout:function(){this.$super();var b;try{b=this.getAdElement().getScalingElement()}catch(a){}b&&(b.style.transformOrigin="0% 100%",b.style.msTransformOrigin="0% 100%",b.style.WebkitTransformOrigin="0% 100%",b.style.OTransformOrigin="0% 100%",b.style.visibility="visible",b.style.display=
"block",b.style.position="absolute",b.style.bottom="0px",b.style.marginBottom="0px")}}}));m("GrandCentralStation","core/EventDispatcher sniffing/SnifferUtilities analytics/TimingReportController analytics/KioskedAnalytics messaging/AppNexusMessageHandler messaging/FallbackMessageHandler tools/general tools/debug tools/environment tools/performance".split(" "),u(function(g,e,c,b,a,d,f,l,k){function x(){var a=this;this.addListener("mediaSettingsApplied",function(b){a._adMaximums=d.mergeDefaults(a._adMaximums,
b.settings.getSubset("ui.sniff.maxProviderAds").getSettingsObject());a._maxPlugins=d.mergeDefaults(a._maxPlugins,b.settings.getSubset("ui.media.maxPlugins").getSettingsObject())});this.addListener("BannerDestroyedForSizeRestriction",function(b){a._numPlugins.hasOwnProperty(b.type)&&0<a._numPlugins[b.type]&&(a._numPlugins[b.type]-=1)});this._windowMessageListener=function(b){a.processMessage(b)};window.addEventListener("message",this._windowMessageListener,!1);this.addListener("bannerSlotProviderChanged",
function(b){var c=b.from,e=b.to;f.log("Banner provider changed from '"+c+"' to '"+e+"'");a._adCounts.hasOwnProperty(e)||(a._adCounts[e]=0);a._adCounts[e]+=1;d.isString(c)&&(a._adCounts[c]-=1);var c=a.getMaximumAdsForProvider(e),k=!0;0<=c&&a._adCounts[e]>c&&(f.log("/GrandCentral/","Preventing provider: "+e),k=!1,a.dispatch("bannerProviderLimitBreached",{bannerSlot:b.bannerSlot,provider:e}));k&&f.log("/GrandCentral/","Allowing provider: "+e)});this.addListener("bannerSlotDestroyed",function(b){b.adProvider&&
0<b.adProvider.length&&a._adCounts.hasOwnProperty(b.adProvider)&&(a._adCounts[b.adProvider]-=1,0>a._adCounts[b.adProvider]&&(a._adCounts[b.adProvider]=0))});this.addListener("shouldDestroy",function(a){h.sniffer&&h.sniffer.clearState(!1!==a.unmark)});this.addListener(h.Config.ANALYTICS_EVENT_NAME,function(b,d){a.getAnalyticsModule().processEvent(b,d)});this.addListener("timingEvent",function(b){if(!d.isset(b.name))throw Error("(Kiosked) No timing event name specified");b.properties=b.properties||
{};b.time=b.time||k.getCurrentTimestamp();a.prepareTimingController().then(function(a){a.registerEvent(b.name,b.properties,b.time)})})}return{construct:function(e){e=e||{};this._options=d.mergeDefaults({name:"GrandCentralStation"},e);this.$super();this._adCounts={};this._adMaximums={};this._numPlugins={};this._maxPlugins={};this._messageHandlers=[b,a];this._timingController=this._analyticsModule=null;this._analyticsModule=new c;e=l.getDeviceType();f.log("/GrandCentralStation/","Recognised device: "+
e);x.call(this)},destroy:function(){if("function"===typeof this._windowMessageListener)try{window.removeEventListener("message",this._windowMessageListener,!1)}catch(a){}this.$super()},libraryInit:function(){h.Config.SAMPLE_RATE_RANDOM_CURRENT=Math.random();var a=d.overrideCall("GrandCentralStation.libraryInit");if(a)try{a()}catch(b){f.warn("/GrandCentralStation/","Library init failed:",b.message)}},getAnalyticsModule:function(){return this._analyticsModule},getEventHash:function(){var a=l.getPageUrl(),
a=g.processPageURL(a),b=l.getPublisherID();return l.generateEventHash(b,a)},getMaximumAdsForProvider:function(a){return this._adMaximums.hasOwnProperty(a)?this._adMaximums[a]:-1},getMaximumNumPluginsPerType:function(a){return this._maxPlugins.hasOwnProperty(a)?parseInt(this._maxPlugins[a],10):-1},isPluginLimitReached:function(a){var b=this.getMaximumNumPluginsPerType(a);if(0>b)return!1;if(0===b)return!0;if(this._numPlugins.hasOwnProperty(a))return this._numPlugins[a]<b?(this._numPlugins[a]+=1,!1):
!0;this._numPlugins[a]=1;return!1},prepareTimingController:function(){var a=this;return new Promise(function(b){null===a._timingController&&(a._timingController=new e);b(a._timingController)})},processMessage:function(a){for(var b=this._messageHandlers.length,d=0;d<b;d+=1)try{var c=new this._messageHandlers[d];c.setGCS(this);if(c.canHandleMessage(a)&&(c.handleMessage(a),c.captures()))break}catch(e){f.warn("/GrandCentralStation/","Failed finding class for message handler: "+this._messageHandlers[d])}}}}));
m("iow/IOWManager","core/KioskedObject iow/IOWProxy iow/lib locators/PlacementContainerLocator locators/GrandCentralStationLocator tools/environment".split(" "),u(function(g,e,c,b,a){function d(a){a.subscribe("iowRender",function(a){if(a=c.getPlacementContainerByID(a.kioskID))a.getPlacement().getWaterfallTrickleData().then(function(a){a[h.Config.ANALYTICS_EVENT_NAME_PROPERTY]="waterfallRender";b.getGrandCentralStation().dispatch(h.Config.ANALYTICS_EVENT_NAME,a)});else throw new w("Failed finding placement container for IOW render event");
})}return{construct:function(){this.$super();this._proxy=null},getProxy:function(){null===this._proxy&&(this._proxy=new g,d(this._proxy));return this._proxy},getTagProvider:function(){return window[h.Config.IOW_TAGPROVIDER_GLOBAL_NAME]?window[h.Config.IOW_TAGPROVIDER_GLOBAL_NAME]:null},prepareLibrary:function(){return new Promise(function(b,d){e.isInitialised()?b():e.init(function(){b()},h.Config.IOW_GLOBAL_NAMESPACE,a.getIOWAdServerURL(),h.Config.IOW_AD_RESPONSE_CB,h.Config.IOW_AD_RESPONSE_SLOT_PREFIX,
h.Config.IOW_TAGPROVIDER_GLOBAL_NAME)||d("Unable to initialise IOW")})}}}));m("adelement/AdElement",["core/AdComponentAbstract","tools/general","tools/debug","tools/dom"],u(function(g,e,c){return{construct:function(b){this.$super();b=b||{};this._options=g.mergeDefaults({kioskID:"",refreshEnabled:!0},b);this.addStatus("loaded");this._loadedTimeout=this._scalingElement=this._applicator=null},applyInitialisation:function(){if(!g.isset(this.getApplicator()))return Promise.resolve();if(!g.isset(this.getScalingElement()))throw new w("No scaling element set for AdElement");
var b=this.getApplicator()(),a=this;this._applicator=null;this._loadedTimeout=setTimeout(function(){a.isNot("loaded")&&(e.warn("/AdElement/","Never received load event from ad"),a.publish("neverLoaded"))},1E4);return b},bundleApplicator:function(b){var a=this.getApplicator();this._applicator=function(){b();return a()}},destroy:function(){c.destroy(this.getScalingElement());this._applicator=this._scalingElement=null;clearTimeout(this._loadedTimeout);this.$super()},getApplicator:function(){return this._applicator},
getOptions:function(){return this._options},getScalingElement:function(){return this._scalingElement},removeScaling:function(){var b=this.getScalingElement();b.style.WebkitTransform="none";b.style.MozTransform="none";b.style.msTransform="none";b.style.OTransform="none";b.style.transform="none"},scaleElement:function(b,a){var d=this.getScalingElement();d.style.setProperty("width",b.width+"px","important");d.style.setProperty("height",b.height+"px","important");d.style.WebkitTransform="scale("+a+")";
d.style.MozTransform="scale("+a+")";d.style.msTransform="scale("+a+")";d.style.OTransform="scale("+a+")";d.style.transform="scale("+a+")"},setApplicator:function(b){this._applicator=b},setScalingElement:function(b){this._scalingElement=b;b=this.getOptions().zIndex;this._scalingElement.style.zIndex=!1===g.isEmpty(b)&&"auto"!==b?b:h.Config.BANNER_AD_Z_INDEX},waitForLoad:function(){var b=this;return new Promise(function(a,d){var c=setInterval(function(){b?b.is("loaded")&&(clearInterval(c),a()):(clearInterval(c),
d())},100)})}}}));m("UnloadManager",function(){var g=function(){var e=this;this._regularDestructors=[];this._priorityShutdownHandlers=[];this._beforeUnloadHandler=function(){e.shutdown()};window.addEventListener("beforeunload",this._beforeUnloadHandler,!1)};g.prototype.destroy=function(){window.removeEventListener("beforeunload",this._beforeUnloadHandler,!1)};g.prototype.registerShutdownHandler=function(e,c){c&&c!==g.PRIORITY_LOW?this._priorityShutdownHandlers.push(e):this._regularDestructors.push(e)};
g.prototype.shutdown=function(){for(var e=this._priorityShutdownHandlers.concat(this._regularDestructors),c=e.length,b=0;b<c;b+=1)try{e[b]()}catch(a){console.warn("(Kiosked) Failed executing destructor: ",e[b])}this._regularDestructors=[];this._priorityShutdownHandlers=[]};g.PRIORITY_HIGH=100;g.PRIORITY_LOW=110;return g});m("tools/dom","tools/general tools/performance tools/debug tools/array tools/query tools/native".split(" "),function(g,e,c,b,a,d){var f="",l={addAttributes:function(a,b){for(var d in b)if(b.hasOwnProperty(d))try{a[d]=
b[d]}catch(c){}},addEvent:function(a,b,d){if(a instanceof HTMLElement||l.isWindow(a)){a.addEventListener(b,d,!1);var c={remove:function(){l.removeEvent(a,b,d);delete c.remove}};return c}throw new w("Parameter not an instance of HTMLElement");},addEvents:function(a,b,d){var c=[];b.split(" ").forEach(function(b){c.push(l.addEvent(a,b,d))});return c},calculateRTBPosition:function(a,b,d){a=a.top;var c=g.getWindowSize().height;return d?h.Config.RTB_POS.ABOVE_FOLD:a-b*h.Config.RTB_PERCENTAGE_ATF<c?h.Config.RTB_POS.ABOVE_FOLD:
h.Config.RTB_POS.BELOW_FOLD},create:function(a,b,c,f){a=d.createElement(a);a.className="kskdDiv";if(b){if(b.className){for(var e=b.className.split(" "),g=b.design?b.design:!1,h=0;h<e.length;h+=1)O.setStyle(a,e[h],g);delete b.className}b.style&&(O.style(a,b.style),delete b.style);b.cssClass&&(a.className="kskdDiv "+b.cssClass);this.addAttributes(a,b)}c&&(f&&"first"===f?c.insertBefore(a,c.firstChild):f instanceof HTMLElement&&l.isDescendant(c,f)?c.insertBefore(a,f.nextSibling):c.appendChild(a));return a},
destroy:function(a){if(a instanceof HTMLElement){var b=a.parentNode;b&&b.removeChild(a)}},DOMIsReady:function(){return 0<=["interactive","complete"].indexOf(document.readyState)},getAbsoluteOffsetRect:function(a){a=a.getBoundingClientRect();var b=document.body,d=document.documentElement,c=a.left+(window.pageXOffset||d.scrollLeft||b.scrollLeft)-(d.clientLeft||b.clientLeft||0);return{top:Math.round(a.top+(window.pageYOffset||d.scrollTop||b.scrollTop)-(d.clientTop||b.clientTop||0)),left:Math.round(c)}},
getAllElementsOfType:function(a){return Array.prototype.slice.call(d.getElementsByTagName(a))},getBorderSizing:function(a){var b=document.defaultView.getComputedStyle(a,"");a=parseInt(b.borderLeftWidth,10);var d=parseInt(b.borderRightWidth,10),c=parseInt(b.borderTopWidth,10),f=parseInt(b.borderBottomWidth,10),e=parseInt(b.paddingLeft,10),g=parseInt(b.paddingRight,10),l=parseInt(b.paddingTop,10),h=parseInt(b.paddingBottom,10),m=parseInt(b.marginLeft,10),E=parseInt(b.marginRight,10),K=parseInt(b.marginTop,
10),b=parseInt(b.marginBottom,10);return{border:{left:a,right:d,top:c,bottom:f},margin:{left:m,right:E,top:K,bottom:b},padding:{left:e,right:g,top:l,bottom:h}}},getElementOffset:function(a,b,d){var c,f,e=0,g=0,h,m,C,E,K,H,D,n,r,R,A,y;b||(y=document.defaultView.getComputedStyle(a,""),h=parseInt(y.borderLeftWidth,10),m=parseInt(y.borderRightWidth,10),C=parseInt(y.borderTopWidth,10),E=parseInt(y.borderBottomWidth,10),K=parseInt(y.paddingLeft,10),H=parseInt(y.paddingRight,10),D=parseInt(y.paddingTop,
10),n=parseInt(y.paddingBottom,10),r=parseInt(y.paddingLeft,10),R=parseInt(y.paddingRight,10),A=parseInt(y.paddingTop,10),y=parseInt(y.paddingBottom,10));d||(c=a.offsetWidth,f=a.offsetHeight);b=a&&a.ownerDocument;d={top:0,left:0};b&&(g=b.documentElement,a.getBoundingClientRect&&(d=a.getBoundingClientRect()),a=l.getWindow(g),e=d.top+a.pageYOffset-g.clientTop,g=d.left+a.pageXOffset-g.clientLeft);return{top:e,left:g,height:f,width:c,border:{left:h,right:m,top:C,bottom:E},padding:{left:K,right:H,top:D,
bottom:n},margin:{left:r,right:R,top:A,bottom:y},screen:d}},getElementsWithAttributes:function(a,b){return l.getAllElementsOfType(a).filter(function(a){for(var d in b)if(b.hasOwnProperty(d)){var c=0>=b[d].length;if(c&&!a.hasAttribute(d)||!c&&a.getAttribute(d)!==b[d])return!1}return!0})},getImageSource:function(a){if(a instanceof HTMLImageElement){if(a.src)return a.src;if(a.srcset)return a.srcset}return""},getIntersection:function(a,b){var d=l.getScreenPosition(a),c=l.getScreenPosition(b),f={left:g.getRange(d.left,
c.left),top:g.getRange(d.top,c.top),right:g.getRange(c.left+c.width,d.left+d.width),bottom:g.getRange(c.top+c.height,d.top+d.height)},e=Math.max(0,Math.min(d.left+d.width,c.left+c.width)-Math.max(d.left,c.left)),h=Math.max(0,Math.min(d.top+d.height,c.top+c.height)-Math.max(d.top,c.top)),v=e*h,m={a:d.width*d.height,b:c.width*c.height};return{area:m,cuts:0>f.left||0>f.right||0>f.top||0>f.bottom,difference:f,excluded:{a:m.a-v,b:m.b-v},intersect:{width:e,height:h},screen:{a:d,b:c}}},getMetaKeywords:function(){if(0<
f.length)return f;var a=l.query("meta[name=keywords]"),b=h.Config.META_MAX_KEYWORDS;if(0<a.length){for(var a=a[0].getAttribute("content")||"",a=a.split(",",b),b=a.length,d=0;d<b;d+=1)a[d]=g.trim(a[d]);f=a.join(",")}return f},getNavigationPerfTimingValue:function(a){if(e.navigationTimingSupported())try{var b="undefined"!==typeof window.performance.timing[a]?parseInt(window.performance.timing[a],10):-1;if(0<b)return b}catch(d){c.error("Performance event request failed: "+a)}return!1},getResourceEntryByRegex:function(a){if(e.resourcePerfSupported())try{return window.performance.getEntriesByType("resource").filter(function(b){return a.test(b.name)})}catch(b){c.error("Resource performance request failed: "+
a)}return!1},getPlainText:function(a,b){b=b||["script","style"];var d=a.cloneNode(!0);d.innerHTML=d.innerHTML.replace(/<br>/g,"\n");return g.trim(function q(a){var d="";if(a.tagName&&0<=b.indexOf(a.tagName.toLowerCase()))return d;a.nodeType&&3===a.nodeType&&(d+=a.nodeValue.replace(/\t/g," ").replace(/\n/g," ").replace(/[ ]{2,}/g," "));if(a.childNodes){var c=a.childNodes.length;if(0<c)for(var f=0;f<c;f+=1)d+=q(a.childNodes[f])}return d}(d))},getScreenPosition:function(a){var b={top:0,left:0,width:0,
height:0};a&&a.ownerDocument&&a.getBoundingClientRect&&(b=a.getBoundingClientRect());return b},getWindow:function(a){h.windowObj=h.windowObj?h.windowObj:l.isWindow(a)?a:!1;if(!1===h.windowObj)if(a=Object.getPrototypeOf(a)===document.constructor.prototype?a:a.ownerDocument)h.windowObj=a.defaultView||a.parentWindow;else return!1;return h.windowObj},imageHasLoaded:function(a){if(!(a instanceof HTMLImageElement))throw Error("Expected image type");return!a.complete||"undefined"!==typeof a.naturalWidth&&
0===a.naturalWidth?!1:!0},isDescendant:function(a,b){for(var d=b.parentNode;null!==d;){if(d===a)return!0;d=d.parentNode}return!1},isElement:function(a){return"object"===("undefined"===typeof HTMLElement?"undefined":_typeof(HTMLElement))||"function"===typeof HTMLElement?a instanceof HTMLElement:a&&"object"===("undefined"===typeof a?"undefined":_typeof(a))&&null!==a&&1===a.nodeType&&"string"===typeof a.nodeName},isElementInDocument:function(a){for(;a!==document&&a.parentNode;)a=a.parentNode;return a===
document},isVideoElement:function(a){var b=!1;window.HTMLVideoElement&&(b=a instanceof window.HTMLVideoElement);b||(b=a.tagName?"video"===a.tagName.toLowerCase():!1);return b},isWindow:function(a){a=Object.prototype.toString.call(a);return"[object global]"===a||"[object Window]"===a||"[object DOMWindow]"===a},mouseIsOutside:function(a,b){for(var d=a.relatedTarget||a.toElement||a.fromElement;d&&d!==b;)d=d.parentNode;return d!==b},nodeIdentifier:function(a){var b={getElement:function(){return a},isHTMLElement:function(){return a instanceof
HTMLElement},isIFrame:function(){return a instanceof HTMLIFrameElement},isImage:function(){return a instanceof HTMLImageElement},isVideo:function(){return l.isVideoElement(a)},isYoutubeContainer:function(){return b.isIFrame()&&(-1<a.src.indexOf("youtube.com")||-1<a.src.indexOf("youtu.be"))?!0:!1},nextElementOfType:function(b){var d;for(d=a;d=d.nextSibling;)if(d instanceof b)return d;return null},previousElementOfType:function(b){var d;for(d=a;d=d.previousSibling;)if(d instanceof b)return d;return null}};
return b},onDOMReady:function(a){l.DOMIsReady()?a():document.addEventListener("DOMContentLoaded",function p(){a();document.removeEventListener("DOMContentLoaded",p,!1)},!1)},reloadScriptsInNode:function(a){var b=[];[].forEach.call(a.querySelectorAll("script"),function(a){b.push(new Promise(function(b,c){var f=d.createElement("script");f.setAttribute("type","text/javascript");a.src&&0<a.src.length?(f.onload=b,f.onerror=function(b){c("Failed reloading script: "+a.src+" ("+b.message+")")},f.src=a.src):
(f.innerHTML=a.innerHTML,setImmediate(b));f.id=a.id||"";var e=a.nextSibling,k=a.parentNode;l.destroy(a);k.insertBefore(f,e)}))});return Promise.all(b)},removeEvent:function(a,b,d){if(a instanceof HTMLElement||l.isWindow(a))a.removeEventListener(b,d,!1);else throw new w("Parameter not an instance of HTMLElement");},triggerEvent:function(a,b){var d=document;d.createEvent?("click"===b?(d=d.createEvent("MouseEvents"),d.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null)):d=new Event(b),
a.dispatchEvent(d)):(d=d.createEventObject(),a.fireEvent("on"+b,d))}};l.query=a.query;l.queryFirst=a.queryFirst;return l});m("Script",["core/KioskedObject","tools/URLParser"],function(g,e){var c=g.extend({construct:function(b,a){this.$super();a=a||{};this._element=b;this._fromCache=a.hasOwnProperty("fromCache")?a.fromCache:!1},destroy:function(){this.$super()},getElement:function(){return this._element},getSource:function(){return this._element.getAttribute("src")},getQueryParameters:function(){var b=
this.getSource();return(new e(b)).getQueryParameters()},isFromCache:function(){return this._fromCache}});c.createAndInsert=function(b){var a=document.createElement("script");a.src=b;return new Promise(function(b,f){a.onload=function(){b(new c(a))};a.onerror=f;window.document.body.appendChild(a)})};return c});m("sniffing/SearchNode",["core/KioskedObject","sniffing/SearchContext","tools/general","tools/dom"],u(function(g,e,c){return{construct:function(b,a){this.$super();a=a||{};this._options=e.mergeDefaults({name:"SearchNode",
hashAttribute:"",root:!1},a);this._context=b;if(!0!==this._context instanceof g)throw new w("Expected context to be of type SearchContext");this._children=[];this._elementCount=0;var d=this.getContext().getSettings().get("ui.sniff.customElementSelector",!1);this._customSelectors=d?d.split(","):[]},destroy:function(){try{this.getContext().destroy()}catch(b){}this.forEachChild(function(a){a.destroy()});this.$super()},addChild:function(b){this._children.push(b)},applySelectorFilter:function(b){return b+=
':not(*[class*="'+h.Config.SNIFFER_BLOCK_PARAM+'"] '+b+'):not(*[class*="'+h.Config.SNIFFER_BLOCK_PARAM+'"]):not(*[src*="'+h.Config.SNIFFER_BLOCK_PARAM+'"])'},filterItemByBlockedAttributes:function(b){b=b.element;var a=this.getOptions();return b.hasAttribute(a.hashAttribute)?!1:!0},filterTemporarilyBlockedItem:function(b){b=b.element;var a=this.getItemsThatBlockSniffing(),d=a.length;if(0<d)for(var f=0;f<d;f+=1)if(a[f]===b||c.isDescendant(a[f],b))return!1;return!0},forEachChild:function(b){var a=this.getChildren(),
d=a.length;if("function"!==typeof b)throw new w("Callback must be a function");for(var c=0;c<d;c+=1)b(a[c])},forEachNode:function(b){b(this);this.forEachChild(b)},formQueryString:function(b,a){for(var d="",c=a.length,e=b.length,k=0;k<c;k+=1){for(var g=a[k],d=d+this.applySelectorFilter(g),p=0;p<e;p+=1)d+=":not("+b[p]+" "+g+")";k<c-1&&(d+=", ")}return d},getChildren:function(){return this._children},getContext:function(){return this._context},getCustomSelectors:function(){return this._customSelectors},
getElementCount:function(){return this._elementCount},getItemsThatBlockSniffing:function(){var b=this.getContext().getSettings().get("ui.sniff.delayKiosksInElements",!1);if(!1!==b){for(var b=b.split(","),a=[],d=0;d<b.length;d+=1)for(var f=c.query(b[d]),e=f.length,k=0;k<e;k+=1)a.push(f[k]);return a}return[]},getOptions:function(){return this._options},getSelectionMode:function(){return this.getContext().getSettings().get("ui.sniff.selectionMode","search")},getSelectors:function(){return["img"]},isBlockedBySettings:function(){var b=
this.getContext().getSettings().get("ui.sniff.disableOnPagesWithElement",!1);return b&&(b=c.query(b))&&0<b.length?!0:!1},isRoot:function(){return!0===this.getOptions().root},prepareChain:function(){var b=this.getContext().getContextSelectors(),a=this.getContext().getChildContextSelectors(),d=this.getSelectors(),c=this.getCustomSelectors();return Promise.resolve({elements:[],parentSelectors:b,subParentSelectors:a,selectors:d,customSelectors:c})},wrapElement:function(b){return{element:b,firstSniff:!0,
node:this,context:this.getContext(),searchMode:h.Config.ELEMENT_SEARCH_MODE.SEARCH,selectionMode:h.Config.ELEMENT_SELECTION_MODE.NORMAL}},_incrementElementCount:function(b){return this._elementCount+=0<=b?b:1}}}));m("PageInventory",["core/KioskedObject"],u(function(){function g(){var e=this;this.subscribe("validContainer",function(){e._validContainers+=1});this.subscribe("validInventory",function(){e._validInventory+=1})}return{construct:function(){this.$super();this._validInventory=this._validContainers=
0;g.call(this)},getValidContainers:function(){return this._validContainers},getValidInventory:function(){return this._validInventory}}}));m("InstanceControlManager",["core/KioskedObject"],function(g){var e=g.extend({construct:function(){this.$super();this._limits={anchor:{},adFill:{}};this._counts={anchor:{},adFill:{}}},applyLimit:function(c,b,a){this._limits[c][b]=a},deregisterCount:function(c,b,a){if(this._counts[c][b]&&this._counts[c][b][a]){var d;d=this.getLimit(c,b);d=0<d?this.getCount(c,b)===
d:!1;this._counts[c][b][a]=!1;delete this._counts[c][b][a];d&&this.publish("slotOpen",{type:c,subType:b})}},destroy:function(){this._limits={};this._counts={};this.$super()},getCount:function(c,b){var a=0;if(this._counts[c]&&this._counts[c].hasOwnProperty(b)){var d=this._counts[c][b],f;for(f in d)d.hasOwnProperty(f)&&d[f]===e.ItemState.Online&&(a+=1)}return a},getItemState:function(c,b,a){return this._counts[c]&&this._counts[c][b]&&this._counts[c][b][a]?this._counts[c][b][a]:e.ItemState.Unknown},
getLimit:function(c,b){return this._limits[c]&&this._limits[c].hasOwnProperty(b)?this._limits[c][b]:0},registerCount:function(c,b,a){if(this.getItemState(c,b,a)===e.ItemState.Online)return!0;this._counts[c][b]=this._counts[c][b]||{};var d;d=this.getLimit(c,b);d=0<d?this.getCount(c,b)<d:!0;this._counts[c][b][a]=d?e.ItemState.Online:e.ItemState.InQueue;return d},waitForSlot:function(c,b,a){var d=this;return new Promise(function(f){d.subscribe("slotOpen",function(e){e.type===c&&e.subType===b&&d.registerCount(c,
b,a)&&f()})})}});e.InstanceType={Anchor:"anchor",AdFill:"adFill"};e.ItemState={Online:"online",InQueue:"queue",Unknown:"unknown"};return e});h.stylesheets=h.stylesheets||{};m("sniffing/SearchContextsAdapter",["core/KioskedObject","sniffing/SearchContext","tools/general","tools/debug"],u(function(g,e,c){function b(a,d){a=this.filterDuplicateSettings(a);for(var c=a.length,l=0,k=0;k<c;k+=1){var h=a[k],p=e.isset(h.cssSelector)?h.cssSelector:"",s="";if(0<p.length){for(var s=d.getContextSelectors(),q=s.length,
t=[],p=p.split(","),B=p.length,v=0;v<q;v+=1)for(var m=0;m<B;m+=1)t.push(s[v]+" "+p[m]);s=t.join(", ")}s=new g({contextSelector:e.trim(s),parentContextElement:d,countryCode:this.getOptions().countryCode,settings:h.properties||[]});h.hasOwnProperty("childConditions")&&(l+=b.call(this,h.childConditions,s));d.addChildContext(s);l+=1}return l}return{construct:function(a,d){this.$super();a=e.deepClone(a)||{};this._options=e.mergeDefaults({countryCode:""},d||{});this._rootContext=new g({name:"SearchContextMaster",
contextSelector:"",contextEnabled:!0,countryCode:this._options.countryCode,parentContextElement:null});this._baseSettingsContext=null;var f=this._rawSettings=a,l;a.settings?(l=a.settings,l.push({conditionId:null,cssSelector:"#kskdFooter",properties:[{key:"ui.media.overridePlugins",value:"FloorBannerSlot"},{key:"ui.sniff.selectionMode",value:"select"}]}),l.push({conditionId:null,cssSelector:"#kskdInterstitial",properties:[{key:"ui.media.overridePlugins",value:"Interstitial"},{key:"ui.sniff.selectionMode",
value:"select"}]}),l.push({conditionId:null,cssSelector:"#kskdInScroll",properties:[{key:"ui.media.overridePlugins",value:"InScroll"},{key:"ui.sniff.selectionMode",value:"select"}]})):l=[];f.settings=l;f=this._rawSettings;l=this._rawSettings.settings;for(var k=this._rootContext,h=[],p=l.length-1;0<=p;p-=1)0>=(e.isset(l[p].cssSelector)?l[p].cssSelector:"").length&&(h=h.concat(l[p].properties),l.splice(p,1));this._baseSettingsContext=new g({contextSelector:"",contextEnabled:!0,countryCode:this.getOptions().countryCode,
parentContextElement:k,settings:h});k.setSettings(k.getSettings().mergeSettings(this._baseSettingsContext.getSettings(),!1));k.detectStatus();f.settings=l;f=b.call(this,this._rawSettings.settings,this._rootContext);c.log("/SearchContextsAdapter/",""+(f+1)+" search contexts created")},destroy:function(){delete this._rawSettings;this.$super()},filterDuplicateSettings:function(a){for(var b=[],c={},e=a.length,k=0;k<e;k+=1){var g=a[k],p=g.cssSelector&&0<g.cssSelector.length?g.cssSelector:"-";g.childConditions=
g.childConditions||[];g.properties=g.properties||[];c.hasOwnProperty(p)?(c[p].childConditions=c[p].childConditions.concat(g.childConditions),c[p].properties=c[p].properties.concat(g.properties)):c[p]=g}for(var h in c)c.hasOwnProperty(h)&&b.push(c[h]);return b},getBaseSettingsContext:function(){return this._baseSettingsContext},getOptions:function(){return this._options},getRootContext:function(){return this._rootContext}}}));var F=[],M="production";G("init/placeholders init/overriding sniffing/SnifferController sniffing/SearchContextsAdapter sniffing/SettingsLayoutAdapter locators/GrandCentralStationLocator locators/SnifferControllerLocator ScriptLocator Script SettingsDeviceFilter adelement/AdZoneTemplate tools/general tools/encoding tools/debug tools/environment tools/performance Decorator SettingsFlattener init/checklist".split(" "),
function(g,e,c,b,a,d,f,l,k,x,p,s,q,t,B,v,m,C,E){function K(b){var d=new x(b.settings);b.settings=d.getMergedSettingsForCurrentDevice();d=new a(s.deepClone(b.settings));b.settings=d.getSettingsInNewLayout();return b}function H(){var a=new l;a.setPrefersFirst(!1);var b=a.locateScriptWithURLMatch(/(kiosked|intags|localhost).+?(\/loader\/|kiosked-cfe\.js).+?site=[0-9]+/i),d=!1,c={};h.loadedScript=!1;!1===b&&(b=a.locateScriptWithURLMatch(/(intags\.com|kiosked\.com)(\/sniffer\/get-script\/|\/widget\/sniff\/sign\/)(.*?)albumid\/[0-9]+/i),
d=!0);!0===b instanceof k?(h.loadedScript=b.getSource(),c=d?q.getOldFormatURLDetails(b.getSource()):b.getQueryParameters()):t.warn("/Init/","No script tag was found");return{environment:c.env||g.getClientDataset("environment","production"),publisherID:g.getClientDataset("publisherID",c.pub||0),siteID:g.getClientDataset("siteID",c.site||0)}}if(E.isDisabled())t.warn("/Init/","Loading cancelled.");else{var D=d.getGrandCentralStation();E.waitForDOMInteractive().then(function(){var a=g.getClientDataset("domain",
""),d=H();console.log("%cKiosked%c - %s","background: #219bb6; color: #FFF; font-weight: bold; padding: 3px","",h.Config.VERSION);if(!0!==E.isAllowedOnDomain())t.warn("/Init/","Current domain is not permitted by allowed-domains"),t.log("/Init/","Script loading halted");else{var k=v.getCurrentTimestamp();D.prepareTimingController().then(function(a){"number"===typeof h.startLibraryTime&&a.registerEvent("startStaticLib",{},h.startLibraryTime);a.registerEvent("libLoad",{},k)});M=d.environment;B.setPublisherID(d.publisherID);
B.setDataEndpoint(a);var l=B.getPageUrl(),a=g.getClientDataset("countryCode","00");D.libraryInit();var x=g.getClientDataset("settings",{settings:{settingsTree:{}}});x.settings=C(x.settings,l,d.publisherID);x=K(x);l=new b(x,{countryCode:a});h.overrideFunctions=e.getOverrideFunctions(l.getBaseSettingsContext().getSettings());(s.overrideCall("GrandCentralStation.libraryInit")||function(){})();a=new c({countryCode:a,publisherID:d.publisherID,siteID:d.siteID},l);h.SnifferControllerLocator=f;f.setSnifferController(a);
l=a.getSettings().getInt("ui.media.Banner.adTemplateId",0);(l=p.extractFromData(g.getClientDataset("adZoneTemplate",[]),l))&&a.setAdZoneTemplates([l]);"development"!==d.environment&&(a.start(),t.log("/Init/","Sniffer started"));if("function"===typeof window.ITGSonload)try{window.ITGSonload(),window.ITGSonload=null,delete window.ITGSonload}catch(z){t.warn("/Init/","Library onload failed:",z.message)}}})}});m("messaging/FallbackMessageHandler",["messaging/MessageHandlerAbstract","tools/general","tools/scope",
"tools/debug"],u(function(g,e,c){function b(a){return e.hasOwnProperties(a,["data","origin","source"],function(a,b){return a[b]&&!0})}return{construct:function(a){this.$super();this._options=g.mergeDefaults({name:"FallbackMessageHandler",messageSource:null},a||{})},canHandleMessage:function(a){return b(a)&&"string"===typeof a.data?!0===/^kiosked_window_message:\{(.*)+$/.test(a.data):!1},handleMessage:function(a){var b=a.data,b=b.replace("kiosked_window_message:",""),f=!1;try{f=JSON.parse(b)}catch(e){c.warn("/FallbackMessageHandler/",
"Received bad message:",e,a)}!1!==f&&this.processMessageObject(f)},processMessageObject:function(a){var b=this.getGCS();if(a.hasOwnProperty("name")){var f=a.containerID||"";"fallback_list"===a.name?b.publish("networkFallbacksReceived",{zones:a.fallback_list||[],frame_urls:a.window_chain||[],container_id:f},!1):"fallback_initiated"===a.name?(f={fallback:!0,frame_urls:a.window_chain||[],container_id:f},a.dfpFrame&&(f.dfpFrame=a.dfpFrame),b.publish("networkFallbackInitiated",f)):"kiosked_ad_expand"===
a.name&&b.dispatch("kiosked_ad_expand",a)}else c.error("No name for event:",a)}}}));m("messaging/AppNexusMessageHandler",["messaging/MessageHandlerAbstract","messaging/FrameMessageSource","tools/general","tools/scope","tools/debug"],u(function(g,e,c,b){function a(a){return c.hasOwnProperties(a,["data","origin","source"],function(a,b){return a[b]&&!0})}return{construct:function(a){this.$super();this._options=e.mergeDefaults({name:"AppNexusMessageHandler",messageSource:null},a||{})},canHandleMessage:function(b){return a(b)&&
"string"===typeof b.data?!0===/^kskd_window_message:\{(.*)+$/.test(b.data):!1},handleMessage:function(a){var c=a.data,c=c.replace("kskd_window_message:",""),e=!1;try{e=JSON.parse(c)}catch(g){b.warn("/AppNexusMessageHandler/","Received bad message:",g,a)}!1!==e&&this.processMessageObject(e)},processMessageObject:function(a){var c=this.getOptions(),e=this.getGCS();a.hasOwnProperty("name")?"ping"===a.name?c.messageSource instanceof g&&c.messageSource.sendMessage({name:"ping_response"}):"fallback_list"===
a.name?e.publish("appNexusFallbacksReceived",{zones:a.appnexus_fallback_list||[],frame_urls:a.window_chain||[]},!1):"fallback_initiated"===a.name?(c={fallback:!0,frame_urls:a.window_chain||[]},a.dfpFrame&&(c.dfpFrame=a.dfpFrame),e.publish("appNexusFallbackInitiated",c)):"kiosked_ad_expand"===a.name&&e.dispatch("kiosked_ad_expand",a):b.error("No name for event:",a)}}}));m("tools/matching",["tools/general"],function(g){return{getMostRelevantCategory:function(e,c){var b=!1;if(e&&g.isString(c)){if(e.hasOwnProperty(c)){var a=
e[c],d=a.length,f=0;if(0<d)for(var l=0;l<d;l+=1){var k=a[l];k.relevance&&k.relevance>f&&(b=k,f=k.relevance)}}}else{if(e)throw new w("Parameter expected to be of type string");throw new w("Categories must be specified");}return b}}});m("locators/UnloadManagerLocator",["UnloadManager"],function(g){var e;return{getUnloadManager:function(){e||(e=new g);return e},setUnloadManager:function(c){e=c}}});m("locators/StylesLocator",["styles/StylesController"],function(g){var e;return{getStyling:function(){e||
(e=new g);return e},setStyling:function(c){e=c}}});m("locators/SnifferControllerLocator",function(){var g=null;return{getSnifferController:function(){return g},setSnifferController:function(e){g=e}}});m("locators/PlacementContainerLocator",function(){return{getPlacementContainerByID:function(g){for(var e=0,c=F.length;e<c;e+=1)if(F[e].getPlacement().getOptions().kioskID===g)return F[e];return!1}}});m("tools/hashing",function(){var g={};(function(e){function c(a,b){var d=(a&65535)+(b&65535);return(a>>
16)+(b>>16)+(d>>16)<<16|d&65535}function b(a,b,d,f,e,g){a=c(c(b,a),c(f,g));return c(a<<e|a>>>32-e,d)}function a(a,d,c,f,e,g,k){return b(d&c|~d&f,a,d,e,g,k)}function d(a,d,c,f,e,g,k){return b(d&f|c&~f,a,d,e,g,k)}function f(a,d,c,f,e,g,k){return b(c^(d|~f),a,d,e,g,k)}function g(e,k){e[k>>5]|=128<<k%32;e[(k+64>>>9<<4)+14]=k;var l,p,h,x,s,q=1732584193,m=-271733879,n=-1732584194,r=271733878;for(l=0;l<e.length;l+=16)p=q,h=m,x=n,s=r,q=a(q,m,n,r,e[l],7,-680876936),r=a(r,q,m,n,e[l+1],12,-389564586),n=a(n,
r,q,m,e[l+2],17,606105819),m=a(m,n,r,q,e[l+3],22,-1044525330),q=a(q,m,n,r,e[l+4],7,-176418897),r=a(r,q,m,n,e[l+5],12,1200080426),n=a(n,r,q,m,e[l+6],17,-1473231341),m=a(m,n,r,q,e[l+7],22,-45705983),q=a(q,m,n,r,e[l+8],7,1770035416),r=a(r,q,m,n,e[l+9],12,-1958414417),n=a(n,r,q,m,e[l+10],17,-42063),m=a(m,n,r,q,e[l+11],22,-1990404162),q=a(q,m,n,r,e[l+12],7,1804603682),r=a(r,q,m,n,e[l+13],12,-40341101),n=a(n,r,q,m,e[l+14],17,-1502002290),m=a(m,n,r,q,e[l+15],22,1236535329),q=d(q,m,n,r,e[l+1],5,-165796510),
r=d(r,q,m,n,e[l+6],9,-1069501632),n=d(n,r,q,m,e[l+11],14,643717713),m=d(m,n,r,q,e[l],20,-373897302),q=d(q,m,n,r,e[l+5],5,-701558691),r=d(r,q,m,n,e[l+10],9,38016083),n=d(n,r,q,m,e[l+15],14,-660478335),m=d(m,n,r,q,e[l+4],20,-405537848),q=d(q,m,n,r,e[l+9],5,568446438),r=d(r,q,m,n,e[l+14],9,-1019803690),n=d(n,r,q,m,e[l+3],14,-187363961),m=d(m,n,r,q,e[l+8],20,1163531501),q=d(q,m,n,r,e[l+13],5,-1444681467),r=d(r,q,m,n,e[l+2],9,-51403784),n=d(n,r,q,m,e[l+7],14,1735328473),m=d(m,n,r,q,e[l+12],20,-1926607734),
q=b(m^n^r,q,m,e[l+5],4,-378558),r=b(q^m^n,r,q,e[l+8],11,-2022574463),n=b(r^q^m,n,r,e[l+11],16,1839030562),m=b(n^r^q,m,n,e[l+14],23,-35309556),q=b(m^n^r,q,m,e[l+1],4,-1530992060),r=b(q^m^n,r,q,e[l+4],11,1272893353),n=b(r^q^m,n,r,e[l+7],16,-155497632),m=b(n^r^q,m,n,e[l+10],23,-1094730640),q=b(m^n^r,q,m,e[l+13],4,681279174),r=b(q^m^n,r,q,e[l],11,-358537222),n=b(r^q^m,n,r,e[l+3],16,-722521979),m=b(n^r^q,m,n,e[l+6],23,76029189),q=b(m^n^r,q,m,e[l+9],4,-640364487),r=b(q^m^n,r,q,e[l+12],11,-421815835),n=
b(r^q^m,n,r,e[l+15],16,530742520),m=b(n^r^q,m,n,e[l+2],23,-995338651),q=f(q,m,n,r,e[l],6,-198630844),r=f(r,q,m,n,e[l+7],10,1126891415),n=f(n,r,q,m,e[l+14],15,-1416354905),m=f(m,n,r,q,e[l+5],21,-57434055),q=f(q,m,n,r,e[l+12],6,1700485571),r=f(r,q,m,n,e[l+3],10,-1894986606),n=f(n,r,q,m,e[l+10],15,-1051523),m=f(m,n,r,q,e[l+1],21,-2054922799),q=f(q,m,n,r,e[l+8],6,1873313359),r=f(r,q,m,n,e[l+15],10,-30611744),n=f(n,r,q,m,e[l+6],15,-1560198380),m=f(m,n,r,q,e[l+13],21,1309151649),q=f(q,m,n,r,e[l+4],6,-145523070),
r=f(r,q,m,n,e[l+11],10,-1120210379),n=f(n,r,q,m,e[l+2],15,718787259),m=f(m,n,r,q,e[l+9],21,-343485551),q=c(q,p),m=c(m,h),n=c(n,x),r=c(r,s);return[q,m,n,r]}function k(a){var b,d="";for(b=0;b<32*a.length;b+=8)d+=String.fromCharCode(a[b>>5]>>>b%32&255);return d}function h(a){var b,d=[];d[(a.length>>2)-1]=void 0;for(b=0;b<d.length;b+=1)d[b]=0;for(b=0;b<8*a.length;b+=8)d[b>>5]|=(a.charCodeAt(b/8)&255)<<b%32;return d}function p(a){return k(g(h(a),8*a.length))}function s(a,b){var d,c=h(a),e=[],f=[];e[15]=
f[15]=void 0;16<c.length&&(c=g(c,8*a.length));for(d=0;16>d;d+=1)e[d]=c[d]^909522486,f[d]=c[d]^1549556828;d=g(e.concat(h(b)),512+8*b.length);return k(g(f.concat(d),640))}function q(a){var b="",d,c;for(c=0;c<a.length;c+=1)d=a.charCodeAt(c),b+="0123456789abcdef".charAt(d>>>4&15)+"0123456789abcdef".charAt(d&15);return b}e.md5=function(a,b,d){b?d?a=s(unescape(encodeURIComponent(b)),unescape(encodeURIComponent(a))):(a=s(unescape(encodeURIComponent(b)),unescape(encodeURIComponent(a))),a=q(a)):a=d?p(unescape(encodeURIComponent(a))):
q(p(unescape(encodeURIComponent(a))));return a}})(g);return{md5:function(e,c,b){return g.md5(e,c,b)}}});m("locators/PageInventoryLocator",["PageInventory"],function(g){var e;return{getPageInventory:function(){e||(e=new g);return e}}});m("locators/LocalStorageEventQueue",["LocalStorageEventQueue"],function(g){var e;return{getLocalStorageEventQueue:function(){e||(e=new g);return e}}});m("locators/InstanceControlManagerLocator",["InstanceControlManager"],function(g){var e=new g;return{getSharedInstance:function(){return e}}});
m("locators/IOWManagerLocator",["iow/IOWManager"],function(g){var e;return{getIOWManager:function(){e||(e=new g);return e},setIOWManager:function(c){e=c}}});m("locators/GrandCentralStationLocator",["GrandCentralStation"],function(g){var e;return{getGrandCentralStation:function(){e||(e=new g);return e},setGrandCentralStation:function(c){e=c}}});m("tools/formatting",function(){var g={escapeRegexExpression:function(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")},replaceAll:function(e,c,b){return e.replace(new RegExp(g.escapeRegexExpression(c),
"g"),b)},tokenReplaceString:function(e,c,b){b=b||function(a){return"["+a.toUpperCase()+"]"};for(var a in c)c.hasOwnProperty(a)&&(e=g.replaceAll(e,b(a),c[a]));return e},zeroPad:function(e,c){var b=e.toString(),a=b.split("."),d="";1<a.length&&(d=a[1],b=a[0]);a=c-b.length+1;return Array(+(0<a&&a)).join("0")+b+(0<d.length?"."+d:"")}};return g});m("locators/ErrorCollectorLocator",["analytics/ErrorCollector"],function(g){var e;return{getErrorCollector:function(){e||(e=new g);return e},setErrorCollector:function(c){e=
c}}});m("iow/IOWResponse",["core/KioskedObject","tools/general"],u(function(g){return{construct:function(e){this.$super();this._data=e;this._data.data=(this._data.data||"").trim()},getFormat:function(){var e=this.getResponseData();return e.type?e.type.toLowerCase():""},getPlacementHTML:function(){var e=this.getFormat(),c=this.getResponseData().data;return"html"===e?c:"javascript"===e?'<html><body style="margin: 0%"><script type="text/javascript">'+c+"\x3c/script>\x3c!-- Kskd wrapped placement --\x3e</body></html>":
""},getResponseData:function(){return this._data||{}},isEmpty:function(){return g.isEmpty(this.getResponseData().data)}}}));m("iow/IOWProxy","core/KioskedObject iow/IOWResponse locators/SnifferControllerLocator locators/GrandCentralStationLocator factories/ContainerFactory tools/general tools/environment tools/debug".split(" "),u(function(g,e,c,b,a,d,f){function l(a){return(a=h[a])?a:!1}function k(a,b){var c=this;G("locators/IOWManagerLocator",function(f){var g=c.getQueue(),k=c.generateSectionQueueIndex(a),
l=f.getIOWManager();f=e.getSnifferController().getSettingsMetaAbTesting().test;l&&g&&(g=g[k]=g[k]||[],k=g.length,l=l.getTagProvider(),b<k&&(g=g[b],k=d.isMobileFriendly()?1:0,g.open=!1,g.slots=g.placements.length,l.requestAds({sectionId:a,dmp:!1,fld:g.foldStatuses.join(","),sync:!1,plc:g.placements.join(","),suid:g.requestLocalID,url:d.getPageUrl(),device_family:d.getDeviceType(),ab_test_value:f,mf:k})))})}var h={"in-media":"m","in-line":"l","in-screen":"s",interstitial:"t","in-scroll":"i",reward:"r"};
return{construct:function(){this.$super();this._queue={}},claimQueuedSlots:function(a,b,d){var c=this.getQueue();a=this.generateSectionQueueIndex(a);if(null!==c){c=c[a]||[];a=c.length;for(var e=0;e<a;e+=1){var f=c[e];if(!1===f.open&&f.requestLocalID===d)return f.open=!1,f.slots=b,f}}return null},destroy:function(){this._queue=null;this.$super()},fetchSlotData:function(a,b,d){var c=l(a);if(!1===c)throw new w("Invalid placement type: "+a);var e=this,f=0;return new Promise(function(a,g){(function K(){var k=
e.getQueue(),l=e.generateSectionQueueIndex(b);if(null!==k){for(var k=k[l]||[],l=k.length,p=!1,h=!1,x=0;x<l;x+=1){for(var m=k[x].slots||[],y=m.length,z=0;z<y;z+=1)if(m[z].plc===c&&parseInt(m[z].fld,10)===d){h=z;break}if(!1!==h){p=m[h];m.splice(h,1);break}}p?a(p):15E3<=f?g("Wait time exceeded, no valid slot response was found"):(f+=110,setTimeout(K,110))}else g("No queue present in proxy")})()})},generateLocalID:function(a,b){return a+"_"+b},generateSectionQueueIndex:function(a){return"s"+a},getNewRequestPacket:function(){return{foldStatuses:[],
open:!0,placements:[],requestLocalID:"",sectionID:0,slots:!1}},getQueue:function(){return this._queue},processSlotsResponse:function(a,b){var d=b.length,c=0<d?b[0].suid:!1;if(!c)throw new w("Invalid local ID, or no IOW local ID available");this.claimQueuedSlots(a,b,c);f.log("/IOWProxy/","Received "+d+" slots on section "+a)},renderSlot:function(a,d,e,k,l){var h=this;l=parseInt(l,10);return this.fetchSlotData(d,e,l).then(function(a){return new g(a)}).then(function(d){if(d.isEmpty())return f.log("/IOWProxy/",
"IOW empty fill: fallback"),c.getGrandCentralStation().publish("placementFillError",k),Promise.reject("No fill");var g=b.createFriendlyIframeTool(),l=g.getIFrame();g.subscribe("iframeLoaded",function(){c.getGrandCentralStation().publish("iframeLoaded",k)});l.setAttribute("data-kioskid",k);g.appendToElement(a);g.writeContent(d.getPlacementHTML());h.publish("iowRender",{kioskID:k,sectionID:e});return g.waitForLoad()})},requestSlot:function(b,d,c){var e=l(b);if(!1===e)throw new w("Invalid placement type: "+
b);var f=this.getQueue();b=this.generateSectionQueueIndex(d);var f=f[b]=f[b]||[],g=f.length,h=null;0<g&&(h=f[g-1],!0!==h.open&&(h=null));if(null===h){h=a.mergeDefaults(this.getNewRequestPacket(),{sectionID:d});f.push(h);var x=f.length-1,m=this;h.requestLocalID=this.generateLocalID(b,x);h.timer=setTimeout(function(){k.call(m,d,x)},200)}h.placements.push(e);h.foldStatuses.push(c);5<=h.placements.length&&(h.open=!1)}}}));m("tools/flash",function(){var g=new function(){var e=this;e.installed=!1;e.raw=
"";e.major=-1;e.minor=-1;e.revision=-1;e.revisionStr="";var c=[{name:"ShockwaveFlash.ShockwaveFlash.7",version:function(a){return b(a)}},{name:"ShockwaveFlash.ShockwaveFlash.6",version:function(a){var d="6,0,21";try{a.AllowScriptAccess="always",d=b(a)}catch(c){}return d}},{name:"ShockwaveFlash.ShockwaveFlash",version:function(a){return b(a)}}],b=function(a){var b=-1;try{b=a.GetVariable("$version")}catch(c){}return b};e.majorAtLeast=function(a){return e.major>=a};e.minorAtLeast=function(a){return e.minor>=
a};e.revisionAtLeast=function(a){return e.revision>=a};e.versionAtLeast=function(a){for(var b=[e.major,e.minor,e.revision],c=Math.min(b.length,arguments.length),g=0;g<c;g+=1)if(b[g]>=arguments[g]){if(!(g+1<c&&b[g]===arguments[g]))return!0}else return!1};e.FlashDetect=function(){var a,b,f,g,k,h;if(navigator.plugins&&0<navigator.plugins.length){if((h=navigator.mimeTypes)&&h["application/x-shockwave-flash"]&&h["application/x-shockwave-flash"].enabledPlugin&&h["application/x-shockwave-flash"].enabledPlugin.description){a=
h=h["application/x-shockwave-flash"].enabledPlugin.description;h=a.split(/ +/);var p=h[2].split(/\./);h=h[3];b=parseInt(p[0],10);f=parseInt(p[1],10);g=h;k=parseInt(h.replace(/[a-zA-Z]/g,""),10)||e.revision;e.raw=a;e.major=b;e.minor=f;e.revisionStr=g;e.revision=k;e.installed=!0}}else if(-1===navigator.appVersion.indexOf("Mac")&&"execScript"in window)for(h=-1,p=0;p<c.length&&-1===h;p+=1){a=-1;try{a=new ActiveXObject(c[p].name)}catch(m){a={activeXError:!0}}a.activeXError||(e.installed=!0,h=c[p].version(a),
-1!==h&&(a=h,g=a.split(","),b=parseInt(g[0].split(" ")[1],10),f=parseInt(g[1],10),k=parseInt(g[2],10),g=g[2],e.raw=a,e.major=b,e.minor=f,e.revision=k,e.revisionStr=g))}}()};g.JS_RELEASE="1.0.4";return{flashSupported:g.installed}});m("sniffing/SearchNodeFactory",["core/KioskedObject","sniffing/SearchNode","tools/general"],u(function(g,e){function c(b,a){var d=this.getOptions(),d=new g(b,{hashAttribute:d.hashAttribute,root:!1});a.addChild(d);var e=b.getChildContexts(),l=e.length;if(0<l)for(var k=0;k<
l;k+=1)c.call(this,e[k],d)}return{construct:function(b,a){this.$super();a=a||{};this._options=e.mergeDefaults({hashAttribute:""},a);this._rootContext=b;this._rootNode=null;var d=this.getOptions();this._rootNode=new g(this._rootContext,{hashAttribute:d.hashAttribute,root:!0});for(var d=this._rootContext.getChildContexts(),f=d.length,l=0;l<f;l+=1)c.call(this,d[l],this._rootNode)},getOptions:function(){return this._options},getRootNode:function(){return this._rootNode}}}));m("tools/performance",function(){var g=
window.performance&&window.performance.timing&&window.performance.navigation,e=window.performance&&window.performance.getEntriesByType&&window.performance.getEntriesByType("resource")instanceof Array,c=window.performance&&window.performance.memory;return{getCurrentTimestamp:function(){return Number((new Date).getTime())},getMemoryProfiling:function(){var b=window.performance.memory,a={};["jsHeapSizeLimit","totalJSHeapSize","usedJSHeapSize"].forEach(function(d){a[d]=b[d]});return a},memoryProfilingSupported:function(){return c},
navigationTimingSupported:function(){return g},resourcePerfSupported:function(){return e}}});m("SettingsFlattener",["tools/general","tools/debug"],function(g,e){function c(a,b,c){var g=!1;if(c.conditionType)switch(c.conditionType){case h.Config.SETTINGS_CONDITION_VALUE.DEFAULT:g=[].concat(c.properties||[]);break;case h.Config.SETTINGS_CONDITION_VALUE.ACCOUNT:parseInt(b,10)===parseInt(c.conditionValue,10)&&(g=[].concat(c.properties||[]));break;case h.Config.SETTINGS_CONDITION_VALUE.URI:(new RegExp(c.conditionValue,
"i")).test(a)&&(g=[].concat(c.properties||[]));break;default:e.warn("/SettingsFlattener/","Unrecognised settings condition type: "+c.conditionType)}return g}function b(a,d,c){c=c||[];var e=a(d),k=c.length;if(!1===e)return c;var e=e.map(function(a){g.isEmpty(a.target)&&(a.target=null);return a}).filter(function(a){for(var b=!1,d=0;d<k;d+=1)if(a.key===c[d].key&&a.target===c[d].target&&parseInt(a.targetDeviceFamily,10)===parseInt(c[d].targetDeviceFamily,10)){b=!0;c[d].value=a.value;break}return!1===
b}),h=[].concat(c).concat(e);(d.childConditions||[]).forEach(function(d){h=b(a,d,h)});return h}return function(a,d,e){a=a.settingsTree;d=g.curry(c)(d,e);return b(d,a)}});m("SettingsDeviceFilter",["tools/device"],function(g){var e=function(c){this._settingsData=c};e.prototype.fetchSettingsForDeviceType=function(c){return this.getSettingsData().filter(function(b){return b.hasOwnProperty("targetDeviceFamily")?parseInt(b.targetDeviceFamily,10)===c:!0})};e.prototype.getCurrentDevice=function(){return g.isMobile()?
h.Config.SETTINGS_DEVICE_TARGET.MOBILE:h.Config.SETTINGS_DEVICE_TARGET.DESKTOP};e.prototype.getMergedSettingsForCurrentDevice=function(){return this.getMergedSettingsForDevice(this.getCurrentDevice())};e.prototype.getMergedSettingsForDevice=function(c){return this.mergeDeviceTypesInData(this.fetchSettingsForDeviceType(h.Config.SETTINGS_DEVICE_TARGET.ANY),this.fetchSettingsForDeviceType(c))};e.prototype.getSettingsData=function(){return this._settingsData};e.prototype.mergeDeviceTypesInData=function(c,
b){var a=[].concat(c).concat(b),d=a.length;return a.filter(function(b){for(var c=0;c<d;c+=1)if(a[c].key===b.key&&a[c].target===b.target){var e=parseInt(a[c].targetDeviceFamily,10);if(parseInt(b.targetDeviceFamily,10)===h.Config.SETTINGS_DEVICE_TARGET.ANY&&e!==h.Config.SETTINGS_DEVICE_TARGET.ANY)return!1}return!0})};return e});m("ScriptLocator",["core/KioskedObject","Script","tools/dom"],u(function(g,e){function c(a,b,c){if(!this._scriptCache.hasOwnProperty(a))throw Error("/ScriptLocator/ Unrecognised cache class: "+
a);this._scriptCache[a][b]=c}function b(a,b){return this._scriptCache.hasOwnProperty(a)&&this._scriptCache[a][b]?this._scriptCache[a][b]:!1}return{construct:function(){this.$super();this._scriptCache={withAttributes:{},withURLRegex:{}};this._orderPreference="first"},destroy:function(){this.clearCache();this.$super()},clearCache:function(){this._scriptCache={withAttributes:{},withURLRegex:{}}},getOrderPreference:function(){return this._orderPreference},locateScriptWithAttributes:function(a){a=a||{};
var d="attrs-",f;for(f in a)a.hasOwnProperty(f)&&(d+=""+f+":"+a[f]+";");f=b.call(this,"withAttributes",d);if(!1!==f)return new g(f,{fromCache:!0});a=e.getElementsWithAttributes("script",a);f=a.length;return 0<f?(a="first"===this.getOrderPreference()?a[0]:a[f-1],c.call(this,"withAttributes",d,a),new g(a)):!1},locateScriptWithURLMatch:function(a){var d=b.call(this,"withURLRegex",a.toString());if(!1!==d)return new g(d,{fromCache:!0});var d=e.getElementsWithAttributes("script",{src:""}),f=d.length,l=
!1;if(0<f)if("first"===this.getOrderPreference())for(var k=0;k<f;k+=1){if(a.test(d[k].getAttribute("src"))){l=d[k];break}}else for(f-=1;0<=f;f-=1)if(a.test(d[f].getAttribute("src"))){l=d[f];break}return l?(c.call(this,"withURLRegex",a.toString(),l),new g(l)):!1},setPrefersFirst:function(a){this._orderPreference=!0===a?"first":"last"}}}));m("tools/encoding",function(){var g={base64_decode:function(e){var c="",b,a,d,f,l,k=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");k<e.length;)b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(k)),
k+=1,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(k)),k+=1,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(k)),k+=1,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(k)),k+=1,b=b<<2|a>>4,a=(a&15)<<4|f>>2,d=(f&3)<<6|l,c+=String.fromCharCode(b),64!==f&&(c+=String.fromCharCode(a)),64!==l&&(c+=String.fromCharCode(d));return c=g.utf8_decode(c)},base64_encode:function(e){var c="",b,a,d,
f,l,k,h=0;for(e=g.utf8_encode(e);h<e.length;)b=e.charCodeAt(h),h+=1,a=e.charCodeAt(h),h+=1,d=e.charCodeAt(h),h+=1,f=b>>2,b=(b&3)<<4|a>>4,l=(a&15)<<2|d>>6,k=d&63,isNaN(a)?l=k=64:isNaN(d)&&(k=64),c=c+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(f)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(b)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(l)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(k);
return c},formURLStringFromParameters:function(e,c){c=c||[];if("object"===("undefined"===typeof e?"undefined":_typeof(e))){var b="",a=function(a,b,d){0<d.length&&(d+="&");b=e[a];0<=c.indexOf("ENCODE_KEY")&&(a=encodeURIComponent(a));0<=c.indexOf("ENCODE_VALUE")&&(b=encodeURIComponent(b));return d+(a+"="+b)};if(0<=c.indexOf("ALPHABETIZE")){var d=[],f;for(f in e)e.hasOwnProperty(f)&&d.push(f);d.sort();f=d.length;if(0<f)for(var g=0;g<f;g+=1)var k=d[g],b=a(k,e[k],b)}else for(d in e)e.hasOwnProperty(d)&&
(b=a(d,e[d],b));return b}return""},getOldFormatURLDetails:function(e){var c=!1,b=!1,a="development";e=e.toLowerCase();for(var d=e.split("/"),f=0,g=d.length;f<g;f+=1)"albumid"===d[f]?c=parseInt(d[f+1],10):"co"===d[f]&&(b=parseInt(d[f+1],10));0<=e.indexOf("kiosked.com")?a="production":0<=e.indexOf("intags.com")&&(a="staging");return{pub:b,site:c,env:a}},utf8_decode:function(e){for(var c="",b=0,a=0,d=0,f=0;b<e.length;)a=e.charCodeAt(b),128>a?(c+=String.fromCharCode(a),b+=1):191<a&&224>a?(d=e.charCodeAt(b+
1),c+=String.fromCharCode((a&31)<<6|d&63),b+=2):(d=e.charCodeAt(b+1),f=e.charCodeAt(b+2),c+=String.fromCharCode((a&15)<<12|(d&63)<<6|f&63),b+=3);return c},utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var c="",b=0;b<e.length;b+=1){var a=e.charCodeAt(b);128>a?c+=String.fromCharCode(a):(127<a&&2048>a?c+=String.fromCharCode(a>>6|192):(c+=String.fromCharCode(a>>12|224),c+=String.fromCharCode(a>>6&63|128)),c+=String.fromCharCode(a&63|128))}return c}};return g});m("sniffing/SettingsLayoutAdapter",
["core/KioskedObject","tools/general"],u(function(g){return{construct:function(e){this.$super();this._originalSettings=e},getSettingsInNewLayout:function(){for(var e=[],c=this._originalSettings.length,b={},a=[],d=0;d<c;d+=1){var f=this._originalSettings[d];g.isset(f.target)&&0<f.target.length?(b.hasOwnProperty(f.target)||(b[f.target]=[]),b[f.target].push(f)):a.push(f)}c=a.length;if(0<c){d={conditionId:null,cssSelector:null,properties:[]};for(f=0;f<c;f+=1)d.properties.push({key:a[f].key,value:a[f].value});
e.push(d)}for(var l in b)if(b.hasOwnProperty(l)){a={conditionId:null,cssSelector:l,properties:[]};c=b[l].length;for(d=0;d<c;d+=1)a.properties.push({key:b[l][d].key,value:b[l][d].value});e.push(a)}return e}}}));m("RewardWrapper",["tools/native","tools/performance"],function(g,e){return{createReward:function(c){var b=document.createElement("div");b.className="kskdReward";document.body.appendChild(b);var a=parseInt(e.getCurrentTimestamp()*Math.random(),10);b.setAttribute("kskdrewardid",a);var d=c instanceof
HTMLElement?c:g.querySelector(c),f={placementContainer:{},on:function(a,b){h.subscribe(a,function(a){a===f.placementContainer.getPlacement().getOptions().kioskID&&b()})}};return new Promise(function(b){h.subscribe("placementCreated",function(c){var e=c.getPlacement().getAnchor();a===parseInt(e.getTargetElement().getAttribute("kskdrewardid"),10)&&(f.placementContainer=c,e.getOptions().rewardButton=d,b(f))})})}}});m("ResourceManager",["tools/encoding","tools/debug"],function(g,e){var c={};return{getResource:function(b){if(h.resources&&
h.resources.hasOwnProperty(b)){if(c.hasOwnProperty(b))return c[b];var a=h.resources[b];try{var d=g.base64_decode(a);return""===d?null:c[b]=d}catch(f){e.error("/ResourceManager/","Failed retrieving and decoding resource: "+b)}}return null}}});m("sniffing/ElementQueue","core/KioskedObject sniffing/SnifferUtilities Analyzer tools/general tools/debug tools/communication tools/array tools/environment".split(" "),u(function(g,e,c,b,a,d,f){function l(a){var d=this.getSniffer(),c=d.getSettings(),d=d.getPageProperties(),
f=a.length;b.log("/SnifferElementQueue/","Will analyse "+f+" items");0<f&&(this.analyzer=this.analyzer||new e({zoneReportURL:this.getOptions().zoneReportURL,settings:c}),this.analyzer.getPageAnalysis()||this.analyzer.analyzePage(a,d.siteID,d.publisherID),this.analyzer.analyzeZones(a),this.analyzer.sendAnalysis(!0))}function k(){var d=this;if(this.isNot("started"))return b.warn("/ElementQueue/","Not flushing: queue not started"),!1;var c=this.getQueue(),e=c;20<c.length?(e=c.splice(0,20),this.setQueue(c)):
this.setQueue([]);c=e.length;if(0>=c)return!1;for(var f=0;f<c;f+=1)e[f]={id:e[f].hash,responseTypes:["categories"]};e=this.prepareJSONPayload(e);a.sendRequest({destination:this.getOptions().zoneDataURL,method:"POST",errorCallback:function(){throw Error("Failed sending zone data request");},data:{json:JSON.stringify(e)},callback:function(a){var c=!1;try{c=JSON.parse(a)}catch(e){throw b.warn("/ElementQueue/","Failed decoding invalid JSON response"),e;}c&&d.processItemsResponse(c)}});this.set("sentFirstZonesRequest");
return!0}function m(){var a=this;this._timer=setTimeout(function(){if(!a.isNot("started")){k.call(a);try{m.call(a)}catch(d){b.error("/ElementQueue/","Failed restarting queue timer")}}},h.Config.SNIFFER_ELEMENT_QUEUE_DELAY)}return{construct:function(a,b){this.$super();b=b||{};this._options=c.mergeDefaults({name:"ElementQueue",cachedZones:[],publisherID:null,siteID:null,zoneDataURL:null,zoneReportURL:null},b);this._sniffer=a;this._queue=[];this.addStatusSet(["started","stopped"],"started");this.addStatus("usedCachedZoneData");
this.addStatus("sentFirstZonesRequest");this.addStatus("zoneCacheEnabled");this.addStatus("zoneDataRequestEnabled");if(!0===this.getSniffer().getSettings().getBool("ui.sniff.sendZoneDataRequests",!0)&&(this.set("zoneDataRequestEnabled"),c.isEmpty(this._options.zoneDataURL)||c.isEmpty(this._options.zoneReportURL)))throw new w("Invalid/unset zone-data or zone-report URL");!0===h.Config.CACHE.ZONE_RESPONSE&&this.set("zoneCacheEnabled");this._timer=null;m.call(this)},addItems:function(a){d.isArray(a)||
(a=[a]);if(this.isNot("zoneDataRequestEnabled")){for(var c=a,e=[],f=c.length,g=0;g<f;g+=1){var k=c[g];k.zoneId=k.hash;k.categories=[{type:"cache",result:{state:"ok",meta:"Cached item"}}];e.push(k)}this.getOptions().cachedZones=this.getOptions().cachedZones.concat(e)}this._queue=this._queue.concat(a);a=this.getOptions().cachedZones;e=this.has("zoneCacheEnabled")||this.hasNot("zoneDataRequestEnabled");c=this.getQueue();if(a&&e){for(var e=c.length,f=[],g=a.length,l=k=0;l<e;l+=1){for(var h=!1,m=0;m<g;m+=
1)a[m].zoneId===c[l].hash&&(h=!0,this.set("usedCachedZoneData"),this.processItemsResponse({results:[a[m]]}),k+=1);h||f.push(c[l])}0<k&&b.log("/SnifferElementQueue/","Loaded "+k+" cached zones");this.setQueue(f)}},destroy:function(){this._timer&&clearTimeout(this._timer);this._options=null;this.set("stopped");this.$super()},flush:function(){k.call(this)},getOptions:function(){return this._options},getQueue:function(){return this._queue},getSniffer:function(){return this._sniffer},prepareJSONPayload:function(a){var b=
this.hasNot("sentFirstZonesRequest")&&this.hasNot("usedCachedZoneData"),d=this.getOptions();return{zones:a,pub:d.publisherID,site:d.siteID,pageUrl:g.processPageURL(f.getPageUrl()),pageType:this.getSniffer().getPageType(),firstRequest:b}},processItemsResponse:function(a){if(a){var d=this.getSniffer();if(a.results){for(var c=a.results,e=c.length,f=Promise.resolve(),g=0;g<e;g+=1)(function(a){f=f.then(function(){d.loadItemWithData(a.zoneId,a.categories)})})(c[g]);f["catch"](function(a){b.warn("/ElementQueue/",
"Failed loading some item responses");throw a;})}if(a.zonesToAnalyze){c=a.zonesToAnalyze.length;e=[];for(g=0;g<c;g+=1){var k=a.zonesToAnalyze[g].zoneId,h=d.getItemByZoneID(k);h?(a.zonesToAnalyze[g].img=h.element,e.push(a.zonesToAnalyze[g])):b.warn("/SnifferElementQueue/","Failed finding sniffed data for zone: ",k)}0<e.length&&l.call(this,e)}}},setQueue:function(a){this._queue=a}}}));m("sniffing/SnifferConveyor",["core/KioskedObject","sniffing/SnifferUtilities","tools/dom","tools/bulletLang"],u(function(g,
e,c){return{construct:function(b,a){this.$super();this._snifferController=b;this._searchNode=a;this._maxItemsPerRound=g.getMaximumItemsPerRound()},destroy:function(){this._searchNode=this._snifferController=null;this.$super()},getMaximumItemsPerRound:function(){return this._maxItemsPerRound},getSearchNode:function(){return this._searchNode},getSnifferController:function(){return this._snifferController},retrieveItems:function(){var b=this.getSearchNode(),a=this.getSnifferController(),d=b.getContext().getSettings(),
f=b.isRoot(),g=b.getSelectionMode(),k=b.getOptions().hashAttribute,m=this.getMaximumItemsPerRound();return b.getContext().isNot("enabled")||b.isBlockedBySettings()?Promise.resolve([]):b.prepareChain().then(function(a){var d=b.formQueryString(a.subParentSelectors,a.selectors),c=0<a.customSelectors.length?b.formQueryString(a.subParentSelectors,a.customSelectors):!1;if(f)return{elements:a.elements,parents:[],queryString:d,queryStringCustom:c};for(var g=a.parentSelectors.length,k=[],l=0;l<g;l+=1)k=k.concat(e.query(a.parentSelectors[l]));
return{elements:a.elements,parents:k,queryString:d,queryStringCustom:c}}).then(function(a){var d=[].concat(a.elements),c=[];if(f)d=d.concat(e.query(a.queryString));else for(var k=a.parents.length,m=0;m<k;m+=1)if("select"===g)d.push(a.parents[m]),c.push(a.parents[m]);else var x=e.query(a.queryString,a.parents[m]),d=d.concat(x);k=[];m=d.length;for(x=0;x<m;x+=1){var u=b.wrapElement(d[x]);0<=c.indexOf(d[x])&&(u.searchMode=h.Config.ELEMENT_SEARCH_MODE.SELECT);k.push(u)}return{items:k,queryStringCustom:a.queryStringCustom}}).then(function(a){var d=
a.items;if(a.queryStringCustom&&f){a=e.query(a.queryStringCustom);for(var c=a.length,g=0;g<c;g+=1){var k=b.wrapElement(a[g]);k.selectionMode=h.Config.ELEMENT_SELECTION_MODE.CUSTOM;d.push(k)}}return d}).then(function(a){"select"===g&&a.forEach(function(a){a.selectionMode=h.Config.ELEMENT_SELECTION_MODE.CUSTOM});a.forEach(function(a){a.element.hasAttribute(k)?a.firstSniff=!1:b._incrementElementCount(1)});return a}).then(function(a){return a.filter(b.filterTemporarilyBlockedItem,b)}).then(function(b){for(var d=
b.length,c=[],e=0;e<d;e+=1){var f=b[e].element,g=f.offsetWidth,f=f.offsetHeight;if(0<g&&0<f||a.wasSelectedAsCustom(b[e]))b[e].width=g,b[e].height=f,c.push(b[e])}return c}).then(function(b){b=b.filter(function(b){return a.wasSelectedAsCustom(b)||a.isLargeEnough(b)});return b=b.filter(function(b){return a.wasSelectedAsCustom(b)||a.isPermittedBySettings(b)})}).then(function(a){var b=d.get("ui.sniff.bulletLangFilter",!1);!1!==b&&(a=c.filter(a,b));return a}).then(function(b){return b.filter(function(b){return a.wasSelectedAsCustom(b)||
b.element instanceof HTMLImageElement&&b.element.src})}).then(function(a){return a.filter(b.filterItemByBlockedAttributes,b)}).then(function(b){var d=b.length;d>m&&(b=b.slice(0,m),d=m);for(var c=0;c<d;c+=1)b[c].hash=a.markElementAsProcessed(b[c].element),a.addMarkedItem(b[c]);return b})}}}));m("LocalStorageEventQueue",["core/KioskedObject","LocalStorage","locators/GrandCentralStationLocator"],u(function(g,e){return{construct:function(){this._eventsQueue=[];this._keyName="KskdQueueEvents"},getKeyName:function(){return this._keyName},
getEventsQueue:function(){return this._eventsQueue},setEventInQueue:function(c){this._eventsQueue.push(c)},clearQueueStorage:function(){g.remove(this.getKeyName())},sendQueueFromStorage:function(){var c=g.get(this.getKeyName());if("string"===typeof c){for(var c=JSON.parse(c),b=0,a=c.length;b<a;b+=1)e.getGrandCentralStation().dispatch(h.Config.ANALYTICS_EVENT_NAME,c[b]);this.clearQueueStorage()}},saveQueueInStorage:function(){var c=this.getEventsQueue();g.set(this.getKeyName(),JSON.stringify(c))}}}));
m("tools/cutting",["tools/dom"],function(g){var e=["search","exact"],c={isValidElement:function(b){return b?b instanceof HTMLElement&&b!==document:!1},locateParentElement:function a(d,f,l,k){l=l||"exact";k=k||0;if("auto"===f)return a(d,10,"search",0);if(0>e.indexOf(l))throw new w("Unsupported 'mode': "+l);f=parseInt(f,10);var h=d.parentNode;if("exact"===l)return c.isValidElement(h)&&0<f?a(h,f-1,l,k+1):0<k?d:null;if("search"===l&&c.isValidElement(h)){l=null;k=0;for(var p;0<f&&c.isValidElement(h);)f-=
1,p=document.defaultView.getComputedStyle(h,null).overflow,"hidden"===p&&(p=g.getIntersection(h,d),p.cuts&&p.excluded.b>k&&(k=p.excluded.b,l=h)),h=h.parentNode;return l}return null}};return c});m("DemoCreativeManager",["messaging/PubSub","tools/decorators","tools/general","tools/environment","Script"],function(g,e,c,b,a){var d,f=function(){this._creatives={};this._zones={};this._config={bucket:""};this._updated=!1;e.decorateWithPubSub(this,new g);var a=this;this.subscribe("update",function(){a&&(a._updated=
!0)})};f.boot=function(){var d=this;return new Promise(function(e){!0===d._updated?e():a.createAndInsert(c.pageProtocol+"//"+b.getResourcesDomain()+"/demo/creatives/boot.js").then(e)})};f.prototype.getConfig=function(){return this._config};f.prototype.getRandomCreative=function(a){if(this._zones[a]){var b=this._zones[a].creatives[c.getRandomInt(0,this._zones[a].creatives.length-1)];a=this._zones[a].link;var b=c.deepClone(this._creatives[b]),d=this.getConfig();if(b){var e=b.size.split("x"),e=_slicedToArray(e,
2);b.width=e[0];b.height=e[1];b.url=c.pageProtocol+"//"+d.bucket+"/"+d.destination+b.filename;b.link=a;return b}}return null};f.prototype.registerCreative=function(a,b,d,c){this._creatives[a]={name:a,filename:b,size:d,type:c||""}};f.prototype.registerZone=function(a,b,d){this._zones[a]={creatives:b,link:d||"#"}};f.prototype.setConfigOption=function(a,b){this._config[a]=b};f.getSharedInstance=function(){d||(d=new f);return d};return f});m("init/overriding",function(){return{getOverrideFunctions:function(g){var e=
{};["GrandCentralStation.libraryInit","SnifferUtilities.processPageURL","SnifferUtilities.processImageURL","tools.getWindowLocationPath"].forEach(function(c){var b=g.get("ui.override.js.ITGS."+c);"function"===typeof b&&(e[c]=b)});return e}}});m("Destructors",["tools/debug"],function(g){var e={destroyPlacement:function(c){var b=G("locators/PlacementContainerLocator");c=c.getOptions().kioskID;(b=b.getPlacementContainerByID(c))?e.destroyPlacementContainer(b):g.warn("/Destructors/","Could not find placement container for destruction: "+
c)},destroyPlacements:function(){for(var c=F.length,b=Promise.resolve(),a=0;a<c;a+=1){var d=F[a];try{b=b.then(e.destroyPlacementContainer(d))}catch(f){g.warn("Failed destroying placement:",d)}}return b.then(function(){F=[]})},destroySniffer:function(){var c=G("locators/SnifferControllerLocator"),b=c.getSnifferController();if(b)try{b.destroy(),c.setSnifferController(null)}catch(a){g.error("/Destructors/","Failed destroying sniffer")}},destroyPlacementContainer:function(c){var b=!1,a=Promise.resolve();
try{b=c.getPlacement().getOptions().kioskedZoneID,a=a.then(c.destroy())}catch(d){g.warn("/Destructors/","Failed destroying placement container")}return a.then(function(){if("string"===typeof b&&0<b.length)if(F&&F instanceof Array){var a=F.indexOf(c);0<=a?F.splice(a,1):g.warn("/Destructors/","Unable to locate placement container in global collection")}else throw new w("Global placement container collection not found");else throw new w("Invalid Kiosked zone ID, unable to destroy container");})},destroyNamespace:function(c){var b=
c||function(){};e.destroySniffer();e.destroyPlacements();setTimeout(function(){window.ITGS=null;try{delete window.ITGS}catch(a){}b()},500)}};return e});m("init/checklist",["init/placeholders","validation/execution","tools/dom","tools/native"],function(g,e,c,b){return{isAllowedOnDomain:function(){return e.domainIsValid(g.getClientDataset("allowedDomains",[]))},isDisabled:function(){return!0===window.disableITGS},waitForDOMInteractive:function(){return Promise.all([new Promise(function(a){c.onDOMReady(a)}),
new Promise(function(a){b.onReady(a)})])}}});m("Decorator",["Status","messaging/PubSub","tools/decorators"],function(g,e,c){g=new g;e=new e;c.decorateWithStatus(window.ITGS,g);c.decorateWithPubSub(window.ITGS,e);return h});G(["facades/URLProcessing","RewardWrapper"],function(g,e){h.Facades.URLProcessing=g;h.createReward=e.createReward});m("tools/communication",["tools/general","tools/debug","tools/array","tools/encoding"],function(g,e,c,b){var a=g.isBrowser.internetExplorer9(),d={getAjaxAppliance:function(){var b=
["Msxml2.XMLHTTP","Microsoft.XMLHTTP"];if(a)return new window.XDomainRequest;if(window.XMLHttpRequest)return new XMLHttpRequest;if(window.ActiveXObject)for(var d=0;d<b.length;d+=1)try{return new window.ActiveXObject(b[d])}catch(c){}return!1},sendRequest:function(f){f=f||{};var l="POST";if(!f.hasOwnProperty("destination"))throw new w("Destination is required for ajax request");if(f.method)if(0<=["POST","GET"].indexOf(f.method.toUpperCase()))l=f.method.toUpperCase();else throw new w("Unsupported request method: "+
f.method);else e.log("/Communication/","No request method specified, using default:",l);f.hasOwnProperty("data")&&"GET"!==l||(f.data=null);f.data&&("object"===_typeof(f.data)||c.isArray(f.data))&&(f.data=b.formURLStringFromParameters(f.data,["ENCODE_VALUE"]));var k=f.hasOwnProperty("appliance")?f.appliance:d.getAjaxAppliance();if(!1===k||!g.isset(k))throw new w("Unable to find ajax appliance");var h=new Promise(function(a,b){k.onreadystatechange=function(){4===k.readyState&&(200===k.status?(a(k.responseText),
f.callback&&f.callback(k.responseText)):(b(k.statusText),f.errorCallback&&f.errorCallback()))}});a&&(k.onprogress=function(){},h=new Promise(function(a,b){k.onload=function(){a(k.responseText);f.callback&&f.callback(k.responseText)};k.onerror=k.ontimeout=function(){b(k.statusText);f.errorCallback&&f.errorCallback()}}),f.destination=f.destination.replace(/^https?:/,""),f.destination=window.location.protocol+f.destination);k.open(l,f.destination,!0);k.withCredentials=f.hasOwnProperty("withCredentials")?
f.withCredentials:!0;a||k.setRequestHeader("Content-Type","application/x-www-form-urlencoded");k.send(f.data);return h}};return d});m("tools/bulletLang",function(){return{filter:function(g,e){return this.runFilter(g,this.parseFilter(e))},parseFilter:function(g){for(var e=/(([a-zA-Z]+)(\(([^\)]+)\))?)/g,c=[],b;null!==(b=e.exec(g));)c.push({name:b[2],args:b[4]?b[4].split(/,/):[]});return c},runFilter:function(g,e){for(var c=g.length,b=[],a=0;a<c;a+=1)for(var d=0;d<e.length;d+=1)if(this.filterMatches(a,
c,e[d].name,e[d].args)){b.push(g[a]);break}return b},filterMatches:function(g,e,c,b){g=[g.toString(),e.toString()].concat(b).map(function(a){return parseInt(a,10)});return this.filters[c].apply(this,g)},filters:{every:function(g,e,c,b){b=b||1;e=g+=1;return e>=b&&0===(g-b+1)%c},first:function(g){return 0===g},last:function(g,e){return g+1===e},nth:function(){for(var g=arguments[0],e=Array.prototype.slice.call(arguments,2),c=0;c<=e.length;c+=1)if(e.hasOwnProperty(c)&&e[c]===g+1)return!0;return!1}}}});
m("factories/PlacementContainerFactory","tools/general SettingsOBC factories/DisclaimerBarFactory locators/InstanceControlManagerLocator InstanceControlManager placement/Placement placement/AnchorTypeResolver placement/PlacementContainer placement/PlacementBoxAnchor placement/PlacementStubAnchor placement/PlacementLaunchpadAnchor placement/PlacementInterstitialAnchor placement/PlacementInScrollAnchor placement/PlacementWaterfallCallbackInput placement/PlacementPositionInput placement/PlacementSizeInput placement/PlacementRefreshInput placement/PlacementExternalSizeInput placement/PlacementFixedSizeInput placement/PlacementInterstitialInput placement/PlacementInScrollInput".split(" "),
function(g,e,c,b,a,d,f,l,k,m,p,s,q,t,B,v,u,C,E,K,H){var D={createPlacementContainerWithOptions:function(n){n=n||{};n=g.mergeDefaults({anchorType:!1,categories:!1,kioskedZoneID:"",kioskID:""+Math.round(1E7*Math.random()),settings:null,settingsMeta:{},targetElement:null,publisherID:null,siteID:null,waterfall:null,waterfallsInitial:0},n);if(!0!==n.targetElement instanceof HTMLElement)throw Error("Target element was not a HTMLElement");if(!0!==n.settings instanceof e)throw Error("Settings option was not an instance of SettingsOBC");
if(!1===n.anchorType&&(n.anchorType=f.resolveAnchorTypeForSettings(n.settings),!1===n.anchorType))return Promise.reject("No suitable anchor type was resolved");var r=b.getSharedInstance();return r.registerCount(a.InstanceType.Anchor,n.anchorType,n.kioskID)?Promise.resolve().then(function(){var a;a=n;var b=a.settings,d=c.createBarWithSettings(b,a.anchorType),e=!b.getBool("ui.media.Banner.noScale",!1);a=a.anchorType===h.Config.PLACEMENT_ANCHOR_TYPE.BOX?new k(a.targetElement,{disclaimer:d,kioskID:a.kioskID,
scaleEnabled:e}):a.anchorType===h.Config.PLACEMENT_ANCHOR_TYPE.STUB?new m(a.targetElement,{disclaimer:d,kioskID:a.kioskID,placementPosition:b.get("ui.media.plugins.ExternalBannerSlot.placementPosition","after"),scaleEnabled:e,margin:b.getInt("ui.media.plugins.ExternalBannerSlot.margin",10)}):a.anchorType===h.Config.PLACEMENT_ANCHOR_TYPE.LAUNCHPAD?new p(a.targetElement,{disclaimer:d,kioskID:a.kioskID,scaleEnabled:e}):a.anchorType===h.Config.PLACEMENT_ANCHOR_TYPE.INTERSTITIAL?new s(a.targetElement,
{disclaimer:d,kioskID:a.kioskID,scaleEnabled:e}):a.anchorType===h.Config.PLACEMENT_ANCHOR_TYPE.REWARD?new s(a.targetElement,{disclaimer:d,kioskID:a.kioskID,scaleEnabled:e,reward:!0}):a.anchorType===h.Config.PLACEMENT_ANCHOR_TYPE.IN_SCROLL?new q(a.targetElement,{disclaimer:d,kioskID:a.kioskID,scaleEnabled:e,triggerPoint:b.getInt("ui.media.Banner.inScrollElementTrigger",10)}):null;if(null===a)throw new w("Failed creating anchor");a.createAnchorElement();a.createContainerElement();a.prepareDisclaimer();
return a}).then(function(a){return new d(a,{categories:n.categories,kioskedZoneID:n.kioskedZoneID,settings:n.settings,publisherID:n.publisherID,siteID:n.siteID,settingsMeta:n.settingsMeta,waterfallTemplate:n.waterfall,waterfallsInitial:n.waterfallsInitial})}).then(function(a){return new l(a)}).then(function(a){var b=n.anchorType,d=n.settings,c=[];c.push(new t({},d));b===h.Config.PLACEMENT_ANCHOR_TYPE.BOX?(c.push(new B({},d)),c.push(new v({},d)),c.push(new u({},d))):b===h.Config.PLACEMENT_ANCHOR_TYPE.STUB?
(c.push(new C({},d)),c.push(new u({},d))):b===h.Config.PLACEMENT_ANCHOR_TYPE.LAUNCHPAD?c.push(new E({},d)):b===h.Config.PLACEMENT_ANCHOR_TYPE.INTERSTITIAL?c.push(new K({},d)):b===h.Config.PLACEMENT_ANCHOR_TYPE.IN_SCROLL?c.push(new H({},d)):b===h.Config.PLACEMENT_ANCHOR_TYPE.REWARD&&c.push(new K({},d));b=c.length;for(d=0;d<b;d+=1)a.getInputManager().addInput(c[d]);a.getInputManager().start();return a}):r.waitForSlot(a.InstanceType.Anchor,n.anchorType,n.kioskID).then(function(){return D.createPlacementContainerWithOptions(n)})}};
return D});m("factories/DisclaimerBarFactory",["placement/DisclaimerBarInside","placement/DisclaimerBarBasic"],function(g,e){return{createBarWithSettings:function(c,b){var a={showDisclaimer:c.getBool("ui.media.Banner.showDisclaimer",!1),disclaimerLink:c.get("ui.media.overlays.Disclaimer.disclaimerLink",h.Config.DISCLAIMER_DEFAULT_LINK),zIndex:c.get("ui.media.zIndex",!1)},d=c.getBool("ui.media.plugins.ExternalBannerSlot.disclaimerInsideBanner",!1),f=b===h.Config.PLACEMENT_ANCHOR_TYPE.STUB,l=b===h.Config.PLACEMENT_ANCHOR_TYPE.INTERSTITIAL,
k=b===h.Config.PLACEMENT_ANCHOR_TYPE.REWARD;if(b===h.Config.PLACEMENT_ANCHOR_TYPE.IN_SCROLL||k)a.closingButton=!1;l&&(a.colour="white");if(d&&f)return a.external=!1,new g(a);a.external=!0;return new e(a)}}});m("factories/ContainerFactory",["messaging/PubSub","tools/general","tools/decorators","tools/native"],function(g,e,c,b){return{createFriendlyIframeTool:function(){var a=b.createElement("iframe"),d=e.isBrowser.internetExplorer9();d&&(a.src="about:blank");a.style.setProperty("max-width","100%",
"important");a.style.width="100%";a.style.height="100%";a.style.overflow="hidden";a.frameBorder="0";a.scrolling="no";a.align="top";a.seamless="seamless";a.marginwidth="0";a.marginheight="0";var f={appendToElement:function(b){b.appendChild(a);return f},getIFrame:function(){return a},waitForLoad:function(){return l.then(function(){return f})},writeContent:function(b){var c=a.contentWindow.document;c.open();c.write(b);d||c.close();return f}};c.decorateWithPubSub(f,new g);var l=(new Promise(function(b){a.onload=
function(){b()};a.onreadystatechange=function(){"complete"!==this.readyState&&"interactive"!==this.readyState||b()}})).then(function(){f.publish("iframeLoaded")});return f}}});m("factories/AdElementFactory","SettingsOBC ResourceManager RewardWrapper factories/AdElementApplicatorFactory locators/GrandCentralStationLocator adelement/AdElementDFP adelement/AdElement adelement/AdContentTokenResolver adfill/VASTVideoAdFlash adfill/VASTVideoAdHTML5 tools/general tools/encoding tools/debug tools/environment tools/dom tools/device".split(" "),
function(g,e,c,b,a,d,f,l,k,m,p,s,q,t,B,v){function u(b,d,c){var e={};e.name=b;e.kioskID=d;e.properties={width:c.proportions.width,height:c.proportions.height,format:c.formatVideo};a.getGrandCentralStation().publish("videoEvent",e)}var C=e.getResource,E={createAdElementWithWaterfall:function(a,c,e,f,s){f=f||new g;var v=c.getCurrentStep(),A=c.getMeta("link","#");if(!1!==v){c=v.network.toLowerCase();var y=(v.applicator||"").toLowerCase(),y=E.getElementType(c,y),z=new (E.getAdElementClass(c))({kioskID:e,
zIndex:f.get("ui.media.zIndex",!1)}),J=function(){z.set("loaded");z.publish("loaded")},I=B.create("div");f={advertiserID:v.advertiserID,zoneID:v.zone,network:c,kioskID:e,width:v.proportions.width,height:v.proportions.height,placementType:s.getOptions().placementType,domain:t.getPageDomain(),dfpCount:z instanceof d?z.getDFPIndex():-1,fldStatus:s.getRTBPosition(),protocol:p.pageProtocol.replace(":",""),resourcesDomain:t.getResourcesDomain(),href:A};a.setAttribute(h.Config.KIOSKED_AD_ELEMENT_ID_ATTRIBUTE,
e);if("script"===y){a.appendChild(I);a="custom"===v.network?v.content:E.getScriptResourceForNetwork(c);if(a=l.resolveContent(a,f))return e=b.createApplicatorForScript(I,a,J,e),z.setScalingElement(I),z.setApplicator(e),z;throw new w("No script content available for network: "+c);}if("in-line"===y){I=E.createInLine(e);a.appendChild(I);e="custom"===v.network?v.content:E.getScriptResourceForNetwork(c);if(e=l.resolveContent(e,f))return e=b.createApplicatorForInLine(I,e,J),z.setScalingElement(I),z.setApplicator(e),
z;throw new w("No in-line content available for network: "+c);}if("video"===y){var N={autoplay:!0,soundAlways:!1};s.getOptions().anchorType===h.Config.PLACEMENT_ANCHOR_TYPE.REWARD&&(N={autoplay:!1,soundAlways:!0});a.appendChild(I);e=b.createApplicatorForVideo(I,"custom"===v.network?v.content:v.zone,N,e,function(a){a instanceof k?(v.formatVideo="flash",z.set("flash"),z.removeScaling()):a instanceof m&&(v.formatVideo="html5",z.set("html5"),z.subscribe("visibilityChanged",function(b){b.visible?a.publish("onScreen"):
a.publish("outOfScreen")}));a.onEvents("adCompleted","adErrored","adLoaded","adStarted").publishOn(z);a.setupInContainer(I);return new Promise(function(b){"html5"===v.formatVideo&&a.subscribe("adLoaded",function(){N.autoplay?(a.publish("startVideo"),J(),b()):(s.getFixedContainerElement().style.display="none",s.getOptions().rewardButton.addEventListener("click",function(){a.publish("startVideo");J();b()}))});"flash"===v.formatVideo&&(N.autoplay?a.subscribe("adLoaded",function(){J();b()}):(s.getFixedContainerElement().style.top=
"100%",s.getOptions().rewardButton.addEventListener("click",function(){s.getFixedContainerElement().style.top="0";a.publish("startVideo");J();b()})));z.subscribe("adStarted",function(){u("videoStarted",s.getOptions().kioskID,v)});z.subscribe("adCompleted",function(){u("videoCompleted",s.getOptions().kioskID,v)})})});z.setScalingElement(I);z.setApplicator(e);return z}q.warn("/AdElementFactory/","Failed getting information for network:",v.network)}else q.warn("/AdElementFactory/","Unable to get waterfall step information for creating an ad element");
return!1},createInLine:function(a){var b=B.create("div");b.setAttribute(h.Config.KIOSKED_AD_ELEMENT_ID_ATTRIBUTE,a);return b},getAdElementClass:function(a){switch(a.toLowerCase()){case "dfp":return d;default:return f}},getElementType:function(a,b){switch(a){case "iow":case "dfp":case "test:script":return"in-line";case "appnexus":case "criteo":case "openx":case "districtm":case "pulsepoint":case "technorati":case "xaxisnaeu":case "xaxissea_id":case "xaxissea_my":case "xaxissea_sg":case "aol":return"script";
case "vast":return"video";case "custom":return b;default:return!1}},getNetworkURL:function(a,b,d,c){c||new g;switch(a.toLowerCase()){default:return""}},getScriptResourceForNetwork:function(a){switch(a.toLowerCase()){case "appnexus":case "xaxisnaeu":case "xaxissea_id":case "xaxissea_my":case "xaxissea_sg":return"https:"===p.pageProtocol?e.getResource("networks/appnexus_secure.html"):e.getResource("networks/appnexus.html");case "dfp":return e.getResource("networks/dfp.html");case "districtm":return e.getResource("networks/districtm.html");
case "criteo":return e.getResource("networks/criteo.html");case "openx":return e.getResource("networks/openx.html");case "pulsepoint":return e.getResource("networks/pulsepoint.html");case "technorati":return e.getResource("networks/technorati.html");case "iow":return e.getResource("networks/iow.html");case "aol":return v.isMobile()?C("networks/aol_mobile.html"):C("networks/aol_desktop.html");case "test:script":return e.getResource("networks/test.html");default:return null}}};return E});m("factories/AdElementApplicatorFactory",
["factories/ContainerFactory","locators/GrandCentralStationLocator","adfill/VASTDelegate","ResourceManager","tools/dom"],function(g,e,c,b,a){return{createApplicatorForInLine:function(b,c,e){return function(){b.innerHTML=c;return a.reloadScriptsInNode(b).then(e)["catch"](function(a){throw Error("In-line applicator execution failed: "+a.message);})}},createApplicatorForScript:function(a,c,l,k){return function(){var m=b.getResource("helpers/iframe-padding.html"),p=g.createFriendlyIframeTool(),s=p.getIFrame();
p.subscribe("iframeLoaded",function(){e.getGrandCentralStation().publish("iframeLoaded",k)});s.setAttribute(h.Config.KIOSKED_AD_ELEMENT_ID_ATTRIBUTE,k);p.appendToElement(a);p.writeContent("<!DOCTYPE html><html><head></head><body>"+(m+"\n"+c)+"</body></html>");return p.waitForLoad().then(l)}},createApplicatorForVideo:function(a,b,e,g,h){return function(){if(a){var m=new c(b);return m.prepareVideoPlayer().then(function(a){if(!a)throw new w("Failed building video player");m.destroy();return a.initialise().then(function(){a.setVideoOptions(e);
a.setKioskID(g);return a},function(a){throw new w("Failed initialising video player: "+a);})}).then(h)}throw new w("Required: container");}}}});m("facades/URLProcessing",["tools/URLParser","tools/encoding"],function(g,e){return{getURLPathOnly:function(c){return c.split("?")[0]},getURLWithAlphabetizedParameters:function(c){var b=new g(c);c=b.getPath();var a=b.getQueryParameters(),b=b.getFragment(),a=e.formURLStringFromParameters(a,["ALPHABETIZE"]);0<a.length&&(c+="?"+a);0<b.length&&(c+="#"+b);return c},
getURLWithoutFragment:function(c){var b=new g(c);c=b.getPath();b=b.getQuery();0<b.length&&(c+="?"+b);return c}}});m("tools/array",function(){return{createSorter:{forObjectNumberProperty:function(g){return function(e,c){var b=parseInt(e[g],10),a=parseInt(c[g],10);return b>a?1:a>b?-1:0}}},isArray:function(g){return"[object Array]"===Object.prototype.toString.call(g)}}});var w=function(g,e){var c=this;this.name="KioskedException";this.message="[Kiosked] "+g;this.stack=Error().stack;this.meta=e||{};G(["locators/ErrorCollectorLocator",
"tools/environment"],function(b,a){b.getErrorCollector().registerError(c.message,c.name,a.getPageUrl(),{stack:c.stack,meta:c.meta})})};w.prototype=Object.create(Error.prototype);w.prototype.constructor=w;m("placement/PlacementWaterfallCallbackInput","placement/PlacementInputAbstract locators/GrandCentralStationLocator locators/PlacementContainerLocator tools/URLParser tools/general tools/debug".split(" "),u(function(g,e,c,b,a){function d(){var a=this,b=g.getGrandCentralStation();b.subscribe("appNexusFallbacksReceived",
function(b){a.addDataset("appnexus",b);(b=a.getLastPlacement())&&a.process(b)});b.subscribe("appNexusFallbackInitiated",function(b){a.addDataset("appnexus",b);(b=a.getLastPlacement())&&a.process(b)});b.subscribe("networkFallbacksReceived",function(b){a.addDataset("kiosked",b);(b=a.getLastPlacement())&&a.process(b)});b.subscribe("networkFallbackInitiated",function(b){a.addDataset("kiosked",b);(b=a.getLastPlacement())&&a.process(b)});b.subscribe("placementFillError",function(b){a.addDataset("kiosked",
{container_id:b,fallback:!0});(b=a.getLastPlacement())&&a.process(b)})}function f(a,b){var d=a.length,e=b.getOptions().kioskID,f,g;try{f=b.getAdFill().getAdElement().getScalingElement().src}catch(l){return!1}for(g=0;g<d;g+=1)if(f===a[g])return!0;for(g=0;g<d;g+=1){f=!1;try{var h=new c(a[g]),m=decodeURIComponent(h.getQuery());f=(new RegExp("tt\\?.+?cb="+e)).test(m)}catch(u){}if(f)return!0}return!1}var l=["appnexus","kiosked"];return{construct:function(a,b){this.$super(a,b);var c=this;this._lastWaterfallDatasets=
{};l.forEach(function(a){c._lastWaterfallDatasets[a]=[]});d.call(this)},addDataset:function(a,b){this._lastWaterfallDatasets[a].push(b)},clearDatasetCollection:function(a){this._lastWaterfallDatasets.hasOwnProperty(a)&&(this._lastWaterfallDatasets[a]=[])},closePlacement:function(a){var d=a.getWaterfall();a.getAdFill().publish("waterfallEnd",{waterfall:d});return a.hideAd().then(b.delay(1,!0)).then(function(){var b=e.getPlacementContainerByID(a.getOptions().kioskID);if(b)G("Destructors").destroyPlacementContainer(b);
else throw new w("Unable to locate placement container for destruction");})},destroy:function(){this.$super()},getDatasetCollection:function(a){return this._lastWaterfallDatasets.hasOwnProperty(a)&&0<this._lastWaterfallDatasets[a].length?this._lastWaterfallDatasets[a]:!1},process:function(b){this.$super(b);var d=this;l.forEach(function(c){var e=d.getDatasetCollection(c);!1!==e&&(e.forEach(function(e){var g;if(e.dfpFrame){g=e.dfpFrame;var l=b.getAdFill().getAdElement().getScalingElement();g=l&&l.querySelector('[id="'+
g+'"]')?!0:!1}else g=e.container_id,g=b.getOptions().kioskID===g||f.call(d,e.frame_urls||[],b);g&&(!0===e.fallback?d.processWaterfallStep(b):e.zones?d.processIncomingWaterfall(b,e.zones,c):a.warn("/PlacementWaterfallCallbackInput/","Invalid dataset",e))}),d.clearDatasetCollection(c))})},processIncomingWaterfall:function(b,d,c){var e=b.getAdFill().getOptions().proportions,f=b.getWaterfall();d.forEach(function(a){f.addStep(a.name,a.zone,e,c,a.content,a.applicator)});a.log("/PlacementWaterfallCallbackInput/",
"Added "+d.length+" new steps ("+c+")");this.processWaterfallStep(b)},processWaterfallStep:function(a){var b=a.getWaterfall();b.step()?(a.getAdFill().empty(),a.getAdFill().setup(b,a.getSettings()).then(function(){a.getAdFill().updateLayout()})):this.closePlacement(a)}}}));m("placement/PlacementSizeInput",["placement/PlacementInputAbstract","tools/general","tools/dom","tools/cutting"],u(function(g,e,c){return{construct:function(b,a){this.$super(g.mergeDefaults({order:0},b),a);this._lastSize={width:0,
height:0};this.set("cuttingEnabled")},process:function(b){this.$super(b);var a=b.getAnchor().getTargetElement(),d=e.getElementOffset(a),f=d.screen,l=parseInt(f.width,10),f=parseInt(f.height,10),l=l-(d.border.left+d.border.right+d.padding.left+d.padding.right),f=f-(d.border.top+d.border.bottom+d.padding.top+d.padding.bottom);d={width:l,height:f};if(!this.isNot("cuttingEnabled")){var k=this.getSettings(),l=k.get("ui.media.cutRightSideByElement",!1),f=k.get("ui.media.cutBottomSideByElement",!1),k=k.get("ui.media.cutSizeFromParents",
!1),h=b.getCuttingElement("right"),m=b.getCuttingElement("bottom"),s=b.getCuttingElement("parent"),q=parseInt(k,10);0===q||isNaN(q)?this.unset("cuttingEnabled"):(null===h&&!1!==l&&(h=e.queryFirst(l)),null===m&&!1!==f&&(m=e.queryFirst(f)),null===s&&!1!==k&&(s=c.locateParentElement(a,k)),b.setCuttingElement("right",h),b.setCuttingElement("bottom",m),b.setCuttingElement("parent",s),s&&(a=e.getIntersection(s,a),d.width=a.intersect.width,d.height=a.intersect.height))}g.isDifferentSize(d,this._lastSize)&&
b.dispatch("placementSizeChanged",d);this._lastSize=d}}}));m("placement/PlacementRefreshInput",["placement/PlacementInputAbstract","tools/debug"],u(function(g){function e(){var b=this._onscreenInterval;if(this.canRefresh("onscreen")){this._onscreenSeconds=!0===this._onscreenCheck?this._onscreenSeconds+1:0;if(this._onscreenSeconds>=this._onscreenRefreshTimeout){this._onscreenSeconds=0;var a=this.getLastPlacement();if(a)this.markRefreshCount("onscreen"),a.hideAd().then(function(){a.refresh().then(function(){a.showAd()},
function(){g.warn("/PlacementRefreshInput/","Refresh failed, disabling");clearInterval(b)})});else throw new w("No placement ready for on-screen refresh");}this._onscreenCheck=!0}else clearInterval(b)}var c=["onscreen","offscreen"];return{construct:function(b,a){this.$super(b,a);this.addStatus("offscreenEnabled");this.addStatus("onscreenEnabled");this.addStatus("beenHidden");this.set("refreshingEnabled");!0===a.getBool("ui.media.Banner.bannerReloading.offScreen.hide",!1)&&this.set("offscreenEnabled");
this._onscreenSeconds=0;this._onscreenCheck=!1;this._onscreenRefreshTimeout=a.getInt("ui.media.Banner.bannerReloading.onScreen.hide",0);this._refreshCounts={onscreen:{current:0,max:a.getInt("ui.media.Banner.bannerReloading.onScreen.maxRefreshCount",5)},offscreen:{current:0,max:a.getInt("ui.media.Banner.bannerReloading.offScreen.maxRefreshCount",0)}};this._lastAnchorState=12},canRefresh:function(b){if(0>c.indexOf(b))throw new w("Invalid refresh context: "+b);b=this._refreshCounts[b];return 0<b.max?
b.current<b.max:!0},destroy:function(){this._onscreenInterval&&clearInterval(this._onscreenInterval);this.$super()},markRefreshCount:function(b){if(0>c.indexOf(b))throw new w("Invalid refresh context: "+b);this._refreshCounts[b].current+=1},process:function(b){this.$super(b);var a=this,d=b.getAnchor().isVisible();this.refreshEnabled(b)&&(this.is("offscreenEnabled")&&this.canRefresh("offscreen")&&this.processOffscreen(b,d),this.is("onscreenEnabled")&&!d&&(this._onscreenCheck=!1),!this._onscreenInterval&&
10<=this._onscreenRefreshTimeout&&(this.set("onscreenEnabled"),this._onscreenInterval=setInterval(function(){e.call(a)},1E3)))},processOffscreen:function(b,a){var d=this;switch(this._lastAnchorState){case 10:if(a){if(this.is("hiding")||b.is("animating"))return;this.has("beenHidden")&&(this.unset("beenHidden"),this.markRefreshCount("offscreen"),b.refresh().then(function(){b.showAd()}))}break;case 11:!a&&b.isNot("animating")&&(this.set("hiding"),b.hideAd().then(function(){d.set("beenHidden");d.unset("hiding")}));
break;default:this._lastAnchorState=!0===a?11:10;this.processOffscreen(b,a);return}this._lastAnchorState=!0===a?11:10},refreshEnabled:function(b){if(this.isNot("refreshingEnabled"))return!1;var a=b.getAnchor(),d=(b=b.getAdFill())?b.getAdElement():null;return a&&!0!==a.getOptions().refreshEnabled||b&&!0!==b.getOptions().refreshEnabled||d&&!0!==d.getOptions().refreshEnabled?(this.unset("refreshingEnabled"),g.log("/PlacementRefreshInput/","Refreshing is not available for this placement setup"),!1):!0}}}));
m("placement/PlacementPositionInput",["placement/PlacementInputAbstract","tools/general","tools/dom","tools/cutting"],u(function(g,e,c){return{construct:function(b,a){this.$super(g.mergeDefaults({order:1},b),a);this._lastPosition={left:0,top:0};this.set("cuttingEnabled")},process:function(b){this.$super(b);var a=b.getAnchor().getTargetElement(),d=e.getElementOffset(a),f=e.getElementOffset(b.getAnchor().getAnchorElement(),!0,!0),l=d.left,k=d.top,l=l+(d.border.left+d.padding.left),k=k+(d.border.top+
d.padding.top),l=l-f.left,k=k-f.top,k=Math.ceil(k);d={top:k,left:l};if(!this.isNot("cuttingEnabled")){var k=this.getSettings(),f=k.get("ui.media.cutLeftSideByElement",!1),l=k.get("ui.media.cutTopSideByElement",!1),k=k.get("ui.media.cutSizeFromParents",!1),h=b.getCuttingElement("left"),m=b.getCuttingElement("top"),s=b.getCuttingElement("parent"),q=parseInt(k,10);0===q||isNaN(q)?this.unset("cuttingEnabled"):(null===h&&!1!==f&&(h=e.queryFirst(f)),null===m&&!1!==l&&(m=e.queryFirst(l)),null===s&&!1!==
k&&(s=c.locateParentElement(a,k)),b.setCuttingElement("left",h),b.setCuttingElement("top",m),b.setCuttingElement("parent",s),s&&(a=e.getIntersection(s,a),d.left+=0>a.difference.left?Math.abs(a.difference.left):0,d.top+=0>a.difference.top?Math.abs(a.difference.top):0))}g.isDifferentPosition(d,this._lastPosition)&&b.dispatch("placementPositionChanged",d);this._lastPosition=d}}}));m("placement/PlacementInterstitialInput",["placement/PlacementInputAbstract","tools/general","tools/ads"],u(function(g,e){return{construct:function(c,
b){this.$super(g.mergeDefaults({order:-2},c),b);this._lastSize={width:0,height:0};this._marginWidth=50;this._marginHeight=140},process:function(c){this.$super(c);var b=window.innerWidth,a=window.innerHeight,d=c.getAnchor().getContainerBox(),f=c.getAnchor().getDisclaimer(),l={width:h.Config.BANNER_SIZE_STANDARDS.INTERSTITIAL.WIDTH,height:h.Config.BANNER_SIZE_STANDARDS.INTERSTITIAL.HEIGHT};if(c.getAdFill()){var k=c.getAdFill().getOptions().proportions,m=this._marginWidth,p=this._marginHeight,s=b>a;
0!==k.width&&(l={width:k.width,height:k.height});!s&&b<l.width+m?(l=e.calculateActualAdSize({width:b-m,height:0},{width:k.width,height:k.height},!0),a<l.height+p&&(l=e.calculateActualAdSize({width:0,height:a-p},{width:k.width,height:k.height},!1))):!s&&a<l.height+p?l=e.calculateActualAdSize({width:0,height:a-p},{width:k.width,height:k.height},!1):s&&a<l.height+m&&(l=e.calculateActualAdSize({width:0,height:a-m},{width:k.width,height:k.height},!1))}d.style.marginTop=-(l.height/2)+"px";d.style.marginLeft=
-(l.width/2)+"px";f.getContainer().style.bottom=l.height+"px";g.isDifferentSize(l,this._lastSize)&&c.dispatch("placementSizeChanged",l);this._lastSize=l}}}));m("placement/PlacementInScrollInput",["placement/PlacementInputAbstract","tools/general","tools/ads"],u(function(g,e){return{construct:function(c,b){this.$super(g.mergeDefaults({order:-2},c),b);this._lastSize={width:0,height:0}},process:function(c){this.$super(c);var b=window.innerWidth,a=window.innerHeight,d={width:2*h.Config.BANNER_SIZE_STANDARDS.MEDIUM_RECT.WIDTH,
height:h.Config.BANNER_SIZE_STANDARDS.MEDIUM_RECT.HEIGHT};if(c.getAdFill()){var f=c.getAdFill().getOptions().proportions,l=c.getAnchor().getDisclaimer(),k=c.getAnchor().getTrickeryBox(),m=c.getAnchor().getSwipeGuide(),p=b>a,d={width:f.width,height:f.height};!p&&b<d.width+40?(d=e.calculateActualAdSize({width:b-40,height:0},{width:f.width,height:f.height},!0),a<d.height+120&&(d=e.calculateActualAdSize({width:0,height:a-120},{width:f.width,height:f.height},!1))):!p&&a<d.height+120?d=e.calculateActualAdSize({width:0,
height:a-120},{width:f.width,height:f.height},!1):p&&a<d.height+50&&(d=e.calculateActualAdSize({width:0,height:a-50},{width:f.width,height:f.height},!1));k&&(k.style.width=d.width+"px",k.style.height=d.height+"px",k.scrollTop=h.Config.INSCROLL_TRICKERY_CONTENT/2);m&&(m.style.left=p?"auto":"50%",m.style.right=p?"50%":"auto",m.style.top=p?"50%":"100%",m.style.marginRight=p?-(d.width/2+80)+"px":0);l&&(b=l.getContainer())&&(b.style.bottom=d.height+b.clientHeight+"px",b.style.marginRight=-(d.width/2)+
"px")}g.isDifferentSize(d,this._lastSize)&&c.dispatch("placementSizeChanged",d);this._lastSize=d}}}));m("placement/PlacementFixedSizeInput",["placement/PlacementInputAbstract","tools/general","tools/device","tools/ads"],u(function(g,e,c){return{construct:function(b,a){this.$super(g.mergeDefaults({order:-2},b),a);this._lastSize={width:0,height:0}},process:function(b){this.$super(b);var a=window.innerWidth,d=window.innerHeight,f=e.isMobile()?{width:a,height:h.Config.BANNER_SIZE_STANDARDS.MOBILE.HEIGHT}:
{width:h.Config.BANNER_SIZE_STANDARDS.HORIZONTAL.WIDTH,height:h.Config.BANNER_SIZE_STANDARDS.HORIZONTAL.HEIGHT};if(b.getAdFill()){var l=b.getAdFill().getOptions().proportions;e.isMobile()&&a<d||a<l.width?(f=c.calculateActualAdSize({width:a,height:h.Config.BANNER_SIZE_STANDARDS.MOBILE.HEIGHT},{width:l.width,height:l.height},!0).height,f={width:a,height:f},this.getSettings().getBool("ui.media.Banner.noScale",!1)&&a>l.width&&(f={width:l.width,height:l.height})):f={width:l.width,height:l.height};a=b.getAnchor().getDisclaimer().getContainer();
l=parseInt(a.style.height,10);a.style.bottom=f.height+"px";b.getAnchor().getAdContainerElement().style.height=f.height+l+"px"}g.isDifferentSize(f,this._lastSize)&&b.dispatch("placementSizeChanged",f);this._lastSize=f}}}));m("placement/PlacementExternalSizeInput",["placement/PlacementInputAbstract","tools/general","tools/ads","tools/dom"],u(function(g,e,c){return{construct:function(b,a){this.$super(b,a);this._lastSize={width:0,height:0}},process:function(b){this.$super(b);var a=b.getAnchor().getTargetElement(),
a=c.getElementOffset(a),d=b.getAdFill(),d=g.isset(d)?e.calculateActualAdSize(a.width,d.getOptions().proportions,!0).height:0,d=d+b.getAnchor().getDisclaimer().getHeightOutsideBanner();b.isNot("shown")&&(d=0);a={width:a.width,height:d};g.isDifferentSize(a,this._lastSize)&&(b.dispatch("placementSizeChanged",a),b.getAnchor().getAnchorElement().style.width=a.width+"px");this._lastSize=a}}}));m("analytics/TimingReportController",["tools/environment","tools/performance","tools/dom"],function(g,e,c){g=function(){this._timingEvents=
[];this._resources=[]};g.prototype.getResources=function(){return this._resources};g.prototype.getTimingEvents=function(){return this._timingEvents};g.prototype.registerEvent=function(b,a,d){if(!e.navigationTimingSupported()||0>=d)return!1;this._timingEvents.push({event:b,properties:a,time:d});return!0};g.prototype.registerEventNow=function(b,a){return this.registerEvent(b,a,e.getCurrentTimestamp())};g.prototype.registerInitialsEvents=function(){this.registerEvent("prevDomUnload",{},c.getNavigationPerfTimingValue("unloadEventStart"));
this.registerEvent("pageNavStart",{},c.getNavigationPerfTimingValue("navigationStart"));this.registerEvent("domLoaded",{},c.getNavigationPerfTimingValue("domContentLoadedEventEnd"))};g.prototype.registerResource=function(b){var a=c.getResourceEntryByRegex(b)[0],d={};void 0!==a&&!1!==a&&(h.Config.PERFORMANCE_RESOURCES_PROPS.forEach(function(b){d[b]=a[b]}),this._resources.push(d))};g.prototype.registerResources=function(){if(e.resourcePerfSupported())for(var b=[/\/kiosked-loader\.js/i,/(intags\.com|kiosked\.com)(\/sniffer\/get-script|\/widget\/sniff)\//i,
/(intags|kiosked).+?ssp\/placement-identifier/i,/scripts\/kiosked-endpoint/i],a=0,d=b.length;a<d;a+=1)this.registerResource(b[a])};return g});m("tools/ads",["tools/general"],function(g){var e={calculateActualAdSize:function(c,b,a){c=e.calculateScale(c,b,a);return{width:Math.floor(b.width*c),height:Math.floor(b.height*c)}},calculateScale:function(c,b,a){a=g.isset(a)?a:!0;return(a?c.width:c.height)/(a?b.width:b.height)}};return e});m("analytics/ErrorCollector","tools/performance",function(g){var e=
function(){this._errorList=[]};e.prototype.getErrorList=function(){return this._errorList};e.prototype.registerError=function(c,b,a,d){this._errorList.push({description:c,time:g.getCurrentTimestamp(),type:b,URL:a,errorProperties:d});return!0};return e});m("adfill/VideoSupport",["tools/flash","tools/native"],function(g,e){var c,b=function(){this.supports={html5:"function"===typeof e.createElement("video").canPlayType,flash:g.flashSupported}};return{supports:function(a){c||(c=new b);return!0===c.supports[a]}}});
m("adfill/VASTVideoAdHTML5",["adfill/VASTVideoAdAbstract","tools/general","tools/dom","tools/debug","tools/native"],u(function(g,e,c,b){function a(){var a=this;!1===this.getVideoOptions().soundAlways&&(this._videoMouseoverListener=e.addEvent(this._videoContentDiv,"mouseover",function(){a.enableVolume(!0)}),this._videoMouseoutListener=e.addEvent(this._videoContentDiv,"mouseout",function(){a.enableVolume(!1)}));this.subscribe("onScreen",function(){a.getAdsManager().resume()});this.subscribe("outOfScreen",
function(){a.getAdsManager().pause()})}var d=!1;return{construct:function(a){this.$super(a);this._subscriptions=[];this._tempVideoItem=this._adsManager=this._adsLoader=null},destroy:function(){try{this._subscriptions.forEach(function(a){a.remove()})}catch(a){}this._subscriptions=null;this._tempVideoItem&&(e.destroy(this._tempVideoItem),this._tempVideoItem=null);this._adsManager=this._adsLoader=null;this._videoMouseoverListener&&this._videoMouseoverListener.remove();this._videoMouseoutListener&&this._videoMouseoutListener.remove();
this.$super()},enableVolume:function(a){var b=this.getAdsManager();if(!b)throw new w("No ads manager instantiated");a?(c.log("/VASTVideoAdHTML5/","Volume enabled"),b.setVolume(.8)):(c.log("/VASTVideoAdHTML5/","Volume disabled"),b.setVolume(0))},getAdsLoader:function(){return this._adsLoader},getAdsManager:function(){return this._adsManager},initialise:function(){return this.$super().then(function(){return new Promise(function(a,c){if(d)a();else{var e=b.createElement("script");e.setAttribute("src",
"//imasdk.googleapis.com/js/sdkloader/ima3.js");e.onreadystatechange=e.onload=function(){var b=8,e=setInterval(function(){b-=1;"function"===typeof google.ima.AdsLoader?(d=!0,clearInterval(e),a()):0>=b&&(clearInterval(e),c("Failed to load ima"))},250)};document.head.appendChild(e)}})})},setupInContainer:function(a){this._videoContentDiv=e.create("div");a.appendChild(this._videoContentDiv);this._tempVideoItem=b.createElement("video");a=new google.ima.AdDisplayContainer(this._videoContentDiv,this._tempVideoItem);
google.ima.settings.setVpaidAllowed(google.ima.ImaSdkSettings.VpaidMode.ENABLED);google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED);a.initialize();this._adsLoader=new google.ima.AdsLoader(a);this.getAdsLoader().addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.bindMember("_adManagerLoaded"),!1);this.getAdsLoader().addEventListener(google.ima.AdsManagerLoadedEvent.Type.AD_ERROR,this.bindMember("_adErrored"),!1);a=new google.ima.AdsRequest;a.adsResponse=
this.getVASTResponseText();a.linearAdSlotWidth=640;a.linearAdSlotHeight=360;a.nonLinearAdSlotWidth=640;a.nonLinearAdSlotHeight=150;this.getAdsLoader().requestAds(a)},_adManagerLoaded:function(b){this._adsManager=b.getAdsManager(this._tempVideoItem);this.getAdsManager().addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.bindMember("_adErrored"));this.getAdsManager().addEventListener(google.ima.AdEvent.Type.LOADED,this.bindMember("_adLoaded"));this.getAdsManager().addEventListener(google.ima.AdEvent.Type.STARTED,
this.bindMember("_adStarted"));this.getAdsManager().addEventListener(google.ima.AdEvent.Type.COMPLETE,this.bindMember("_adCompleted"));a.call(this);this.getAdsManager().init(this.getSize().width,this.getSize().height,google.ima.ViewMode.NORMAL);this.enableVolume(!1)},_adStarted:function(){this.$super();this.getVideoOptions().soundAlways?this.enableVolume(!0):this.enableVolume(!1)},_adLoaded:function(){var a=this;this.$super();this.subscribe("startVideo",function(){a._adsManager.start()})}}}));m("adfill/VASTVideoAdFlash",
"adfill/VASTVideoAdAbstract tools/general tools/compatibility tools/dom tools/native tools/environment".split(" "),u(function(g,e,c,b,a){function d(){var a=this;this._subscriptions.push(h.subscribe("flashAdLoaded",function(b){b===a.getFlashAdID()&&a._adLoaded()}));this._subscriptions.push(h.subscribe("flashAdStarted",function(b){b===a.getFlashAdID()&&a._adStarted()}));this._subscriptions.push(h.subscribe("flashAdCompleted",function(b){b===a.getFlashAdID()&&a._adCompleted()}));this._subscriptions.push(h.subscribe("flashAdError",
function(b){b===a.getFlashAdID()&&a._adErrored()}))}function f(){return new Promise(function(a,b){var d=8,c=setInterval(function(){d-=1;"function"===typeof window.swfobject.embedSWF?(clearInterval(c),a()):0>=d&&(clearInterval(c),b("Failed to load swfobject"))},250)})}function l(a){this.flashObj=a.ref;!1===this.getVideoOptions().soundAlways&&(this.flashObj.onmouseover=function(){try{a.ref.setVolume(.8)}catch(b){}},this.flashObj.onmouseout=function(){try{a.ref.setVolume(0)}catch(b){}})}var k=!1;return{construct:function(a){this.$super(a);
this._playerStates={loaded:!1,started:!1,error:!1,playOnLoad:!1};this._subscriptions=[];d.call(this)},buildFlashObject:function(){return{id:this.getFlashAdID(),loaded:g.curryWhole(this.getPlayerState,this)("loaded"),started:g.curryWhole(this.getPlayerState,this)("started"),error:g.curryWhole(this.getPlayerState,this)("error"),playOnLoad:g.curryWhole(this.getPlayerState,this)("playOnLoad"),completedCallback:this.bindMember("_adCompleted"),startedCallback:this.bindMember("_adStarted"),loadedCallback:this.bindMember("_adLoaded"),
errorCallback:this.bindMember("_adErrored")}},destroy:function(){this._subscriptions.forEach(function(a){a.remove()});this._subscriptions=null;this.$super()},getFlashAdID:function(){return"kskdVideo"+this.getKioskID()},getPlayerState:function(a){if(!this._playerStates.hasOwnProperty(a))throw new w("Invalid player state: "+a);return this._playerStates[a]},initialise:function(){return this.$super().then(function(){return new Promise(function(a,d){if(k)f().then(a,d);else{k=!0;var c=b.createElement("script");
c.setAttribute("src","//ajax.googleapis.com/ajax/libs/swfobject/2.2/swfobject.js");c.onreadystatechange=c.onload=function(){f().then(a,d)};document.head.appendChild(c)}})})},setupInContainer:function(b){var d=b.parentNode.offsetWidth,f="//"+a.getResourcesDomain()+"/swf/"+h.Config.FLASH_PLAYER_NAME,g=d/640*360,k=this.buildFlashObject(),m={vastText:encodeURIComponent(this.getVASTResponseText()),adID:k.id},v={id:"kioskedAdPlayer_"+k.id,name:"kioskedAdPlayer",align:"middle",style:"max-width:"+d+"px !important;height:"+
g+"px !important;position: absolute; left: 0px; bottom: 0px"},u=c.create("div"),w=c.create("div");u.appendChild(w);w.setAttribute("id",k.id);b.appendChild(u);window.swfobject.embedSWF(f,k.id,d,g,"1.0","",m,{quality:"high",bgcolor:"#FFFFFF",allowscriptaccess:"always",allowfullscreen:"true"},v,e.bindFunction(l,this))},_adLoaded:function(){var a=this;this.$super();this.getVideoOptions().autoplay?this.flashObj.startAd():this.subscribe("startVideo",function(){a.flashObj.startAd()})},_adStarted:function(){this.$super();
this.getVideoOptions().soundAlways&&this.flashObj.setVolume(.8)}}}));m("placement/DisclaimerBarInside","placement/DisclaimerBarAbstract locators/StylesLocator tools/general tools/device tools/dom tools/native".split(" "),u(function(g,e,c,b,a){return{construct:function(a){this.$super(a)},build:function(){this.$super();this.unset("built");var a=this,b=this.getContainer(),l=this.getCloseButtonContainer(),k=this.getAdsLogoDisclaimerContainer(),h=g.getStyling(),m=this.getOptions();h.selectStyle("BannerDisclaimerCloseButtonContainerLeft").applyToElement(l);
h.selectStyle("BannerDisclaimerAdsLogoContainerLeft").applyToElement(k);var s=h.getRenderedStyle("BannerDisclaimerAdsLogoContainerLeft"),q=h.getRenderedStyle("BannerDisclaimerAdsLogoContainerLeft","hover");c.isMobile()?k.addEventListener("touchstart",function B(b){b.preventDefault();e.animate(k,{duration:500,properties:{width:"96px"},easing:"inOutQuintic"});k.removeEventListener("touchstart",B);a.disclaimerTimeout=setTimeout(function(){e.animate(k,{duration:500,properties:{width:"20px"},easing:"inOutQuintic"});
k.addEventListener("touchstart",B)},5E3)}):(k.addEventListener("mouseenter",function(){clearTimeout(a.disclaimerTimeout);e.animate(k,{duration:500,properties:{width:q.width},easing:"inOutQuintic"})}),k.addEventListener("mouseleave",function(){a.disclaimerTimeout=setTimeout(function(){e.animate(k,{duration:500,properties:{width:s.width},easing:"inOutQuintic"})},500)}));this.buildCloseButton(l);this.buildAdsLogoDisclaimerContainer(k);b.appendChild(l);m.showDisclaimer&&b.appendChild(k);g.getStyling().selectStyle("BannerDisclaimerContainerInside").applyToElement(b);
!1!==this.getOptions().zIndex&&(this.getContainer().style.zIndex=this.getOptions().zIndex+1);this.set("built")},buildCloseButton:function(b){var c=a.createElement("div");g.getStyling().selectStyle("BannerDisclaimerCloseButtonIcon").applyToElement(c);b.appendChild(c)},buildAdsLogoDisclaimerContainer:function(a){var c=this.getOptions();this._adsLogo=b.create("a");this._adsLogo.href=c.disclaimerLink;this._adsLogo.target="_blank";g.getStyling().selectStyle("BannerDisclaimerAdsLogoInside").applyToElement(this._adsLogo);
a.appendChild(this._adsLogo)},getAdsLogo:function(){return this._adsLogo},destroy:function(){this.$super()}}}));m("adfill/VASTFormatMarshaler",["core/AdComponentAbstract","adfill/VASTVideoAdHTML5","adfill/VASTVideoAdFlash","adfill/VideoSupport","tools/debug"],u(function(g,e,c,b){return{construct:function(){this.$super();this._VASTResponseText=""},buildFlashPlayer:function(){b.log("/VASTFormatMarshaler/","Building Flash video");return new e(this.getVASTResponseText())},buildHTML5Player:function(){b.log("/VASTFormatMarshaler/",
"Building HTML5 video");return new g(this.getVASTResponseText())},getVASTResponseText:function(){return this._VASTResponseText},preparePlayerOfType:function(a){var d=c.supports("html5"),e=c.supports("flash");if(!e&&!d)return b.warn("/VASTFormatMarshaler/","Client does not support a valid video platform"),null;switch(a){case h.Config.VAST_VIDEO_FORMAT_FLASH:if(e)return this.buildFlashPlayer();b.log("/VASTFormatMarshaler/","Requested Flash content, but client does not support Flash players");return d?
this.buildHTML5Player():null;case h.Config.VAST_VIDEO_FORMAT_UNKNOWN:if(d)b.log("/VASTFormatMarshaler/","Requested unknown video format, trying HTML5");else if(e)return this.preparePlayerOfType(h.Config.VAST_VIDEO_FORMAT_FLASH);case h.Config.VAST_VIDEO_FORMAT_HTML5:if(d)return this.buildHTML5Player();b.log("/VASTFormatMarshaler/","Requested HTML5 content, but client does not support HTML5 video");return null;default:throw new w("Invalid video format");}},processVASTResponse:function(a){var d=h.Config.VAST_VIDEO_FORMAT_UNKNOWN;
0<=a.indexOf('type="application/x-shockwave-flash"')||0<=a.indexOf('type="video/x-flv"')?(d=h.Config.VAST_VIDEO_FORMAT_FLASH,b.log("/VASTFormatMarshaler/","VAST format is Flash")):/type ?= ?"(video|application)\/(mp4|ogg|webm|javascript)"/i.test(a)&&(d=h.Config.VAST_VIDEO_FORMAT_HTML5,b.log("/VASTFormatMarshaler/","VAST format is HTML5"));return d},setVASTResponseText:function(a){this._VASTResponseText=a}}}));m("adfill/VASTDelegate","core/AdComponentAbstract adfill/VASTFormatMarshaler tools/communication tools/device tools/environment tools/formatting tools/performance".split(" "),
u(function(g,e,c,b,a,d){function f(a){return e.sendRequest({destination:a,method:"GET",withCredentials:!1}).then(function(a){var b=(new DOMParser).parseFromString(a,"text/xml");return 0<b.getElementsByTagName("VASTAdTagURI").length?(a=b.getElementsByTagName("VASTAdTagURI")[0].textContent,f(a)):a},function(a){throw new w("VAST request failed: "+a);})}return{construct:function(e){this.$super();var f=encodeURIComponent(c.getUserAgent()),m=encodeURIComponent(b.getPageUrl()),p=d.getCurrentTimestamp();
this._vastURL=a.tokenReplaceString(e,{page_url:m,pageurl:m,referrer:m,width:h.Config.BANNER_SIZE_STANDARDS.VIDEO.WIDTH,height:h.Config.BANNER_SIZE_STANDARDS.VIDEO.HEIGHT,cachebuster:p,cache_buster:p,cachebreaker:p,cache_breaker:p,timestamp:p,user_agent:f,useragent:f});this._formatMarshaler=new g},destroy:function(){var a=this.getFormatMarshaler();a&&(a.destroy(),this._formatMarshaler=null);this.$super()},getFormatMarshaler:function(){return this._formatMarshaler},getVASTURL:function(){return this._vastURL},
prepareVideoPlayer:function(){var a=this;return f(this.getVASTURL()).then(function(b){a.getFormatMarshaler().setVASTResponseText(b);return b}).then(this.getFormatMarshaler().bindMember("processVASTResponse")).then(this.getFormatMarshaler().bindMember("preparePlayerOfType"))}}}));m("adfill/AdFillVerticalBanner",["adfill/AdFillBanner","tools/general"],u(function(g){return{construct:function(e,c){this.$super(e,g.mergeDefaults({name:"AdFillVerticalBanner",orientation:"vertical"},c))},getRightPositionForOffScreen:function(){var e=
this.getOptions().proportions,c=this.getPlacementSize().height/e.height;return 0-Math.ceil(e.width-c*e.width)-c*e.width},getRightPositionForOnScreen:function(){var e=this.getOptions().proportions,c=this.getPlacementSize().height/e.height;return 0-Math.ceil(e.width-c*e.width)},setup:function(e){var c=this;return this.$super(e).then(function(){c.getAnchor().buildVisibilityDetectionFrame("vertical");var b=c.getAnchor().getVisibilityDetectionFrame();b&&c.getAnchor().appendAdElement(b)})},updateLayout:function(){this.$super();
var e=this.getOptions().proportions,c=this.getPlacementSize(),c=!0===this.getOptions().scaleEnabled?c.height/e.height:1,b=this.getAdElement().getScalingElement();b.style.left="auto";b.style.setProperty("width",e.width+"px","important");b.style.setProperty("height",e.height+"px","important");b.style.WebkitTransform="scale("+c+")";b.style.MozTransform="scale("+c+")";b.style.msTransform="scale("+c+")";b.style.OTransform="scale("+c+")";b.style.transform="scale("+c+")";this.is("shown")?b.style.right=this.getRightPositionForOnScreen()+
"px":b.style.right=this.getRightPositionForOffScreen()+"px";if(b=this.getAnchor().getVisibilityDetectionFrame())b.style.height=c*e.height+"px"}}}));m("adfill/AdFillVast",["adfill/AdFillBanner","placement/PlacementBoxAnchor","tools/general","tools/ads"],u(function(g,e,c){return{construct:function(b,a){a=e.mergeDefaults({name:"AdFillVast",refreshEnabled:!1,vastURL:"",scaleEnabled:!0},a);this.$super(b,a)},setup:function(b,a){var d=this;return this.$super(b,a).then(function(){d.getAnchor().buildVisibilityDetectionFrame("horizontal");
var a=d.getAnchor().getVisibilityDetectionFrame();null!==a&&d.getAnchor().appendAdElement(a)}).then(function(){var a=d.getAdElement();a&&(a.set("loaded"),a.onEvents("adCompleted","adErrored","adLoaded","adStarted").publishOn(d))})},updateLayout:function(){this.$super();var b=this.getOptions().proportions,a=this.getPlacementSize(),a=!0===this.getOptions().scaleEnabled?c.calculateScale(a,b,!0):1,d=this.getAdElement(),e=d.getScalingElement(),h=this.getAnchor().getVisibilityDetectionFrame();if(e){var k=
a;d.is("flash")&&(k=1,b.width*=a,b.height*=a);d.scaleElement(b,k)}this.getAnchor()instanceof g&&(e.style.bottom="0px",h.style.height=a*b.height+"px")}}}));m("adfill/AdFillResolver","placement/PlacementLaunchpadAnchor placement/AnchorTypeResolver adfill/AdFillVast adfill/AdFillVerticalBanner adfill/AdFillHorizontalBanner adfill/AdFillRectBanner adelement/Waterfall InstanceControlManager locators/InstanceControlManagerLocator tools/general tools/device tools/debug DemoCreativeManager".split(" "),function(g,
e,c,b,a,d,f,l,k,m,p,s,q){function t(a){return a&&0===a.provider.indexOf("test:")&&0===a.zoneID.indexOf("demo:")}function B(a){if(t(a)){var b=q.getSharedInstance(),d=a.zoneID.substr(5),b=b.getRandomCreative(d);if(!b)throw new w("Failed resolving demo fill: "+d);a.targetLink=b.link;"video"===b.type&&(a.provider="vastpreroll",a.vastURL=b.url,a.zoneID=!1,a.fillClass=c,a.type="video",a.viewability=!0,d=b.size.split("x").map(function(a){return parseInt(a,10)}),d=_slicedToArray(d,2),a.proportions.width=
d[0],a.proportions.height=d[1])}return a}function v(){return{fillClass:!1,proportions:{width:0,height:0},type:"",vastURL:"",zoneID:!1,provider:"",network:"",viewability:!1,sizeRestraints:{minWidth:0,maxWidth:0}}}function u(a){for(var b in a)a.hasOwnProperty(b)&&"string"===typeof a[b]&&0>=a[b].trim().length&&(a[b]=!1);return a}var C={createAdFillForConfiguration:function(a,b,d){d=m.mergeDefaults({ignoreMediaSize:!1,kioskID:"",mediaSize:{width:0,height:0}},d);var e=!1;a instanceof g&&(e=h.Config.PLACEMENT_TYPE.IN_SCREEN);
return C.getAspectFromSettings(b,d.mediaSize,d.ignoreMediaSize,e).then(function(e){if(0>=e.length)return s.warn("/AdFillResolver/","No aspect(s) found from settings - possible media-size mismatch"),Promise.resolve(!1);var g=new f;e[0].fillClass===c?(e.forEach(function(a){g.addStep("vast",a.vastURL,a.proportions,"vastpreroll")}),e=new e[0].fillClass(a,{kioskID:d.kioskID,viewabilityEnabled:e[0].viewability,scaleEnabled:!b.getBool("ui.media.Banner.noScale",!1)})):(e.forEach(function(a){g.addStep(a.network,
a.zoneID,a.proportions,a.provider);a.targetLink&&g.setMeta("link",a.targetLink)}),e=new e[0].fillClass(a,{kioskID:d.kioskID,scaleEnabled:!b.getBool("ui.media.Banner.noScale",!1),viewabilityEnabled:e[0].viewability,sizeRestraints:e[0].sizeRestraints,zIndex:b.get("ui.media.zIndex",!1)}));var h=k.getSharedInstance();return h.registerCount(l.InstanceType.AdFill,e.getOptions().name,d.kioskID)?Promise.resolve({adFill:e,waterfall:g}):h.waitForSlot(l.InstanceType.AdFill,e.getOptions().name,d.kioskID).then(function(){return C.createAdFillForConfiguration(a,
b,d)})})},createAdFillForWaterfall:function(a,b,d){d=m.mergeDefaults({kioskID:""},d);var e,g=a.getCurrentStep();g&&(e=g.mediaType===f.MediaType.VIDEO||"vast"===g.network?c:C.getAdFillClassFromFormat(a.getPlacementType(),g.proportions.width+"x"+g.proportions.height),e=new e(b,{kioskID:d.kioskID,viewabilityEnabled:d.settings.getBool("ui.media.Banner.viewabilityEnabled",!1),scaleEnabled:!d.settings.getBool("ui.media.Banner.noScale",!1),zIndex:d.settings.get("ui.media.zIndex",!1)}));g=k.getSharedInstance();
return g.registerCount(l.InstanceType.AdFill,e.getOptions().name,d.kioskID)?Promise.resolve({adFill:e,waterfall:a}):g.waitForSlot(l.InstanceType.AdFill,e.getOptions().name,d.kioskID).then(function(){return C.createAdFillForWaterfall(a,b,d)})},getAdFillClassFromFormat:function(c,e){if(c===h.Config.PLACEMENT_TYPE.UNDEFINED)throw new w("Unknown placement type from waterfall: "+c);var f=h.Config.BANNER_SIZE_STANDARDS;if(c===h.Config.PLACEMENT_TYPE.IN_MEDIA)switch(e){case f.VERTICAL.WIDTH+"x"+f.VERTICAL.HEIGHT:return b;
default:return a}else if(c===h.Config.PLACEMENT_TYPE.IN_LINE)switch(e){case f.MEDIUM_RECT.WIDTH+"x"+f.MEDIUM_RECT.HEIGHT:return d;default:return a}else if(c===h.Config.PLACEMENT_TYPE.IN_SCREEN)switch(e){default:return a}else if(c===h.Config.PLACEMENT_TYPE.INTERSTITIAL||c===h.Config.PLACEMENT_TYPE.IN_SCROLL||c===h.Config.PLACEMENT_TYPE.REWARD)return d;return null},getAspectFromSettings:function(f,g,k,l){k=m.isset(k)?k:!1;l=m.isset(l)?l:!1;var n=v(),r=[],F=C.getProviderFromSettings(f),A=u(C.getAvailableZoneIDs(f)),
y=C.getBannerSizeRestraints(f),z=f.get("ui.media.Banner.universal.size",!1),J,I=p.isMobile(),N=!1;n.network=n.provider=F;n.viewability=f.getBool("ui.media.Banner.viewabilityEnabled",!1);if(!1!==A.universalZoneId)if(!1!==z){N=!0;J=e.resolveAnchorTypeForSettings(f);J=e.convertAnchorTypeToPlacementType(J);J=C.getAdFillClassFromFormat(J,z);var z=z.split("x"),P=f.getInt("ui.media.universal.minSize",!1),Q=f.getInt("ui.media.universal.maxSize",!1)}else throw new w("/AdFillResolver/ ui.media.Banner.size missing");
if("vastpreroll"===F)n.fillClass=c,n.type="video",N?(n.vastURL=A.universalZoneId,n.proportions.width=parseInt(z[0],10),n.proportions.height=parseInt(z[1],10)):(n.vastURL=A.videoZoneVastUrl,n.proportions.width=h.Config.BANNER_SIZE_STANDARDS.VIDEO.WIDTH,n.proportions.height=h.Config.BANNER_SIZE_STANDARDS.VIDEO.HEIGHT),n.viewability=!0,n.vastURL?r.push(n):s.warn("/AdFillResolver/","Vast url is missing in the configuration");else{if(A.dfpOverride&&5<A.dfpOverride.length){f=N?A.universalZoneId:A.dfpOverride;
var F=N?parseInt(z[0],10):h.Config.BANNER_SIZE_STANDARDS.HORIZONTAL.WIDTH,S=N?parseInt(z[1],10):h.Config.BANNER_SIZE_STANDARDS.HORIZONTAL.HEIGHT;r.push(m.mergeDefaults(v(),{type:"horizontal",network:"dfp",provider:"dfp",fillClass:a,zoneID:f,proportions:{width:F,height:S}}))}!0===k?A.mobileVideoZoneId&&I?(n.type="mobileVideo",n.zoneID=A.mobileVideoZoneId,n.viewability=!0):A.mobileZoneId&&I?(n.type="mobile",n.zoneID=A.mobileZoneId):A.mediumMobileRectZoneId&&I?(n.type="mediumMobileRect",n.zoneID=A.mediumMobileRectZoneId):
this.mediumRectZoneId?(n.type="mediumRect",n.zoneID=A.mediumRectZoneId):this.horizontalZoneId?(n.type="horizontal",n.zoneID=A.horizontalZoneId):this.horizontalSmallZoneId&&(n.type="horizontalSmall",n.zoneID=A.horizontalSmallZoneId):A.mobileVideoZoneId&&I?(n.type="mobileVideo",n.zoneID=A.mobileVideoZoneId,n.viewability=!0):g.width>=y.mobileMin&&g.width<=y.mobileMax&&A.mobileZoneId&&I?(n.type="mobile",n.zoneID=A.mobileZoneId,n.sizeRestraints={minWidth:y.mobileMin,maxWidth:y.mobileMax}):g.width>=y.medMobileRectMin&&
g.width<=y.medMobileRectMax&&A.mediumMobileRectZoneId&&I?(n.type="mediumMobileRect",n.zoneID=A.mediumMobileRectZoneId,n.sizeRestraints={minWidth:y.medMobileRectMin,maxWidth:y.medMobileRectMax}):g.width>=y.medMobileRectMin&&g.width<=y.medMobileRectMax&&A.interstitialZoneId?(n.type=h.Config.PLACEMENT_TYPE.INTERSTITIAL,n.zoneID=A.interstitialZoneId,n.sizeRestraints={minWidth:y.mobileMin,maxWidth:y.mobileMax}):g.width>=y.medRectMin&&g.width<=y.medRectMax&&A.mediumRectZoneId?(n.type="mediumRect",n.zoneID=
A.mediumRectZoneId,n.sizeRestraints={minWidth:y.mobileMin,maxWidth:y.mobileMax}):g.width>=y.horMin&&g.width<=y.horMax&&A.horizontalZoneId?(n.type="horizontal",n.zoneID=A.horizontalZoneId,n.sizeRestraints={minWidth:y.horMin,maxWidth:y.horMax}):g.width<=y.horSmallMax&&g.width>=y.horSmallMin&&A.horizontalSmallZoneId?(n.type="horizontalSmall",n.zoneID=A.horizontalSmallZoneId,n.sizeRestraints={minWidth:y.horSmallMin,maxWidth:y.horSmallMax}):g.height<=y.vertMax&&g.height>=y.vertMin&&A.verticalZoneId&&(n.type=
"vertical",n.zoneID=A.verticalZoneId);l===h.Config.PLACEMENT_TYPE.IN_SCREEN&&(A.floorMobileOverride&&I?(n.zoneID=A.floorMobileOverride,n.type="mobile"):A.floorHorizontalOverride&&(n.zoneID=A.floorHorizontalOverride,n.type="horizontal"));switch(n.type){case "vertical":n.fillClass=b;n.proportions.width=h.Config.BANNER_SIZE_STANDARDS.VERTICAL.WIDTH;n.proportions.height=h.Config.BANNER_SIZE_STANDARDS.VERTICAL.HEIGHT;break;case "mobileVideo":case "mediumRect":case "mediumMobileRect":n.proportions.width=
h.Config.BANNER_SIZE_STANDARDS.MEDIUM_RECT.WIDTH;n.proportions.height=h.Config.BANNER_SIZE_STANDARDS.MEDIUM_RECT.HEIGHT;n.fillClass=d;break;case "interstitial":n.proportions.width=h.Config.BANNER_SIZE_STANDARDS.INTERSTITIAL.WIDTH;n.proportions.height=h.Config.BANNER_SIZE_STANDARDS.INTERSTITIAL.HEIGHT;n.fillClass=d;break;case "mobile":n.proportions.width=h.Config.BANNER_SIZE_STANDARDS.MOBILE.WIDTH;n.proportions.height=h.Config.BANNER_SIZE_STANDARDS.MOBILE.HEIGHT;n.fillClass=a;break;case "horizontalSmall":n.proportions.width=
h.Config.BANNER_SIZE_STANDARDS.HORIZONTAL_SMALL.WIDTH;n.proportions.height=h.Config.BANNER_SIZE_STANDARDS.HORIZONTAL_SMALL.HEIGHT;n.fillClass=a;break;case "horizontal":n.proportions.width=h.Config.BANNER_SIZE_STANDARDS.HORIZONTAL.WIDTH,n.proportions.height=h.Config.BANNER_SIZE_STANDARDS.HORIZONTAL.HEIGHT,n.fillClass=a}N&&(n.type="",n.proportions.width=parseInt(z[0],10),n.proportions.height=parseInt(z[1],10),k=n.proportions.width>n.proportions.height?"width":"height",(!1===P||P<g[k])&&(!1===Q||g[k]<
Q)&&(n.zoneID=A.universalZoneId,n.proportions.width=parseInt(z[0],10),n.proportions.height=parseInt(z[1],10),n.type="universal",n.fillClass=J));if(0<n.provider.length)0<n.type.length&&n.zoneID?r.push(n):s.warn("/AdFillResolver/","Aspect was not added to waterfall as it was incomplete.",n.type,n.zoneID,n.provider);else throw new w("Provider not set in settings");}return r.some(t)?q.boot().then(function(){s.log("/AdFillResolver/","Demo creative manager booted for AdFill");return r.map(B)})["catch"](function(a){s.error(a);
throw new w("Failed booting demo creative manager");}):Promise.resolve(r)},getAvailableZoneIDs:function(a){var b=a.getSubset("ui.media.Banner");a=a.getSubset("ui.media.plugins.FloorBannerSlot");return{universalZoneId:b.get("universal.zoneID",!1),interstitialZoneId:b.get("interstitialZoneId",!1),mobileZoneId:b.get("mobileZoneId",!1),mediumMobileRectZoneId:b.get("mediumMobileRectZoneId",!1),mobileVideoZoneId:b.get("mobileVideoZoneVastUrl",!1),mediumRectZoneId:b.get("mediumRectZoneId",!1),horizontalZoneId:b.get("horizontalZoneId",
!1),horizontalSmallZoneId:b.get("horizontalSmallZoneId",!1),verticalZoneId:b.get("verticalZoneId",!1),videoZoneVastUrl:b.get("videoZoneVastUrl",!1),dfpOverride:b.get("dfp728ZoneId",!1),floorHorizontalOverride:a.get("zoneOverrides.horizontalZoneId",!1),floorMobileOverride:a.get("zoneOverrides.mobileZoneId",!1)}},getBannerSizeRestraints:function(a){a=a.getSubset("ui.media.Banner");return{horSmallMin:a.getInt("minMediaSize.horizontalSmallWidth",300),horSmallMax:a.getInt("maxMediaSize.horizontalSmallWidth",
489),medRectMin:a.getInt("minMediaSize.medRectWidth",300),medRectMax:a.getInt("maxMediaSize.medRectWidth",900),medMobileRectMin:a.getInt("minMediaSize.medMobileRectWidth",200),medMobileRectMax:a.getInt("maxMediaSize.medMobileRectWidth",700),horMin:a.getInt("minMediaSize.horizontalWidth",490),horMax:a.getInt("maxMediaSize.horizontalWidth",900),vertMin:a.getInt("minMediaSize.verticalHeight",330),vertMax:a.getInt("maxMediaSize.verticalHeight",650),mobileMin:a.getInt("minMediaSize.mobileWidth",250),mobileMax:a.getInt("maxMediaSize.mobileWidth",
900),videoMin:a.getInt("minMediaSize.videoWidth",490),videoMax:a.getInt("maxMediaSize.videoWidth",900)}},getProviderFromSettings:function(a){return a.get("ui.media.Banner.provider","").toLowerCase()}};return C});m("adfill/AdFillRectBanner",["adfill/AdFillBanner","placement/PlacementBoxAnchor","placement/PlacementStubAnchor","tools/general"],u(function(g,e,c){return{construct:function(b,a){this.$super(b,c.mergeDefaults({name:"AdFillRectBanner"},a))},setup:function(b,a){var d=this;return this.$super(b,
a).then(function(){d.getAnchor().buildVisibilityDetectionFrame("horizontal");var a=d.getAnchor().getVisibilityDetectionFrame();null!==a&&d.getAnchor().appendAdElement(a)})},updateLayout:function(){this.$super();var b=this.getOptions().proportions,a=this.getPlacementSize(),d=this.getOptions(),c=this.getAnchor()instanceof e||window.innerHeight>window.innerWidth?"width":"height",a=!0===d.scaleEnabled?a[c]/b[c]:1,d=this.getAdElement(),c=d.getScalingElement(),h=this.getAnchor().getVisibilityDetectionFrame();
c&&d.scaleElement(b,a);this.getAnchor()instanceof g&&(this.is("shown")?c.style.bottom="0px":c.style.bottom=a*b.height+"px",h.style.height=a*b.height+"px")}}}));m("adfill/AdFillHorizontalBanner",["adfill/AdFillBanner","placement/PlacementBoxAnchor","tools/general","tools/ads"],u(function(g,e,c){return{construct:function(b,a){this.$super(b,e.mergeDefaults({name:"AdFillHorizontalBanner"},a))},getBottomPositionForOffScreen:function(){var b=this.getOptions().proportions;return 0-this.getPlacementSize().width/
b.width*b.height},setup:function(b,a){var d=this;return this.$super(b,a).then(function(){d.getAnchor().buildVisibilityDetectionFrame("horizontal");var a=d.getAnchor().getVisibilityDetectionFrame();null!==a&&d.getAnchor().appendAdElement(a)})},updateLayout:function(){this.$super();var b=this.getOptions().proportions,a=this.getPlacementSize(),a=!0===this.getOptions().scaleEnabled?c.calculateScale(a,b,!0):1,d=this.getAdElement(),e=d.getScalingElement(),h=this.getAnchor().getVisibilityDetectionFrame();
e&&(d.scaleElement(b,a),e.style.position="absolute",this.getAnchor()instanceof g&&(this.is("shown")?e.style.bottom="0px":this.is("hidden")&&(e.style.bottom=this.getBottomPositionForOffScreen()+"px"),h.style.height=a*b.height+"px"))}}}));m("placement/DisclaimerBarBasic",["placement/DisclaimerBarAbstract","locators/StylesLocator","tools/general","tools/dom"],u(function(g,e,c){return{construct:function(b){this.$super(b)},build:function(){this.$super();this.unset("built");var b=this.getContainer(),a=
this.getCloseButtonContainer(),d=this.getAdsLogoDisclaimerContainer(),c=this.getOptions();g.getStyling().selectStyle("BannerDisclaimerAdsLogoContainer").applyToElement(d);this.buildAdsLogoDisclaimerContainer(d);!1!==c.closingButton&&(g.getStyling().selectStyle("BannerDisclaimerCloseButtonContainer").applyToElement(a),this.buildCloseButton(a));b.appendChild(a);c.showDisclaimer&&b.appendChild(d);g.getStyling().selectStyle("BannerDisclaimerContainer").applyToElement(b);!1!==this.getOptions().zIndex&&
(this.getContainer().style.zIndex=this.getOptions().zIndex);this.set("built")},buildCloseButton:function(b){var a=document.createElement("div"),d="white"===this.getOptions().colour?"BannerDisclaimerCloseButtonWhiteIcon":"BannerDisclaimerCloseButtonIcon";g.getStyling().selectStyle(d).applyToElement(a);b.appendChild(a)},buildAdsLogoDisclaimerContainer:function(b){var a=this.getOptions();this._adsLogo=c.create("a");this._adsLogo.href=a.disclaimerLink;this._adsLogo.target="_blank";g.getStyling().selectStyle("BannerDisclaimerAdsLogo").applyToElement(this._adsLogo);
b.appendChild(this._adsLogo)},getAdsLogo:function(){return this._adsLogo},destroy:function(){this.$super()}}}));h.stylesheets.images=h.stylesheets.images||{BannerCloseImage:{classToHeader:".kskdDiv.kskdBannerCloseImage",classToElement:"kskdDiv kskdBannerCloseImage",properties:{"background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAABI1BMVEUAAAAAAAAAAAAAAAAAAAAAAACQkJCRkZGOjo6Pj4+QkJCRkZGLi4uRkZGSkpKTk5OUlJSIiIiJiYmKioqMjIyRkZGIiIiBgYGBgYFra2taWlpbW1tbW1tcXFxdXV1gYGBhYWFiYmJjY2NkZGRlZWVmZmbFxcXGxsbFxcWUlJSVlZWQkJCQkJD19fXb29vv7+/T09Pk5OTm5ubo6Ojp6enr6+vz8/P09PT29vb4+Pj5+fn6+vrh4eHi4uLj4+Pk5OTm5ubn5+fh4eHi4uLj4+Pk5OTm5ubn5+fr6+vt7e3v7+/x8fHy8vL09PT29vbm5ub+/v7m5ubn5+fo6Ojq6urs7Ozt7e3v7+/x8fHz8/P19fX39/f4+Pj6+vr8/Pz9/f3+/v5T3cwbAAAAUXRSTlMzPT5HSF1dXV5eXl5fX19fX2BgYGBgYWdof4KCg4ODg4ODg4OEhIaGh52eo6Td3t/j9PT09PT09PT09PT19fX19fX29vb29vb29vb29vb2/v7cj7FhAAABCElEQVR4Ae3K11LCQBTG8V0Ee1GwiJpYImKR3sFelF5SYkkJ7/8UfhNRr856rcP/Yvd8Mz/2rxoXT0z9jOVEnHLH/WFt8mss1Yb9IwKmPM+rzo1cFSNFwGjXdd3KLEOLFZzdKAEDsY7jOOUZxhbKODqxAKPkYdu27dL0WglfWyEdpNKyLKtYxNNSOBPED5rvfs09oYPcb7yhxq7Yoc36K6pv/OZWCy9+hXmxi+RN07x9xpOPCF3OMIwbWX7ClxPIcFbX9WuZc/kRRzZMufWMpmlXEmeMSw84MysETKqqerkNB7lzj5Ek4GlvcLEF9ynvBr0TAgbP0yPny/TZBKNk6NtBhoJs3B/oA8TkMV47G6sPAAAAAElFTkSuQmCC) !important",
"background-repeat":"no-repeat !important","background-size":"18px 18px !important"}},BannerCloseImageMobile:{classToHeader:".kskdDiv.kskdBannerCloseImageMobile",classToElement:"kskdDiv kskdBannerCloseImageMobile",properties:{"background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAABI1BMVEUAAAAAAAAAAAAAAAAAAAAAAACQkJCRkZGOjo6Pj4+QkJCRkZGLi4uRkZGSkpKTk5OUlJSIiIiJiYmKioqMjIyRkZGIiIiBgYGBgYFra2taWlpbW1tbW1tcXFxdXV1gYGBhYWFiYmJjY2NkZGRlZWVmZmbFxcXGxsbFxcWUlJSVlZWQkJCQkJD19fXb29vv7+/T09Pk5OTm5ubo6Ojp6enr6+vz8/P09PT29vb4+Pj5+fn6+vrh4eHi4uLj4+Pk5OTm5ubn5+fh4eHi4uLj4+Pk5OTm5ubn5+fr6+vt7e3v7+/x8fHy8vL09PT29vbm5ub+/v7m5ubn5+fo6Ojq6urs7Ozt7e3v7+/x8fHz8/P19fX39/f4+Pj6+vr8/Pz9/f3+/v5T3cwbAAAAUXRSTlMzPT5HSF1dXV5eXl5fX19fX2BgYGBgYWdof4KCg4ODg4ODg4OEhIaGh52eo6Td3t/j9PT09PT09PT09PT19fX19fX29vb29vb29vb29vb2/v7cj7FhAAABCElEQVR4Ae3K11LCQBTG8V0Ee1GwiJpYImKR3sFelF5SYkkJ7/8UfhNRr856rcP/Yvd8Mz/2rxoXT0z9jOVEnHLH/WFt8mss1Yb9IwKmPM+rzo1cFSNFwGjXdd3KLEOLFZzdKAEDsY7jOOUZxhbKODqxAKPkYdu27dL0WglfWyEdpNKyLKtYxNNSOBPED5rvfs09oYPcb7yhxq7Yoc36K6pv/OZWCy9+hXmxi+RN07x9xpOPCF3OMIwbWX7ClxPIcFbX9WuZc/kRRzZMufWMpmlXEmeMSw84MysETKqqerkNB7lzj5Ek4GlvcLEF9ynvBr0TAgbP0yPny/TZBKNk6NtBhoJs3B/oA8TkMV47G6sPAAAAAElFTkSuQmCC) !important",
"background-repeat":"no-repeat !important","background-size":"20px 20px !important"}},BannerCloseImageInside:{classToHeader:".kskdDiv.kskdBannerCloseImageInside",classToElement:"kskdDiv kskdBannerCloseImageInside",properties:{"background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAABAlBMVEUAAAAAAAAAAAAAAAAAAABQTk5STk5SUE5SUFBNS0tRT09TUU9TUVFNS0lNS0tPS0tPTU1ST09MSEZLSUhBPz45NjY6Nzc6ODc9Ojg9PDo/PDxAPT2Hg4OHhISGgoJlYWFlYmJjYF5kYGDe3Nu/vLzV1dW2s7PS0M/T0dHV09PY1tXb2Njk4+Pn5eXq6ejs6+vs7e3u7e3v7u7LyMjLycnMysrMy8vOzMvPzc3Qz8/S0NDT0dHV09PZ2Njb29ve3Nzi397k4uLm5eTo5+b7+/vT0dHV09PX1dXZ19fb2dnc29vf3t3i4ODk4+Pn5ubq6eju7Ovw7+/z8/P19vb4+fn7+/sPx4prAAAARXRSTlNmbnV2hYaGhoaHh4eHiIiIiIiNjqChoqKioqKjpKSltra6uuXm5+r29vb29vb29vb29vb4+Pj4+Pj4+Pj4+Pj4+Pj4+P4UwkMSAAAA/0lEQVR42u3PV1MCMRSG4Y2AogJrQaMUUeldUWlKL9tUtvH//4rfZGC8OuFah/ciOWfmuUiUff+qdPbwd4lk05S7m69boe1y2lrPUwTM+77/HN64Jyx5AsZnnuc1j4RrYpzFCciSU9d1G3jnSQPDNMkUUk4cx6mHzuu4Jgk4UibGtm3XajjGMgd5O1qJRjdwcjn8RkO4HV0OvtDgYpc7q36Kqsdyp1Ysy3r/wFFRZS5WNk2zx3kfVzkmcSXDMLqcMd7DUCKlWtR1vcMZ/s67GItRAuY0TXu7goO8bmPJEfB+sXwRTsjX5SJDwMBjQbiNLDwcKJQMwm1jwYCy7w/0Ay6pKfxVkoHjAAAAAElFTkSuQmCC) !important",
"background-repeat":"no-repeat !important","background-size":"18px 18px"}},BannerCloseImageInsideMobile:{classToHeader:".kskdDiv.kskdBannerCloseImageInsideMobile",classToElement:"kskdDiv kskdBannerCloseImageInsideMobile",properties:{"background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAABAlBMVEUAAAAAAAAAAAAAAAAAAABQTk5STk5SUE5SUFBNS0tRT09TUU9TUVFNS0lNS0tPS0tPTU1ST09MSEZLSUhBPz45NjY6Nzc6ODc9Ojg9PDo/PDxAPT2Hg4OHhISGgoJlYWFlYmJjYF5kYGDe3Nu/vLzV1dW2s7PS0M/T0dHV09PY1tXb2Njk4+Pn5eXq6ejs6+vs7e3u7e3v7u7LyMjLycnMysrMy8vOzMvPzc3Qz8/S0NDT0dHV09PZ2Njb29ve3Nzi397k4uLm5eTo5+b7+/vT0dHV09PX1dXZ19fb2dnc29vf3t3i4ODk4+Pn5ubq6eju7Ovw7+/z8/P19vb4+fn7+/sPx4prAAAARXRSTlNmbnV2hYaGhoaHh4eHiIiIiIiNjqChoqKioqKjpKSltra6uuXm5+r29vb29vb29vb29vb4+Pj4+Pj4+Pj4+Pj4+Pj4+P4UwkMSAAAA/0lEQVR42u3PV1MCMRSG4Y2AogJrQaMUUeldUWlKL9tUtvH//4rfZGC8OuFah/ciOWfmuUiUff+qdPbwd4lk05S7m69boe1y2lrPUwTM+77/HN64Jyx5AsZnnuc1j4RrYpzFCciSU9d1G3jnSQPDNMkUUk4cx6mHzuu4Jgk4UibGtm3XajjGMgd5O1qJRjdwcjn8RkO4HV0OvtDgYpc7q36Kqsdyp1Ysy3r/wFFRZS5WNk2zx3kfVzkmcSXDMLqcMd7DUCKlWtR1vcMZ/s67GItRAuY0TXu7goO8bmPJEfB+sXwRTsjX5SJDwMBjQbiNLDwcKJQMwm1jwYCy7w/0Ay6pKfxVkoHjAAAAAElFTkSuQmCC) !important",
"background-repeat":"no-repeat !important","background-size":"20px 20px"}},BannerCloseImageWhite:{classToHeader:".kskdDiv.kskdBannerCloseImageWhite",classToElement:"kskdDiv kskdBannerCloseImageWhite",properties:{"background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAPFBMVEUAAAD////////////////////////////////////////////////////////////////////////////YSWgTAAAAE3RSTlMAAw8VJCotMEtOUFylydPk6/r8Zwi+1gAAAI5JREFUeAHt08EKgzAURNGpjdGqqWny//9aG8pdTaC7gji7B2d14an+uAv+FRZ3GLhNubJnSD243RQz7q4heVgm6ZA4afWw5ohs7vHqQCSuA5E4D5EjrgOROAeR48fNOAfpQiUPcVbKuDkiPaRfRnYg/YyUc0gPS/g65OJhTUNzyLA72OR6OOSyn+qvL/gG9HZsqDczafUAAAAASUVORK5CYII=) !important",
"background-repeat":"no-repeat !important","background-size":"18px 18px !important"}},BannerCloseImageWhiteMobile:{classToHeader:".kskdDiv.kskdBannerCloseImageWhiteMobile",classToElement:"kskdDiv kskdBannerCloseImageWhiteMobile",properties:{"background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAPFBMVEUAAAD////////////////////////////////////////////////////////////////////////////YSWgTAAAAE3RSTlMAAw8VJCotMEtOUFylydPk6/r8Zwi+1gAAAI5JREFUeAHt08EKgzAURNGpjdGqqWny//9aG8pdTaC7gji7B2d14an+uAv+FRZ3GLhNubJnSD243RQz7q4heVgm6ZA4afWw5ohs7vHqQCSuA5E4D5EjrgOROAeR48fNOAfpQiUPcVbKuDkiPaRfRnYg/YyUc0gPS/g65OJhTUNzyLA72OR6OOSyn+qvL/gG9HZsqDczafUAAAAASUVORK5CYII=) !important",
"background-repeat":"no-repeat !important","background-size":"20px 20px !important"}},BannerAdsLogoDefault:{classToHeader:".kskdDiv.kskdBannerAdsLogoDefault",classToElement:"kskdDiv kskdBannerAdsLogoDefault",properties:{"background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKoAAAAoCAQAAADEB6naAAANw0lEQVRo3u1aB1hUVxr9maF3G0hHE4qAipogdkVRCYiIYo8ga4nRJLpr2Wgs0TUmJtFNjAY3saNGUUFdwYrdWNaIaKwoggVQkT4DTGHPu+8NzAxD0V3zfUnm3m/gtnfLuX85975HVaSP/9+IoAdBD6oe1D8tqBrBgMRkTGZkSdZa0RKlxqg1oD9E+K1ABaDftsj9oCxF9qRKK1TkFBy5NmvEG2RLpn8MYH8bUEWTzAvmK4qq6gmywvQvHNzIBhIr0oPaMKiiky4VF6oaEV5ciQmk5pBXkR7U+kEFpPLMqkaGkuzhPcnu9w7r6wbVYJJ546RUFfKuNWkHaTX+PdvW1w2quGB+1UuGI2vIE7ZVrAe1DlDXNlcUvCyo5SU+fckJJqC2rIrIkIwQeY5goJYX468xfiK1GhMQNXP8TJAWVfemXsPTOL61sVa/XN6Q/TdFS1U0Rd6QjWYilJhUP6cFqgb34foUq81Cm2yK2BpEdeunGqg5UzUBy3myclPM0uzbfO5B5tzVI+dvWFf4VLPV1hXko0NWRXd9JNtfrIp0JissBCTtQRdJQt5yezuyyY2VJGVMpmaAipua0c1ehWtKT5VfLz796Ps9wSi3YE/gmTTfgpWSE2UXCg9nfbGuCzXFE8aP+0n25CyA0bEAYAZkmBMlScz8iJrv8i1aVbSjICF/lyo+XB7h7tn82cySbYU7kd+ZG5fxyY5u6MWCbWgtUIWUOL9LXvhlf8wb3EaH9IlLQ/LCr7TnZ6mbQKmVlKaog/Ugs8U0GkoDbx/lcufOWU2kwdSbunkPenZfvd2tCxRILTEBzWBUeZqrTV9Brtz0HoQqpVz+wIfzulYpkFC834fsyfywo/Sg1lYeDPXDwiFTT2OVFTXlSkX2Dls3eztem3ZPIkcsyzh/Bl/74cDSi7X16Nr3l+bVYi1nv+yNLTFTSawmqGSQ3YaRxmxqRU04b1ELVGOuPnc59NOSxA2CKnusPviE5TSE3ibvx/uUyr1baCT1o3YAyMmyTaYG+IXPUOOOSWoGU/lDrvbKXupALX8dzENaVbV0xrr3+NScyeS5xEsX1yi6270TtTjYXlmpXbN2yqC3+dSer8mXWuTM5HPyim7DZSW1ezq+4WaCDpZdGjeKHJie1AbVsGQR3yp+IrWGONSSVbLgau/EEeeijRoEVcNWSimGugPEpk83JkynPtQVDgmK+Y1rSarmFOVyGkQe2DXNYCF7xNWeP0i990arIN2fQGFrBSMzZRZ1Kj7Op8uKjh3avu38cVk5n7+dQn4PlnMphWLv/lU/nk/lahSyUWN79+ZbbIqjrtcW8mmF7MuVNFhWyqUzM/Ynp+w7lHQk8UjirnXNIq7tYefA8tSTp46ln5cUC6sr6N4d2sU8gTqoyJvKs/g2WUeoEwijABtnaKA9Foh2TAM3ARFHZum5o7wVO7yrvERdoBa+oBHUHgpgGukARfAgF+5gejVQl2RRJLVBt5rBsoLJ/emjn3+iYFAplZu2oc8emycKmjBv+RQ+9STbazpq3qHgkRPLXvCqPnxsxg4uJSlx+RuNocGdRm/5Z+xU6hnUk3/mh/XJqwS5K5+zAjPow4OadIj+glwIBUN/elLg7R3CaqbQcAp1jrxzjn/qzBbM2ZaTVQ1QRfnRXO3dU5w8jwvHys05A0CidHvpSmVhVZX0bPJwpoFbqRe5PR1feZJta1Fp8oV3IHRm6tJfC9SifAaVNfbHDG7IBjtklhurlOhiADQMrspaC1QrHtTHmXJmFxXyb9fBhPQgzwOj+adi56fv4VORizFWIDTBnbx3CjZw94ZTGwSpklxP3boQHKMbBVCbiE58aeYdobb0vWWw/IHkK2fqfyN949rErw79I/XT5Nl27cnrQbywmjEY24c8PXuUs217noX+HCF7mqAalW3BoSbjnWlcm4urqC3EirO9xrIT1ZrJxvllG/W59aGGxhavHwAvwY5CdYMaQd6QP+62CmRlhpnku7poFUXBvtUBqiocS6VoCqI3qenZoXxJzMJHv3D/C57SOBgaN4yF7fNro1Qyx3gscrJCzaYqKh4ciO5L7mPaao69agvg4p52kNeyqffiybsa1KEAqAXGcMrazyCQQZpbQw7V7aFBqhNXlxZPI3LOceBCxZ0AvLiEwZd9KHLc/IklGVz68k/Ut+gwNjUnYjxF7WB2OHcvvQEcxPWD6lWj1DPM8her++KXBVUmmzoXktaSzP8TwZdEf5pzg53KHuH5dpAIEdvA5gpmfy+eoohv55Q9V+9D+mx8UPhbmmMXF3SPJX+4jKaKYu15PTxHAfe2aaxGRFaPtvBkQrU+NVDFxZ8yzYmmkDMMpvVTWRsTyWZOQmGiQqlH/EQB1OACxot+PbB9SdSotdMXTIBB8IJJMWw0qDDCTZaGPrv+8qBKpVVM9kqe9w+DZba6MEQF6u2zTGYqW48hPxgYzsSLUgTvnrwPkhTQstcPi6+eKKu+MUvb1b2fKi0RTNGTG3ZdsVnNeVALCjIzsu48vPXw1q0L4ydTl4ztGqsxIItSdhAvKQS38dYAVXBSxfe2Lt035yCjalmHwX/s4B9AD/PTYaQ6Q7o9BPUPvvRxDQaldy99Q10aK6mq84MhrKqTUceU1ZXSlwG1qGjQ58nJAgNNt+1ADieiBPVftCeOT51MwtTt2YnJtDiRL5v+mUdY0tTxvegt6mUSsmRRKWOn2df9hacfZvvNu3WVT6cnwVq68eqfeJgmwXYPpjAaAOX1q1b/IfAQNmR8YwT/zJXzaOGBNdUsX5QXXpt8jYmAs2omPcNADUUfTai54Kj6kn/qtLzTvINkW7CN1Rs2bFPF0s/uhQIyC5hgSyzde8ywrF+0KFU9jir1JEWbRT5JFyRtN/ntHcunxy/wj6oU7ODVpBn9yeHfXYuTBOnLEo998SssaXlaXNRACvAd+IIdODKu+Y7jW3y3lcb4jy4RTndJy6gDD+rxEyHTR74bO3RK+NSwzp3ozSym7CUFYdPeH7Q/4ulKFfedtBg00RVrqlm+Eafk2uHnNbDFjkWQd2ku+IkX2fzcUQA1iHwPRn0dRaEJC9PipXlMvDqD/5rUw1ONeaiMJduqlI/Wd/bAKYc7TdtiKh13fl3TsuC5TkolgHoyFVLTOaK/NJ9v/a+PVeR/wjwK2r9E5xV4ZewiCleUV+eLFTKB8if4vSscAzbCPLy1LIavkVeOjqmRmOozWGXKX3n11w6HUuC4OnDkvRpUg1OOHGW6n0qxNBoCNYgii+4z+exKrbM+YZx7NZirS9kBQf2DZDjeSG+CeAXRgDt7OLkGkVNzfrVAxZl+LSO/VoU7mUO4v2ooLJcl9sGSHHZOq2l39bJO8m9Zfo+rPZECNfEg1w2xSu5wWnVh/3wB1OjZsEF+Z1bw5WruqGz2V9iILpeWq6BUhWePXWKcwngLHfc9fH4rcjv9OV+3cU1pXm3w7p+4uLUW1IoD+8QjGWOwqKE/JC6cztV+M5fCQbbawaD5317LlSyOhnC1lt5kh5Q7lY/kxYKj6nd1Jk+xii6XsfuRm/saBFUhP795WFcQ3IOqc8uVNd18yW66e/ZS9QPk6nWg2W61jqnmdxdCVMqmzYZKOMKaOZ77Ennp3z+26ZefBv56wyoCiuVMrRaPyzgnF3iFtPTMscAPYO06ATD3GUPSD0gLVRT//Mm2kzBSx+zd2OKnAdGQNDv063ZvH9Q7v8+khJWycq33aWXLFo6KLsquNlSV+Tlnj4bPgn3tBpdiwy5kVMs3kqdxBAl2MwCraQIdbbaAKfr9n+BGXY5G8sCV5/z4ATNkW7AtPmmzKqrf4t1KwnbUr/7CriorNS4DFRXlOUq5eomkzD5W54WKMdkN6OHYD0N7sYsJS3IN7uscglNOB6P2g8IMgzABV/Z21oU6OIeMnzZz/tAZxiMg9b2wCAdW4wSJ6T0wZvLMEX+1GIWaHrDyTuQeHmwZxCklZ5zwax0eatOfeqO/btQfgEVVx8HQkgA4wT54dhjyw1Abiv7bY0xrdhNWc/Y3gjHwRa8BOIJYcid+uE1b6Fgg+vUAw21JvvETE+dihD6IwZiLH+bfijpsnpw4F+Uh2PAA5Ovz/o0N8TuxP7qu/sRQLnvsuSsOb6bsztMSE4PC4q8dFuUOeKzZfac5luMGq9westcOW+AC623K+IY5nnXBSast6rgaZ2yPOZ5ywNMubKtEAIMDvxXrzxlAewMaVfRCuSNau6EPH+R9UPsmWnGXjoaq21CV+rP5ujKtMhJuak0whjNG4q4ZuVm2Yr16QspboyVMI8a2R49twZRxemMrMqqR/lcE9V6G6TjIh65Lao7Im2Aq5mzpBmp5U3ZlbMEuIPgLYSOkrbGApvhZoV61YG4rTFFiq1bDl1kI1xf8RYcpW7Qp+2+l9oWClTCaeXWpFWMxhupv1YTli9iB3Ly6X358I1Zmwq66jfGsLaI1u1ZRlXI+BjQLG2VdM/P/AdS8XP+PoA51v04xYFFXXleNiEUDHdujXVN3v6/8OqURQTVHXTPXehPwyqBmZgDSEFiWP8SLv9fz3uulQJWUxSdA8fsDUv0r6gY+UGswKJWFL65fidvgPIGxOU/9xxQNv6J2AR0PU6MkumIk6Ekw2vnAPek/+2kEqNaMwPjWE31AfbjL5Jb6D9QaC6qRGvmoK1rpP6V89e9T/zRB/yW1/vN0fdSD+lpA/S8WXoIG7FEXGwAAAABJRU5ErkJggg==) !important",
"background-repeat":"no-repeat !important"}},BannerAdsLogoMobile:{classToHeader:".kskdDiv.kskdBannerAdsLogoMobile",classToElement:"kskdDiv kskdBannerAdsLogoMobile",properties:{"background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKoAAAAoCAQAAADEB6naAAANw0lEQVRo3u1aB1hUVxr9maF3G0hHE4qAipogdkVRCYiIYo8ga4nRJLpr2Wgs0TUmJtFNjAY3saNGUUFdwYrdWNaIaKwoggVQkT4DTGHPu+8NzAxD0V3zfUnm3m/gtnfLuX85975HVaSP/9+IoAdBD6oe1D8tqBrBgMRkTGZkSdZa0RKlxqg1oD9E+K1ABaDftsj9oCxF9qRKK1TkFBy5NmvEG2RLpn8MYH8bUEWTzAvmK4qq6gmywvQvHNzIBhIr0oPaMKiiky4VF6oaEV5ciQmk5pBXkR7U+kEFpPLMqkaGkuzhPcnu9w7r6wbVYJJ546RUFfKuNWkHaTX+PdvW1w2quGB+1UuGI2vIE7ZVrAe1DlDXNlcUvCyo5SU+fckJJqC2rIrIkIwQeY5goJYX468xfiK1GhMQNXP8TJAWVfemXsPTOL61sVa/XN6Q/TdFS1U0Rd6QjWYilJhUP6cFqgb34foUq81Cm2yK2BpEdeunGqg5UzUBy3myclPM0uzbfO5B5tzVI+dvWFf4VLPV1hXko0NWRXd9JNtfrIp0JissBCTtQRdJQt5yezuyyY2VJGVMpmaAipua0c1ehWtKT5VfLz796Ps9wSi3YE/gmTTfgpWSE2UXCg9nfbGuCzXFE8aP+0n25CyA0bEAYAZkmBMlScz8iJrv8i1aVbSjICF/lyo+XB7h7tn82cySbYU7kd+ZG5fxyY5u6MWCbWgtUIWUOL9LXvhlf8wb3EaH9IlLQ/LCr7TnZ6mbQKmVlKaog/Ugs8U0GkoDbx/lcufOWU2kwdSbunkPenZfvd2tCxRILTEBzWBUeZqrTV9Brtz0HoQqpVz+wIfzulYpkFC834fsyfywo/Sg1lYeDPXDwiFTT2OVFTXlSkX2Dls3eztem3ZPIkcsyzh/Bl/74cDSi7X16Nr3l+bVYi1nv+yNLTFTSawmqGSQ3YaRxmxqRU04b1ELVGOuPnc59NOSxA2CKnusPviE5TSE3ibvx/uUyr1baCT1o3YAyMmyTaYG+IXPUOOOSWoGU/lDrvbKXupALX8dzENaVbV0xrr3+NScyeS5xEsX1yi6270TtTjYXlmpXbN2yqC3+dSer8mXWuTM5HPyim7DZSW1ezq+4WaCDpZdGjeKHJie1AbVsGQR3yp+IrWGONSSVbLgau/EEeeijRoEVcNWSimGugPEpk83JkynPtQVDgmK+Y1rSarmFOVyGkQe2DXNYCF7xNWeP0i990arIN2fQGFrBSMzZRZ1Kj7Op8uKjh3avu38cVk5n7+dQn4PlnMphWLv/lU/nk/lahSyUWN79+ZbbIqjrtcW8mmF7MuVNFhWyqUzM/Ynp+w7lHQk8UjirnXNIq7tYefA8tSTp46ln5cUC6sr6N4d2sU8gTqoyJvKs/g2WUeoEwijABtnaKA9Foh2TAM3ARFHZum5o7wVO7yrvERdoBa+oBHUHgpgGukARfAgF+5gejVQl2RRJLVBt5rBsoLJ/emjn3+iYFAplZu2oc8emycKmjBv+RQ+9STbazpq3qHgkRPLXvCqPnxsxg4uJSlx+RuNocGdRm/5Z+xU6hnUk3/mh/XJqwS5K5+zAjPow4OadIj+glwIBUN/elLg7R3CaqbQcAp1jrxzjn/qzBbM2ZaTVQ1QRfnRXO3dU5w8jwvHys05A0CidHvpSmVhVZX0bPJwpoFbqRe5PR1feZJta1Fp8oV3IHRm6tJfC9SifAaVNfbHDG7IBjtklhurlOhiADQMrspaC1QrHtTHmXJmFxXyb9fBhPQgzwOj+adi56fv4VORizFWIDTBnbx3CjZw94ZTGwSpklxP3boQHKMbBVCbiE58aeYdobb0vWWw/IHkK2fqfyN949rErw79I/XT5Nl27cnrQbywmjEY24c8PXuUs217noX+HCF7mqAalW3BoSbjnWlcm4urqC3EirO9xrIT1ZrJxvllG/W59aGGxhavHwAvwY5CdYMaQd6QP+62CmRlhpnku7poFUXBvtUBqiocS6VoCqI3qenZoXxJzMJHv3D/C57SOBgaN4yF7fNro1Qyx3gscrJCzaYqKh4ciO5L7mPaao69agvg4p52kNeyqffiybsa1KEAqAXGcMrazyCQQZpbQw7V7aFBqhNXlxZPI3LOceBCxZ0AvLiEwZd9KHLc/IklGVz68k/Ut+gwNjUnYjxF7WB2OHcvvQEcxPWD6lWj1DPM8her++KXBVUmmzoXktaSzP8TwZdEf5pzg53KHuH5dpAIEdvA5gpmfy+eoohv55Q9V+9D+mx8UPhbmmMXF3SPJX+4jKaKYu15PTxHAfe2aaxGRFaPtvBkQrU+NVDFxZ8yzYmmkDMMpvVTWRsTyWZOQmGiQqlH/EQB1OACxot+PbB9SdSotdMXTIBB8IJJMWw0qDDCTZaGPrv+8qBKpVVM9kqe9w+DZba6MEQF6u2zTGYqW48hPxgYzsSLUgTvnrwPkhTQstcPi6+eKKu+MUvb1b2fKi0RTNGTG3ZdsVnNeVALCjIzsu48vPXw1q0L4ydTl4ztGqsxIItSdhAvKQS38dYAVXBSxfe2Lt035yCjalmHwX/s4B9AD/PTYaQ6Q7o9BPUPvvRxDQaldy99Q10aK6mq84MhrKqTUceU1ZXSlwG1qGjQ58nJAgNNt+1ADieiBPVftCeOT51MwtTt2YnJtDiRL5v+mUdY0tTxvegt6mUSsmRRKWOn2df9hacfZvvNu3WVT6cnwVq68eqfeJgmwXYPpjAaAOX1q1b/IfAQNmR8YwT/zJXzaOGBNdUsX5QXXpt8jYmAs2omPcNADUUfTai54Kj6kn/qtLzTvINkW7CN1Rs2bFPF0s/uhQIyC5hgSyzde8ywrF+0KFU9jir1JEWbRT5JFyRtN/ntHcunxy/wj6oU7ODVpBn9yeHfXYuTBOnLEo998SssaXlaXNRACvAd+IIdODKu+Y7jW3y3lcb4jy4RTndJy6gDD+rxEyHTR74bO3RK+NSwzp3ozSym7CUFYdPeH7Q/4ulKFfedtBg00RVrqlm+Eafk2uHnNbDFjkWQd2ku+IkX2fzcUQA1iHwPRn0dRaEJC9PipXlMvDqD/5rUw1ONeaiMJduqlI/Wd/bAKYc7TdtiKh13fl3TsuC5TkolgHoyFVLTOaK/NJ9v/a+PVeR/wjwK2r9E5xV4ZewiCleUV+eLFTKB8if4vSscAzbCPLy1LIavkVeOjqmRmOozWGXKX3n11w6HUuC4OnDkvRpUg1OOHGW6n0qxNBoCNYgii+4z+exKrbM+YZx7NZirS9kBQf2DZDjeSG+CeAXRgDt7OLkGkVNzfrVAxZl+LSO/VoU7mUO4v2ooLJcl9sGSHHZOq2l39bJO8m9Zfo+rPZECNfEg1w2xSu5wWnVh/3wB1OjZsEF+Z1bw5WruqGz2V9iILpeWq6BUhWePXWKcwngLHfc9fH4rcjv9OV+3cU1pXm3w7p+4uLUW1IoD+8QjGWOwqKE/JC6cztV+M5fCQbbawaD5317LlSyOhnC1lt5kh5Q7lY/kxYKj6nd1Jk+xii6XsfuRm/saBFUhP795WFcQ3IOqc8uVNd18yW66e/ZS9QPk6nWg2W61jqnmdxdCVMqmzYZKOMKaOZ77Ennp3z+26ZefBv56wyoCiuVMrRaPyzgnF3iFtPTMscAPYO06ATD3GUPSD0gLVRT//Mm2kzBSx+zd2OKnAdGQNDv063ZvH9Q7v8+khJWycq33aWXLFo6KLsquNlSV+Tlnj4bPgn3tBpdiwy5kVMs3kqdxBAl2MwCraQIdbbaAKfr9n+BGXY5G8sCV5/z4ATNkW7AtPmmzKqrf4t1KwnbUr/7CriorNS4DFRXlOUq5eomkzD5W54WKMdkN6OHYD0N7sYsJS3IN7uscglNOB6P2g8IMgzABV/Z21oU6OIeMnzZz/tAZxiMg9b2wCAdW4wSJ6T0wZvLMEX+1GIWaHrDyTuQeHmwZxCklZ5zwax0eatOfeqO/btQfgEVVx8HQkgA4wT54dhjyw1Abiv7bY0xrdhNWc/Y3gjHwRa8BOIJYcid+uE1b6Fgg+vUAw21JvvETE+dihD6IwZiLH+bfijpsnpw4F+Uh2PAA5Ovz/o0N8TuxP7qu/sRQLnvsuSsOb6bsztMSE4PC4q8dFuUOeKzZfac5luMGq9westcOW+AC623K+IY5nnXBSast6rgaZ2yPOZ5ywNMubKtEAIMDvxXrzxlAewMaVfRCuSNau6EPH+R9UPsmWnGXjoaq21CV+rP5ujKtMhJuak0whjNG4q4ZuVm2Yr16QspboyVMI8a2R49twZRxemMrMqqR/lcE9V6G6TjIh65Lao7Im2Aq5mzpBmp5U3ZlbMEuIPgLYSOkrbGApvhZoV61YG4rTFFiq1bDl1kI1xf8RYcpW7Qp+2+l9oWClTCaeXWpFWMxhupv1YTli9iB3Ly6X358I1Zmwq66jfGsLaI1u1ZRlXI+BjQLG2VdM/P/AdS8XP+PoA51v04xYFFXXleNiEUDHdujXVN3v6/8OqURQTVHXTPXehPwyqBmZgDSEFiWP8SLv9fz3uulQJWUxSdA8fsDUv0r6gY+UGswKJWFL65fidvgPIGxOU/9xxQNv6J2AR0PU6MkumIk6Ekw2vnAPek/+2kEqNaMwPjWE31AfbjL5Jb6D9QaC6qRGvmoK1rpP6V89e9T/zRB/yW1/vN0fdSD+lpA/S8WXoIG7FEXGwAAAABJRU5ErkJggg==) !important",
"background-repeat":"no-repeat !important"}},BannerAdsLogoGreyDefault:{classToHeader:".kskdDiv.kskdBannerAdsLogoGreyDefault",classToElement:"kskdDiv kskdBannerAdsLogoGreyDefault",properties:{"background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKoAAAAoCAMAAABZ0JFjAAACfFBMVEUAAAB4eHj///94eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHhSpjOlAAAA03RSTlMAAAABAgMEBQYHCAkKCwwNDhAREhMUFRYXGBkaGxwdHh8gISIjJCUmJykqKywuLzAxMjM0NTY3ODk7PT9AQUJDREVHSElKS01OT1JUVVlaXF1eX2BhYmNmaGlqa2xtbnFydXZ3eHl6e3x9fn+AgoOFhoeIiYqLjI2Oj5CRkpOVlpeZmpydnp+goaKlpqeoqaqrrK+wsbK1tri5uru8vb6/wMHCw8THyMnLzM3Oz9DT1NbX29zd3t/g4eLj5OXm5+jp6uzt7u/w8vT19vf4+fr7/P3+t2ttXgAABM9JREFUeAHt1v1Xk38dx3FfwKaCoE7Fm6zEaUE3mstKK22VlRli5g2ZohFR5o0WWtS8sVlEmUpppUYlFN2s1LKWeGOZMBCBKfD8h7o+n2tjAzbznM73nHEOz5+2nV1nj3Ptfb2va1reJGnatElDnaJOUWUr2X31AYkeXNlZojes/5Pqre1hTF0HPLlJXdjBhNpLc5G68B9k6G5p7lG9HWSs3ZNz1FqytD/XqCXdZKmrOMeoO3G7XbWmDej42Dt3JWd3m1Kt/OGJIjmtuXCoQFtbtsq0tvGXf7nxjVWyrfj6jfYr9SskffDSF2X61OWdess3m92+Osuzt6m5uenk3vIxBDkFgn6lF0x7n0a9gq3DgTTD+emSSv6MrUWpbkKtpI39sPnNwwwvleb/HLeLsyVVDWIaOldQ0A0flbQHWNZOsq/tItH1FWOpfogqPajLRL2P7X1yqMMHZCpoxpZ+fCeEXCnrPwys1oLU4rhVIn+cRB+aC+xwpf0LekhWFyJZ79ox1Dog8BrUxMFyOvNJmXy/wC0+nmqlX5ZLNd96cqLmXB/wPdXDy4NVZ/uIl7lUI41vVi+0HTF9YUYInoVCF/5jjpuTTo0C4demdsqpUKZ3p87WOKqRDu+RS10HRHxmRh/D0LLT8HS2NG9bhSzVSPs2ylCPyC1kfyav6LKZhjRqpQMl5pPJ1xCjNWCpla0Qawlkptq2PicL9Q+O9EWVEtTvAO+QaQuwrx7oadpSLFnqTaD7/bLUqzucPuNNUvOK/g2306hhIj6olqkVp5ihVmKL+bNRvUaQhWpqVJJ6Hf4u28xhOLN8ENPAD5ZYqmm7XKrbt0epeU0wmKL6DKyFiJyqIezzR9xPoj4FIZyVWj/4SupAIEn9LdyW23M4r+BDbI+WJKkPF6VTr6aop2EkRa0DnyrdCytMTFLApdIQ9AX8rxiA8t9lpfaMwP3SBPWS4y6R6e3AYWnGp7//BKdvWWo30D7dUjvbnFrKU9Q2eJyiRokEg+b02f+/VU6pAYhUv4Kq/L3PMlMfVRwFfuNxqZ8Hjsv0Y2B98ScWSwUbH8OvDPWPpT8DTmW6rPI2AT8apQZJFPONoSrYEsOpISP16AbZ3noty7Ly/BpodKlzY0BomSouAn/K/z39Bxer5BZcc5eV7x7wWUMNlZmKDfVRWdkHjsWB945SwySrlsJ2l/stNeBXsC4KE/ZqgaTmkcZC2bZnuQUs/BewyVK1jdH636N+nGJGUetSFYjDgL+XRPEtIUY7Pir1xQjLFKFVqrbgFkON2lXYQGw8ld2GCndWy/RxTJeU6i6cNLf3IWgMAO+SaoZw694g7Y/jdqe4cATMTjMjsv0eyS4eI9HQofxRqoMLyFQHfgMmEk0uq1hrJMMA8OLwfF0G4l+ZpTlfik94XKkZ6V0jp30jz9Z522nzSlr9k36g69RiOa08+wTo++48Kcw/F8jpPA/etKMPt56PLP8bTgN3T63MSxUhKpvPUUmBCEQTt4AoGOkEKgw/xTZw/yW2riKl5Zsp27xCKX9RvmyFFeveVqBkS1eVe2Uq9ci2yPu/HwI1rkAw7WVQSqdmrSbXHq3J1k3PZKH+tVSThNpWqslB7drv0SSgDnf+9HPFUg5S8yZBU9Qp6hR1ivpfHa3Qjg6QagMAAAAASUVORK5CYII=) !important",
"background-repeat":"no-repeat !important","background-size":"auto 18px !important"}},BannerAdsLogoGreyMobile:{classToHeader:".kskdDiv.kskdBannerAdsLogoGreyMobile",classToElement:"kskdDiv kskdBannerAdsLogoGreyMobile",properties:{"background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKoAAAAoCAMAAABZ0JFjAAACfFBMVEUAAAB4eHj///94eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHhSpjOlAAAA03RSTlMAAAABAgMEBQYHCAkKCwwNDhAREhMUFRYXGBkaGxwdHh8gISIjJCUmJykqKywuLzAxMjM0NTY3ODk7PT9AQUJDREVHSElKS01OT1JUVVlaXF1eX2BhYmNmaGlqa2xtbnFydXZ3eHl6e3x9fn+AgoOFhoeIiYqLjI2Oj5CRkpOVlpeZmpydnp+goaKlpqeoqaqrrK+wsbK1tri5uru8vb6/wMHCw8THyMnLzM3Oz9DT1NbX29zd3t/g4eLj5OXm5+jp6uzt7u/w8vT19vf4+fr7/P3+t2ttXgAABM9JREFUeAHt1v1Xk38dx3FfwKaCoE7Fm6zEaUE3mstKK22VlRli5g2ZohFR5o0WWtS8sVlEmUpppUYlFN2s1LKWeGOZMBCBKfD8h7o+n2tjAzbznM73nHEOz5+2nV1nj3Ptfb2va1reJGnatElDnaJOUWUr2X31AYkeXNlZojes/5Pqre1hTF0HPLlJXdjBhNpLc5G68B9k6G5p7lG9HWSs3ZNz1FqytD/XqCXdZKmrOMeoO3G7XbWmDej42Dt3JWd3m1Kt/OGJIjmtuXCoQFtbtsq0tvGXf7nxjVWyrfj6jfYr9SskffDSF2X61OWdess3m92+Osuzt6m5uenk3vIxBDkFgn6lF0x7n0a9gq3DgTTD+emSSv6MrUWpbkKtpI39sPnNwwwvleb/HLeLsyVVDWIaOldQ0A0flbQHWNZOsq/tItH1FWOpfogqPajLRL2P7X1yqMMHZCpoxpZ+fCeEXCnrPwys1oLU4rhVIn+cRB+aC+xwpf0LekhWFyJZ79ox1Dog8BrUxMFyOvNJmXy/wC0+nmqlX5ZLNd96cqLmXB/wPdXDy4NVZ/uIl7lUI41vVi+0HTF9YUYInoVCF/5jjpuTTo0C4demdsqpUKZ3p87WOKqRDu+RS10HRHxmRh/D0LLT8HS2NG9bhSzVSPs2ylCPyC1kfyav6LKZhjRqpQMl5pPJ1xCjNWCpla0Qawlkptq2PicL9Q+O9EWVEtTvAO+QaQuwrx7oadpSLFnqTaD7/bLUqzucPuNNUvOK/g2306hhIj6olqkVp5ihVmKL+bNRvUaQhWpqVJJ6Hf4u28xhOLN8ENPAD5ZYqmm7XKrbt0epeU0wmKL6DKyFiJyqIezzR9xPoj4FIZyVWj/4SupAIEn9LdyW23M4r+BDbI+WJKkPF6VTr6aop2EkRa0DnyrdCytMTFLApdIQ9AX8rxiA8t9lpfaMwP3SBPWS4y6R6e3AYWnGp7//BKdvWWo30D7dUjvbnFrKU9Q2eJyiRokEg+b02f+/VU6pAYhUv4Kq/L3PMlMfVRwFfuNxqZ8Hjsv0Y2B98ScWSwUbH8OvDPWPpT8DTmW6rPI2AT8apQZJFPONoSrYEsOpISP16AbZ3noty7Ly/BpodKlzY0BomSouAn/K/z39Bxer5BZcc5eV7x7wWUMNlZmKDfVRWdkHjsWB945SwySrlsJ2l/stNeBXsC4KE/ZqgaTmkcZC2bZnuQUs/BewyVK1jdH636N+nGJGUetSFYjDgL+XRPEtIUY7Pir1xQjLFKFVqrbgFkON2lXYQGw8ld2GCndWy/RxTJeU6i6cNLf3IWgMAO+SaoZw694g7Y/jdqe4cATMTjMjsv0eyS4eI9HQofxRqoMLyFQHfgMmEk0uq1hrJMMA8OLwfF0G4l+ZpTlfik94XKkZ6V0jp30jz9Z522nzSlr9k36g69RiOa08+wTo++48Kcw/F8jpPA/etKMPt56PLP8bTgN3T63MSxUhKpvPUUmBCEQTt4AoGOkEKgw/xTZw/yW2riKl5Zsp27xCKX9RvmyFFeveVqBkS1eVe2Uq9ci2yPu/HwI1rkAw7WVQSqdmrSbXHq3J1k3PZKH+tVSThNpWqslB7drv0SSgDnf+9HPFUg5S8yZBU9Qp6hR1ivpfHa3Qjg6QagMAAAAASUVORK5CYII=) !important",
"background-repeat":"no-repeat !important","background-size":"auto 20px !important"}},BannerAdsLogoBackgroundDefault:{classToHeader:".kskdDiv.kskdBannerAdsLogoBackgroundDefault",classToElement:"kskdDiv kskdBannerAdsLogoBackgroundDefault",properties:{"background-image":"url(data:image/png;base64,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) !important",
"background-repeat":"no-repeat !important","background-size":"auto 18px !important"}},BannerAdsLogoBackgroundMobile:{classToHeader:".kskdDiv.kskdBannerAdsLogoBackgroundMobile",classToElement:"kskdDiv kskdBannerAdsLogoBackgroundMobile",properties:{"background-image":"url(data:image/png;base64,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) !important",
"background-repeat":"no-repeat !important","background-size":"auto 20px !important"}},InScrollSwipeGuideMobile:{classToHeader:".kskdDiv.kskdSwipeGuide",classToElement:"kskdDiv kskdSwipeGuide",properties:{"background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGIAAAA4CAMAAAAxbt2tAAABblBMVEUAAAD///8AAAD9/f0AAAADAwMAAAD+/v7///8AAAAAAAAAAAAAAAAAAAD///8QEBAAAAAAAAAAAAAEBAQAAAAAAAD///////8AAAAAAAAAAAAAAAD4+Pj///////8DAwP6+vru7u7////m5uaHh4dVVVX///////8AAAAAAAAAAAD///8AAAD29vb////h4eH////V1dX///+zs7NgYGD///9JSUlAQED///8wMDAbGxv////////////4+Pjw8PD////v7+/n5+fe3t7b29v///+rq6v///+Tk5P///9tbW3///9nZ2f///9PT0////86OjpBQUH8/PwkJCT///8AAAAAAAD///////////8AAAD////s7Ozp6eni4uLKysr////Pz8/Dw8P///+Li4v////GxsZycnJ9fX3JyclVVVX////////u7u60tLQHBwf///8EBATIyMj///////8uLi7////29vb///////9965InAAAAeXRSTlMA/QT8BhcJ/eJQNBMOC/ppIh5LRjou9/JIQCga8+vdX/ro5uCslXlpW1lXUizw7t/Y1M3EmJKMiIN/dV8XEfjw7evj29nGvr21rJ2bm5WRiYWEdXVvXlVMSUAmBeXl3tXR0Meysaamo6GYj46KiH5qYl9cWlhXHx0KxSreegAABCRJREFUWMO112lb2kAQAOAMkQTFRrkSWhEF5JQbBNTirVWr1ru1933fp/vvu0aUzEISAzhfyZN5Zt4sM8tZi7/xWi3+l7vGmHxOaDyf5K4rHn2WiBrS50fctcTvPLmM/G+u93FSBGimACie9DrDoQMICnAc9jTB/SABwgSQ4P3eZZhSgLQJUKZ6lGA2SHQjONuLHhVlVMLcHCpELnbdrRhmhsWJiUXA7LHuTrMDMYukdJBKHZSIiNgdXZz2uwuYORQ99g4Pe4+jIcy+cLfDBHEHehEvvx7y3xq02QZv+Ydeyzz60RHvIMHtOzLu0VKlf8Dex9Hosw/0V5Zwt+Q7t61mqGFmMbN5dHP4ho1Tw3Zj+ObRZkbE7DVrRyEM2gw8LO/5fU41QSOJ0+ffWwZemwPCsxaYRxnmnZTXJeBnBJc3tcOwj16V/XAUM0sTQx7KzD5G2T1DExJmHz28ErOCmSO7KjMbDfbdCGZXzNnvhQGVkCmPqcxMNNnHyhlUCITvGR+FsISYycq02+fEJeBCnD739ApB7FI4rj+b32BmeFxJekcEXAJbiDDiTVYeA2Z/ozPbYwruEbRnbs8OuFtKrB3zKjN3ctPtmPXYp3PMtFptYZ9aQI+MB6I6zLrs0cA4esXCFO5RWCaIuXCgw2zAflBA7EQON7t1uoGZ+aVqSofZkD1VXeIx+8Zp4x9PamV+2Mpszv6wlV2qqQpZgmJlRp/ZnH1mhaDIUpF/CmLOmDHX62bsGcSu/OP2ZS3zixl32oj5QRGg+MCIPe2eeaFll/e5L9AsIbJrcpq3iRrbJqd9N9IsBL5wPwMXJYy/NGGezF8u5pMm7C/HLwoJ/ORcEfE8Q8GE+WRVguaXsnpiwl44zyFGXJz9T47WMTf/8Ycxc9zBbGhxY/YfH+fnaA25P3ZO8CU3S6X33yizzYA5T4BdzPMG7DbK/u19qbSZ9Am0dT534qh/YEQwGlRZIC0BWaPhI4wM9B8l3L4zXJtgd7nsRj36FdRdzH8ZdevsvVf6G6pvUGadAGmjznUd+5iZn5/nMft+txftIME729Nq9Snw+D7W1TX8E7OzLZZTHk+qvMhsaJ86TvCdWc2ldbqaO510MV+XmMX8e0cJ6q9kQA15UqGfdh89vPRzrDwh6Ef5VQfsMaaEwLsxDz3+jcPrGXsXwIVYv49tK3iY5/bUYa4Z1Xs5PKqV7a4uwqFokq7m2uWfLubJaKibC/IHSfulrqs3sJYNjbJrv1/pg6UUbzWYkarKzIbKXo1ozN9aSvE1e8m8hYc5O6q3LtmzXy2lsBcat4tldTU3XMyXGzeMgt1SCqfnGS+KYmgnoTIzgdkTOyH6KP/M47SUQkgfl9fWthAzCsy+tbZWPk4LnKUYTPsTCTTMDUd1IuFPD3IWw3RQscNHt4b/31uGc3kExjoAAAAASUVORK5CYII=) !important",
"background-repeat":"no-repeat !important","background-size":"49px 26px !important"}}};m("adelement/WaterfallResolver",["tools/environment","tools/device"],function(g,e){var c=function(b){this._waterfalls=[];var a=this;b.forEach(function(b){b.getWaterfallGroups().forEach(function(b){a._waterfalls=a._waterfalls.concat(b.getWaterfalls())})});this.totalWaterfalls=this._waterfalls.length};c.prototype.getWaterfalls=function(){return this._waterfalls};c.prototype.selectByDevice=function(){var b=g.getDeviceNumericalType();
this._waterfalls=this._waterfalls.filter(function(a){return a.testRule(h.Config.WATERFALL_RULE_FILTER.DEVICE,b)});return this};c.prototype.selectByLocation=function(b){b!==h.Config.COUNTRY_CODE_UNKNOWN&&(this._waterfalls=this._waterfalls.filter(function(a){return a.testRule(h.Config.WATERFALL_RULE_FILTER.LOCATION,b)}));return this};c.prototype.selectByOperatingSystem=function(){var b=e.getOperatingSystem();this._waterfalls=this._waterfalls.filter(function(a){return a.testRule(h.Config.WATERFALL_RULE_FILTER.OS,
b)});return this};c.prototype.selectByPlacementType=function(b){this._waterfalls=this._waterfalls.filter(function(a){return a.getPlacementType()===b});return this};c.prototype.selectByURI=function(){var b=g.getPageUrl();this._waterfalls=this._waterfalls.filter(function(a){return a.testRule(h.Config.WATERFALL_RULE_FILTER.URI,b)});return this};return{prepareWaterfallResolver:function(b){return new c(b)}}});m("adelement/WaterfallGroup",["core/AdComponentAbstract","adelement/Waterfall","tools/array"],
u(function(g,e){function c(a){a=a.toLowerCase().split("x");var b={width:0,height:0};2===a.length&&(b.width=parseInt(a[0],10),b.height=parseInt(a[1],10));return b}function b(a){var b=this;a.sort(e.createSorter.forObjectNumberProperty("orderInWaterfallGroup")).forEach(function(a){var h=new g(a.name);(a.waterfallRules||[]).forEach(function(a){h.addRule(a.propertyKey,a.propertyValue,a.exclusive)});h.setOrder(a.orderInWaterfallGroup||0);h.setPlacementType(a.placementType.toLowerCase());(a.kPlacements||
[]).sort(e.createSorter.forObjectNumberProperty("order")).forEach(function(a){h.addStep(a.adNetworkId,a.networkInternalPlacementId,c(a.adSize||""),"kiosked",a.adType||g.MediaType.BANNER,a.content,a.applicator)});b.addWaterfall(h)})}return{construct:function(a){this.$super();a=a||{};this._waterfalls=[];b.call(this,a.waterfalls||[])},addWaterfall:function(a){if(!0!==a instanceof g)throw new w("Expected parameter of type Waterfall");this._waterfalls.push(a)},getWaterfalls:function(){return this._waterfalls}}}));
m("adelement/Waterfall",["core/AdComponentAbstract","tools/general"],function(g,e){var c=g.extend({construct:function(b){this.$super();this._name=b||"Untitled waterfall";this._steps=[];this._rules=[];this._order=this._currentStep=0;this._placementType=h.Config.UNDEFINED},addRule:function(b,a,d){this._rules.push({name:b,value:""+a,exclusive:d});return this},addStep:function(b,a,d,c,g,k,h){c=e.isset(c)?c.toLowerCase():"appnexus";var m=this.getStepTemplate();m.mediaType=g||m.mediaType;m.network=b.toLowerCase();
m.proportions=d;m.provider=c;m.zone=a;m.content=k||m.content;m.applicator=h||m.applicator;this._steps.push(m);return this},addStepData:function(b){this._steps.push(e.mergeDefaults(this.getStepTemplate(),b));return this},containsNetwork:function(b){b=b.toLowerCase();for(var a=this.getSteps(),c=0,e=a.length;c<e;c+=1)if(a[c].network.toLowerCase()===b)return!0;return!1},copy:function(){var b=new c(this.getName());b._steps=e.deepClone(this.getSteps());b._rules=e.deepClone(this.getRules());b._currentStep=
this.getCurrentStepIndex();b.setOrder(this.getOrder());b.setPlacementType(this.getPlacementType());return b},getCurrentStep:function(){var b=this.getCurrentStepIndex(),a=this.getSteps();return b<a.length?a[b]:!1},getCurrentStepIndex:function(){return this._currentStep},getGroups:function(){var b=this.getRules().slice(0),a=[],c={};b.forEach(function(c){if(!c.exclusive)for(var d=0,e=b.length;d<e;d+=1)b[d].name===c.name&&b[d].exclusive&&a.push(b[d])});for(var b=b.filter(function(b){return-1===a.indexOf(b)}),
e=0,g=b.length;e<g;e+=1){var k=b[e].name,m=b[e].value;"undefined"===typeof c[k]&&(c[k]={exclusive:b[e].exclusive,rules:[]});k===h.Config.WATERFALL_RULE_FILTER.DEVICE?m=parseInt(m,10):k===h.Config.WATERFALL_RULE_FILTER.URI&&(m=new RegExp(m,"i"));c[k].rules.push(m)}return c},getName:function(){return this._name},getOrder:function(){return this._order},getPlacementType:function(){return this._placementType},getRules:function(){return this._rules},getSteps:function(){return this._steps},getStepTemplate:function(){return{advertiserID:"",
mediaType:c.MediaType.BANNER,network:"",proportions:{width:0,height:0},provider:"",zone:""}},setOrder:function(b){this._order=b},setPlacementType:function(b){this._placementType=b},step:function(){var b=this.getCurrentStepIndex()+1,a=this.getSteps();return b<a.length?(this._currentStep+=1,this.getCurrentStep()):!1},testRuleInGroup:function(b,a){var c=(this.getGroups()||{})[b]||!1,e;if(c){if(b===h.Config.WATERFALL_RULE_FILTER.URI){e=!1;for(var g=0;g<c.rules.length;g+=1)c.rules[g].test(a)&&(e=!0);return c.exclusive?
!e:e}e=c.rules.indexOf(a);return c.exclusive?-1===e:-1<e}return!0},testRule:function(b,a){return this.testRuleInGroup(b,a)}});c.MediaType={BANNER:"banner",VIDEO:"video"};return c});m("adelement/AdZoneTemplate",["core/AdComponentAbstract","tools/array","adelement/WaterfallGroup"],function(g,e,c){function b(a){return a.map(function(a){return new c(a)})}var a=g.extend({construct:function(a){this.$super();a=a||{};this._waterfallGroups=b(a.waterfallGroups||[])},getWaterfallGroups:function(){return this._waterfallGroups}});
a.extractFromData=function(b,c){var g;if(g=e.isArray(b)?b[0]:b.templateId?b:b[c])return new a(g)};return a});m("placement/PlacementStubAnchor",["placement/PlacementAnchorAbstract","locators/StylesLocator","tools/general","tools/dom"],u(function(g,e,c){return{construct:function(b,a){this.$super(b,e.mergeDefaults({anchorType:h.Config.PLACEMENT_ANCHOR_TYPE.STUB,placementPosition:"after",placementType:h.Config.PLACEMENT_TYPE.IN_LINE},a))},buildVisibilityDetectionFrame:function(){null===this._visibilityDetectionFrame&&
(this._visibilityDetectionFrame=c.create("div"),this._visibilityDetectionFrame.className+=" kskdStubVis",this._visibilityDetectionFrame.style.zIndex=h.Config.BANNER_VIS_FRAME_Z_INDEX)},createAnchorElement:function(){this.$super();var b=this.getAnchorElement();O.style(b,{width:"auto",height:"auto",margin:"0 auto"});var a="after"===this.getOptions().placementPosition?this.getTargetElement().nextSibling:this.getTargetElement();this.getTargetElement().parentNode.insertBefore(b,a)},createContainerElement:function(){this.$super();
var b=this.getAdContainerElement(),a=this.getOptions().margin+"px auto";O.style(b,{position:"relative",bottom:"auto",left:"0px",right:"auto",top:"0px",height:"0px",margin:a})},prepareDisclaimer:function(){this.$super();var b=this.getDisclaimer();g.getStyling().selectStyle("BannerDisclaimerAdsLogoExternal").applyToElement(b.getAdsLogo());b.getContainer().style.top="0px"},updateLayout:function(b,a){this.$super(b,a);var c=this.getOptions(),e=this.getAdContainerElement();if(!0!==c.scaleEnabled){var c=
a.height,g=this.getDisclaimer();g&&(c+=g.getHeightOutsideBanner());e.style.maxWidth=a.width+"px";e.style.maxHeight=c+"px"}}}}));m("adelement/AdElementDFP",["adelement/AdElement"],u(function(){var g=0;return{construct:function(){this.$super();var e=g;g+=1;this._dfpIndex=e},getDFPIndex:function(){return this._dfpIndex}}}));m("placement/PlacementLaunchpadAnchor",["placement/PlacementAnchorAbstract","locators/StylesLocator","tools/general","tools/dom"],u(function(g,e,c){return{construct:function(b,a){this.$super(b,
e.mergeDefaults({anchorType:h.Config.PLACEMENT_ANCHOR_TYPE.LAUNCHPAD,placementType:h.Config.PLACEMENT_TYPE.IN_SCREEN},a));this._fixedContainer=null},appendAdElement:function(b){this._fixedContainer.appendChild(b)},applySize:function(b){this.$super(b);this.getFixedContainerElement().style.height=b.height+"px"},createAnchorElement:function(){this.$super();var b=this.getAnchorElement();document.body.appendChild(b)},createContainerElement:function(){this.$super();this._fixedContainer=c.create("div",{},
document.body);g.getStyling().selectStyle("BannerFooterContainer").applyToElement(this._fixedContainer);this._fixedContainer.className+=" "+h.Config.FIXED_BANNER_DIV_CLASS;this._fixedContainer.style.zIndex=h.Config.FIXED_BANNER_Z_INDEX;this.getAnchorElement().appendChild(this._fixedContainer);this._fixedContainer.appendChild(this._adContainerElement);this._adContainerElement.style.margin="0px auto";this._adContainerElement.style.position="relative"},getFixedContainerElement:function(){return this._fixedContainer},
isVisible:function(){this.set("visible");this.set("beenVisible");return!0},prepareDisclaimer:function(){var b=this.getAdContainerElement();this._disclaimer=this.getOptions().disclaimer;g.getStyling().selectStyle("BannerDisclaimerAdsLogoFloor").applyToElement(this._disclaimer.getAdsLogo());b.appendChild(this._disclaimer.getContainer())}}}));m("placement/PlacementInterstitialAnchor",["placement/PlacementAnchorAbstract","locators/StylesLocator","tools/general","tools/dom"],u(function(g,e,c){return{construct:function(b,
a){this.$super(b,e.mergeDefaults({anchorType:a.reward?h.Config.PLACEMENT_ANCHOR_TYPE.REWARD:h.Config.PLACEMENT_ANCHOR_TYPE.INTERSTITIAL,placementType:a.reward?h.Config.PLACEMENT_TYPE.REWARD:h.Config.PLACEMENT_TYPE.INTERSTITIAL},a));this._containerBox=this._fixedContainer=null},appendAdElement:function(b){this._fixedContainer.appendChild(b)},applySize:function(b){this.$super(b);this.getFixedContainerElement().style.height=b.height+"px"},createAnchorElement:function(){this.$super();var b=this.getAnchorElement();
document.body.appendChild(b)},createContainerElement:function(){this.$super();var b=document.createDocumentFragment();this._fixedContainer=c.create("div",{},b);g.getStyling().selectStyle("InterstitialLightBox").applyToElement(this._fixedContainer);this.getAnchorElement().appendChild(this._fixedContainer);this._containerBox=c.create("div");g.getStyling().selectStyle("InterstitialContentBox").applyToElement(this._containerBox);this._containerBox.appendChild(this._adContainerElement);this._fixedContainer.appendChild(this._containerBox);
document.body.appendChild(b);this._adContainerElement.style.margin="0px auto";this._adContainerElement.style.position="relative"},getContainerBox:function(){return this._containerBox},getFixedContainerElement:function(){return this._fixedContainer},isVisible:function(){this.set("visible");this.set("beenVisible");return!0},prepareDisclaimer:function(){var b=this.getAdContainerElement();this._disclaimer=this.getOptions().disclaimer;b.parentNode.insertBefore(this._disclaimer.getContainer(),b);this._disclaimer.getAdsLogoDisclaimerContainer().style.marginRight=
"-4px";this._disclaimer.getCloseButtonContainer().style.opacity=0}}}));m("placement/PlacementInScrollAnchor","placement/PlacementAnchorAbstract components/ScrollerComponent locators/PlacementContainerLocator locators/StylesLocator tools/general tools/dom tools/environment tools/compatibility".split(" "),u(function(g,e,c,b,a,d,f){function l(a,b){c.getStyling().selectStyle(b).applyToElement(a)}function k(){var a=b.isLandscapeOrientation(),c=window.innerHeight,d=screen.availWidth;return a&&c>d?d:c}function m(b,
c,d,e,f){f=f||300;b.style.transform="translate3d(0, "+c+"px, 0)";b.style.webkitTransform="translate3d(0, "+c+"px, 0)";b.style.msTransform="translate(0, "+c+"px)";if(!0===d)if(s)e();else if(b.style.transition="transform "+f+"ms",b.style.webkitTransition="-webkit-transform "+f+"ms",b.style.msTransition="-ms-transform "+f+"ms",e)var g=a.addEvents(b,"transitionend webkitTransitionEnd msTransitionEnd",function(){g.forEach(function(a){a.remove()});e()})}var p="desktop"===d.getDeviceType(),s=b.isBrowser.internetExplorer9(),
q=f.bindFunction;return{construct:function(a,c){this.$super(a,b.mergeDefaults({anchorType:h.Config.PLACEMENT_ANCHOR_TYPE.IN_SCROLL,placementType:h.Config.PLACEMENT_TYPE.IN_SCROLL},c));this._containerWrapper=this._containerBox=this._fixedContainer=null;var d=document.body.scrollHeight*(this.getOptions().triggerPoint/100);this.meta={winHeight:k(),triggerPoint:d,adHeight:0,shownOnce:!1,snappedToMiddle:!1,hasBeenMoved:!1,destroyed:!1,bodyOverflow:null,scrollLocked:!1,touchStartPos:0,previousMove:0,move:0,
distanceFromBottom:0};this.meta.domPosition=this.meta.winHeight+this.meta.triggerPoint;this._scroller=null;this.trackers=[]},buildVisibilityDetectionFrame:function(){this.$super();this._visibilityDetectionFrame=a.create("div",{});c.getStyling().selectStyle("InScrollVisibilityFrame").applyToElement(this._visibilityDetectionFrame)},appendAdElement:function(a){this._containerBox.appendChild(a)},createAnchorElement:function(){this.$super();var a=this.getAnchorElement();document.body.appendChild(a)},createContainerElement:function(){this.$super();
l(this._adContainerElement,"InScrollAdContainerElement");var b=document.createDocumentFragment();this._fixedContainer=a.create("div",{},b);l(this._fixedContainer,"InScrollWrapper");this._fixedContainer.style.height=this.meta.winHeight+"px";this.getAnchorElement().appendChild(this._fixedContainer);this._containerWrapper=a.create("div");this._containerWrapper.style.cssText="background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,transparent), color-stop(50%,rgba(0,0,0,0.7)), color-stop(100%,transparent));background: -webkit-linear-gradient(top, transparent 0%,rgba(0,0,0,0.7) 50%,transparent 100%);background: linear-gradient(transparent 0%, rgba(0,0,0,0.7) 50%,transparent 100%);";
l(this._containerWrapper,"InScrollContentWrapper");this._containerWrapper.style.height=this.meta.winHeight+"px";this._containerBox=a.create("div");l(this._containerBox,"InScrollContentBox");this._swipeGuide=a.create("div");l(this._swipeGuide,"InScrollSwipeGuide");if(!p){this._clickOverlay=a.create("div");l(this._clickOverlay,"InScrollIFrameClickHandler");var c=a.create("div");c.style.height=h.Config.INSCROLL_TRICKERY_CONTENT+"px";this._trickery=a.create("div");this._trickery.appendChild(c);l(this._trickery,
"InScrollTrickery");this._adContainerElement.appendChild(this._clickOverlay);this._containerBox.appendChild(this._trickery)}this._containerBox.appendChild(this._swipeGuide);this._containerBox.appendChild(this._adContainerElement);this._containerWrapper.appendChild(this._containerBox);this._fixedContainer.appendChild(this._containerWrapper);document.body.appendChild(b);this.attachBodyEvents()},destroy:function(){var c=this,d=q(this.$super,this);b.animate(this._fixedContainer,{duration:500,properties:{opacity:0}}).then(function(){c.teardownDOMScroll(!1);
clearTimeout(c._noScrollTimeout);c.meta.destroyed=!0;a.destroy(c._fixedContainer);d()})},getCloseButtonContainer:function(){return this._closeButtonContainer},getTrickeryBox:function(){return this._trickery||null},getSwipeGuide:function(){return this._swipeGuide||null},getContainerBox:function(){return this._containerBox},getFixedContainerElement:function(){return this._fixedContainer},prepareDisclaimer:function(){this._disclaimer=this.getOptions().disclaimer;this._disclaimer.getContainer().style.opacity=
1;this._disclaimer.getContainer().style.right="50%";this._disclaimer.getContainer().style.zIndex=100;this._disclaimer.getAdsLogoDisclaimerContainer().style.marginRight="-4px";this.trackers.push(a.addEvent(this._disclaimer.getContainer(),"touchstart",function(b){b.stopPropagation();a.triggerEvent(b.target,"click")}));var b=this.getAdContainerElement();b.parentNode.insertBefore(this._disclaimer.getContainer(),b)},attachBodyEvents:function(){var b=this;this.trackers.push(a.addEvent(window,"resize",q(this.handleResize,
this)));this._fixedContainer.style.top=this.meta.domPosition+"px";var c=window,d=0;"undefined"!==typeof window.ITGSInScrollOverride&&!0===window.ITGSInScrollOverride instanceof HTMLElement&&(c=window.ITGSInScrollOverride);this._scroller=new g(c,function(a){a>=b.meta.triggerPoint&&!b.meta.shownOnce&&a>d&&(b.meta.shownOnce=!0,b.prepareDOMForScroll());d=a});this._scroller.start()},prepareDOMForScroll:function(){var c=this;if(!this.meta.destroyed){this._fixedContainer.style.display="block";this._fixedContainer.style.pointerEvents=
"all";this._fixedContainer.style.top=0;this._fixedContainer.style.bottom=0;this.meta.adHeight=this._containerBox.clientHeight;this.meta.bodyOverflow=document.body.style.overflow;if(p){var d;document.body.style.overflow="hidden";(d=this.trackers).push.apply(d,_toConsumableArray(a.addEvents(this._fixedContainer,"mousewheel DOMMouseScroll",q(this.scrolling,this))));this._noScrollTimeout=setTimeout(function(){c.meta.hasBeenMoved||c.destroy()},h.Config.INSCROLL_DESTROY_TIMEOUT);s&&this.handleResize()}else this.trackers.push(a.addEvent(document.body,
"touchstart",b.preventDefault),a.addEvent(this._fixedContainer,"touchstart",q(this.touchStart,this)),a.addEvent(this._fixedContainer,"touchmove",q(this.touchMove,this)),a.addEvent(this._fixedContainer,"touchend",q(this.touchEnd,this)));this._scroller.destroy()}},teardownDOMScroll:function(a){a=!1!==a;document.body.style.overflow=this.meta.bodyOverflow;this._fixedContainer.style.display="none";this._fixedContainer.style.pointerEvents="none";this.trackers&&(this.trackers=this.trackers.reduce(function(a,
b){b.remove()},[]));a&&G("Destructors").destroyPlacementContainer(e.getPlacementContainerByID(this.getOptions().kioskID))},hasSnappedToMiddle:function(){var b=this;this.meta.bodyOverflow=document.body.style.overflow;document.body.style.overflow="hidden";a.destroy(this._clickOverlay);setTimeout(function(){b.meta.scrollLocked=!1;b._swipeGuide.style.opacity=.7},h.Config.INSCROLL_DISMISS_POSSIBLE)},touchStart:function(a){this.meta.scrollLocked||(this.meta.touchStartPos=a.touches[0].clientY,this.meta.move=
0,a=this._containerWrapper,a.style.transition=null,a.style.webkitTransition=null)},touchMove:function(a){a=a.touches[0].clientY-this.meta.touchStartPos;(0>a&&!this.meta.hasBeenMoved||this.meta.hasBeenMoved)&&!this.meta.scrollLocked&&3<Math.abs(a)&&(this.meta.move=this.meta.previousMove+a/2,this.meta.distanceFromBottom=Math.abs(this.meta.move),this.meta.hasBeenMoved=!0,m(this._containerWrapper,this.meta.move,!1))},touchEnd:function(){var a=Math.abs(this.meta.move)>Math.abs(this.meta.previousMove),
b=Math.abs(this.meta.previousMove-this.meta.move),c=0<Math.abs(this.meta.move);this.meta.previousMove=c?this.meta.move:this.meta.previousMove;c?this.meta.snappedToMiddle?b>h.Config.INSCROLL_DISMISS_TRESHOLD&&a?this.snapOut():this.snapToMiddle(!0):0<this.meta.distanceFromBottom&&(this.meta.scrollLocked=!0,this.snapToMiddle(!0)):c||!this.meta.snappedToMiddle||this.meta.scrollLocked||this.shakeContainer()},scrolling:function(a){var b=this.meta.winHeight,c=this.meta.distanceFromBottom>b/2,d=0,b=1.5*b,
d=a;d||(d=window.event);a=d.wheelDelta;d=(d=d.detail)?a?0<a/d/40*d?1:-1:-d/3:a/120;d=c?6*d:10*d;if(0>d&&!this.meta.hasBeenMoved||this.meta.hasBeenMoved&&0<Math.abs(d)&&!this.meta.scrollLocked)this.meta.move+=d,this.meta.hasBeenMoved=!0,this.meta.distanceFromBottom=Math.abs(this.meta.move),this.meta.distanceFromBottom>b?(this.meta.scrollLocked=!0,this.snapOut()):m(this._containerWrapper,this.meta.move,!1)},snapToMiddle:function(a){var b=this,c=!1;a="undefined"!==typeof a?a:!0;this.recalculateSizes();
this.meta.previousMove=-this.meta.winHeight;a&&(c=function(){b.meta.snappedToMiddle||(b.hasSnappedToMiddle(),b.meta.snappedToMiddle=!0)});m(this._containerWrapper,this.meta.previousMove,a,c,600)},snapOut:function(){var a=this;this.recalculateSizes();this.meta.previousMove=-(2*this.meta.winHeight);m(this._containerWrapper,this.meta.previousMove,!0,function(){a.teardownDOMScroll()},300)},shakeContainer:function(){var a=-(this.meta.winHeight+20),b=this;this.meta.scrollLocked=!0;m(this._containerWrapper,
a,!0,function(){b._containerWrapper.style.transform="translate3d(0, "+b.meta.previousMove+"px, 0)";b._containerWrapper.style.webkitTransform="translate3d(0, "+b.meta.previousMove+"px, 0)";b.meta.scrollLocked=!1},200)},recalculateSizes:function(){this.meta.winHeight=k();this.meta.domPosition=this.meta.winHeight+this.meta.triggerPoint},handleResize:function(){this.recalculateSizes();if(this.meta.snappedToMiddle){var a=this._containerWrapper;a.style.transition=null;a.style.webkitTransition=null;this.snapToMiddle(!1)}else this.meta.shownOnce||
(this.meta.triggerPoint=document.body.scrollHeight*(this.getOptions().triggerPoint/100),this._fixedContainer.style.top=this.meta.domPosition+"px");this._fixedContainer.style.height=this.meta.winHeight+"px";this._containerWrapper.style.height=this.meta.winHeight+"px"}}}));m("placement/PlacementBoxAnchor",["placement/PlacementAnchorAbstract","tools/general","tools/dom","tools/debug","tools/ads"],u(function(g,e,c,b){function a(a,b){try{var g=window.getComputedStyle(b).cursor;""!==g&&"auto"!==g?a.style.cursor=
g:"a"===b.tagName.toLowerCase()&&(a.style.cursor="pointer")}catch(k){c.warn("/PlacementBoxAnchor/","Failed handling cursor for target element")}e.addEvent(a,"click",function(){e.triggerEvent(b,"click")})}return{construct:function(a,b){this.$super(a,g.mergeDefaults({anchorType:h.Config.PLACEMENT_ANCHOR_TYPE.BOX,placementType:h.Config.PLACEMENT_TYPE.IN_MEDIA},b));this._insertionElement=this.getTargetElement().parentNode;this._insertionTargetElement=this.getTargetElement();this._orientation="";try{"a"===
this._insertionElement.tagName.toLowerCase()&&(this._insertionTargetElement=this._insertionElement,this._insertionElement=this._insertionElement.parentNode)}catch(e){c.warn("/PlacementBoxAnchor/","Failed detecting insertion-element tag name")}},buildVisibilityDetectionFrame:function(a){null===this._visibilityDetectionFrame&&(this._visibilityDetectionFrame=e.create("div"),this._visibilityDetectionFrame.className+=" kskdVis",this._visibilityDetectionFrame.style.zIndex=h.Config.BANNER_VIS_FRAME_Z_INDEX,
this._orientation=a,"vertical"===a?O.style(this._visibilityDetectionFrame,{position:"absolute",right:"0px",top:"0px",bottom:"0px"}):O.style(this._visibilityDetectionFrame,{position:"absolute",bottom:"0px",left:"0px",right:"0px"}))},createAnchorElement:function(){this.$super();var a=this.getAnchorElement();a.id="kskd"+this.getOptions().kioskID;this.getInsertionElement().insertBefore(a,this.getInsertionTargetElement().nextSibling)},createContainerElement:function(){this.$super();a.call(this,this.getAdContainerElement(),
this.getInsertionTargetElement())},getInsertionElement:function(){return this._insertionElement},getInsertionTargetElement:function(){return this._insertionTargetElement},prepareDisclaimer:function(){this.$super();this.getDisclaimer().getContainer().style.bottom="0px"},updateLayout:function(a,c){this.$super(a,c);var e,g=this.getVisibilityDetectionFrame();g&&("vertical"===this._orientation?(e=b.calculateScale(a,c,!1),g.style.width=e*c.width+"px"):(e=b.calculateScale(a,c,!0),g.style.height=c.height*
e+"px"))}}}));m("tools/query",function(){var g={};(function(b,a,c,e,g){function k(a,b){return k.search(a,b)}function h(a,b){if(y[b]){var c="function"==typeof y[b]?y[b](a):a[y[b]];"class"!=b||c||(c=null);return c}return a.getAttribute(b)}function p(a,b){for(var c=0,d=b.length;c<d;++c)if(0>G(a,b[c]))return!1;return!0}function s(a,b,c){c=[c];for(var d=!0,e,f=0,g=a.length;f<g;++f)if(e=b[a[f].name])d=d&&e.apply(b,c.concat(a[f].args));else return"Unknown function "+a[f].name;return d}function q(a){return function(b,
c){return A(b,function(b){return a(b,c)})}}function t(a,b){return function(c,d,e){c=h(c,d);return(b?!0:null!=c)&&a(c,e)}}function u(a){a=a.parentNode.children||[];r.childrenHasComments&&(a=A(a,function(a){return 1==a.nodeType}));return a}function v(a,b){return function(c){return E[a](c,{value:b})}}var w=b.Jaguar,C,E,F=[].slice,H=[].indexOf,D=[].filter,n={}.hasOwnProperty,r=function(a){var b={},c=a.createElement("a");c.name="test";(a.firstChild||a).appendChild(c);b.brokenId=!!a.getElementById("test");
c.innerHTML="\x3c!-- Three guys walk into a bar. *DONK* --\x3e";b.childrenHasComments=!(!c.children||!c.children.length);return b}(a.implementation.createDocument?a.implementation.createDocument(null,"html",null):new ActiveXObject("Microsoft.XMLDOM")),G=H?function(a,b){return H.call(a,b)}:function(a,b){for(var c=0,d=a.length;c<d;++c)if(a[c]===b)return c;return-1},A=D?function(a,b){return D.call(Array.prototype.slice.call(a),b)}:function(a,b){for(var c=0,d=a.length,e=Array(d);c<d;++c)e[c]=func(a[c]);
return e},y=k.fixAttributes={"class":"className","for":"htmlFor",html:"innerHTML",style:function(a){return a.style.cssText},text:function(a){return a.textContent||a.innerText||""}};k.features=r;k.filter=A;k.indexOf=G;k.getAttribute=h;k.cache=[];k.cacheSize=50;k.tokenize=function(a){function b(a){return a&&("/"<a&&":">a||"@"<a&&"[">a||"`"<a&&"{">a||"-"==a||"_"==a)}function c(a,b){return{type:a,value:b}}a=a.split("");for(var d=a[0],e=0,f,g,k,h={"(":1,")":1,"[":1,"]":1},l={'"':1,"'":1},m=[];d;){if(l[d]){f=
"";for(g=d;;){d=a[++e];if(d==g)break;else if(!d)return[];f+=d}m.push(c("ident",f))}else if(" "==d)f=a[e-1],g=a[e+1],(b(f)||l[f]||"*"==f||h[f])&&(b(g)||l[g]||"*"==g||h[g]||" "!=a[e+2])&&m.push(c("op",d));else if("*"==d)"="==a[++e]?m.push(c("op","*=")):(m.push(c("ident",d)),--e);else if(h[d])m.push(c("op",d));else{f="";for(g=b(d);d&&" "!=d&&!l[d]&&(g&&b(d)||!g&&!b(d))&&!h[d];)f+=d,"="==d&&(m.push(c("op",f)),f="",k=!0),d=a[++e];--e;f&&m.push(c(k||g?"ident":"op",f));k=!1}d=a[++e]}return m};k.parse=function(a){if("string"==
typeof a&&k.cache[a])return k.cache[a];for(var b=k.tokenize(a),c=[[]],d,e={classes:[],attrs:[],pseudos:[]},f,h=0,m,n=b.length;h<n;++h)if(d=b[h].value,"op"==b[h].type)if(","==d)c[c.length-1].push(e),c.push([]),e={classes:[],attrs:[],pseudos:[]};else if("#"==d)e.id=b[++h]?b[h].value:"";else if("."==d)e.classes.push(b[++h]?b[h].value:"");else if("["==d){d=b[h+2]&&"]"!=b[h+2].value;if(!b[h+2]||d&&(!b[h+4]||"]"!=b[h+4].value))return[];e.attrs.push({name:d?b[h+2].value:"",args:[b[++h].value,d?b[h+=2].value:
g]});++h}else if(":"==d){if(!b[h+1])return[];d=b[h+2]&&"("==b[h+2].value;m=h+1;if(d)for(m+=2,f=1;m<n&&("("==b[m].value&&"op"==b[m].type&&++f,")"!=b[m].value||--f||"op"!=b[m].type);++m);e.pseudos.push({name:b[++h].value,args:d?b.slice(h+2,m):[]});h=m}else e.tag||(e.tag="*"),c[c.length-1].push(e),e={classes:[],attrs:[],pseudos:[],tag:"*",combinator:d};else e.tag=d.toUpperCase();c[c.length-1].push(e);k.cache.push(a);k.cache[a]=c;k.cache.length>k.cacheSize&&(k.cache[k.cache.shift()]=g);return c};k.search=
function(b,c){c=c||a;if(!b||"string"!=typeof b||1!=c.nodeType&&9!=c.nodeType)return[];var d=k.parse(b),e=0,f=d.length,g=0,h=[],l=[],m,n=[],p;if(!f)return[];for(;e<f;++e)h.push(k.evaluateSearch(d[e],c));e=0;for(f=h.length;e<f;++e)for(p=0,d=h[e].length;p<d;)l[g++]=h[e][p++];if(1<f&&(l.sort(function(a,b){return a==b?(m=!0,0):a.compareDocumentPosition?a.compareDocumentPosition(b)&2?1:-1:a.sourceIndex-b.sourceIndex}),m)){e=0;for(f=l.length;e<f;++e)l[e]!=l[e-1]&&n.push(l[e]);l=n}return l};k.evaluateSearch=
function(a,b){function c(a,e){d.length||g||(d=b.getElementsByTagName("*"));d=A(d,function(b){b=s(a,e,b);"string"==typeof b&&(h=b);return b})}var d=[],e,f=a[a.length-1],g,h,l=0,m;if(f.id){if(b.getElementById&&!r.brokenId)e=b.getElementById(f.id);else for(d=b.getElementsByTagName(f.tag||"*"),m=d.length;l<m;++l)if(d[l].id==f.id){e=d[l];break}d=e?[e]:[];g=!0}if(f.classes.length)if(g&&!p(e.className.split(" "),f.classes))d=[];else if(!g){if(b.getElementsByClassName)d=b.getElementsByClassName(f.classes.join(" "));
else for(e=b.getElementsByTagName(f.tag||"*"),l=0,m=e.length;l<m;++l)p(e[l].className.split(" "),f.classes)&&d.push(e[l]);g=!0}f.tag&&(g?"*"!=f.tag&&(d=A(d,function(a){return a.nodeName.toUpperCase()==f.tag})):d=b.getElementsByTagName(f.tag));f.attrs.length&&c(f.attrs,k.attrs);f.pseudos.length&&d.length&&c(f.pseudos,k.pseudos);f.combinator&&(k.combinators[f.combinator]?d=k.combinators[f.combinator](d,a.slice(0,-1)):h="Unknown combinator "+f.combinator);if(h)throw Error(h);return d};k.match=function(a,
b){if(!a||1!=a.nodeType||"string"!=typeof b)return!1;for(var c=k.parse(b),d=!1,e=0,f=c.length;e<f;++e)d=d||k.evaluateMatch(c[e],a);return d};k.evaluateMatch=function(a,b){if(9==b.nodeType)return!1;var c=a[a.length-1],d=!0;c.id&&(d=b.id==c.id);c.classes.length&&(d=d&&p(b.className.split(" "),c.classes));c.tag&&(d=d&&("*"==c.tag?!0:b.nodeName.toUpperCase()==c.tag));c.attrs.length&&(d=d&&s(c.attrs,k.attrs,b));c.pseudos.length&&(d=d&&s(c.pseudos,k.pseudos,b));c.combinator&&(d=k.matchCombinators[c.combinator]?
d&&k.matchCombinators[c.combinator](b,a.slice(0,a.length-1)):!1);return d};k.matchCombinators={" ":function(a,b){for(;a=a.parentNode;)if(k.evaluateMatch(b,a))return!0;return!1},">":function(a,b){return k.evaluateMatch(b,a.parentNode)},"~":function(a,b){for(;a=a.previousSibling;)if(1==a.nodeType&&k.evaluateMatch(b,a))return!0;return!1},"+":function(a,b){for(;a=a.previousSibling;)if(1==a.nodeType)return k.evaluateMatch(b,a);return!1}};k.combinators={};for(C in k.matchCombinators)n.call(k.matchCombinators,
C)&&(k.combinators[C]=q(k.matchCombinators[C]));k.attrs={"":t(function(a){return null!=a},!0),"=":t(function(a,b){return a===b},!0),"!=":t(function(a,b){return a!==b},!0),"^=":t(function(a,b){return!a.indexOf(b)}),"$=":t(function(a,b){return a.lastIndexOf(b)==a.length-b.length}),"*=":t(function(a,b){return-1<a.indexOf(b)}),"|=":t(function(a,b){return a===b||!a.indexOf(b+"-")}),"~=":t(function(a,b){return-1<G(a.split(" "),b)})};k.nthCache=[];k.nthCacheSize=100;k.pseudos=E={has:function(a){for(var b=
"",c=arguments,d=1,e=c.length;d<e;++d)b+=c[d].value;return!!k.search(b,a).length},contains:function(a,b){return-1<h(a,"text").indexOf(b.value)},not:function(a){for(var b="",c=arguments,d=1,e=c.length;d<e;++d)b+=c[d].value;return!k.match(a,b)},root:function(a){return 9==a.parentNode.nodeType},empty:function(a){return!a.firstChild},"first-child":v("nth-child","1"),"last-child":v("nth-child","-1"),"only-child":function(a){var b=u(a);return 1==b.length&&b[0]==a},"first-of-type":v("nth-of-type","1"),"last-of-type":v("nth-of-type",
"-1"),"only-of-type":function(a){var b=a.nodeName.toUpperCase(),c=A(u(a),function(a){return a.nodeName.toUpperCase()==b});return 1==c.length&&c[0]==a},"nth-child":function(a){var b=F.call(arguments,1),h,m,n,p;this instanceof Array&&(h=this);b.length||(b=[{value:"n"}]);m=b[0].value;if(1==b.length&&"n"==m)return 1==a.parentNode.nodeType;h||(h=u(a));if(1==b.length&&!e(+m))return h[-1<m?m-1:h.length+ +m]==a;m=b;for(var q=m[0].value,b=q,r=1,s=m.length;r<s;++r)b+=m[r].value;if(k.nthCache[b])n=k.nthCache[b];
else{if("odd"==q)p=2,n=1;else if("even"==q)p=2,n=0;else if("n"==q?p=1:"-n"==q?p=-1:e(+q)?q=q.substr((""+(p=c(q,10))).length):p=+q,2<s)n=+m[2].value;else if("n"==q)n=0;else for(r=0,s=q.length;r<s;++r)if(!e(+q.charAt(r))){n=c(q.substr(r),10);break}p=[p,n];k.nthCache.push(b);k.nthCache[b]=p;k.nthCache.length>k.nthCacheSize&&(k.nthCache[k.nthCache.shift()]=g);n=p}p=n[0];n=n[1];h=G(h,a)+1;return p?0<p&&h<n||0>p&&n<h||9==a.parentNode.nodeType?!1:!((h-n)%p):n==h},"nth-last-child":function(a){return E["nth-child"].apply(F.call(u(a)).reverse(),
arguments)},"nth-of-type":function(a){var b=a.nodeName.toUpperCase();return E["nth-child"].apply(A(this instanceof Array?this:u(a),function(a){return a.nodeName.toUpperCase()==b}),arguments)},"nth-last-of-type":function(a){return E["nth-of-type"].apply(F.call(u(a)).reverse(),arguments)}};k.noConflict=function(){b.Jaguar=w;return k};"function"==typeof b.define&&m.amd?m(function(){return k}):b.Jaguar=k})(g,document,parseInt,isNaN);var e=/,[^ ]/,c=function(b,a){e.test(b)&&(b=b.split(",").join(", "));
return g.Jaguar(b,a)};return{query:c,queryFirst:function(b,a){var d=c(b,a);return 0<d.length?d[0]:null}}});m("placement/AnchorTypeResolver",function(){var g=["externalbannerslot","floorbannerslot","vastpreroll","bannerslot"],e={convertAnchorTypeToPlacementType:function(c){return c===h.Config.PLACEMENT_ANCHOR_TYPE.STUB?h.Config.PLACEMENT_TYPE.IN_LINE:c===h.Config.PLACEMENT_ANCHOR_TYPE.LAUNCHPAD?h.Config.PLACEMENT_TYPE.IN_SCREEN:c===h.Config.PLACEMENT_ANCHOR_TYPE.INTERSTITIAL?h.Config.PLACEMENT_TYPE.INTERSTITIAL:
c===h.Config.PLACEMENT_ANCHOR_TYPE.IN_SCROLL?h.Config.PLACEMENT_TYPE.IN_SCROLL:c===h.Config.PLACEMENT_ANCHOR_TYPE.REWARD?h.Config.PLACEMENT_TYPE.REWARD:h.Config.PLACEMENT_TYPE.IN_MEDIA},fetchSinglePluginName:function(c){c=c.split(",");for(var b=0,a=c.length;b<a;b+=1){var d=c[b].trim().toLowerCase();if(0<=g.indexOf(d))return d}return""},resolveAnchorTypeForSettings:function(c){var b=!1;c=c.get("ui.media.overridePlugins","bannerslot").trim();0<c.length&&(0<=c.indexOf(",")&&(c=e.fetchSinglePluginName(c)),
b="externalbannerslot"===c.toLowerCase()?h.Config.PLACEMENT_ANCHOR_TYPE.STUB:"floorbannerslot"===c.toLowerCase()?h.Config.PLACEMENT_ANCHOR_TYPE.LAUNCHPAD:"vastpreroll"===c.toLowerCase()?h.Config.PLACEMENT_ANCHOR_TYPE.STUB:"interstitial"===c.toLowerCase()?h.Config.PLACEMENT_ANCHOR_TYPE.INTERSTITIAL:"inscroll"===c.toLowerCase()?h.Config.PLACEMENT_ANCHOR_TYPE.IN_SCROLL:"reward"===c.toLowerCase()?h.Config.PLACEMENT_ANCHOR_TYPE.REWARD:h.Config.PLACEMENT_ANCHOR_TYPE.BOX);return b}};return e});m("placement/PlacementInputManager",
["core/AdComponentAbstract","placement/PlacementInputAbstract","tools/compatibility"],u(function(g,e){function c(){if(!this.isNot("started")){var b=this,a=Promise.resolve();this.forEachInput(function(c){a=a.then(function(){c.process(b.getPlacement())})});a.then(function(){setTimeout(e.bindFunction(c,b),b._processInterval)})}}return{construct:function(){this.$super();this.addStatusSet(["stopped","started","destroy"],"stopped");this._placement=null;this._inputs=[];this._processVisibilityTimer=this._processInterval=
null},addInput:function(b){if(!0!==b instanceof g)throw new w("Input is not of correct type");this._inputs.push(b);this.sortInputs()},destroy:function(){this.set("destroy");clearInterval(this._processVisibilityTimer);this.forEachInput(function(b){b.destroy()});this._inputs=null;this.$super()},forEachInput:function(b){var a=this.getInputs(),c=a.length;if("function"!==typeof b)throw Error("Callback is not a function");for(var e=0;e<c;e+=1)b(a[e])},getInputs:function(){return this._inputs},getPlacement:function(){return this._placement},
setPlacement:function(b){this._placement=b;this._processInterval=b.getSettings().getInt("ui.media.adjustInterval",h.Config.PLACEMENT_INPUT_MGR_INTERVAL)},sortInputs:function(){this._inputs.sort(function(b,a){var c=b.getOptions().order,e=a.getOptions().order;return c>e?-1:e>c?1:0})},start:function(){var b=this.getPlacement();if(b.isNot("placement"))throw new w("Placement not set");if(this.isNot("stopped"))return!1;this.set("started");setImmediate(e.bindFunction(c,this));this._processVisibilityTimer=
setInterval(function(){b.detectVisibility()},h.Config.BANNER_VIS_UPDATE_INTERVAL);return!0},stop:function(){if(this.isNot("started"))return!1;this.set("stopped");return!0}}}));m("placement/Placement","core/EventDispatcher locators/GrandCentralStationLocator locators/PageInventoryLocator locators/SnifferControllerLocator locators/InstanceControlManagerLocator adfill/AdFillResolver placement/PlacementBoxAnchor placement/PlacementStubAnchor placement/PlacementLaunchpadAnchor placement/PlacementInterstitialAnchor placement/PlacementInScrollAnchor SettingsOBC InstanceControlManager tools/general tools/debug tools/compatibility tools/ads tools/dom tools/environment tools/array".split(" "),
u(function(g,e,c,b,a,d,f,l,k,m,p,s,q,t,u,v,F,C,E){function K(){var a=this;this.addListener("placementPositionChanged",function(b){a.getAnchor().applyPosition(b)});this.addListener("placementSizeChanged",function(b){var c;a.setMediaSize(b);null===a.getAdFill()?r.call(a,b).then(function(){c=a.getWaterfall();a.getAnchor().updateLayout(b,c.getCurrentStep().proportions);a.updateLayout()},function(b){t.warn("/Placement/","Build did not complete: "+b);a.publish("buildFailed")}):(a.getAdFill().setPlacementSize(b),
(c=a.getWaterfall())&&a.getAnchor().updateLayout(b,c.getCurrentStep().proportions),a.updateLayout())});this.addListener("bannerCloseButtonPressed",function(b){b.placement===a&&a.hideAd().then(function(){G("Destructors").destroyPlacement(a)})});var b=this.getAnchor().getOptions().anchorType===h.Config.PLACEMENT_ANCHOR_TYPE.IN_SCROLL?this.getAnchor().getCloseButtonContainer():this.getAnchor().getDisclaimer().getCloseButtonContainer();this.addListener("onclick",function(b){q.preventDefault(b,!0);a.dispatch("bannerCloseButtonPressed",
{placement:a})},b);g.getGrandCentralStation().subscribe("iframeLoaded",u.bindFunction(H,this));g.getGrandCentralStation().subscribe("videoEvent",function(b){b.kioskID===a.getOptions().kioskID&&J(a,b.name,b.properties)})}function H(a){a===this.getOptions().kioskID&&(this._iframeLoadCount+=1,2<=this._iframeLoadCount&&this.set("iframeLoadedTwice"))}function D(b,c,d){0<c.waterfallsInitial&&t.warn("/Placement/","Waterfalls available ("+c.waterfallsInitial+"), "+("but none suitable for placement "+c.kioskID));
return c.waterfallTemplate?a.createAdFillForWaterfall(c.waterfallTemplate.copy(),b,c):a.createAdFillForConfiguration(b,c.settings,{kioskID:c.kioskID,mediaSize:d})}function n(a,b,c){var d=a.getAnchor().getAnchorElement(),e=a.getWaterfall().getCurrentStep().proportions,f=a.getAdFill().getOptions().orientation,g=a.getAdFill().getOptions().scaleEnabled;b=g?v.calculateActualAdSize(b,e,"horizontal"===f).height:e.height;d=F.getAbsoluteOffsetRect(d);a._RTBPosition=F.calculateRTBPosition(d,b,c);c=c?q.getWindowSize().height:
d.top;a._coordinates={x:d.left,y:c-b};a.getAnchor().setRTBPosition(a.getRTBPosition())}function r(a){var b=this;return new Promise(function(c,d){D(b.getAnchor(),b.getOptions(),a).then(function(f){var g=e.getPageInventory();f?(g.publish("validInventory",b),b.hasNot("sentCreated")&&(b.set("sentCreated"),g.publish("validContainer",b)),b._adFill=f.adFill,b._waterfall=f.waterfall,A.call(b),f=b.getAnchor().getOptions().placementType===h.Config.PLACEMENT_TYPE.IN_SCREEN||b.getAnchor().getOptions().placementType===
h.Config.PLACEMENT_TYPE.INTERSTITIAL||b.getAnchor().getOptions().placementType===h.Config.PLACEMENT_TYPE.REWARD,n(b,a,f),b.loadAd().then(function(){b.getAdFill().setPlacementSize(a);c()}).then(function(){b&&b.is("openedInstantly")&&(t.log("/Placement/","Showing ad immediately for presentation mode"),b.showAd())}),b._adFill.subscribe("adCompleted",function(){b.hideAd().then(function(){G("Destructors").destroyPlacement(b)})}),b._adFill.subscribe("adErrored",function(){b.deregisterInstance();b.hideAd().then(function(){G("Destructors").destroyPlacement(b)})}),
b.getAdFill().subscribe("waterfallTrickle",function(a){z(b,a.waterfall)}),b.getAdFill().subscribe("waterfallEnd",function(a){b.deregisterInstance();y(b,a.waterfall.getSteps().length)})):d("No adfill available")})})}function M(){var a=this,b=this;this.getContainerImpressionData().then(function(c){a._containerImpressionTimer=setTimeout(function(){b&&b.getWaterfall()&&b.is("sendingContainerImpression")&&(b.set("sentContainerImpression"),c[h.Config.ANALYTICS_EVENT_NAME_PROPERTY]="containerImpression",
g.getGrandCentralStation().dispatch(h.Config.ANALYTICS_EVENT_NAME,c),b.unlock("containerImpression"))},1E3)})}function A(){this.hasNot("sentContainerOpportunity")&&(this.set("sentContainerOpportunity"),this.getContainerImpressionData().then(function(a){a[h.Config.ANALYTICS_EVENT_NAME_PROPERTY]="containerOpportunity";g.getGrandCentralStation().dispatch(h.Config.ANALYTICS_EVENT_NAME,a)}))}function y(a,b){t.log("/PlacementWaterfallCallbackInput/","Fallback initiated at end of waterfall, closing...");
var c=a.getSettings().getBool("ui.media.Banner.waterfallAnalyticsEnabled",!1),d=g.getGrandCentralStation();c&&a.getContainerImpressionData().then(function(c){var e=a.getOptions();c=q.mergeDefaults(c,{"waterfall.publisherID":e.publisherID,"waterfall.siteID":e.siteID,"waterfall.total":b,"page.uri":C.getPageUrl()});c[h.Config.ANALYTICS_EVENT_NAME_PROPERTY]="waterfallEnd";d.dispatch(h.Config.ANALYTICS_EVENT_NAME,c)});d.dispatch("timingEvent",{name:"waterfallEnd",properties:{kioskID:a.getOptions().kioskID}})}
function z(a,b){var c=b.getCurrentStep(),d=g.getGrandCentralStation();t.log("/PlacementWaterfallCallbackInput/","Waterfall step initiated:",c.network+"@"+c.zone);a.getSettings().getBool("ui.media.Banner.waterfallAnalyticsEnabled",!1)&&a.getWaterfallTrickleData().then(function(a){a[h.Config.ANALYTICS_EVENT_NAME_PROPERTY]="waterfallTrickle";d.dispatch(h.Config.ANALYTICS_EVENT_NAME,a)});d.dispatch("timingEvent",{name:"waterfallTrickle",properties:{kioskID:a.getOptions().kioskID}})}function J(a,b,c){var d=
g.getGrandCentralStation();a.getContainerImpressionData().then(function(a){a.video=c;a[h.Config.ANALYTICS_EVENT_NAME_PROPERTY]=b;d.dispatch(h.Config.ANALYTICS_EVENT_NAME,a)})}return{construct:function(a,b){this.$super();b=b||{};var c=this._options=q.mergeDefaults({categories:!1,kioskedZoneID:"",kioskID:""+a.getOptions().kioskID,settings:null,publisherID:null,siteID:null,settingsMeta:{},waterfallTemplate:null,waterfallsInitial:0},b);if(0>=c.kioskID.length)throw new w("Kiosk ID was empty");if(!0!==
c.settings instanceof p)throw new w("Settings option was not an instance of SettingsOBC");this.set("placement");this.addStatusSet(["shown","hidden","animating"],"hidden");this.addStatus("shownFromVisibility");this.addStatusSet(["openedByAnimation","openedInstantly"],"openedByAnimation");this.addStatus("sentContainerOpportunity");"opened"===this.getSettings().get("ui.media.Banner.presentation","animate")&&this.set("openedInstantly");this._containerImpressionTimer=null;this.addStatusSet(["waitingContainerImpression",
"sendingContainerImpression","sentContainerImpression"],"waitingContainerImpression");this._anchor=a;this._waterfall=this._adFill=null;this._refreshCount=0;this._wasVisible=!1;this._cuttingElements={left:null,right:null,top:null,bottom:null,parent:null};this._coordinates={x:0,y:0};this._RTBPosition=h.Config.RTB_POS.UNKNOWN;this._iframeLoadCount=0;K.call(this);g.getGrandCentralStation().dispatch("timingEvent",{name:"placementCreated",properties:{kioskID:this._options.kioskID}})},deregisterInstance:function(){t.warn("/Placement/",
"Was unsuccessful in presenting an ad, will de-register");var a=b.getSharedInstance(),d=this.getOptions(),e=this.getAnchor(),f=this.getAdFill(),g=c.getSnifferController();a&&(e&&a.deregisterCount(s.InstanceType.Anchor,e.getOptions().anchorType,d.kioskID),f&&a.deregisterCount(s.InstanceType.AdFill,f.getOptions().name,d.kioskID));g&&g.deactivateItemByZoneID(d.kioskedZoneID)},destroy:function(){var a=this,b=u.bindFunction(this.$super,this);return this.lockMany("animation","containerImpression","visibilityShowAction").then(function(){return a.destroyMembers("_anchor",
"_adFill","_waterfall","_cuttingElements").then(b)})},detectVisibility:function(){var a=this.getAnchor().isVisible(),b=this;if(!0===(this.getAdFill()?this.getAdFill().getAdElement()&&!0:!1))if(this._wasVisible!==a&&(this._wasVisible=a,this.publish("visibilityChanged",{visible:a}),this.getAdFill().getAdElement().publish("visibilityChanged",{visible:a})),a){if(null!==this.getAdFill()&&null!==this.getAdFill().getAdElement()){var c=this.getAdFill(),d=c.getAdElement();this.hasNot("shownFromVisibility")&&
(this.set("shownFromVisibility"),this.lock("visibilityShowAction").then(function(){b.loadAd().then(function(){d.waitForLoad().then(function(){b.unlock("visibilityShowAction")}).then(b.bindMember("showAd"))})}));this.is("waitingContainerImpression")&&d.waitForLoad().then(function(){c.is("loaded")&&b.is("waitingContainerImpression")&&(b.set("sendingContainerImpression"),b.lock("containerImpression").then(function(){M.call(b)}))})}}else this.is("sendingContainerImpression")&&(this.set("waitingContainerImpression"),
this._containerImpressionTimer&&(clearTimeout(this._containerImpressionTimer),b.unlock("containerImpression")))},getAdFill:function(){return this._adFill},getAnchor:function(){return this._anchor},getContainerImpressionData:function(){var a=this.getWaterfall(),b=this.getOptions(),d=C.getPlacementIndex(this),e=this.getAnchor().getOptions().placementType,f=h.Config.PLACEMENT_TYPE,g=this.getAdFill().getOptions().orientation,k=a.getCurrentStep().zone||"",l=this.getRefreshCount(),a=a.getCurrentStep().provider||
"",m=this.getRTBPosition(),n=this.getCoordinates(),p=this.getMediaSize();-1<[f.IN_SCREEN,f.IN_SCROLL,f.INTERSTITIAL,f.REWARD].indexOf(e)&&(p={width:0,height:0});var r=q.mergeDefaults({"cntr.id":"","cntr.type":"banner","cntr.slot":0,"cntr.first":!1,"cntr.segment":"","cntr.categories":[],"cntr.subcategories":[],"cntr.keywords":[],"cntr.placement_type":"","cntr.banner.zone_type":"","cntr.banner.zone_id":"","cntr.banner.provider":"","cntr.refresh_count":0},{"cntr.id":b.kioskedZoneID,"cntr.type":"banner",
"cntr.slot":d,"cntr.first":0===d,"cntr.segment":"","cntr.categories":[],"cntr.subcategories":[],"cntr.keywords":[],"cntr.placement_type":e,"cntr.banner.zone_type":g,"cntr.banner.zone_id":k,"cntr.banner.provider":a,"cntr.refresh_count":l,"cntr.rtb_pos":m,"cntr.coordinates":n,"cntr.mediaSize":p}),d=c.getSnifferController().getSettingsMetaAbTesting();d.status===h.Config.SETTINGS_AB_TEST_OVERRIDE_NONE?r["cntr.segment"]="default":d.status===h.Config.SETTINGS_AB_TEST_OVERRIDE_FAIL?r["cntr.segment"]="override":
d.status===h.Config.SETTINGS_AB_TEST_OVERRIDE_FULL&&(r["cntr.segment"]=d.test);b.categories&&(b.categories.iabtier1&&E.isArray(b.categories.iabtier1)&&(r["cntr.categories"]=b.categories.iabtier1),b.categories.iabtier2&&E.isArray(b.categories.iabtier2)&&(r["cntr.subcategories"]=b.categories.iabtier2),b.categories.focus100k&&E.isArray(b.categories.focus100k)&&(r["cntr.keywords"]=b.categories.focus100k));return C.getAnalyticsPageData().then(function(a){return q.mergeDefaults(r,a)})},getCoordinates:function(){return this._coordinates},
getCuttingElement:function(a){return this._cuttingElements[a]},getMediaSize:function(){return this._mediaSize},getOptions:function(){return this._options},getRefreshCount:function(){return this._refreshCount},getRTBPosition:function(){return this._RTBPosition},getSettings:function(){return this.getOptions().settings},getWaterfall:function(){return this._waterfall},getWaterfallTrickleData:function(){var a=this.getOptions(),b=this.getWaterfall(),c=b.getCurrentStep(),d="custom"===c.network?"own":"kssp",
e=this.getAnchor().getOptions().placementType,f=h.Config.PLACEMENT_TYPE,f=-1<[f.IN_SCREEN,f.IN_SCROLL,f.INTERSTITIAL,f.REWARD].indexOf(e)?!0:!1,e=b.getCurrentStep().proportions,g=e.width>e.height,f=this.getAdFill().getOptions().scaleEnabled&&!f?v.calculateActualAdSize(this.getMediaSize(),e,g):e,k={"waterfall.publisherID":a.publisherID,"waterfall.siteID":a.siteID,"waterfall.network":c.network,"waterfall.placementID":c.zone,"waterfall.bannerSize":{w:e.width,h:e.height},"waterfall.bannerScaleSize":{w:f.width,
h:f.height},"waterfall.step":b.getCurrentStepIndex(),"waterfall.service":d,"page.uri":C.getPageUrl()};return this.getContainerImpressionData().then(function(a){return q.mergeDefaults(a,k)})},hideAd:function(){if(this.isNot("shown"))return Promise.resolve();var a=this.getAnchor(),b=this.getAdFill(),c=b.getOptions().orientation,e=this.getSettings().getInt("ui.media.Banner.animationSpeedOut",h.Config.BANNER_ANIMATION_SPEED_OUT),g=this;this.set("animating");b.set("animating");var n=v.calculateActualAdSize(b.getPlacementSize(),
b.getOptions().proportions,!0);return this.lock("animation").then(function(){if(a instanceof d){var h,p;"horizontal"===c?(h="bottom",p=0-n.height+"px"):"vertical"===c&&(h="right",p=-n.width+"px");var r={};r[h]=p;return Promise.all([q.animate(b.getAdElement().getScalingElement(),{duration:e,properties:r,easing:"inOutQuintic"}),q.animate(a.getDisclaimer().getContainer(),{duration:e,properties:{bottom:"0px",opacity:0},easing:"inOutQuintic"})])}if(a instanceof f)return q.animate(a.getAdContainerElement(),
{duration:e,properties:{height:"0px"},easing:"inOutQuintic"});if(a instanceof l)return Promise.all([q.animate(a.getFixedContainerElement(),{duration:e,properties:{bottom:0-n.height+"px"},easing:"inOutQuintic"}),q.animate(a.getDisclaimer().getContainer(),{duration:e,properties:{bottom:"0px",opacity:0},easing:"inOutQuintic"})]);if(a instanceof k)return document.body.style.overflow=g.bodyOverflow,document.body.style.position=g.bodyPosition,document.body.style.width=g.bodyWidth,Promise.all([q.animate(a.getContainerBox(),
{duration:e,properties:{opacity:0},easing:"inOutQuintic"}),q.animate(a.getFixedContainerElement(),{duration:e,properties:{opacity:0},easing:"inOutQuintic"}),q.animate(a.getDisclaimer().getContainer(),{duration:e,properties:{opacity:0},easing:"inOutQuintic"})]);if(a instanceof m)return Promise.resolve()}).then(function(){g.set("hidden");b.set("hidden");g.unlock("animation")})},loadAd:function(){var a=this;return new Promise(function(b){(function Q(){var c=a.getAdFill();c&&(c.is("loaded")||c.is("idle"))?
c.is("loaded")?c.getAdElement().applyInitialisation().then(b):c.setup(a.getWaterfall(),a.getSettings()).then(b):setTimeout(Q,80)})()})},refresh:function(){var a,b=this;a=this.getAdFill();var c=this.getWaterfall();return c&&a?(a.destroy(),c.destroy(),a=a.getPlacementSize(),r.call(this,a).then(function(){b._refreshCount+=1;return Promise.all([b.loadAd(),b.getAdFill().waitForLoad(),b.getAdFill().getAdElement().waitForLoad()]).then(function(){b.set("waitingContainerImpression")})})):Promise.reject()},
setCuttingElement:function(a,b){this._cuttingElements[a]=b},setMediaSize:function(a){this._mediaSize=a},showAd:function(){if(this.isNot("hidden"))return Promise.resolve();var a=this.getAnchor(),b=this.getAdFill(),c=b.getOptions().orientation,e=this.getSettings().getInt("ui.media.Banner.animationSpeedIn",h.Config.BANNER_ANIMATION_SPEED_IN),n=1E3*this.getSettings().getInt("ui.media.Banner.interstitialClosing",h.Config.INTERSTITIAL_CLOSING),p=this.getSettings().getInt("ui.media.overlays.Disclaimer.showDelay",
0),r=a.getOptions().placementType===h.Config.PLACEMENT_TYPE.REWARD,s=this;this.is("openedInstantly")&&(e=0);this.set("animating");b.set("animating");var u="horizontal"===c,w=v.calculateActualAdSize(b.getPlacementSize(),b.getOptions().proportions,u),y=function(){return q.promiseRace([new Promise(function(a){p=p>=h.Config.DISCLAIMER_DELAY_MAX?h.Config.DISCLAIMER_DELAY_MAX:p;window.setTimeout(a,p)}),new Promise(function(a){if(s.has("iframeLoadedTwice"))a();else var b=s.subscribe("statusSet",function(c){0<=
c.indexOf("iframeLoadedTwice")&&(b(),a())}).remove})])};return this.loadAd().then(function(){return s.lock("animation")}).then(q.delay(1,!0)).then(function(){if(a instanceof d){var g,h;"horizontal"===c?(g="bottom",h="0px"):"vertical"===c&&(g="right",h=b.getRightPositionForOnScreen()+"px");var p={};p[g]=h;return q.animate(b.getAdElement().getScalingElement(),{duration:e,properties:p,easing:"inOutQuintic"}).then(y).then(function(){var d=a.getDisclaimer();w=v.calculateActualAdSize(b.getPlacementSize(),
b.getOptions().proportions,u);if("horizontal"===c)d.getContainer().style.bottom=w.height+"px";else if("vertical"===c){var f=d.getAdsLogoDisclaimerContainer().offsetHeight,g=d.getCloseButtonContainer().offsetWidth+d.getAdsLogoDisclaimerContainer().offsetWidth,h=Math.floor(w.width-g+g/2+f/2);O.style(d.getContainer(),{top:g/2+f/2+"px",right:h+"px",width:g+"px",transform:"rotate(270deg)",msTransform:"rotate(270deg)",webkitTransform:"rotate(270deg)",webkitTransformOrigin:"50% 50%",marginTop:"-"+f+"px"})}return q.animate(d.getContainer(),
{duration:e,properties:{opacity:1},easing:"inOutQuintic"})})["catch"](function(a){t.error("Failed animating box anchor:",a)})}if(a instanceof f)return w.height+=a.getDisclaimer().getHeightOutsideBanner(),q.animate(a.getAdContainerElement(),{duration:e,properties:{height:w.height+"px"},easing:"inOutQuintic"}).then(y).then(function(){var c=b.getOptions().scaleEnabled?w.height:b.getOptions().proportions.height,c=c+a.getDisclaimer().getHeightOutsideBanner();a.getDisclaimer().getContainer().style.bottom=
w.height+"px";a._visibilityDetectionFrame.style.height=c+"px";return q.animate(a.getDisclaimer().getContainer(),{duration:e,properties:{opacity:1},easing:"inOutQuintic"})})["catch"](function(a){t.error("Failed animating stub anchor:",a)});if(a instanceof l)return a.getFixedContainerElement().style.bottom="-"+w.height+"px",q.animate(a.getFixedContainerElement(),{duration:e,properties:{bottom:"0px"},easing:"inOutQuintic"}).then(y).then(function(){a.getDisclaimer().getContainer().style.bottom=w.height+
"px";return q.animate(a.getDisclaimer().getContainer(),{duration:e,properties:{opacity:1},easing:"inOutQuintic"})})["catch"](function(a){t.error("Failed animating launchpad anchor:",a)});if(a instanceof k)return s.bodyOverflow=document.body.style.overflow,s.bodyPosition=document.body.style.position,s.bodyWidth=document.body.style.width,document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.width="100%",a.getFixedContainerElement().style.display="block",q.animate(a.getFixedContainerElement(),
{duration:e,properties:{opacity:1},easing:"inOutQuintic"}).then(function(){return q.animate(a.getContainerBox(),{duration:e,properties:{opacity:1},easing:"inOutQuintic"})}).then(function(){return y().then(function(){return q.animate(a.getDisclaimer().getContainer(),{duration:e,properties:{opacity:1},easing:"inOutQuintic"}).then(function(){setTimeout(function(){if(!r)return q.animate(a.getDisclaimer().getAdsLogoDisclaimerContainer(),{duration:e/3*2,properties:{marginRight:"20px"},easing:"inOutQuintic"}).then(function(){return q.animate(a.getDisclaimer().getCloseButtonContainer(),
{duration:e/3*2,properties:{opacity:1},easing:"inOutQuintic"})})},n)})})})["catch"](function(a){t.error("Failed animating interstitial anchor:",a)});if(a instanceof m)return Promise.resolve()}).then(function(){s.set("shown");b.set("shown");g.getGrandCentralStation().dispatch("timingEvent",{name:"placementShown",properties:{kioskID:s.getOptions().kioskID}});s.unlock("animation")})},updateLayout:function(){if(this.is("shown")){var a=this.getAnchor(),b=this.getAdFill(),c=b.getOptions().orientation,e=
"horizontal"===c,e=v.calculateActualAdSize(b.getPlacementSize(),b.getOptions().proportions,e);a instanceof d?"horizontal"===c?(b.getAdElement().getScalingElement().style.bottom="0px",a.getDisclaimer().getContainer().style.bottom=e.height+"px"):"vertical"===c&&(b.getAdElement().getScalingElement().style.right=b.getRightPositionForOnScreen()+"px",b=a.getDisclaimer().getAdsLogoDisclaimerContainer().offsetHeight,c=a.getDisclaimer().getCloseButtonContainer().offsetWidth+a.getDisclaimer().getAdsLogoDisclaimerContainer().offsetWidth,
e=Math.floor(e.width-c+c/2+b/2),O.style(a.getDisclaimer().getContainer(),{top:c/2+b/2+"px",right:e+"px",width:c+"px",transform:"rotate(270deg)",msTransform:"rotate(270deg)",webkitTransform:"rotate(270deg)",webkitTransformOrigin:"50% 50%",marginTop:"-"+b+"px"})):a instanceof f?(e.height+=a.getDisclaimer().getHeightOutsideBanner(),a.getAdContainerElement().style.height=e.height+"px",a.getDisclaimer().getContainer().style.bottom=e.height+"px"):a instanceof l?(a.getFixedContainerElement().style.bottom=
"0px",a.getDisclaimer().getContainer().style.bottom=e.height+"px"):a instanceof m&&a.handleResize()}}}}));m("adelement/AdContentTokenResolver",["tools/array","tools/formatting"],function(g,e){var c="ADVERTISER_ID CACHEBUSTER DFP_INSTANCE_COUNT DOMAIN FLD_STATUS HEIGHT HREF ID KIOSK_ID NETWORK_NAME PLACEMENT_TYPE PROTOCOL RESOURCES_DOMAIN SIZE WIDTH".split(" "),b={advertiserID:"ADVERTISER_ID",dfpCount:"DFP_INSTANCE_COUNT",domain:"DOMAIN",height:"HEIGHT",href:"HREF",kioskID:["KIOSK_ID","CACHEBUSTER"],
network:"NETWORK_NAME",placementType:"PLACEMENT_TYPE",protocol:"PROTOCOL",resourcesDomain:"RESOURCES_DOMAIN",width:"WIDTH",zoneID:"ID",fldStatus:"FLD_STATUS"},a={convertFriendlyToRaw:function(a){var e={WIDTH:0,HEIGHT:0},h=[],k;for(k in b)if(b.hasOwnProperty(k)){var m=b[k];g.isArray(m)||(m=[m]);m.forEach(function(b){e[b]=a[k];h.push(b)})}e.SIZE=e.WIDTH+"x"+e.HEIGHT;h.push("SIZE");if(h.length!==c.length)throw new w("Invalid number of friendly properties to raw: "+h.length+"/"+c.length);return e},resolveContent:function(b,
c){var g=a.convertFriendlyToRaw(c);return e.tokenReplaceString(b,g)}};return a});m("messaging/FrameMessageSource",["messaging/MessageSourceAbstract","tools/general","tools/debug"],u(function(g,e){return{construct:function(c){this.$super(g.mergeDefaults({name:"FrameMessageSource",sourceFrame:null},c||{}))},canReceiveMessage:function(){var c=this.getOptions();return null!==c.sourceFrame&&"function"===typeof c.sourceFrame.postMessage},sendMessage:function(c){var b=!1;try{var a=JSON.stringify(c);a&&(this.getOptions().sourceFrame.postMessage(a,
"*"),b=!0)}catch(d){e.error("/FrameMessageSource/","Failed sending message",c,d)}return b}}}));var O=function(){return{domainName:null,designs:{},style:function(g,e){for(var c in e)if(e.hasOwnProperty(c)){var b="[object Array]"===Object.prototype.toString.call(e[c])?e[c]:[e[c]],a;for(a in b)if(g&&"style"in g&&c in g.style)try{g.style[c]=b[a]}catch(d){g.setAttribute("style",b[a])}}},setStyle:function(g,e,c){c?this.style(g,this.designs[c].getDesignStyle(e)):this.style(g,this[e])},getStyle:function(g,
e){var c,b=null;c=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(g,""):g.currentStyle?g.currentStyle:g.style;if(c[e]&&"none"!==c[e])b=c[e];else{var a=e.slice(0,1).toUpperCase()+e.slice(1);c["Webkit"+a]?b=c["Webkit"+a]:c["Ms"+a]?b=c["Ms"+a]:c["Moz"+a]?b=c["Moz"+a]:c["O"+a]&&(b=c["O"+a])}return b},getDesignStyle:function(g,e){return this.designs[g].getDesignStyle(e)}}}();m("tools/native",["tools/compatibility","archetype"],function(g,e){var c={};e.onReady(function(){c.querySelector=
e.getNativeMethod("document.querySelector");c.querySelectorAll=e.getNativeMethod("document.querySelectorAll");c.createElement=e.getNativeMethod("document.createElement");c.getElementById=e.getNativeMethod("document.getElementById");c.getElementsByTagName=e.getNativeMethod("document.getElementsByTagName");c.createTextNode=e.getNativeMethod("document.createTextNode");c.getElementNative=function(b,a){return e.getNativeMethod(a,b)}});c.onReady=function(b){e.onReady(b)};return c});m("SettingsOBC",["tools/general"],
function(g){function e(b){b=g.trim(b);return 0<b.length?("."===b[0]&&(b=b.substr(1)),"."===b[b.length-1]&&(b=b.substr(0,b.length-1)),b.split(".")):[b]}var c=function a(c){this._settingsObj=c=c||{};if("object"!==_typeof(this._settingsObj))throw new w("Invalid settings item");if(this._settingsObj instanceof a)throw new w("Creating settings object from SettingsOBC instance is not supported");c=this._settingsObj;var e={},h,k,m,p;for(p in c)if(c.hasOwnProperty(p)){h=e;k=p.split(".");for(var s=k.pop();k.length;)m=
k.shift(),h=h[m]=h[m]||{};h[s]=c[p]}this._settingsObj=e;this._settingsObj=g.deepFreeze(this._settingsObj)};c.prototype.clone=function(){return new c(this.getSettingsObject())};c.prototype.get=function(a,c){if(-1!==a.indexOf(".")){var f=e.call(this,a);if(this._settingsObj.hasOwnProperty(f[0])){var g=this.getSubset(f[0]),f=f.splice(1),f=f.join(".");return g.get(f,c)}return c}return this._settingsObj.hasOwnProperty(a)?this._settingsObj[a]:c};c.prototype.getBool=function(a,c){var e=this.get(a,c),h;"true"===
e||"false"===e?h="true"===e:(!0===e||!1===e)&&(h=e);g.isset(h)||(h=g.isset(c)?!!c:!!e);return"undefined"===typeof h?!1:h};c.prototype.getInt=function(a,c){c=g.isset(c)?c:0;var e=parseInt(this.get(a,c),10);return isNaN(e)||void 0===e?c:e};c.prototype.getFloat=function(a,c){c=g.isset(c)?c:0;var e=parseFloat(this.get(a,c));return isNaN(e)||void 0===e?c:e};c.prototype.getFloat=function(a,c){c=g.isset(c)?c:0;var e=parseFloat(this.get(a,c));return isNaN(e)||void 0===e?c:e};c.prototype.getSettingsObject=
function(){return g.deepClone(this._settingsObj)};c.prototype.getSubset=function(a){if(-1!==a.indexOf(".")){var d=e(a);return this._settingsObj.hasOwnProperty(d[0])?(a=this.getSubset(d[0]),d=d.splice(1),d=d.join("."),a.getSubset(d)):new c({})}return this._settingsObj.hasOwnProperty(a)?new c(this._settingsObj[a]):new c({})};c.prototype.isSet=function(a){if(-1!==a.indexOf(".")){var c=e(a);if(this._settingsObj.hasOwnProperty(c[0]))return a=this.getSubset(c[0]),c=c.splice(1),c=c.join("."),a.isSet(c)}else return this._settingsObj.hasOwnProperty(a);
return!1};c.prototype.mergeSettings=function(a,d){if(a instanceof c)return this.mergeSettings(a.getSettingsObject(),d);var e=g.deepClone(this._settingsObj,!1);d=g.isset(d)?!!d:!0;if("object"===("undefined"===typeof a?"undefined":_typeof(a)))return e=d?g.mergeDefaults(e,a):g.mergeDefaults(a,e),new c(e);throw new w("Invalid settings merge source");};return c});h.resources={"networks/aol_desktop.html":"PCEtLSBBT0wgW1NJWkVdIFtET01BSU5dIC0tPgo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+CiAgICB2YXIgcGxhY2VtZW50SUQgPSBbSURdLAogICAgICAgIGNhY2hlYnVzdGVyID0gIltDQUNIRUJVU1RFUl0iOwogICAgZG9jdW1lbnQud3JpdGUoJzxzY3InKydpcHQgbGFuZ3VhZ2U9ImphdmFzY3JpcHQxLjEiIHNyYz0iW1BST1RPQ09MXTovL2Fkc2VydmVyLmFkdGVjaHVzLmNvbS9hZGR5bnwzLjB8OTU3My4xfCcrcGxhY2VtZW50SUQrJ3wwfDIyNXxBRFRFQ0g7bG9jPTEwMDt0YXJnZXQ9X2JsYW5rO21pc2M9JytjYWNoZWJ1c3RlcisnO3JkY2xpY2s9Ij48XC9zY3JpcHQ+Jyk7Cjwvc2NyaXB0Pgo=",
"networks/aol_mobile.html":"PCEtLSBBc3luYyBUYWcgLy8gV2Vic2l0ZTogW0RPTUFJTl0gbW9iaWxlIC8vIFBsYWNlbWVudDogW0RPTUFJTl0gW1NJWkVdIG1vYmlsZSAgKFtJRF0pIC0tPgo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSJodHRwOi8vYWthLWNkbi1ucy5hZHRlY2h1cy5jb20vZHQvY29tbW9uL0RBQy5qcyI+PC9zY3JpcHQ+CjxkaXYgaWQ9IltJRF0iPjwvZGl2Pgo8c2NyaXB0PgogICAgQURURUNILmNvbmZpZy5wYWdlID0ge3Byb3RvY29sOiAnW1BST1RPQ09MXScsIHNlcnZlcjogJ2EuYWR0ZWNodXMuY29tJywgbmV0d29yazogJzk1NzMuMScsIHBhcmFtczogeyBsb2M6ICcxMDAnIH19OwogICAgQURURUNILmNvbmZpZy5wbGFjZW1lbnRzW1tJRF1dID0ge3BhcmFtczoge2FsaWFzOiAnW0lEXScsIHRhcmdldDogJ19ibGFuaycgfX07CiAgICBBRFRFQ0gubG9hZEFkKFtJRF0pOwo8L3NjcmlwdD4=",
"networks/appnexus.html":"PCEtLSBCRUdJTiBBUFBORVhVUyBUQUcgLSBbU0laRV0gW0RPTUFJTl0gPCAtIERPIE5PVCBNT0RJRlkgLS0+CjxTQ1JJUFQgU1JDPSJodHRwOi8vaWIuYWRueHMuY29tL3R0aj9pZD1bSURdJmNiPVtDQUNIRUJVU1RFUl0iIFRZUEU9InRleHQvamF2YXNjcmlwdCI+PC9TQ1JJUFQ+CjwhLS0gRU5EIFRBRyAtLT4=","networks/appnexus_secure.html":"PCEtLSBCRUdJTiBTRUNVUkUgQVBQTkVYVVMgVEFHIC0gW1NJWkVdIFtET01BSU5dIDwgLSBETyBOT1QgTU9ESUZZIC0tPgo8U0NSSVBUIFNSQz0iaHR0cHM6Ly9zZWN1cmUuYWRueHMuY29tL3R0aj9pZD1bSURdJmNiPVtDQUNIRUJVU1RFUl0iIFRZUEU9InRleHQvamF2YXNjcmlwdCI+PC9TQ1JJUFQ+CjwhLS0gRU5EIFRBRyAtLT4=",
"networks/criteo.html":"PCEtLSBbRE9NQUlOXSAtIENyaXRlbyB0YWcgLSBbU0laRV0gLS0+CjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4KICAgIGRvY3VtZW50Lk1BWF9jdDAgPScnOwogICAgdmFyIG0zX3UgPSAobG9jYXRpb24ucHJvdG9jb2w9PSdodHRwczonPydodHRwczovL2Nhcy5jcml0ZW8uY29tL2RlbGl2ZXJ5L2Fqcy5waHA/JzonaHR0cDovL2Nhcy5jcml0ZW8uY29tL2RlbGl2ZXJ5L2Fqcy5waHA/Jyk7CiAgICB2YXIgbTNfciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSo5OTk5OTk5OTk5OSk7CiAgICBkb2N1bWVudC53cml0ZSAoIjxzY3IiKyJpcHQgdHlwZT0ndGV4dC9qYXZhc2NyaXB0JyBzcmM9JyIrbTNfdSk7CiAgICBkb2N1bWVudC53cml0ZSAoInpvbmVpZD1bSURdIik7ZG9jdW1lbnQud3JpdGUoIiZub2Rpcz0xIik7CiAgICBkb2N1bWVudC53cml0ZSAoJyZjYj0nICsgbTNfcik7CiAgICBpZiAoZG9jdW1lbnQuTUFYX3VzZWQgIT0gJywnKSBkb2N1bWVudC53cml0ZSAoIiZleGNsdWRlPSIgKyBkb2N1bWVudC5NQVhfdXNlZCk7CiAgICBkb2N1bWVudC53cml0ZSAoZG9jdW1lbnQuY2hhcnNldCA/ICcmY2hhcnNldD0nK2RvY3VtZW50LmNoYXJzZXQgOiAoZG9jdW1lbnQuY2hhcmFjdGVyU2V0ID8gJyZjaGFyc2V0PScrZG9jdW1lbnQuY2hhcmFjdGVyU2V0IDogJycpKTsKICAgIGRvY3VtZW50LndyaXRlICgiJmxvYz0iICsgZXNjYXBlKHdpbmRvdy5sb2NhdGlvbikpOwogICAgaWYgKGRvY3VtZW50LnJlZmVycmVyKSBkb2N1bWVudC53cml0ZSAoIiZyZWZlcmVyPSIgKyBlc2NhcGUoZG9jdW1lbnQucmVmZXJyZXIpKTsKICAgIGlmIChkb2N1bWVudC5jb250ZXh0KSBkb2N1bWVudC53cml0ZSAoIiZjb250ZXh0PSIgKyBlc2NhcGUoZG9jdW1lbnQuY29udGV4dCkpOwogICAgaWYgKCh0eXBlb2YoZG9jdW1lbnQuTUFYX2N0MCkgIT0gJ3VuZGVmaW5lZCcpICYmIChkb2N1bWVudC5NQVhfY3QwLnN1YnN0cmluZygwLDQpID09ICdodHRwJykpIHsKICAgICAgICBkb2N1bWVudC53cml0ZSAoIiZjdDA9IiArIGVzY2FwZShkb2N1bWVudC5NQVhfY3QwKSk7CiAgICB9CiAgICBpZiAoZG9jdW1lbnQubW1tX2ZvKSBkb2N1bWVudC53cml0ZSAoIiZtbW1fZm89MSIpOwogICAgZG9jdW1lbnQud3JpdGUgKCInPjwvc2NyIisiaXB0PiIpOwo8L3NjcmlwdD4KPCEtLSBFbmQgdGFnIC0tPg==",
"networks/dfp.html":"PCEtLSBCRUdJTiBERlAgVEFHIC0gW1NJWkVdIFtET01BSU5dIDwgLSBETyBOT1QgTU9ESUZZIC0tPgo8c2NyaXB0IHR5cGU9J3RleHQvamF2YXNjcmlwdCc+CiAgICB2YXIgZ29vZ2xldGFnID0gZ29vZ2xldGFnIHx8IHt9OwogICAgZ29vZ2xldGFnLmNtZCA9IGdvb2dsZXRhZy5jbWQgfHwgW107CiAgICAoZnVuY3Rpb24oKSB7CiAgICAgICAgaWYgKHdpbmRvdy5fX0lUR1NfREZQU0NSSVBUX0lOSVQpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICB3aW5kb3cuX19JVEdTX0RGUFNDUklQVF9JTklUID0gdHJ1ZTsKICAgICAgICAvLyBMb2FkOgogICAgICAgIHZhciBnYWRzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7CiAgICAgICAgZ2Fkcy5hc3luYyA9IHRydWU7CiAgICAgICAgZ2Fkcy50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7CiAgICAgICAgdmFyIHVzZVNTTCA9ICdodHRwczonID09PSBkb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbDsKICAgICAgICBnYWRzLnNyYyA9ICh1c2VTU0wgPyAnaHR0cHM6JyA6ICdodHRwOicpICsKICAgICAgICAgICAgICAgICcvL3d3dy5nb29nbGV0YWdzZXJ2aWNlcy5jb20vdGFnL2pzL2dwdC5qcyc7CiAgICAgICAgdmFyIG5vZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF07CiAgICAgICAgbm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShnYWRzLCBub2RlKTsKICAgIH0pKCk7Cjwvc2NyaXB0Pgo8c2NyaXB0IHR5cGU9J3RleHQvamF2YXNjcmlwdCc+CiAgICAoZnVuY3Rpb24oKSB7CiAgICAgICAgLy8gc2xvdCBkZWZpbml0aW9ucwogICAgICAgIGdvb2dsZXRhZy5jbWQucHVzaChmdW5jdGlvbigpIHsKICAgICAgICAgICAgZ29vZ2xldGFnLmRlZmluZVNsb3QoICcvMTA5MjA3NjEwL1tJRF0nLCAgW1tXSURUSF0sIFtIRUlHSFRdXSwgJ2Rpdi1ncHQtYWQtW0tJT1NLX0lEXScpLmFkZFNlcnZpY2UoZ29vZ2xldGFnLnB1YmFkcygpKTsKICAgICAgICB9KTsKICAgICAgICBpZiAod2luZG93Ll9fSVRHU19ERlBTQ1JJUFRfREVGKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgd2luZG93Ll9fSVRHU19ERlBTQ1JJUFRfREVGID0gdHJ1ZTsKICAgICAgICAvLyBzZXR1cCBzZXJ2aWNlcwogICAgICAgIGdvb2dsZXRhZy5jbWQucHVzaChmdW5jdGlvbigpIHsKICAgICAgICAgICAgZ29vZ2xldGFnLnB1YmFkcygpLmVuYWJsZVNpbmdsZVJlcXVlc3QoKTsKICAgICAgICAgICAgZ29vZ2xldGFnLmVuYWJsZVNlcnZpY2VzKCk7CiAgICAgICAgfSk7CiAgICB9KSgpOwo8L3NjcmlwdD4KCjxkaXYgaWQ9J2Rpdi1ncHQtYWQtW0tJT1NLX0lEXSc+CiAgICA8c2NyaXB0IHR5cGU9J3RleHQvamF2YXNjcmlwdCc+CiAgICAgICAgICAgIGdvb2dsZXRhZy5jbWQucHVzaChmdW5jdGlvbigpIHsgZ29vZ2xldGFnLmRpc3BsYXkoJ2Rpdi1ncHQtYWQtW0tJT1NLX0lEXScpOyB9KTsKICAgIDwvc2NyaXB0Pgo8L2Rpdj4KPCEtLSBFTkQgVEFHIC0tPg==",
"networks/districtm.html":"PCEtLSBEaXN0cmljdCBNIFRhZyAtIFtTSVpFXSAtIEFURiAtIEVOIC0tPgo8ZGl2IGNsYXNzPSdkaXN0cmljdG0nPjxzY3JpcHQgdHlwZT0ndGV4dC9qYXZhc2NyaXB0Jz48IS0tCi8qIFtET01BSU5dIC0gUnVuT2ZTaXRlICovCmRtX2FkX3Nsb3QgPSBbSURdOwpkbV9hZF93aWR0aCA9IFtXSURUSF07CmRtX2FkX2hlaWdodCA9IFtIRUlHSFRdOwpkbV9sYW5ndWFnZSA9ICdFTic7Ci8vLS0+Cjwvc2NyaXB0PgogICAgPHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnCiAgICAgICAgICAgIHNyYz0nLy9zdGF0aWMuZGlzdHJpY3RtLmNhLzE4L2RtX2FkdGFnW0FEVkVSVElTRVJfSURdLmpzJz4KICAgIDwvc2NyaXB0PjwvZGl2Pgo8IS0tIEVuZCBvZiBEaXN0cmljdCBNIFRhZyAtLT4=",
"networks/iow.html":"PCEtLSBCZWdpbiBJT1cgdGFnIC0gW1NJWkVdIC0gW0RPTUFJTl0gLS0+CjxkaXYgc3R5bGU9IndpZHRoOiBbV0lEVEhdcHg7IGhlaWdodDogW0hFSUdIVF1weCIgaWQ9Imtza2RfaW93X1tLSU9TS19JRF0iPjwvZGl2Pgo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+CiAgICBJVEdTLnIoImxvY2F0b3JzL0lPV01hbmFnZXJMb2NhdG9yIiwgZnVuY3Rpb24oSU9XTWFuYWdlckxvY2F0b3IpIHsKICAgICAgICB2YXIgbWdyID0gSU9XTWFuYWdlckxvY2F0b3IuZ2V0SU9XTWFuYWdlcigpLAogICAgICAgICAgICBwcm94eSA9IG1nci5nZXRQcm94eSgpOwogICAgICAgIHByb3h5LnJlcXVlc3RTbG90KCJbUExBQ0VNRU5UX1RZUEVdIiwgIltJRF0iLCAiW0ZMRF9TVEFUVVNdIik7CiAgICAgICAgcHJveHkucmVuZGVyU2xvdCgKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJrc2tkX2lvd19bS0lPU0tfSURdIiksCiAgICAgICAgICAgICAgICAiW1BMQUNFTUVOVF9UWVBFXSIsCiAgICAgICAgICAgICAgICAiW0lEXSIsCiAgICAgICAgICAgICAgICAiW0tJT1NLX0lEXSIsCiAgICAgICAgICAgICAgICBbRkxEX1NUQVRVU10KICAgICAgICApOwogICAgfSk7Cjwvc2NyaXB0Pgo8IS0tIEVuZCBJT1cgdGFnIC0tPg==",
"networks/openx.html":"PCEtLS8qIE9wZW5YIEphdmFTY3JpcHQgdGFnICovLS0+CjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4KICAgIGlmICghd2luZG93Lk9YX2FkcykgeyBPWF9hZHMgPSBbXTsgfQogICAgT1hfYWRzLnB1c2goeyAiYXVpZCIgOiAiW0lEXSIgfSk7Cjwvc2NyaXB0Pgo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+CiAgICBkb2N1bWVudC53cml0ZSgnPHNjcicrJ2lwdCBzcmM9Ii8vdXMtYWRzLm9wZW54Lm5ldC93LzEuMC9qc3RhZyI+PFwvc2NyJysnaXB0PicpOwo8L3NjcmlwdD4K","networks/pulsepoint.html":"PCEtLSBQdWxzZVBvaW50IFtET01BSU5dIEAgW1NJWkVdIC0tPgo8c2NyaXB0IHNyYz0iW1BST1RPQ09MXTovL3RhZy5jb250ZXh0d2ViLmNvbS9UYWdQdWJsaXNoL2dldGpzLmFzcHg/YWN0aW9uPVZJRVdBRCZjd3J1bj0yMDAmY3dhZGZvcm1hdD1bU0laRV0mY3dwaWQ9NTU4NjI2JmN3d2lkdGg9W1dJRFRIXSZjd2hlaWdodD1bSEVJR0hUXSZjd3BuZXQ9MSZjd3RhZ2lkPVtJRF0iPjwvc2NyaXB0Pg==",
"networks/technorati.html":"PCEtLSBCRUdJTiBURUNITk9SQVRJIE1FRElBIFRBRyBGT1IgW0RPTUFJTl1fW1NJWkVdLCBBZCBTaXplOiBbU0laRV0gLS0+CjxzY3JpcHQgdHlwZT0ndGV4dC9qYXZhc2NyaXB0Jz4KICAgIHZhciB0cklEID0gIltJRF0iLCBscCA9IHRySUQuc3Vic3RyKC0gMiwgMiksIHNwID0gdHJJRC5zdWJzdHIoLSA0LCAyKTsgCiAgICBkb2N1bWVudC53cml0ZSgnPHNjcmknICsgJ3B0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSInCiAgICArIChkb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbCA9PSAnaHR0cHM6JyA/ICdodHRwczovL3VhdC1zZWN1cmUudGVjaG5vcmF0aW1lZGlhLmNvbScgOiAnaHR0cDovL2FkLWNkbi50ZWNobm9yYXRpbWVkaWEuY29tJykKICAgICsgJy8wMC8nICsgbHAgKyAnLycgKyBzcCArICcvdWF0X1tJRF0uanM/YWRfc2l6ZT1bU0laRV0iPjwvc2NyaScgKyAncHQ+Jyk7Cjwvc2NyaXB0Pgo8IS0tIEVORCBURUNITk9SQVRJIE1FRElBIFRBRyBGT1IgW0RPTUFJTl1fW1NJWkVdLCBBZCBTaXplOiBbU0laRV0gLS0+Cg==",
"networks/test.html":"PCEtLSBLaW9za2VkOiBCRUdJTiBTYW1wbGUgYmFubmVyIC0tPgo8ZGl2IGlkPSJrc2tkVGVzdERpdl9bS0lPU0tfSURdIj48L2Rpdj4KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iW1BST1RPQ09MXTovL1tSRVNPVVJDRVNfRE9NQUlOXS9kZW1vL2NyZWF0aXZlcy9ib290LmpzIj48L3NjcmlwdD4KPHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnPgooZnVuY3Rpb24oKSB7CiAgICAidXNlIHN0cmljdCI7CgogICAgdmFyIGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJrc2tkVGVzdERpdl9bS0lPU0tfSURdIik7CiAgICBkaXYuc3R5bGUud2lkdGggPSAiMTAwMHB4IjsKICAgIGRpdi5zdHlsZS5oZWlnaHQgPSAiMTAwMHB4IjsKICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiYmx1ZSI7CiAgICB2YXIgem9uZUlEID0gIltJRF0iOwogICAgaWYgKHpvbmVJRCA9PT0gImZhbGxiYWNrOmNsb3NlIikgewoKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoKICAgICAgICAgICAgLy8gS2lvc2tlZCBGYWxsYmFjayA6OiAoQykgQ29weXJpZ2h0IEtpb3NrZWQgTHRkLgogICAgICAgICAgICB2YXIgY3VycmVudFRhcmdldFdpbmRvdyA9IHdpbmRvdywKICAgICAgICAgICAgICAgIHdpbmRvd1NvdXJjZXMgPSBbXSwKICAgICAgICAgICAgICAgIGtza2RJRCA9ICIiOwoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGtza2RJRCA9IHdpbmRvdy5mcmFtZUVsZW1lbnQuZ2V0QXR0cmlidXRlKCJkYXRhLWtpb3NraWQiKTsKICAgICAgICAgICAgfSBjYXRjaCAoZSkge30KICAgICAgICAgICAgLy8gdGVzdCBoYWNrOgogICAgICAgICAgICBrc2tkSUQgPSAiW0tJT1NLX0lEXSI7CgogICAgICAgICAgICBkbyB7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIHZhciBjb250ZW50VVJMID0gY3VycmVudFRhcmdldFdpbmRvdy5sb2NhdGlvbi5ocmVmOwogICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50VVJMLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93U291cmNlcy5wdXNoKGNvbnRlbnRVUkwpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9CiAgICAgICAgICAgICAgICBjdXJyZW50VGFyZ2V0V2luZG93ID0gY3VycmVudFRhcmdldFdpbmRvdy5wYXJlbnQ7CiAgICAgICAgICAgICAgICB2YXIgcGFja2V0ID0gewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICJmYWxsYmFja19pbml0aWF0ZWQiLAogICAgICAgICAgICAgICAgICAgIHdpbmRvd19jaGFpbjogd2luZG93U291cmNlcywKICAgICAgICAgICAgICAgICAgICBjb250YWluZXJJRDoga3NrZElECiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGFyZ2V0V2luZG93LnBvc3RNZXNzYWdlKCJraW9za2VkX3dpbmRvd19tZXNzYWdlOiIgKyBKU09OLnN0cmluZ2lmeShwYWNrZXQpLCAnKicpOwogICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUYXJnZXRXaW5kb3cucG9zdE1lc3NhZ2UoImtza2Rfd2luZG93X21lc3NhZ2U6IiArIEpTT04uc3RyaW5naWZ5KHBhY2tldCksICcqJyk7CiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7fQogICAgICAgICAgICB9IHdoaWxlIChjdXJyZW50VGFyZ2V0V2luZG93ICE9PSB3aW5kb3cudG9wKTsKCiAgICAgICAgfSwgNDUwKTsKCiAgICB9IGVsc2UgaWYgKHpvbmVJRC5pbmRleE9mKCJkZW1vOiIpID09PSAwKSB7CiAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICJyZ2JhKDAsMCwwLDApIjsKICAgICAgICB2YXIgZGVtb1pvbmVJRCA9IHpvbmVJRC5zdWJzdHIoNSk7CiAgICAgICAgSVRHUy5yKCJEZW1vQ3JlYXRpdmVNYW5hZ2VyIiwgZnVuY3Rpb24gKERDTSkgewogICAgICAgICAgICB2YXIgZGNtSW5zdGFuY2UgPSBEQ00uZ2V0U2hhcmVkSW5zdGFuY2UoKSwKICAgICAgICAgICAgICAgIGludmVudG9yeVJlYWR5ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gZGNtSW5zdGFuY2UuZ2V0UmFuZG9tQ3JlYXRpdmUoZGVtb1pvbmVJRCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpOwogICAgICAgICAgICAgICAgICAgICAgICBhbmNob3IuaHJlZiA9ICJbSFJFRl0iOwogICAgICAgICAgICAgICAgICAgICAgICBhbmNob3IudGFyZ2V0ID0gIl9ibGFuayI7CiAgICAgICAgICAgICAgICAgICAgICAgIGltZy5zcmMgPSBkYXRhLnVybDsKICAgICAgICAgICAgICAgICAgICAgICAgaW1nLmNsYXNzTmFtZSA9ICJrc2tkRGl2IjsKICAgICAgICAgICAgICAgICAgICAgICAgaW1nLnNldEF0dHJpYnV0ZSgic3R5bGUiLCAid2lkdGg6ICIgKyBkYXRhLndpZHRoICsgInB4OyBoZWlnaHQ6ICIgKyBkYXRhLmhlaWdodCArICJweCIpOwogICAgICAgICAgICAgICAgICAgICAgICBhbmNob3IuYXBwZW5kQ2hpbGQoaW1nKTsKICAgICAgICAgICAgICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKGFuY2hvcik7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICBpZiAoIWludmVudG9yeVJlYWR5KCkpIHsKICAgICAgICAgICAgICAgIHZhciByZW1vdmUgPSBkY21JbnN0YW5jZS5zdWJzY3JpYmUoInVwZGF0ZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBpbnZlbnRvcnlSZWFkeSgpOwogICAgICAgICAgICAgICAgICAgIChyZW1vdmUpKCk7CiAgICAgICAgICAgICAgICB9KS5yZW1vdmU7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0KfSkoKTsKPC9zY3JpcHQ+CjwhLS0gS2lvc2tlZDogRU5EIFNhbXBsZSBiYW5uZXIgLS0+Cg==",
"helpers/iframe-padding.html":"PHN0eWxlIHR5cGU9InRleHQvY3NzIj4KICAgIGJvZHkgewogICAgICAgIG1hcmdpbjogMDsKICAgIH0KPC9zdHlsZT4="}})();
