!function(){!function(){"use strict";function e(e){d.push(e),1===d.length&&u()}function t(){for(;d.length;)d[0](),d.shift()}function n(e){this.a=h,this.b=void 0,this.f=[];var t=this;try{e(function(e){a(t,e)},function(e){s(t,e)})}catch(n){s(t,n)}}function i(e){return new n(function(t,n){n(e)})}function o(e){return new n(function(t){t(e)})}function a(e,t){if(e.a===h){if(t===e)throw new TypeError("Promise settled with itself.");var n=!1;try{var i=t&&t.then;if(null!==t&&"object"==typeof t&&"function"==typeof i)return void i.call(t,function(t){n||a(e,t),n=!0},function(t){n||s(e,t),n=!0})}catch(o){return void(n||s(e,o))}e.a=0,e.b=t,l(e)}}function s(e,t){if(e.a===h){if(t===e)throw new TypeError("Promise settled with itself.");e.a=1,e.b=t,l(e)}}function l(t){e(function(){if(t.a!==h)for(;t.f.length;){var e=t.f.shift(),n=e[0],i=e[1],o=e[2],e=e[3];try{0===t.a?o("function"==typeof n?n.call(void 0,t.b):t.b):1===t.a&&("function"==typeof i?o(i.call(void 0,t.b)):e(t.b))}catch(a){e(a)}}})}function r(e){return new n(function(t,n){function i(n){return function(i){s[n]=i,a+=1,a===e.length&&t(s)}}var a=0,s=[];0===e.length&&t(s);for(var l=0;l<e.length;l+=1)o(e[l]).c(i(l),n)})}function g(e){return new n(function(t,n){for(var i=0;i<e.length;i+=1)o(e[i]).c(t,n)})}var d=[];if(window.MutationObserver){var c=document.createElement("div");new MutationObserver(t).observe(c,{attributes:!0});var u=function(){c.setAttribute("x",0)}}else u=function(){setTimeout(t)};var h=2;n.prototype.g=function(e){return this.c(void 0,e)},n.prototype.c=function(e,t){var i=this;return new n(function(n,o){i.f.push([e,t,n,o]),l(i)})},window.Promise||(window.Promise=n,window.Promise.resolve=o,window.Promise.reject=i,window.Promise.race=g,window.Promise.all=r,window.Promise.prototype.then=n.prototype.c,window.Promise.prototype["catch"]=n.prototype.g)}();var renderInIframe=!1,HymnalPromises=function(){"use strict";var e=[],t=function(t){e.push(t)},n=function(t){return e},i=function(e){"undefined"!=typeof e&&(addBeforeRenderPromise(new Promise(function(e,t){return t()})),"undefined"!=typeof console&&"function"==typeof console.error&&console.error("An error prevented the rendering of Hymnal ads",e))};return{resolveBeforeRender:t,getBeforeRender:n,stop:i}}(),HymnalCallbacks=function(){"use strict";var e=[],t=[],n=!1,i=null,o=function(t){n?t.call(i):e.push(t)},a=function(e){n?e.call(i):t.push(e)},s=function(t){n=!0,i=t;for(var o=0;o<e.length;o++)e[o].call(t||null)},l=function(e){i=e;for(var n=0;n<t.length;n++)t[n].call(e||null)};return{afterRender:o,beforeRender:a,performAfterRender:s,performBeforeRender:l}}(),resolveDependencies=function(){var e={_:{src:"https://hymnal-prod.vox-cdn.com/libraries/underscore-1.5.1.min.js",test:function(){return!!_.VERSION}},jQuery:{src:"https://hymnal-prod.vox-cdn.com/libraries/jquery-1.10.2.min.gz.js"}},t=document.getElementsByTagName("head");if(t.length>0){var n=function(e){var n=new Promise(function(n,i){var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.setAttribute("data-for","hymnal"),t[0].appendChild(o),o.onload=function(){n(o)},o.src=e});n["catch"](HymnalPromises.stop),HymnalPromises.resolveBeforeRender(n)};for(var i in e)if(e.hasOwnProperty(i)){var o=function(){return!0};e[i].test&&(o=e[i].test),"undefined"!=typeof window[i]&&window[i]&&o.call(this)||n(e[i].src)}}};resolveDependencies();var isInDFPIframe=function(){var e=!1;try{"object"==typeof window.frameElement&&-1!==window.frameElement.id.indexOf("google_ads_iframe")&&"object"==typeof window.frameElement.ownerDocument&&(e=!0)}catch(t){e=!1}return e},makeIFrameVeryFriendly=new Promise(function(e,t){function n(e,t){var n=e.parentElement.ownerDocument.body.clientWidth,o=e.parentElement.clientWidth,a=Math.max(n,o)>727?"desktop":"mobile",s=i.athena.desktop;return t&&t.design_template&&(s=-1!==t.design_template.toLowerCase().indexOf("athena")?i.athena[a]:-1!==t.design_template.toLowerCase().indexOf("apex")?i.apex[a]:-1!==t.design_template.toLowerCase().indexOf("prelude")?i.prelude[a]:e.width/e.height),s}var i={prelude:{desktop:2.745098039,mobile:.666666667},apex:{desktop:1.5,mobile:1.5},athena:{desktop:1.687796965,mobile:.666666667}},o=function(e,t){if(e&&e.width&&e.height){e.width="100%";var i=function(){var i=n(e,t),o=e.clientWidth/i;e.height=o};i(),HymnalCallbacks.afterRender(function(){parent.addEventListener("resize",Hymnal.util.throttle(i),100)})}},a=function(){for(var e=document.body.childNodes,t=window.frameElement.parentElement,n=e.length,i=n-1;i>=0;i--){var o=e[i];if("SCRIPT"===o.nodeName){var a=window.frameElement.ownerDocument.createElement("script");a.src=o.src,t.appendChild(a),document.body.removeChild(o)}else t.appendChild(o)}frameElement.parentElement.removeChild(window.frameElement)},s=function(){isInDFPIframe()?(renderInIframe?HymnalCallbacks.afterRender(function(){var e=this;o(frameElement,e)}):a(),e(!0)):e(!1)};s()});HymnalPromises.resolveBeforeRender(makeIFrameVeryFriendly),function(){var e=.666666667,t=null,n=function(){var e=!!window.context&&!!window.context.pageViewId;e&&i()},i=function(){HymnalCallbacks.afterRender(function(){this.aspectRatio&&this.aspectRatio!==e?(e=this.aspectRatio,a(),window.addEventListener("resize",Hymnal.util.throttle(a,100))):this.fixedHeight&&this.fixedHeight&&(t=this.fixedHeight,a(),window.addEventListener("resize",Hymnal.util.throttle(a,100)))})},o=function(n){return t?t:n/e},a=function(){var e=document.body.clientWidth,t=o(e);e>0&&t>0&&window.context.requestResize(e,t)};HymnalCallbacks.beforeRender(n)}();var setupEventsAPI=function(){if(Hymnal.settings.inPreview)return!0;var e,t=window.document.body,n="Ly8gVGhpcyBmaWxlIGlzIGluc2VydGVkIGlubGluZSBhbmQgdGhlbiAudG9TdHJpbmcoKSBpcyBjYWxsZWQgb24gaXQKLy8gYW5kIG9ubHkgaWYgd2UgbmVlZCB0byBsaXN0ZW4gdG8gdGhpbmdzIG91dHNpZGUgb2YgYW4gaWZyYW1lCi8vIGRvIHdlIGV2YWwgYW5kIGluc3RhbnRpYXRlIHRoZSBjb2RlCgooZnVuY3Rpb24oKSB7CiAgcmV0dXJuIHsKICAgIGN1cnJlbnREYXRhOiB7fSwKICAgIGZyYW1lVGFyZ2V0OiB1bmRlZmluZWQsCiAgICBjaGlsZENvbm5lY3RlZDogZmFsc2UsCiAgICBzZWN1cmVUb2tlbjogbnVsbCwKICAgIHRocm90dGxlSW50OiAxMDAsCiAgICAvLyBCeSB0b2dnbGluZyBib29sZWFucyB3ZSBjYW4gYXNzdXJlIHRoYXQgb3VyIGV2ZW50IGhhbmRsZXJzCiAgICAvLyBkb24ndCBibG9jayB0aGUgbWFpbiBVSSB0aHJlYWQgaW4gdGhlIGJyb3dzZXIKICAgIC8vIHRodXMgbWFraW5nIG91ciBhZCB2aWV3ZXJzIGEgbGl0dGxlIGJpdCBoYXBwaWVyCiAgICBoYXNTY3JvbGxlZDogZmFsc2UsCiAgICBoYXNSZXNpemVkOiBmYWxzZSwKICAgIGNhbmNlbFdhdGNoOiBmYWxzZSwgLy8gSWYgdGhpcyBpcyB0cnVlIHRoZSBzZXRUaW1lb3V0IHdpbGwgc3RvcAogICAgZXY6IHsKICAgICAgc2Nyb2xsOiBmYWxzZSwKICAgICAgcmVzaXplOiBmYWxzZQogICAgfSwKCiAgICBpbml0OiBmdW5jdGlvbihvcHRzKSB7CgogICAgICB0aGlzLnNlY3VyZVRva2VuID0gb3B0cy50b2tlbjsKCiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgdGhpcy5tZXNzYWdlSGFuZGxlci5iaW5kKHRoaXMpKTsKCiAgICAgIC8vIGlmIHRoZXJlJ3Mgbm8gaWZyYW1lIHRoZSBwYXJlbnQgY2FuIGluaXRpYXRlIHRoZSBtZXNzYWdlcwogICAgICAvLyBvdGhlcndpc2Ugd2Ugd2FpdCBmb3IgYSBtZXNzYWdlIGZyb20gdGhlIGZyYW1lIHRvIGdldCB0aGUgdGFyZ2V0CiAgICAgIGlmICghb3B0cy5pbklmcmFtZSkgewogICAgICAgIHRoaXMuZnJhbWVUYXJnZXQgPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luOwogICAgICAgIHRoaXMuY29udGFpbmVyRWxlbWVudCA9ICdbZGF0YS1oeW1uYWwtaWQ9IicgKyBvcHRzLnRva2VuICsgJyJdJzsKICAgICAgICB0aGlzLmNyZWF0ZVF1ZXVlKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jb250YWluZXJFbGVtZW50ID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCgogICAgYWREaW1lbnNpb25zOiBmdW5jdGlvbigpIHsKICAgICAgdmFyIGVsZW1lbnRUb01lYXN1cmU7CgogICAgICBpZiAodGhpcy5jb250YWluZXJFbGVtZW50KSB7CiAgICAgICAgZWxlbWVudFRvTWVhc3VyZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5jb250YWluZXJFbGVtZW50KVswXTsKICAgICAgfSBlbHNlIHsKICAgICAgICBlbGVtZW50VG9NZWFzdXJlID0gdGhpcy5mcmFtZVRhcmdldC5mcmFtZUVsZW1lbnQKICAgICAgfQoKICAgICAgLy8gTGV0cyBtYWtlIHN1cmUgd2UgY2FuIHJlYWxseSBjYWxsIHRoaXMgaGVyZQogICAgICBpZihlbGVtZW50VG9NZWFzdXJlICYmIHR5cGVvZiBlbGVtZW50VG9NZWFzdXJlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCA9PT0gJ2Z1bmN0aW9uJyl7CiAgICAgICAgcmV0dXJuIGVsZW1lbnRUb01lYXN1cmUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHsgaGVpZ2h0OiAwLCB3aWR0aDogMCwgdG9wOjAgfTsKICAgICAgfQogICAgfSwKCiAgICBjaGVja0ZvckNoYW5nZTogZnVuY3Rpb24oKSB7CiAgICAgIGlmICghdGhpcy52aXNPYnNlcnZlcikgewogICAgICAgIHRoaXMudmlzT2JzZXJ2ZXIgPSB0aGlzLm9ic2VydmVQYWdlVmlzaWJpbGl0eSgpOwogICAgICB9CgogICAgICB0aGlzLndhdGNoZXIgPSBmYWxzZTsKICAgICAgdmFyIGhhbmRsZXIgPSAnJzsKICAgICAgZm9yICh2YXIgZXZUeXBlIGluIHRoaXMuZXYpIHsKICAgICAgICBpZiAodGhpcy5ldi5oYXNPd25Qcm9wZXJ0eShldlR5cGUpICYmIHRoaXMuZXZbZXZUeXBlXSkgewogICAgICAgICAgLy8gSGFuZGxlciBmdW5jdGlvbnMgYXJlICdvbnNjcm9sbCcgb3IgJ29ucmVzaXplJwogICAgICAgICAgaGFuZGxlciA9ICdvbicgKyBldlR5cGU7CiAgICAgICAgICB0aGlzW2hhbmRsZXJdKCk7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAodGhpcy5jYW5jZWxXYXRjaCkgewogICAgICAgIGNsZWFyVGltZW91dCh0aGlzLndhdGNoZXIpOwogICAgICAgIHRoaXMud2F0Y2hlciA9IHVuZGVmaW5lZDsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnRocm90dGxlZFdhdGNoZXIoKTsKICAgICAgfQogICAgfSwKCiAgICBjcmVhdGVRdWV1ZTogZnVuY3Rpb24oKSB7CiAgICAgIHRoaXMuZGVmYXVsdFBhcmFtcygpOwoKICAgICAgZm9yICh2YXIgZXZudCBpbiB0aGlzLmV2KSB7CiAgICAgICAgaWYgKHRoaXMuZXYuaGFzT3duUHJvcGVydHkoZXZudCkpIHsKICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKGV2bnQsIHRoaXMuZXZlbnRIYW5kbGVyLmJpbmQodGhpcykpOwogICAgICAgIH0KICAgICAgfQogICAgICB0aGlzLnRocm90dGxlZFdhdGNoZXIoKTsKICAgICAgdGhpcy5kaXNwYXRjaENoYW5nZSgpOwogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0sCgogICAgZGVmYXVsdFBhcmFtczogZnVuY3Rpb24oKSB7CiAgICAgIHZhciBkID0gdGhpcy5jdXJyZW50RGF0YTsKCiAgICAgIC8vIG5lZWQgdG8gY29uZmlybSB0aGlzIGRvZXNuJ3QgY2F1c2UgaXNzdWVzIG9uIGlPUwogICAgICBkLndpbmRvd1dpZHRoID0gd2luZG93LnNjcmVlbi5hdmFpbFdpZHRoOwogICAgICBkLndpbmRvd0hlaWdodCA9IHdpbmRvdy5zY3JlZW4uYXZhaWxIZWlnaHQ7CiAgICAgIGQuZG9jdW1lbnRIZWlnaHQgPSBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodDsKICAgICAgZC5zY3JvbGxPZmZzZXQgPSB3aW5kb3cuc2Nyb2xsWTsKCiAgICAgIHZhciBmcmFtZURpbXMgID0gdGhpcy5hZERpbWVuc2lvbnMoKTsKICAgICAgZC5mcmFtZUhlaWdodCA9IGZyYW1lRGltcy5oZWlnaHQ7CiAgICAgIGQuZnJhbWVXaWR0aCA9IGZyYW1lRGltcy53aWR0aDsKCiAgICAgIHZhciBib2R5RGltcyA9IGRvY3VtZW50LmJvZHkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgIGQuZnJhbWVUb3BQb3MgPSBNYXRoLmFicyhib2R5RGltcy50b3AgLSBmcmFtZURpbXMudG9wKTsKCiAgICAgIHRoaXMuZGlzcGF0Y2hDaGFuZ2UoKTsKICAgICAgcmV0dXJuIGQ7CiAgICB9LAoKICAgIGRpc3BhdGNoQ2hhbmdlOiBmdW5jdGlvbihldlR5cGUpIHsKICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICB0eXBlOiBldlR5cGUgfHwgJycsCiAgICAgICAgcGFyYW1zOiB0aGlzLmN1cnJlbnREYXRhLAogICAgICAgIHRva2VuOiB0aGlzLnNlY3VyZVRva2VuLAogICAgICAgIHNlbmRlcjogInBhcmVudCIKICAgICAgfTsKCiAgICAgIGlmICh0aGlzLmNvbnRhaW5lckVsZW1lbnQpIHsKICAgICAgICB3aW5kb3cucG9zdE1lc3NhZ2UocGFyYW1zLCB3aW5kb3cubG9jYXRpb24ub3JpZ2luKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmZyYW1lVGFyZ2V0LnBvc3RNZXNzYWdlKHBhcmFtcywgdGhpcy5mcmFtZU9yaWdpbik7CiAgICAgIH0KICAgIH0sCgogICAgZXZlbnRIYW5kbGVyOiBmdW5jdGlvbihldikgewogICAgICB0aGlzLmV2W2V2LnR5cGVdID0gdHJ1ZTsKICAgIH0sCgogICAgb2JzZXJ2ZVBhZ2VWaXNpYmlsaXR5OiBmdW5jdGlvbigpIHsKICAgICAgaWYgKHRoaXMudmlzT2JzZXJ2ZXIpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICAgICAgdmFyIHByZWZpeGVzID0gWydoJywgJ21vekgnLCAnbXNIJywgJ3dlYmtpdEgnXTsKICAgICAgdmFyIGhpZGRlbiwgdmlzaWJpbGl0eUNoYW5nZQogICAgICBwcmVmaXhlcy5mb3JFYWNoKGZ1bmN0aW9uKHByZWZpeCkgewogICAgICAgIGlmICh0eXBlb2YgZG9jdW1lbnRbcHJlZml4ICsgJ2lkZGVuJ10gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgaGlkZGVuID0gcHJlZml4ICsgJ2lkZGVuJzsKICAgICAgICAgIGlmIChwcmVmaXggPT09ICdoJykgewogICAgICAgICAgICB2aXNpYmlsaXR5Q2hhbmdlID0gJ3Zpc2liaWxpdHljaGFuZ2UnOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdmlzaWJpbGl0eUNoYW5nZSA9IHByZWZpeC5zbGljZSgwLCAtMSkgKyAndmlzaWJpbGl0eWNoYW5nZSc7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgICAgaWYgKHR5cGVvZiBkb2N1bWVudFtoaWRkZW5dID09PSAndW5kZWZpbmVkJykgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih2aXNpYmlsaXR5Q2hhbmdlLCBmdW5jdGlvbigpIHsKICAgICAgICB0aGlzLnZpc09ic2VydmVyID0gdHJ1ZTsKICAgICAgICBpZiAoZG9jdW1lbnRbaGlkZGVuXSkgewogICAgICAgICAgdGhpcy5jYW5jZWxXYXRjaCA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuY2FuY2VsV2F0Y2ggPSBmYWxzZTsKICAgICAgICAgIHRoaXMuY2hlY2tGb3JDaGFuZ2UoKTsKICAgICAgICB9CiAgICAgIH0uYmluZCh0aGlzKSkKICAgICAgcmV0dXJuIHRydWU7CiAgICB9LAoKICAgIHRocm90dGxlZFdhdGNoZXI6IGZ1bmN0aW9uKCkgewogICAgICBpZiAoIXRoaXMud2F0Y2hlcikgewogICAgICAgIHRoaXMud2F0Y2hlciA9IHNldFRpbWVvdXQodGhpcy5jaGVja0ZvckNoYW5nZS5iaW5kKHRoaXMpLCB0aGlzLnRocm90dGxlSW50KTsKICAgICAgfQogICAgfSwKCiAgICBtZXNzYWdlSGFuZGxlcjogZnVuY3Rpb24oZXYpIHsKICAgICAgdmFyIGhhc1Rva2VuID0gZXYuZGF0YS50b2tlbiAmJiBldi5kYXRhLnRva2VuID09PSB0aGlzLnNlY3VyZVRva2VuOwogICAgICB2YXIgaXNDaGlsZCA9IGV2LmRhdGEuc2VuZGVyICYmIGV2LmRhdGEuc2VuZGVyID09PSAiY2hpbGQiOwoKICAgICAgaWYgKCFoYXNUb2tlbiB8fCAhaXNDaGlsZCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgdGhpcy5mcmFtZVRhcmdldCA9IGV2LnNvdXJjZTsKICAgICAgLy8gVGhpcyB3aWxsIGFscmVhZHkgZXhpc3QgaWYgdGhlIGFkIGlzIG5vdCBpbiBhbiBpZnJhbWUKICAgICAgaWYgKCF0aGlzLmZyYW1lT3JpZ2luKSB7CiAgICAgICAgdGhpcy5mcmFtZU9yaWdpbiA9IGV2Lm9yaWdpbjsKICAgICAgfQoKICAgICAgaWYgKGV2LmRhdGEuaW50ZXJ2YWwpIHsKICAgICAgICB0aGlzLnRocm90dGxlSW50ID0gZXYuZGF0YS5pbnRlcnZhbDsKICAgICAgfQogICAgICBpZiAoIXRoaXMuY2hpbGRDb25uZWN0ZWQpIHsKICAgICAgICB0aGlzLmNoaWxkQ29ubmVjdGVkID0gdHJ1ZTsKICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVRdWV1ZSgpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB0aGlzLmRpc3BhdGNoQ2hhbmdlKCJyZWNlaXB0Iik7OwogICAgICB9CiAgICB9LAoKICAgIG9uc2Nyb2xsOiBmdW5jdGlvbigpIHsKICAgICAgdGhpcy5ldi5zY3JvbGwgPSBmYWxzZTsKICAgICAgdmFyIGQgPSB0aGlzLmN1cnJlbnREYXRhOwogICAgICBkLmRvY3VtZW50SGVpZ2h0ID0gZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQ7CiAgICAgIGQuc2Nyb2xsT2Zmc2V0ID0gd2luZG93LnNjcm9sbFk7CiAgICAgIHZhciBmcmFtZURpbXMgID0gdGhpcy5hZERpbWVuc2lvbnMoKTsKICAgICAgdmFyIGJvZHlEaW1zID0gZG9jdW1lbnQuYm9keS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgZC5mcmFtZVRvcFBvcyA9IE1hdGguYWJzKGJvZHlEaW1zLnRvcCAtIGZyYW1lRGltcy50b3ApOwogICAgICB0aGlzLmRpc3BhdGNoQ2hhbmdlKCdzY3JvbGwnKTsKICAgIH0sCgogICAgb25yZXNpemU6IGZ1bmN0aW9uKCkgewogICAgICB0aGlzLmV2LnJlc2l6ZSA9IGZhbHNlOwogICAgICB2YXIgZCA9IHRoaXMuY3VycmVudERhdGE7CiAgICAgIGQud2luZG93V2lkdGggPSB3aW5kb3cuc2NyZWVuLmF2YWlsV2lkdGg7CiAgICAgIGQud2luZG93SGVpZ2h0ID0gd2luZG93LnNjcmVlbi5hdmFpbEhlaWdodDsKICAgICAgdmFyIGZyYW1lRGltcyAgPSB0aGlzLmFkRGltZW5zaW9ucygpOwogICAgICBkLmZyYW1lSGVpZ2h0ID0gZnJhbWVEaW1zLmhlaWdodDsKICAgICAgZC5mcmFtZVdpZHRoID0gZnJhbWVEaW1zLndpZHRoOwogICAgICB2YXIgYm9keURpbXMgPSBkb2N1bWVudC5ib2R5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICBkLmZyYW1lVG9wUG9zID0gTWF0aC5hYnMoYm9keURpbXMudG9wIC0gZnJhbWVEaW1zLnRvcCk7CiAgICAgIHRoaXMuZGlzcGF0Y2hDaGFuZ2UoJ3Jlc2l6ZScpOwogICAgfQogIH0KfSkoKQo=";isInDFPIframe()&&renderInIframe?(t=window.frameElement.parentElement,e=window.frameElement.ownerDocument.createElement("script")):e=window.document.createElement("script"),e.className="hymnal__iframe-events";var i=".init({inIframe: false, token: 9577});";e.innerHTML=atob(n)+i,t.appendChild(e)},executeHymnal=function(){!function($){var HymnalLib={version:6,info:function(){window.console&&window.console.log&&HymnalLib.ads.forEach(function(e){console.log(e.design_template+", id: "+e.id,e.getElement().get(0))})}};if("undefined"==typeof window.Hymnal||window.Hymnal.settings.inPreview){var settings={};window.Hymnal&&(settings=Hymnal.settings||{}),window.Hymnal=HymnalLib,window.Hymnal=HymnalLib,window.Hymnal.settings=settings}!function(e){e.defaultSettings=e.defaultSettings||{},e.settings?e.settings=$.extend(_.clone(e.defaultSettings),e.settings):e.settings=e.defaultSettings,e.settings=e.settings||{},window.console=window.console||{log:function(){}},e.loggers=e.loggers||{push:function(){}},e.ConsoleLogger=e.ConsoleLogger||function(){},e.ads=e.ads||[],!e.settings.userCanViewMetrics&&$("#network-bar a[title='Network Admin Dashboard']").length>0&&(e.settings.userCanViewMetrics=!0),e.ChorusEvents=e.ChorusEvents||{AdResponseWithHTML:"Vox.Ad.ResponseWithHTML",AdRequest:"Hymnal.requestAd"}}(HymnalLib),function(e){e.util={},e.util.UserAgentProfiler=function(){var e="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch||navigator.msMaxTouchPoints>0,t=window.innerWidth,n=window.navigator.userAgent,i=e&&728>t||window.location.href.indexOf("mobile=true")>0,o=e&&t>=728,a=!i&&!o,s=i?"mobile":o?"tablet":"desktop",l=!1;if(n.indexOf("Android")>0)for(var r=n.split(";"),g=0,d=r.length;d>g;g++)if(r[g].indexOf("Android")>0){var c=r[g].split(" ");if(parseInt(c[c.length-1].split(".")[0])<3){l=!0;break}}return{screenWidth:function(){return t},profile:function(){return s},isTablet:function(){return o},isMobile:function(){return i},isDesktop:function(){return a},isAndroidLt3:function(){return l}}}(),e.util.inViewport=function(e){var t,n;return e?(e.jquery&&(e=e.get(0)),e&&1===e.nodeType?(n=document.documentElement,t=e.getBoundingClientRect(),!!t&&t.bottom>0&&t.right>0&&t.top<n.clientHeight&&t.left<n.clientWidth):!1):!1},e.util.throttle=function(e,t,n){var i=null,o=!1,a=function(){return i?void(o=!0):(n=n||this,e.call(n),void(i=setTimeout(function(){var e=o;i=null,o=!1,e&&a.call(n)},t)))};return a}}(HymnalLib),function(e){e.Ad=function(){function t(t){t=t||{},this.type=t.type,this.id=t.id,this.design_template=t.design_template||"",this.brand=t.brand,this.campaignId=t.campaignId,this.slug=t.slug,this.fields=t.fields||{},this.adUnitID=0,this.siteID="",this.network="",this.entryType="",this.adServerVariables={},this.libraryVersion=e.version,this.enable_log=!1,this.data=this.data||{},this._elementToReplace=t.elementToReplace&&$(t.elementToReplace),this._designSetupFunction=t.designSetupFunction,this._element=t.element,this.manual_view_impression=!1,this.automatic_click_through=!0,this.content={all_html:t.html,all_css:t.css},this.clickThroughUrl=t.clickThroughUrl,this.settings={testMode:t.testMode===!0,window:t.testWindow||window},this._lifecycleEventListeners=[],this._engagementEventListeners=[],this._metricsInstrumentations=[],this._loggers=[],window.Hymnal&&window.Hymnal.ads&&window.Hymnal.ads.push(this)}return t.cssClasses={viewed:"hymnal-ad-viewed"},t.prototype.addEngagementEventListener=function(e){this._engagementEventListeners.push(e)},t.prototype.addLifecycleEventListener=function(e){this._lifecycleEventListeners.push(e)},t.prototype.addMetricsInstrumentation=function(e){this.log("Adding metrics instrumentation: "+(e.getName()||"(no name)")),this._metricsInstrumentations.push(e),e.setAd(this)},t.prototype.addLogger=function(e){this.enable_log=!0,this.log("Call to deprecated function. Use 'ad.enable_log = true' to log to console.log (if it exists)")},t.prototype.requestMoatJavascript=function(e,t){this.log("Moat support is removed")},window.console=window.console||{log:function(){}},t.prototype.log=function(e){for(var t="",n=1;n<arguments.length;n++)t+=" "+argument[n];this.enable_log&&window.console.log("HYMNAL | "+this.getSlug()+" | ",e,t)},t.prototype.render=function(){if(HymnalCallbacks.performBeforeRender(this),this._triggerLifecycleEvent("initializing"),this._elementToReplace||(this._elementToReplace=this.findElement()),this._elementToReplace){var e=_.isString(this._elementToReplace)?$(this._elementToReplace).first():this._elementToReplace;this.getConfigurationFromDataAttributes(e),this.selectVariant(this.variantID),this.addClassesToHtmlElement(),this.replaceAdServerVariablesInDesignHtml();var t=$(this.content.html);if(t.attr("data-hymnal-id",this.id),e.replaceWith(t),this._element=t,this.content.css){this._head=this._head||$("head");var n=$('<style type="text/css" data-for-hymnal-ad="'+this.getSlug()+'">'+this.content.css+"</style>");this._head.append(n)}if(this._designSetupFunction&&this._designSetupFunction(this.variantID),this.automatic_click_through){var i=this;$(this._element).find("#athena-click, .athena-click, #prelude-click, .prelude-click").click(function(e){i.clickThrough(),e.stopPropagation(),e.preventDefault()})}}this._triggerLifecycleEvent("render"),this._configureStandardEngagementDetection(),HymnalCallbacks.performAfterRender(this)},t.prototype.getConfigurationFromDataAttributes=function(e){var t=e.attr("data-hymnal-ad-config-click-through-url");t&&""!==$.trim(t)?(this.clickThroughUrl&&this.log("Overriding previous click-through URL: "+this.clickThroughUrl+"..."),this.clickThroughUrl=t,this.log("Using click-through URL from data-hymnal-ad-config-click-through-url: "+t)):this.log("No click-through URL found on data-hymnal-ad-config-click-through-url"),this.adUnitID=e.attr("data-hymnal-ad-unit-id"),this.siteID=e.attr("data-hymnal-site-id"),this.variantID=e.attr("data-hymnal-design-variant-id"),("undefined"==typeof this.variantID||"undefined"==typeof this.fields[this.variantID])&&(this.variantID=Object.keys(this.fields)[0]),this.network=e.attr("data-hymnal-network"),this.entryType=e.attr("data-hymnal-entry-type"),(this.getTestMode()||""===this.network)&&(this.network=this.guessNetworkFromURL()),this.adServerVariables.click_through_url=this.clickThroughUrl,this.adServerVariables.ad_unit_id=this.adUnitID,this.adServerVariables.site_id=this.siteID,this.adServerVariables.network=this.network,this.adServerVariables.entry_type=this.entryType},t.prototype.selectVariant=function(e){var t=(this.content.all_html[e]||"").trim(),n=(this.content.all_css[e]||"").trim();this.content.html=t.replace(/\\"/g,'"').replace(/\\'/g,"'").replace(/\\\//g,"/"),this.content.css=n.replace(/\\"/g,'"').replace(/\\'/g,"'").replace(/\\\//g,"/"),this.fields=this.fields[e]},t.prototype.guessNetworkFromURL=function(){for(var e=["verge","polygon","eater","racked","vox","curbed"],t=0;t<e.length;t++)if(location.host.indexOf(e[t])>-1)return e[t];return"sbn"},t.prototype.replaceAdServerVariablesInDesignHtml=function(){for(var e in this.adServerVariables){var t=new RegExp("\\$AD_SERVER\\["+e+"\\]","g");this.content.html=this.content.html.replace(t,this.adServerVariables[e])}},t.prototype.addClassesToHtmlElement=function(){for(var e="",t=["harmony-","hymnal-"],n=[this.network,this.entryType],i=0;i<n.length;i++)if("undefined"!=typeof n[i]&&n[i].length>0)for(var o=0;o<t.length;o++)e+=t[o]+n[i]+" ";this.log("adding classes to html "+e),$("html").addClass(e)},t.prototype.popUp=function(e){var t=this.getElement();if(t){var n=t.find(".hymnal-popup-message-container");0===n.length&&(n=$("<div>").addClass("hymnal-popup-message-container").css({position:"absolute",top:"0",left:"0","z-index":"1000"}).appendTo(t));var i=$("<span>").addClass("hymnal-popup-message").css({display:"none","border-radius":"5px","background-color":"white",color:"#333","float":"left",margin:"8px","margin-bottom":"0px",padding:"3px",clear:"both","user-select":"none",opacity:"0.75"}).text(e);n.append(i),i.fadeIn(),_.delay(function(){i.slideUp(500,function(){i.remove()})},4e3),_.delay(function(){0===n.find(".hymnal-popup-message").length&&n.remove()},5e3)}else window.console&&console.log&&console.log("Ad["+this.getSlug()+"] - "+e+" (pop up message not available)")},t.prototype.add_tracker_image=function(e){var t="&";-1==e.indexOf("?")&&(t="?"),e+=t+"yoloian="+Math.random().toString(36).substring(5),"function"==typeof encodeURI&&(e=encodeURI(e));var n=document.createElement("img");n.setAttribute("src",e),n.setAttribute("height","1"),n.setAttribute("width","1"),n.setAttribute("style","position:absolute; top:0; left:0; visibility:hidden;");var i=this.getElement().get(0);("undefined"==typeof i||"undefined"==typeof i.firstChild)&&(i=document.body),i.insertBefore(n,i.firstChild)},t.prototype.findElement=function(){var e=$('[data-hymnal-ad-id="'+this.id+'"]');if(0===e.length&&"string"==typeof this.type){var t=this.type.charAt(0).toUpperCase()+this.type.slice(1),n=this.design_template.charAt(0).toUpperCase()+this.design_template.toLowerCase().slice(1),i='[data-cb-ad-id="'+t+'"],[data-cb-ad-id="'+n+'"]';-1!==this.type.toLowerCase().indexOf("athena")&&(i+=',[data-cb-ad-id="Mid body"]');var o=$(i).first();o.length>0&&(e=$("<div>").attr("data-hymnal-ad-id",this.id),o.append(e))}return e=e.length>0?e.first():null},t.prototype.getElement=function(){return this._element},t.prototype.getSlug=function(){if(this.slug)return this.slug;var e=[];return this.brand&&e.push((this.brand||"").toLowerCase().replace(" ","_")),this.id&&e.push(this.id),this.slug=e.join("_"),this.slug},t.prototype.getTestMode=function(){var e=this.settings.window;return e.Hymnal&&e.Hymnal.settings&&e.Hymnal.settings.testMode===!0?!0:this.settings.testMode},t.prototype.setTestMode=function(e){this.settings.testMode=e},t.prototype.engage=function(e){this.log("Engagement: "+e),this.getTestMode()?this.popUp("Engagement: "+e):_.each(this._engagementEventListeners,function(t){_.isFunction(t)&&t(e)})},t.prototype.clickThrough=function(){this.engage("click-through"),this.clickThroughUrl&&(this.getTestMode()?this.popUp("Open URL: "+this.clickThroughUrl):(this.log("Opening URL in new window: "+this.clickThroughUrl),this.settings.window.open(this.clickThroughUrl,"_blank")))},t.prototype._triggerLifecycleEvent=function(e){this.log("Lifecycle: "+e);var t=this;_.each(this._lifecycleEventListeners,function(n){n(e,t)})},t.prototype._configureStandardEngagementDetection=function(){var n=this.getElement(),i="scroll."+this.getSlug(),o=this,a=_.once(function(){o.engage("view"),n.addClass(t.cssClasses.viewed)});o.manual_view_impression&&(o.log("Suppressing automatic view setup"),a=function(){}),n&&n.length>0&&(e.util.inViewport(n)?a():$(window).on(i,_.throttle(function(){e.util.inViewport(n)&&(a(),$(window).off(i))},100)))},t}()}(HymnalLib),function(e){e.MetricsInstrumentation||!function(){e.MetricsInstrumentation=function(){function e(e){e=e||{},this._name=e.name,this._adProperties=e.adProperties,this._setupFunction=e.setupFunction,this._engagementEventListener=e.engagementEventListener,this._ad=null}return e.prototype.getName=function(){return this._name},e.prototype.setAd=function(e){var t=this;this._ad=e,_.isObject(this._adProperties)&&_.each(this._adProperties,function(e,n){t._ad.log(t._name+' adding property to Ad; key: "'+n+'", value: "'+e+'"'),t._ad[n]=e}),this._setupFunction&&this._ad.addLifecycleEventListener(function(e,n){"render"===e&&t._setupFunction(n)}),this._engagementEventListener&&this._ad.addEngagementEventListener(this._engagementEventListener)},e}()}()}(HymnalLib),function(e){e.DefaultEvents||!function(){e.DefaultEvents=function(){function e(e){return e=e||{},this._name=e.name,t}var t=function(e,t){$(document).triggerHandler("hymnal:"+e,{ad:t})};return e}()}()}(HymnalLib),function(e){return"object"!=typeof e?void console.err("Hymnal must be the Hymnal library"):void(e.Video=function(){"use strict";var e=function(e){var t=[],n=!1,i=!1,o=!1,a=!1,s=!1,l=1,r="https://player.ooyala.com/v3/ec27dda413774d868890eab5a6625ab1",g=null,d=null,c=null,u="",h=e;this.play=function(){o=!0,f(),this.onLoad(function(){d.play()}.bind(this))},this.pause=function(){d.pause()},this.isPlaying=function(){return a},this.onLoad=function(e){m(e)},this.onPause=function(e){t.push(["pause",e])},this.onPlay=function(e){t.push(["play",e])},this.onComplete=function(e){t.push(["played",e])},this.onDone=this.onComplete,this.setVideoId=function(e){g=e},this.setNamespace=function(e){c=e},this.setVolume=function(e){I(function(){d.setVolume(e)}.bind(this))},this.mute=function(){I(function(){l=d.getVolume(),d.setVolume(0)}.bind(this))},this.unMute=function(){I(function(){d.setVolume(l)}.bind(this))},this.unmute=this.unMute,this.preload=function(){C(),f()},this.replay=function(){I(function(){d.seek(0),this.play()}.bind(this))};var m=function(e){p()?e.call(this):t.push(["load",e])},I=function(e){s?e.call(this):t.push(["playbackReady",e])},p=function(){return i||"object"==typeof window[c]},C=function(){if(!n&&g){n=!0;var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.setAttribute("data-for","hymnal-ad"),e.setAttribute("data-for-ooyala","video-id"+g),document.head.appendChild(e),e.addEventListener("load",function(){i=!0,A("load")}.bind(this)),e.src=r+"?namespace="+c}},f=function(){d||(C(),m(function(){d=window[c].Player.create(u,g,{autoplay:o,showInAdControlBar:!0,showControlBar:!0,showAdMarquee:!1,onCreate:function(e){e.mb.subscribe("played","",function(e){a=!1,A("played")}),e.mb.subscribe("playing","",function(e){a=!0,A("play")}),e.mb.subscribe("paused","",function(e){a=!1,A("pause")}),e.mb.subscribe("playbackReady","",function(e){s=!0,A("playbackReady")})}.bind(this)})}.bind(this)))},A=function(e,n){n=n||this;for(var i=t.filter(function(t){return t[0]===e&&"function"==typeof t[1]}).map(function(e){return e[1]}),o=0;o<i.length;o++)i[o].call(n)},y=function(){c="hialisha"+Math.random().toString(36).substring(5)},b=function(){if(h){var e=h.getElementsByClassName(".video-player")[0];e=e||document.createElement("DIV"),e.id=u="_"+c,h.appendChild(e)}else console.err("playerWrapperElement must be a HTML element",h)};y(),b()};return e}())}(HymnalLib),function(e){function t(e){return f.connectionEstablished?e():f.subs.connectionEstablished?f.subs.connectionEstablished.push(e):f.subs.connectionEstablished=[e],p()}function n(){return f.data.current}function i(e,t,n){return f.connectionEstablished?(I(e)&&(n?f.subs[e].push(h(n,t)):f.subs[e].push(t)),this):(p(i,[e,t,n]),this)}function o(e){return"function"==typeof e?i("scrollOffset",e):!1}function a(e){return f.connectionEstablished?I(e)?f.data.current[e]:!1:(p(a,[e]),this)}function s(){var e=3===arguments.length?Array.isArray(arguments[2]):!0;return"string"==typeof arguments[0]&&"function"==typeof arguments[1]&&e?i.apply(this,arguments):(console.error(".onChange called with wrong data types. Acceptable arguments are (property, callback, [array])"),this)}function l(){for(var e=["windowWidth","windowHeight","documentHeight","scrollOffset","frameHeight","frameWidth","frameTopPos"],t=f.data.current={},n=0;n<e.length;n++)t[e[n]]=-1}function r(e){return e.token?(f.token=e.token,void window.addEventListener("message",function(e){var t=e.data.token&&e.data.token===f.token,n=e.data.sender&&"parent"===e.data.sender;if(!t||!n)return!1;var i=f.data;i.current=e.data.params,i.previous||(i.previous=i.current,c()),m()})):!1}function g(e){f.subs[e]&&f.subs[e].length&&f.subs[e].forEach(function(t){t(f.data.current[e])})}function d(){if(f.subs.connectionEstablished.length>0){var e=f.subs.connectionEstablished;do e.shift()();while(e.length)}}function c(){for(var e in f.data.current)f.data.current.hasOwnProperty(e)&&(f.subs[e]=[]);f.connectionEstablished=!0}function u(){if(f.connectionEstablished)return!0;var e={sender:"child",token:f.token};return parent.postMessage(e,window.location.origin),Date.now()<f.timeout?setTimeout(u,50):void 0}function h(e,t){function n(e){e>=o&&i>=e&&t.call(this,e)}var i=Math.max(e[0],e[1]),o=Math.min(e[0],e[1]);return n.bind(this)}function m(){var e=f.data;for(var t in e.current)e.current.hasOwnProperty(t)&&e.previous.hasOwnProperty(t)&&e.current[t]!==e.previous[t]&&g(t)}function I(e){if(!f.subs[e]){var t=Object.keys(f.subs).join(", "),n="Sorry, "+e+" is unrecognized. You can subscribe to changes on the following values: "+t;return console.error(n),!1}return!0}function p(e,t){function n(){if(i=!1,Date.now()>=f.timeout)return console.error("A connection could not be established with the parent window."),!1;if(f.connectionEstablished){if(d(),A.length>0)do{var e=A.shift();e&&e[0].apply(this,e[1])}while(A.length>0);return!0}return setTimeout(n,50)}var i=!0;!f.connectionEstablished&&e&&A.push([e,t]),!f.connectionEstablished&&i&&(f.clearQueue=n())}function C(e){l(),r(e),e.inIframe&&u()}if(e&&!e.util)return void console.error("Hymnal must be the Hymnal library");var f={token:null,connectionEstablished:!1,events:["resize","scroll"],subs:{},data:{},timeout:Date.now()+3e3},A=[];e.IframeEventLib=function(e){return C(e),{data:n,get:a,onChange:s,onScroll:o,whenLive:t}}}(HymnalLib),function(Hymnal){renderInIframe?setupEventsAPI():HymnalCallbacks.afterRender(setupEventsAPI),Hymnal.Events=Hymnal.IframeEventLib({inIframe:!1,token:9577}),$(function(){var ad=new Hymnal.Ad({id:"9577",slug:"macy_s_macy_s_hilfiger_athena_9577",type:"Athena",campaign:"macy_s_hilfiger_701",campaign_name:"Hilfiger",brand:"Macyss",design_template:"Athena (Regular)",html:{"8dad7683aaf53d5a5395397a315182e9":'<div id=\\"athena-hymnal\\"><\\/div>'},css:{"8dad7683aaf53d5a5395397a315182e9":"#athena-hymnal{background:transparent url(https://hymnal-prod.vox-cdn.com/uploads/asset/file/14596/macys_hilfiger-athena-160301ab-r1v3.jpg) no-repeat 50% 50%;background-size:cover;width:100%;height:0;padding-top:55.66%;position:relative;overflow:hidden;margin:0 auto;z-index:10}#athena-hymnal:before{content:\\'ADVERTISEMENT\\';font-size:10px;color:#f8f8f8;position:absolute;font-family:Helvetica, Arial, sans-serif;z-index:3;top:5px;right:7px}#athena-hymnal:hover{cursor:pointer}@media only screen and (max-width: 728px) and (orientation: portrait), only screen and (max-device-width: 414px) and (orientation: portrait){#athena-hymnal{display:none;display:block;background:transparent url(\\\"https://hymnal-prod.vox-cdn.com/uploads/asset/file/14597/macys_hilfiger-mobileAthena-160301ab-r1v3.jpg\\\") no-repeat 50% 50%;background-size:cover;padding-bottom:94.85%}}"},fields:{"8dad7683aaf53d5a5395397a315182e9":{lrg_image:"https://hymnal-prod.vox-cdn.com/uploads/asset/file/14596/macys_hilfiger-athena-160301ab-r1v3.jpg",sml_image:"https://hymnal-prod.vox-cdn.com/uploads/asset/file/14597/macys_hilfiger-mobileAthena-160301ab-r1v3.jpg",
ad_color:"#f8f8f8",ad_label_location:"top right",reveal:"false"}},images:{lrg_image:[{original:"https://hymnal-prod.vox-cdn.com/thumbor/9oQIM64GIvJ4rgKhZobb7mf_j-0=/hymnal-prod.vox-cdn.com/uploads/asset/file/14596/macys_hilfiger-athena-160301ab-r1v3.jpg",focal_point:"",crops:[]}],med_image:[],sml_image:[{original:"https://hymnal-prod.vox-cdn.com/thumbor/yLW4NQlPtwjVPIH-j1i8q0wpiB0=/hymnal-prod.vox-cdn.com/uploads/asset/file/14597/macys_hilfiger-mobileAthena-160301ab-r1v3.jpg",focal_point:"",crops:[]}],overlay_image:[]},designSetupFunction:function(variant){var all_variants={"8dad7683aaf53d5a5395397a315182e9":"ad.getElement().click(function() {\r\n  ad.clickThrough();\r\n  $('#athena-hymnal').addClass('hymnal-ad-clicked');\r\n});\r\n"};eval(all_variants[variant])}});ad.addMetricsInstrumentation(new Hymnal.MetricsInstrumentation({name:"Basic Tracking"})),ad.addLifecycleEventListener(new Hymnal.DefaultEvents),ad.render()})}(HymnalLib)}(jQuery)},executeHymnalIfPromisesAreResolved=function(){Promise.all(HymnalPromises.getBeforeRender()).then(executeHymnal)["catch"](function(e){"undefined"!=typeof console&&"function"==typeof console.log&&console.log("Ad failed to render: ",e)})};executeHymnalIfPromisesAreResolved()}();