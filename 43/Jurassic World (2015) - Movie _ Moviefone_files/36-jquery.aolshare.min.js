/*! AOL Share - v0.1.5 - 2015-12-02
* https://github.com/aol/jquery-share/
* Copyright (c) 2015 Dave Artz, Sobia Ali, Bill Sams, Nate Eagle, Jeremy Jannotta; Licensed BSD */
(function(e,t,n){var r=location.protocol==="https:",i=function(e){return r&&(e=e.replace("http://o.aolcdn.com/","https://s.aolcdn.com/"),e=e.replace("http://s.huffpost.com/","https://secure.huffingtonpost.com/"),e=e.replace("http://api.bit.ly/","https://api-ssl.bit.ly/")),e},s={services:[],templates:{},css:{standard:[".aol-share {font:11px/11px Helvetica,Arial,sans-serif; position:relative;}",'.aol-share a {background: url("'+i("http://o.aolcdn.com/os/aol/assets/9-aolshare-sprite.png")+'") no-repeat scroll 0px 0 transparent; display:inline; float:left; margin-bottom:7px; margin-right:7px; overflow:hidden; width:23px; height:23px; text-decoration:none; color:#616161; font-weight:bold; border-radius: 3px; border-right: 1px solid rgba(0,0,0,.2);}',".aol-share a:hover {background-position:-53px 0px; border-color:#A0A0A0}",".aol-share a b {display:block;line-height: 23px;margin: 0 7px 0 22px; text-align:center;}",".aol-share a.aol-share-email {background-position:0px -23px; color:#fff !important;border-color:#397448}",".aol-share a.aol-share-email:hover {background-position:-53px -23px;border-color:#27502F}",".aol-share a.aol-share-facebook {background-position:0px -46px; color:#fff !important;border-color:#385899}",".aol-share a.aol-share-facebook:hover {background-position:-53px -46px;border-color:#243965}",".aol-share a.aol-share-twitter {background-position:0px -69px; color:#4887a6 !important;border-color:#A3CCE6;}",".aol-share a.aol-share-twitter:hover {background-position:-53px -69px;border-color:#65A0C5}",".aol-share a.aol-share-googleplus {background-position:0px -299px; color:#c96148 !important;}",".aol-share a.aol-share-googleplus:hover {background-position:-53px -299px;}",".aol-share a.aol-share-digg {background-position:0px -92px; color:#616161 !important;}",".aol-share a.aol-share-digg:hover {background-position:-53px -92px;border-color:#7C8C99}",".aol-share a.aol-share-lifestream {background-position:0px -115px; color:#fff !important;border-color:#74A805}",".aol-share a.aol-share-lifestream:hover {background-position:-53px -115px;border-color:#507403}",".aol-share a.aol-share-s2c {background-position:0px -138px; color:#616161 !important;}",".aol-share a.aol-share-s2c:hover {background-position:-53px -138px;}",".aol-share a.aol-share-comments {background-position:0px -161px; color:#fff !important;border-color:#219DC0}",".aol-share a.aol-share-comments:hover {background-position:-53px -161px;border-color:#087B9B}",".aol-share a.aol-share-pinterest {background-position:0px -184px; color:#cc2127 !important;width: 25px;}",".aol-share a.aol-share-pinterest:hover {background-position:-53px -184px;}",".aol-share a.aol-share-stumbleupon {background-position:0px -207px; color:#ea3f18 !important;}",".aol-share a.aol-share-stumbleupon:hover {background-position:-53px -207px;}",".aol-share a.aol-share-linkedin {background-position:0px -230px; color:#4370B1 !important;width: 25px;}",".aol-share a.aol-share-linkedin:hover {background-position:-53px -230px;}",".aol-share a.aol-share-tumblr {background-position:0px -253px; color:#385E7B !important;width: 25px;}",".aol-share a.aol-share-tumblr:hover {background-position:-53px -253px;}",".aol-share a.aol-share-reddit {background-position:0px -276px; color:#4887a6 !important;width: 25px;}",".aol-share a.aol-share-reddit:hover {background-position:-53px -276px;}","#s2c-widget-mask {z-index:10000000;}","#s2c-widget {z-index:10000001;}"].join("")},skin:"standard",plugins:{print:{text:"Print this page",title:"Print this page",click:function(e){e.preventDefault(),t.print()},count_on_click:1,encode_url:1},email:{href:"mailto:?&subject=Check%20out%20this%20article%3A%20{{title}}&body={{desc}}%20%0D%0A{{url}}",text:"Email",title:"Email",init:function(t,n,r){e(t).attr("target","_top");var i=!!r.plugins.email.open_window;if(i){var s=r.plugins.email.click;e(t).attr("href",r.plugins.email.open_window),e(t).attr("target","aolShareEmail"),r.plugins.email.click=function(n){e(t).openWindow({width:382,height:528,name:"aolShareEmail",resizable:!1,scroll:0,location:0}),s(n)}}},count_on_click:1,encode_url:1,trigger_new_window:1,open_window:!1,click:function(e){o("EWX")}},plusone:{text:"Google PlusOne",title:"Google PlusOne",href:"#",init:function(t,n,r){e.getJS(i("http://o.aolcdn.com/os/aol/1-jquery.plusone.js"),function(){t.plusone({size:"standard",annotation:"none",href:n}),t.css("background","none")})}},googleplus:{text:"Google Plus",title:"Google Plus",href:"https://plus.google.com/share?url={{url}}",init:function(t){e(t).openWindow({width:670,height:430,resizable:!0,scroll:!0,location:0,name:"aolShare"})},count_on_click:1,encode_url:1,trigger_new_window:1,click:function(){o("GFA")}},twitter:{href:"https://twitter.com/share?{{twitterStatus}}",title:"Share on Twitter",text:"Share on Twitter",use_short_url:1,templates:{twitterStatus:"text=Check%20out:%20{{title}}&via=AOL&url={{url}}"},init:function(t){e(t).openWindow({width:670,height:430,resizable:!0,scroll:!0,location:0,name:"aolShare"})},click:function(){o("EWV")},count_on_click:1,encode_url:1,trigger_new_window:1},facebook:{href:"https://www.facebook.com/sharer.php?t={{title}}&amp;u={{url}}",title:"Share on Facebook",text:"Share on Facebook",init:function(t){e(t).openWindow({width:670,height:430,resizable:!0,scroll:!0,location:0,name:"aolShare"})},click:function(){o("EWU")},count_on_click:1,encode_url:1,trigger_new_window:1},digg:{href:"https://digg.com/submit?title={{title}}&amp;description={{desc}}&amp;url={{url}}",title:"Share on Digg",text:"Share on Digg",count_on_click:1,encode_url:1,trigger_new_window:1,click:function(){o("EUO")}},lifestream:{href:"http://lifestream.aol.com/share/?{{lifestreamStatus}}",title:"Share on Lifestream",text:"Share on Lifestream",count_on_click:1,templates:{lifestreamStatus:"title=Check out: {{title}}&description={{desc}}&via=AOL&url={{url}}"},encode_url:1,trigger_new_window:1,init:function(t){e(t).openWindow({width:670,height:530,resizable:!0,scroll:!0,location:0,name:"lifestream"})},click:function(){o("EWW")}},pinterest:{href:"https://pinterest.com/pin/create/button/?media={{media}}&amp;description={{title}}&amp;url={{url}}",title:"Pin it on Pinterest",text:"Pin it on Pinterest",init:function(t){e(t).openWindow({width:670,height:530,resizable:!0,scroll:!0,location:0,name:"aolShare"})},click:function(){o("FNM")},count_on_click:1,encode_url:1,trigger_new_window:1},stumbleupon:{href:"https://www.stumbleupon.com/submit?url={{url}}",title:"Submit to StumbleUpon",text:"Share on StumbleUpon",init:function(t){e(t).openWindow({resizable:!0,scroll:!0,location:0,name:"aolShare"})},count_on_click:1,encode_url:1,trigger_new_window:1,click:function(){o("FIW")}},linkedin:{href:"https://www.linkedin.com/cws/share?url={{url}}",title:"Share this on LinkedIn",text:"Share on LinkedIn",init:function(t){e(t).openWindow({resizable:!0,scroll:!0,location:0,name:"aolShare"})},count_on_click:1,encode_url:1,trigger_new_window:1,click:function(){o("FNN")}},tumblr:{href:"https://www.tumblr.com/share/photo?source={{media}}&amp;caption={{title}}&amp;click_tru={{url}}",title:"Share on Tumblr",text:"Share on Tumblr",count_on_click:1,encode_url:1,trigger_new_window:1,init:function(t){e(t).openWindow({width:670,height:530,resizable:!0,scroll:!0,location:0,name:"tumblr"})},click:function(){o("GEZ")}},reddit:{href:"https://www.reddit.com/submit?title={{title}}&amp;url={{url}}",title:"Submit to Reddit",text:"Submit to Reddit",init:function(t){e(t).openWindow({width:960,height:750,resizable:!0,scroll:!0,location:0,name:"aolShare"})},count_on_click:1,encode_url:1,trigger_new_window:1,click:function(){o("GEX")}},separator:{elem:"span",className:"separator",text:"|",count_on_click:1,encode_url:1,trigger_new_window:1},comments:{href:"{{url}}#aol-comments",title:"Leave a Comment",text:"Comment",count_on_click:0,encode_url:0,trigger_new_window:0,click:function(){o("EWY")}},s2c:{href:"#",title:"Share Via SMS",text:"Share Via SMS",count_on_click:1,encode_url:1,trigger_new_window:1,click:function(n){n.preventDefault();var r=e(this).data("pluginInfo").url;t.mc.s2c.id(23).key("ao1nVm6DDWH_FONJ").linkUrl(r).message("Check this out!").show()}}},bitly:{apiKey:"R_85ecb12b3520446e9dd5b28db270ceb5",userName:"aolapi",baseurl:i("http://api.bit.ly/v3/shorten/")},shortenUrl:function(t,n){e.shortUrl(t,{apiKey:this.bitly.apiKey,userName:this.bitly.userName,baseurl:this.bitly.baseurl,callback:function(e){n(e)}})},shortenCallback:function(t,n){var r=e(t);r.unbind("click.standby"),n.document.location=t.href},deferCount:1,forcePostURLClear:0},o=function(e){var t=new Image;t.src="//tacoda.at.atwola.com/rtx/r.gif?cmd="+e+"&si=18323&pi=-&xs=3"},u=[],a=0,f=0,l=0,c=0,h=i("http://o.aolcdn.com/os/aol/jquery.multiauth-2.0.min.js?v=2"),p=0,d="aol-share",v=["facebook","twitter","email","plusone"],m=function(){var e=navigator.userAgent.match(/msie ([\d.]+)/i);return e&&e[1]?parseInt(e[1],10):null}();e.aolShare=function(r){if(!r.elem)e.extend(s,r);else{var i,o,a,h,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_;i=e.extend(!0,{},s,r);if(!i.services||!i.services.length)i.services=v;m&&m<=7&&(i.services=e.map(i.services,function(e,t){return e==="plusone"?null:e})),o=i.elem,a=e(o),g=i.desc||o.rel||"",y=i.title||o.title||n.title||"",b=i.media||a.data("media")||e(".gallery li.active a").attr("data-photo-src")||e('meta[property="og:image"]').attr("content")||"",w=location.href,E=n.title,k=i.trackingPrefix!=null?i.trackingPrefix:"a_dgi=",S=i.plugins,x=i.services,N=encodeURIComponent,C=e("<div></div>"),L=function(){p+=1,c||(c=1,e.inlineCSS(i.css[i.skin])),l=a.data("pid"),f=a.data("bid"),e(n).bind("url-generated."+d+p,function(e,t){h=t.postUrl,T=h.indexOf("?")===-1?"?":"&",u[t.cleanPostUrl]={postUrl:t.cleanPostUrl,pid:l,bid:f}}),A(),O(),M()},A=function(){var t,r=o.href,s=r.indexOf("body="),u=r.substring(s===-1?0:s+5,r.length),a=i.url||u||w;h=w.indexOf(a)!==-1?w:a,t=h,h.indexOf("?")!==-1&&(t=h.substring(0,h.indexOf("?"))),h.indexOf("#")!==-1&&(t=h.substring(0,h.indexOf("#"))),e(n).trigger("url-generated."+d+p,{cleanPostUrl:t,postUrl:h})},O=function(){C.addClass("aol-share");var t={desc:g,title:y,url:h,media:b};C.data("templates",t);var n="aolshare_(print|email|plusone|googleplus|twitter|facebook|digg|lifestream|pinterest|stumbleupon|linkedin|tumblr|reddit|separator|comments|s2c)",r="&?"+k.replace("=","")+"=|%(?=3D)"+n,s=new RegExp(n,"g"),o=new RegExp(r,"g"),u=function(e,t){var n=p(e),r=n.url+v(n.url)+k+t+n.hash;return r},c=function(e,t){return e.indexOf(t)<0?u(e,t):e},p=function(e){var t={};return e=m(e),t.hash=w(e),t.url=T(e,t.hash),t},v=function(e){return e.charAt(e.length-1)==="?"?"":e.match(/\?/g)?"&":"?"},m=function(e){return e=decodeURIComponent(e),e=e.replace(o,""),e=e.replace(s,""),e},w=function(e){var t=decodeURIComponent(e),n=t.indexOf("#")>=0?t.substring(t.indexOf("#"),t.length):"";return n},T=function(e,t){return e.replace(t,"")};e(x).each(function(t){var n,r,s,a,p,d,v,m=x[t],w=S[m],T=i.templates[m]||w.templates||"",L=w.elem||"a",A=w.href||"#",O=w.text||"",M=w.title||w.text||"",D=w.trigger_new_window,P=w.className||"aol-share-"+m,H=w.shortenCallback||i.shortenCallback,B=w.encode_url,j=w.use_short_url&&i.shortenUrl!==!1&&i.shortenUrl!==0,F=w.init,I=w.click;k&&(r="aolshare_"+m,s=h.match(o),n=s?u(h,r):c(h,r)),L==="a"&&(D?d=' href="'+A+'" title="'+M+'"'+' target="_blank"':d=' href="'+A+'" title="'+M+'"'),p="<"+L+' class="'+P+'"'+d+">"+"</"+L+">";if(T)for(v in T)p.indexOf(v)>-1&&(p=p.replace("{{"+v+"}}",T[v]));p=p.replace("{{title}}",N(y)).replace("{{url}}",B?N(n):n).replace("{{desc}}",N(g)).replace("{{media}}",N(b)).replace("{{pinmedia}}",N(b)).replace("{{doctitle}}",N(E)),a=e(p),a.data("pluginInfo",{url:n,title:y,desc:g,href:A,templateName:v||"",template:v?T[v]:"",init:F,serviceName:m,pid:l,bid:f,media:b}),F&&F(a,h,i),w.click&&a.bind("click."+m,w.click);if(j){if(!e.isFunction(i.shortenUrl))throw new Error("Invalid value for options.shortenUrl: must be either a Function, or false to disable");a.unbind("click.openwindow"),a.bind("click.shorten",function(t){_(t,e(this),H)})}C.append(a)}),a.replaceWith(C),C.trigger("ui-ready."+d)},M=function(){var r=function(e){var t,r,i=n.cookie.split(";");for(t=0;t<i.length;t++){r=i[t].substr(0,i[t].indexOf("=")).replace(/^\s+|\s+$/g,"");if(r===e)return decodeURIComponent(i[t].substr(i[t].indexOf("=")+1))}};C.delegate("a","click",function(n){var r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y;r=this,i=r.className.replace("aol-share-","aolshare_"),s=new Date,o=s.getYear(),u=e(r).data("pluginInfo"),a=u.url.replace(/[#?].*/g,""),f=u.serviceName,l=u.pid,c=u.bid,v=window.bN,v&&(g={facebook:"fb_share",plusone:"google+"},m=g[f],m=m||f,v.set("dL_shareType",m,1),v.set("dL_shareURL",a,1),v.ping("aol-share")),t.s_265&&(h=[s.getDate(),"/",s.getMonth(),"/",o<1900?o+1900:o," ",s.getHours(),":",s.getMinutes(),":",s.getSeconds()," ",s.getDay()," ",s.getTimezoneOffset()].join(""),p=["http",location.protocol==="http:"?"://o":"s://s",".sa.aol.com","/b/ss/aolshare/1/H.21/s",Math.round(Math.random()*1e14),"?AQB=1&ndh=1&t=",N(h),"&ns=aolllc&cl=63072000&pageName=aol_share_toolbar&g=",N(w),"&c12=",N(w.replace(/[#?].*/g,"")),"&c16=",N(t.s_265.pageName),"&ch=",N(t.s_265.channel),"&events=event1","&c1=",N(t.s_265.prop1),"&c2=",N(t.s_265.prop2),"&c17=",i,"&c18=",N(a),"&c9=",N(t.s_265.prop9||"not specified"),"&pe=lnk_o&pev2=",i,"&AQE=1"].join(""),d=new Image,d.src=p)})},_=function(t,r,s){var o=r.get(0),u=r.data("pluginInfo"),a=u.serviceName,f=u.url,l=u.href,c=u.init,h=u.title,p=u.desc,d=u.media,v=u.templateName,m=u.template,g=encodeURIComponent,y=n.title,b,w,E,S,x={width:a==="email"?382:670,height:a==="email"?528:430,resizable:a==="email"?!1:!0,scroll:a==="email"?!1:!0,location:0,name:"aolShare"};S=e.openWindow("about:blank",x),r.unbind("click.shorten").bind("click.standby",function(e){e.preventDefault()}),w=setTimeout(function(){s&&s(o,S)},400),b=function(e){E=l.replace("{{"+v+"}}",m).replace("{{url}}",g(e)).replace("{{title}}",g(h)).replace("{{desc}}",g(p)).replace("{{media}}",g(d)).replace("{{pinmedia}}",g(d)).replace("{{doctitle}}",g(y)),r.attr("href",E),c&&c(o),s&&s(o,S),clearTimeout(w)},e.isFunction(i.shortenUrl)?i.shortenUrl(f,b):b(f),t.preventDefault()},L()}},e.fn.aolShare=function(t){return this.each(function(){t=t||{},t.elem=this,e.aolShare(t)})},e.getJS(i("http://o.aolcdn.com/os/s2c/js/mc.s2c.min.js"))})(jQuery,window,document);