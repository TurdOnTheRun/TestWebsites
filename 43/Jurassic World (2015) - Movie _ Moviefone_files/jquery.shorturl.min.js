!function(a){var t={apiKey:"R_85ecb12b3520446e9dd5b28db270ceb5",userName:"aolapi",baseurl:"http://api.bit.ly/v3/shorten/",callback:function(){}};a.shortUrl=function(e,n){init=function(t){var n=t.elem,r=encodeURIComponent;a.ajax({url:t.baseurl+"?login="+t.userName+"&apiKey="+t.apiKey+"&format=json&callback=?&longUrl="+r(e),dataType:"json",success:function(a){n&&(n.href=a.data.url),403===a.status_code&&"RATE_LIMIT_EXCEEDED"===a.status_txt?t.callback(e):a.data&&200===a.status_code&&t.callback(a.data.url)},error:function(){t.callback(e)}})};var r=a.extend(!0,{},t,n);init(r)},a.fn.shortUrl=function(t){return this.each(function(){var e=this,n=e.href;n&&(t=t||{},t.elem=this,a.shortUrl(n,t))})}}(jQuery);