require=function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";var d=a("react"),e=a("./AdEditMode.jsx"),f=a("./AdUnit.jsx"),g=a("react-lazy-load"),h=d.createClass({displayName:"Ad",render:function(){return this.props.adConfig.dimensions?this.props.globalAdConfig.usePlaceholders?d.createElement(e,this.props):this.props.adConfig.lazy?d.createElement(g,{offsetVertical:this.props.globalAdConfig.adLoadBuffer},d.createElement(f,this.props)):d.createElement(f,this.props):null}});b.exports=h},{"./AdEditMode.jsx":2,"./AdUnit.jsx":3,react:"react","react-lazy-load":"react-lazy-load"}],2:[function(a,b,c){"use strict";var d=a("react"),e=d.createClass({displayName:"AdEditMode",propTypes:{adConfig:d.PropTypes.shape({adUnitId:d.PropTypes.string.isRequired,dimensions:d.PropTypes.string.isRequired}).isRequired,globalAdConfig:d.PropTypes.shape({breakpoint:d.PropTypes.string.isRequired}).isRequired},render:function(){var a,b=this.props.adConfig.dimensions.split(",")[0],c=parseInt(b.split("x")[0],10),e=parseInt(b.split("x")[1],10),f=this.props.adConfig.adUnitId.split("/")[4];return a={width:c,minHeight:e},d.createElement("div",{className:"adunit adUnit--editmode ",style:a},d.createElement("h3",null,f),d.createElement("p",null,"Sizes (",this.props.globalAdConfig.breakpoint," breakpoint): ",this.props.adConfig.dimensions))}});b.exports=e},{react:"react"}],3:[function(a,b,c){"use strict";var d,e,f=a("react"),g=a("jquery"),h=a("lodash/defer"),i=f.createClass({displayName:"AdUnit",propTypes:{adConfig:f.PropTypes.shape({adUnitId:f.PropTypes.string.isRequired,adConfigKey:f.PropTypes.string.isRequired,dimensions:f.PropTypes.string.isRequired,timedRefresh:f.PropTypes.bool,galleryRefresh:f.PropTypes.bool,presentationGalleryRefresh:f.PropTypes.bool}).isRequired,globalAdConfig:f.PropTypes.shape({base:f.PropTypes.object.isRequired,refreshRate:f.PropTypes.number}).isRequired},getInitialState:function(){return e=this.props.globalAdConfig.base,this.canRefresh=!0,this.isPresentationModeAd=!1,{refresh:0}},getDefaultProps:function(){return{refreshRate:15}},refreshAd:function(){var a=this,b=a.refs.adunit,c="viewability"===e.ads.globalAdConfig.favorability?e.coreArticleHelpers.isElementInViewport(b):!0,d=PresentationGalleryOpen||!1,f=this.isPresentationModeAd?!1:d;a.isMounted()&&c&&a.canRefresh&&!f&&(a.setState({refresh:a.state.refresh+1}),a.canRefresh=!1,setTimeout(function(){a.canRefresh=!0},2e3))},setRefreshAtInterval:function(){var a=this,b=e.ads.globalAdConfig.activeEngagementInterval||120;b=1e3*b,e.activeEngagement.start(b),e.activeEngagement.onUserIdle(function(){e.log.info("NGS Active Engagement: User is Idle")}),e.activeEngagement.onUserActive(function(){e.log.info("NGS Active Engagement: User is Active")}),d=setInterval(function(){var b=g(a.refs.adunit).hasClass("ad--large");e.activeEngagement.isUserActive()&&!b&&a.refreshAd()},1e3*a.props.refreshRate)},setRefreshListener:function(a){Pestle.on(a,this.refreshAd)},callAd:function(){var a=this,b=g(a.refs.adunit);h(function(a){e.ads.dfpCall(a)},b)},componentDidMount:function(){this.callAd(),this.props.adConfig.timedRefresh&&this.setRefreshAtInterval(this.props.refreshRate),this.props.adConfig.galleryRefresh&&this.setRefreshListener("AdRefresh_Gallery"),this.props.adConfig.presentationGalleryRefresh&&(this.isPresentationModeAd=!0,this.setRefreshListener("AdRefresh_PresentationGallery"))},componentDidUpdate:function(){this.callAd()},componentWillUnmount:function(){clearInterval(d)},render:function(){var a='{"refresh":"'+this.state.refresh+'"}',b=this.state.refresh;return f.createElement("div",{key:b,ref:"adunit",className:"adunit","data-adunit":this.props.adConfig.adUnitId,"data-size-mapping":this.props.adConfig.adConfigKey,"data-dimensions":this.props.adConfig.dimensions,"data-targeting":a})}});b.exports=i},{jquery:"jquery","lodash/defer":"lodash/defer",react:"react"}],4:[function(a,b,c){"use strict";var d=a("jquery"),e=a("react"),f=a("react-dom"),g=a("./ViableComponentExceptions.js"),h=a("../../Ad/Ad.jsx"),i=function(a,b,c){b=d.extend({adIntervals:{desktop:parseInt(d("meta[name='dfp:bigWebAdInterval']").attr("content"))||1700,tablet:parseInt(d("meta[name='dfp:tabletAdInterval']").attr("content"))||1700,mobile:parseInt(d("meta[name='dfp:mobileAdInterval']").attr("content"))||1700},maxAdCounts:{desktop:parseInt(d("meta[name='dfp:bigWebMaxAdCount']").attr("content"))||5,tablet:parseInt(d("meta[name='dfp:tabletMaxAdCount']").attr("content"))||5,mobile:parseInt(d("meta[name='dfp:mobileMaxAdCount']").attr("content"))||5},cssClass:""},b);var i=d("<div class='adSlotDynamic-slot"+b.cssClass+"' />");this.render=function(){for(var j=a.children(),k=0,l=0,m=b.adIntervals[b.breakpoint],n=b.maxAdCounts[b.breakpoint],o=0;o<j.length&&n>l;o++){var p=d(j[o]),q=!1;k+=p.height(),0===l?p.hasClass("text")&&(q=!0):k>=m&&(q=!0);g(p);if(q&&g(p)){var r=i.clone();p.after(r),k=0,l++;var s=b.base.ads.getIndividualAdConfig(c);s.lazy=!0,s.galleryRefresh=!0,f.render(e.createElement(h,{globalAdConfig:b,adConfig:s}),r.get(0))}}}};b.exports=i},{"../../Ad/Ad.jsx":1,"./ViableComponentExceptions.js":5,jquery:"jquery",react:"react","react-dom":"react-dom"}],5:[function(a,b,c){"use strict";var d=function(a,b){return a.hasClass("rightRailSlot")?!1:a.parents(".rightRailSlot").length?!1:a.find(".media--xsmall").length?!1:a.hasClass("smartbody")&&a.find("h2").length?!1:!0};b.exports=d},{}],6:[function(a,b,c){"use strict";a("es5-shim");var d=a("../../../Common/Mixins/PortalComponentMixin.jsx"),e=a("react"),f=(a("../../Ad/Ad.jsx"),e.createClass({displayName:"HubBoxAd",mixins:[d],renderLayer:function(){var a="desktop"===this.props.breakpoint?!0:!1;return e.createElement("div",{className:"hub-box-ad "},a?e.createElement("span",{className:"bumper--bottom bumper--add-margin"}):"",a?e.createElement("span",{className:"bumper--top"}):"",e.createElement("div",{className:"hub-box-ad__sticky-wrap sticky-component","data-desktop-only":"true"},e.createElement("div",{className:"sticky-component__section"},this.props.children)))}}));b.exports=f},{"../../../Common/Mixins/PortalComponentMixin.jsx":20,"../../Ad/Ad.jsx":1,"es5-shim":"es5-shim",react:"react"}],7:[function(a,b,c){"use strict";var d=a("jquery"),e=a("react"),f=a("lodash/defer"),g=(a("sinon"),e.createClass({displayName:"OutOfPage",callAd:function(){var a=this,b=d(a.refs.adunit);f(function(b){a.props.globalAdConfig.base.ads.dfpCall(b,!1)},b)},componentDidMount:function(){this.callAd()},render:function(){return e.createElement("div",{ref:"adunit","data-adunit":this.props.adConfig.adUnitId,"data-outofpage":"true"})}}));b.exports=g},{jquery:"jquery","lodash/defer":"lodash/defer",react:"react",sinon:307}],8:[function(a,b,c){"use strict";a("es5-shim");var d=a("../../../Common/Mixins/PortalComponentMixin.jsx"),e=a("react"),f=e.createClass({displayName:"SingleAd",mixins:[d],renderLayer:function(){return e.createElement("div",{className:"ad-single"},this.props.children)}});b.exports=f},{"../../../Common/Mixins/PortalComponentMixin.jsx":20,"es5-shim":"es5-shim",react:"react"}],9:[function(a,b,c){"use strict";a("es5-shim");var d=a("../../../Common/Mixins/PortalComponentMixin.jsx"),e=a("react"),f=(a("../../Ad/Ad.jsx"),e.createClass({displayName:"StickyBoxAd",mixins:[d],renderLayer:function(){return e.createElement("div",{className:"sticky-component sticky-box-ad","data-desktop-only":"true"},e.createElement("div",{className:"sticky-component__section"},this.props.children))}}));b.exports=f},{"../../../Common/Mixins/PortalComponentMixin.jsx":20,"../../Ad/Ad.jsx":1,"es5-shim":"es5-shim",react:"react"}],10:[function(a,b,c){"use strict";a("es5-shim");var d=a("../../../Common/Mixins/PortalComponentMixin.jsx"),e=(a("../StickyLeaderboard/StickyLeaderboard.jsx"),a("react")),f=(a("../../Ad/Ad.jsx"),e.createClass({displayName:"StickyHeaderRightAd",mixins:[d],getInitialState:function(){return{visible:!1}},componentWillMount:function(){var a=this;Pestle.once("dfpcall:contentchanged_header",function(b,c){var d=NGS.core_site.sandbox.coreArticleHelpers.getBreakpoint();c.size[0]<970&&"desktop"===d&&a.setState({visible:!0})})},renderLayer:function(){return e.createElement("div",{className:"sticky-rightheaderad__wrapper"},this.state.visible?this.props.children:null)}}));b.exports=f},{"../../../Common/Mixins/PortalComponentMixin.jsx":20,"../../Ad/Ad.jsx":1,"../StickyLeaderboard/StickyLeaderboard.jsx":11,"es5-shim":"es5-shim",react:"react"}],11:[function(a,b,c){"use strict";a("es5-shim");var d=a("../../../Common/Mixins/PortalComponentMixin.jsx"),e=a("react"),f=(a("../../Ad/Ad.jsx"),e.createClass({displayName:"StickyLeaderboard",mixins:[d],renderLayer:function(){return e.createElement("div",{className:"sticky-leaderboard__placeholder bumper--bottom"},e.createElement("span",{className:"bumper--top bumper--leaderboard"}),e.createElement("div",{className:"sticky-leaderboard__wrap sticky-component"},e.createElement("div",{className:"sticky-leaderboard"},e.Children.toArray(this.props.children))))}}));b.exports=f},{"../../../Common/Mixins/PortalComponentMixin.jsx":20,"../../Ad/Ad.jsx":1,"es5-shim":"es5-shim",react:"react"}],12:[function(a,b,c){"use strict";a("es5-shim");var d=a("jquery"),e=a("react"),f=(a("../../Common/Mixins/PortalComponentMixin.jsx"),a("../AdTypes/StickyLeaderboard/StickyLeaderboard.jsx")),g=a("../AdTypes/StickyHeaderRightAd/StickyHeaderRightAd.jsx"),h=a("../AdTypes/StickyBoxAd/StickyBoxAd.jsx"),i=a("../AdTypes/SingleAd/SingleAd.jsx"),j=a("../AdTypes/OutOfPage/OutOfPage.jsx"),k=a("../AdTypes/HubBoxAd/HubBoxAd.jsx"),l=a("../Ad/Ad.jsx"),m=a("../AdTypes/DynamicAds/DynamicAds"),k=a("../AdTypes/HubBoxAd/HubBoxAd.jsx"),n=e.createClass({displayName:"ArticleAds",propTypes:{base:e.PropTypes.object.isRequired,template:e.PropTypes.string},getInitialState:function(){return this.afterAdsFunctionCalled=!1,{renderBaseAds:!0}},componentWillMount:function(){var a=this;deepLinkProvided&&(a.setState({renderBaseAds:!1}),Pestle.on("FireBaseAds",function(){a.isMounted()&&a.setState({renderBaseAds:!0})}))},afterRenderingBaseAds:function(){if("desktop"!==this.props.base.ads.globalAdConfig.breakpoint){var a=d(".paragraphs .content");if(a){var b=new m(a,this.props.base.ads.globalAdConfig,"article_dynamic");b.render()}}"interactive"!==this.props.template&&(this.props.base.stickyBehavior.initStickiness("article",this.props.base,"leaderboard"),this.props.base.stickyBehavior.initStickiness("article",this.props.base,"boxad")),this.props.base.stickyBehavior.initStickiness("article",this.props.base,"commentsBoxAd"),this.afterAdsFunctionCalled=!0},componentDidUpdate:function(){this.state.renderBaseAds&&!this.afterAdsFunctionCalled&&this.afterRenderingBaseAds()},componentDidMount:function(){this.state.renderBaseAds&&!this.afterAdsFunctionCalled&&this.afterRenderingBaseAds()},render:function(){if(!this.state.renderBaseAds)return!1;var a=this.props.base,b=a.ads.globalAdConfig,c=[],m=0,n=d(".ad-holder");return d(n).each(function(){var n,o=d(this),p=o.attr("id")||null,q=o.data("adComponent"),r=o.data("adConfigKey");if(n=a.ads.getIndividualAdConfig(r),"stickyComposedLeaderboard"===q){"desktop"!==b.breakpoint&&(n.timedRefresh=!0),n.lazy=!0,n.galleryRefresh=!0;var s=a.ads.getIndividualAdConfig(o.data("adConfigSecondaryKey"));s.lazy=!1,s.galleryRefresh=!0,c.push(e.createElement(f,{key:m++,adKey:m++,targetDivId:p},e.createElement(l,{globalAdConfig:b,adConfig:n}),e.createElement("div",{id:"header-right-ad",className:"sticky-headerrightad"}),e.createElement(g,{targetDivId:"header-right-ad",adKey:m++},e.createElement(l,{globalAdConfig:b,adConfig:s}))))}else"stickyLeaderboard"===q?("desktop"!==b.breakpoint&&(n.timedRefresh=!0),n.lazy=!0,n.galleryRefresh=!0,c.push(e.createElement(f,{key:m++,adKey:m++,targetDivId:p},e.createElement(l,{globalAdConfig:b,adConfig:n})))):"stickyBoxAd"===q?(n.lazy=!0,"desktop"===b.breakpoint&&(n.timedRefresh=!0),n.galleryRefresh=!0,c.push(e.createElement(h,{key:m++,adKey:m++,targetDivId:p},e.createElement(l,{globalAdConfig:b,adConfig:n})))):"boxAd"===q?(n.lazy=!0,n.galleryRefresh=!0,c.push(e.createElement(k,{key:m++,breakpoint:b.breakpoint,targetDivId:p},e.createElement(l,{globalAdConfig:b,adConfig:n})))):"single"===q?("pixel"!==r&&(n.lazy=!0),c.push(e.createElement(i,{key:m++,adKey:m++,targetDivId:p},e.createElement(l,{globalAdConfig:b,adConfig:n})))):"outOfPage"===q&&b.outOfPageEnabled&&c.push(e.createElement(i,{key:m++,adKey:m++,targetDivId:p},e.createElement(j,{globalAdConfig:b,adConfig:n})))}),e.createElement("div",null,c)}});b.exports=n},{"../../Common/Mixins/PortalComponentMixin.jsx":20,"../Ad/Ad.jsx":1,"../AdTypes/DynamicAds/DynamicAds":4,"../AdTypes/HubBoxAd/HubBoxAd.jsx":6,"../AdTypes/OutOfPage/OutOfPage.jsx":7,"../AdTypes/SingleAd/SingleAd.jsx":8,"../AdTypes/StickyBoxAd/StickyBoxAd.jsx":9,"../AdTypes/StickyHeaderRightAd/StickyHeaderRightAd.jsx":10,"../AdTypes/StickyLeaderboard/StickyLeaderboard.jsx":11,"es5-shim":"es5-shim",jquery:"jquery",react:"react"}],13:[function(a,b,c){"use strict";a("es5-shim");var d=a("jquery"),e=a("react"),f=a("../../Common/Mixins/PortalComponentMixin.jsx"),g=a("../AdTypes/StickyLeaderboard/StickyLeaderboard.jsx"),h=a("../AdTypes/StickyHeaderRightAd/StickyHeaderRightAd.jsx"),i=a("../AdTypes/HubBoxAd/HubBoxAd.jsx"),j=a("../AdTypes/SingleAd/SingleAd.jsx"),k=a("../AdTypes/OutOfPage/OutOfPage.jsx"),l=a("../Ad/Ad.jsx"),m=e.createClass({displayName:"HorizontalRule",mixins:[f],renderLayer:function(){return e.createElement("hr",{className:"multi-layout-promos__hr multi-layout-promos__hr--large"})}}),n=e.createClass({displayName:"HubAds",propTypes:{base:e.PropTypes.object.isRequired},componentDidMount:function(){this.props.base.stickyBehavior.initStickiness("hub",this.props.base)},render:function(){var a=this.props.base,b=a.ads.globalAdConfig,c=[],f="",n=0,o=!1,p=!1;"desktop"!==b.breakpoint&&(o=!0);var q=d(".ad-holder");return d(q).each(function(){var q,r=d(this),s=r.attr("id")||null,t=r.data("adComponent"),u=r.data("adConfigKey");if(q=a.ads.getIndividualAdConfig(u),"stickyComposedLeaderboard"===t){var v=!0,w=a.ads.getIndividualAdConfig(r.data("adConfigSecondaryKey"));w.lazy=!1,w.galleryRefresh=!0,o&&p?v=!1:v&&"leaderboard"===f&&(v=!1),v?(o&&(q.timedRefresh=!0),q.lazy=!0,c.push(e.createElement(g,{key:n++,adKey:n++,targetDivId:s},e.createElement(l,{globalAdConfig:b,adConfig:q}),e.createElement("div",{id:"header-right-ad",className:"sticky-headerrightad"}),e.createElement(h,{targetDivId:"header-right-ad",adKey:n++,globalAdConfig:b,adConfig:w}))),f="leaderboard"):c.push(e.createElement(m,{key:n++,targetDivId:s})),p=!0}else if("stickyLeaderboard"===t){var v=!0;o&&p?v=!1:v&&"leaderboard"===f&&(v=!1),v?(o&&(q.timedRefresh=!0),q.lazy=!0,c.push(e.createElement(g,{key:n++,targetDivId:s},e.createElement(l,{globalAdConfig:b,adConfig:q}))),f="leaderboard"):c.push(e.createElement(m,{key:n++,targetDivId:s})),p=!0}else"boxAd"===t?(q.lazy=!0,c.push(e.createElement(i,{key:n++,breakpoint:b.breakpoint,targetDivId:s},e.createElement(l,{globalAdConfig:b,adConfig:q}))),f="box"):"single"===t?("pixel"!==u&&(q.lazy=!0),c.push(e.createElement(j,{key:n++,targetDivId:s},e.createElement(l,{globalAdConfig:b,adConfig:q})))):"outOfPage"===t&&b.outOfPageEnabled&&c.push(e.createElement(j,{key:n++,targetDivId:s},e.createElement(k,{globalAdConfig:b,adConfig:q})))}),e.createElement("div",null,c)}});b.exports=n},{"../../Common/Mixins/PortalComponentMixin.jsx":20,"../Ad/Ad.jsx":1,"../AdTypes/HubBoxAd/HubBoxAd.jsx":6,"../AdTypes/OutOfPage/OutOfPage.jsx":7,"../AdTypes/SingleAd/SingleAd.jsx":8,"../AdTypes/StickyHeaderRightAd/StickyHeaderRightAd.jsx":10,"../AdTypes/StickyLeaderboard/StickyLeaderboard.jsx":11,"es5-shim":"es5-shim",jquery:"jquery",react:"react"}],14:[function(a,b,c){"use strict";var d=a("react"),e=a("../CallToActionButton/CallToActionButton.jsx"),f=d.PropTypes,g=d.createClass({displayName:"AnimatedScrollToButton",propTypes:{className:f.string,enabled:f.bool,groupId:f.string,iconClass:f.string,label:f.string,onClick:f.func,location:f.object.isRequired,alt:f.string},scrollToComments:function(){this.props.location.velocity("scroll",{duration:500,delay:200})},render:function(){var a=this.props,b={groupId:a.groupId,type:"button",label:a.label,path:null,target:"_self",iconClass:a.iconClass,enabled:a.enabled,className:a.className,alt:a.alt,onClick:this.scrollToComments};return d.createElement(e,b)}});b.exports=g},{"../CallToActionButton/CallToActionButton.jsx":17,react:"react"}],15:[function(a,b,c){"use strict";var d=a("jquery"),e=a("@natgeo/pestle");window.ngsPlayer=a("modules-video"),e.Module.add("BackgroundVideo",{createPlayer:function(a){return a.guid=a.videoguid,ngsPlayer.init(a)},initialize:function(){return d(document).ready(function(a){return function(){return a.createPlayer(a.options),a.sandbox.log.info("BackgroundVideo component initialized:")}}(this))}})},{"@natgeo/pestle":"@natgeo/pestle",jquery:"jquery","modules-video":"modules-video"}],16:[function(a,b,c){"use strict";var d=a("react"),e=a("react-dom"),f=a("lodash/merge"),g=a("./CallToActionButton.jsx");Pestle.Module.add("CallToActionButton",{isLoaded:!1,render:function(a,b,c){e.render(d.createElement(g,a),b,c)},update:function(a,b){this.render(f(this.model,a),this.el,b)},initialize:function(){this.model=this.options,this.model.action=function(){console.log("CTA Click!")},this.model.actionFocus=function(){console.log("CTA Focus!")};var a=this;this.render({groupId:this.model.guid,type:this.model.type,label:this.model.label,path:this.model.path,target:this.model.target,iconClass:this.model.iconClass,onClick:this.model.action,onFocus:this.model.actioFocus},this.el,function(){a.isLoaded=!0,a.sandbox.log.info("is loaded.")})}}),b.exports=g},{"./CallToActionButton.jsx":17,"lodash/merge":"lodash/merge",react:"react","react-dom":"react-dom"}],17:[function(a,b,c){"use strict";var d=a("react"),e=d.PropTypes,f=a("../Common/Icon/Icon.jsx"),g=a("lodash/capitalize"),h=a("lodash/get"),i=d.createClass({displayName:"CallToActionButton",propTypes:{className:e.string,type:e.oneOf(["button","textLink"]).isRequired,enabled:e.bool,groupId:e.string,iconClass:e.string,label:e.string,alt:e.string,onClick:e.func,onFocus:e.func,onBlur:e.func,path:e.string,target:e.oneOf(["_self","_blank"]).isRequired},getDefaultProps:function(){return{enabled:!0,groupId:"generic",className:""}},render:function(){this.isTextLink="textLink"===this.props.type;var a={href:this.props.path,target:this.props.target,className:this.props.className+" cta "+(this.isTextLink?"cta-textLink ":"cta-button "),onClick:this.handleEvent,onFocus:this.handleEvent,onBlur:this.handleEvent,ngsIsEdit:NGS.core_site.sandbox.aem.isEditMode()};this.props.enabled||(a.className+=" cta--disabled "),a.ngsIsEdit&&this.props.path&&"#"!==this.props.path[0]&&(a.className+=" cta--ngs-is-edit ",a.onClick=function(b){NGS.core_site.sandbox.log.info("Prevented CTA from addressing the link "+a.href),b.stopPropagation(),b.preventDefault()}),this.props.className||(this.isTextLink?a.className+="mt_btn mt_btn--naked ":a.className+="mt_btn "+(this.props.enabled?"mt_btn--primary ":"mt_btn--disabled "));var b=this.props.iconClass?d.createElement(f,{type:"cta-icon "+this.props.iconClass,align:"left",label:this.props.label,alt:this.props.alt}):this.props.label;return this.isTextLink?d.createElement("a",a,b):d.createElement("button",a,b)},handleEvent:function(a){if("click"===a.type&&this.props.enabled&&!this.isTextLink&&this.props.path&&window.open(this.props.path,this.props.target),this.props.enabled||this.isTextLink){var b=h(this.props,"on"+g(a.type));"function"==typeof b&&b.apply(this,arguments)}else a.preventDefault(),a.stopPropagation()}});b.exports=i},{"../Common/Icon/Icon.jsx":19,"lodash/capitalize":"lodash/capitalize","lodash/get":"lodash/get",react:"react"}],18:[function(a,b,c){"use strict";var d=a("react"),e=a("react-dom"),f=a("./Icon.jsx"),g=a("lodash/isArray"),h=a("lodash/each");Pestle.Module.add("Icon",{isLoaded:!1,initialize:function(){var a,b=this;this.model=this.options.model,g(this.model.type)||(this.model.type=[this.model.type]);var c=$("<div/>").appendTo(this.options.el);h(this.model.type,function(g,h){a=h<b.model.type.length/2?"left":"right",e.render(d.createElement(f,{type:g,label:g+" | "+a+" aligned. ",align:a}),c.append("<span/>").children().last()[0])}),this.isLoaded=!0,this.sandbox.log.info("is loaded.")}}),b.exports=f},{"./Icon.jsx":19,"lodash/each":"lodash/each","lodash/isArray":"lodash/isArray",react:"react","react-dom":"react-dom"}],19:[function(a,b,c){"use strict";var d=a("react"),e=(d.PropTypes,d.createClass({displayName:"Icon",propTypes:function(){return{align:d.PropTypes.oneOf(["left","right"]),label:d.PropTypes.string,type:d.PropTypes.string.isRequired,alt:d.PropTypes.string}},getDefaultProps:function(){return{align:"left"}},render:function(){var a="right"===this.props.align?this.props.label:void 0,b="left"===this.props.align?this.props.label:void 0;return d.createElement("span",{className:"icon icon--align-"+this.props.align},a,d.createElement("i",{className:"icongs "+this.props.type},this.props.label?void 0:d.createElement("span",{className:"sr-only"},this.props.alt)),b)}}));b.exports=e},{react:"react"}],20:[function(a,b,c){"use strict";a("es5-shim");var d=a("react"),e=a("react-dom"),f={componentWillUnmount:function(){this._unrenderLayer(),this.props.portal||document.body.removeChild(this._target)},componentDidUpdate:function(){this._renderLayer()},componentDidMount:function(){this.props.targetDivId?this._target=document.getElementById(this.props.targetDivId):(this._target=document.createElement("div"),document.body.appendChild(this._target)),this._renderLayer()},_renderLayer:function(){e.render(this.renderLayer(),this._target)},_unrenderLayer:function(){d.unmountComponentAtNode(this._target)},render:function(){return this.props.targetDivId?d.createElement("span",{className:"portalComponentFailure"}):this.renderLayer()}};b.exports=f},{"es5-shim":"es5-shim",react:"react","react-dom":"react-dom"}],21:[function(a,b,c){"use strict";var d=a("react"),e=d.createClass({displayName:"GenericLink",propTypes:{item:d.PropTypes.object.isRequired},getDefaultProps:function(){return{item:{linkUrl:"",linkText:"",linkTarget:"",linkSeoTitle:"",linkTrackingCode:""}}},render:function(){var a=this.props.item.linkTarget?this.props.item.linkTarget:"_blank",b=this.props.item.linkTrackingCode?this.props.item.linkUrl+this.props.item.linkTrackingCode:this.props.item.linkUrl,c=this.props.item.linkSeoTitle?this.props.item.linkSeoTitle:this.props.item.linkText;return d.createElement("a",{href:b,title:c,target:a},this.props.item.linkText)}});b.exports=e},{react:"react"}],22:[function(a,b,c){"use strict";var d=a("react"),e=a("../../../Picturefill/PictureFill.jsx"),f=a("../../../Picturefill/getPictureFillFormats.js"),g=a("react-lazy-load"),h=d.createClass({displayName:"ImageFramed",propTypes:{image:d.PropTypes.shape({url:d.PropTypes.string.isRequired,altText:d.PropTypes.alt,frameAspectRatio:d.PropTypes.number,imageCrop:d.PropTypes.string,aspectRatio:d.PropTypes.number,isVideo:d.PropTypes.bool,lazyLoad:d.PropTypes.bool,widthOverride:d.PropTypes.string}).isRequired,onLoad:d.PropTypes.func,onRendered:d.PropTypes.func},load:function(){this.props.image.lazyLoad&&(this.props.image.aspectRatio>0?this.refs.image.load():this.refs.lazyLoad.lazyLoadHandler())},render:function(){var a,b=100*this.props.image.frameAspectRatio,c="framed-image-wrap",h={paddingBottom:b+"%"};if(this.props.image.aspectRatio>0){var i,j,k,l=100*this.props.image.aspectRatio;if(a={paddingBottom:l+"%"},this.props.image.imageCrop)switch(this.props.image.imageCrop){case"ImmersiveLeadHorizontal":l=75;break;case"ImmersiveLeadVertical":l=133}if(i=b>=l?!0:!1,c+=i?" framed-image-wrap--horizontal":" framed-image-wrap--vertical",this.props.image.letterbox)if(c+=" framed-image-wrap--letterboxed ",j={position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%"},i)c+=" framed-image-wrap--letterboxed--horizontal",k={display:"inline-block",height:"auto",width:"100%",verticalAlign:"middle"};else{var m=b/l*100;c+=" framed-image-wrap--letterboxed--vertical",k={position:"relative",display:"inline-block",height:"100%",width:m+"%",margin:"auto",top:"0px"}}else if(i){var n=1/l/(1/b)*100,o=(n-100)/2;j={position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%"},k={width:n+"%",marginLeft:"-"+o+"%",position:"relative",height:"100%"},a={position:"absolute",height:"100%",width:"100%",paddingBottom:0}}else{var p=(b-l)/2;j={paddingBottom:l+"%",marginTop:p+"%",position:"relative",width:"100%",height:"0px"},a={position:"absolute",height:"100%",width:"100%",paddingBottom:0}}return d.createElement("figure",{itemScope:"itemscope",itemType:"http://schema.org/ImageObject"},d.createElement("div",{className:c,style:h},d.createElement("div",{className:"framed-image-wrap__outer-centerer",style:j},d.createElement("div",{className:"framed-image-wrap__inner-centerer",style:k},d.createElement("div",{className:"placeholder-image-wrap",style:a},d.createElement(e,{ref:"image",src:this.props.image.url,alt:this.props.image.altText,imageCrop:this.props.image.imageCrop,formats:f,onLoad:this.props.onLoad,lazyLoad:this.props.image.lazyLoad,widthOverride:this.props.image.widthOverride}))))))}var q={background:"url("+this.props.image.url+")",backgroundSize:"cover"};return d.createElement(g,{ref:"lazyLoad"},d.createElement("figure",{itemScope:"itemscope",itemType:"http://schema.org/ImageObject"},d.createElement("div",{className:c,style:h},d.createElement("div",{className:"external-image",style:q}))))}});b.exports=h},{"../../../Picturefill/PictureFill.jsx":103,"../../../Picturefill/getPictureFillFormats.js":104,react:"react","react-lazy-load":"react-lazy-load"}],23:[function(a,b,c){"use strict";var d=a("react"),e=a("../../../Picturefill/PictureFill.jsx"),f=a("../../../Picturefill/getPictureFillFormats.js"),g=(a("react-lazy-load"),d.createClass({displayName:"ImageNaturalHeight",propTypes:{image:d.PropTypes.shape({url:d.PropTypes.string.isRequired,altText:d.PropTypes.alt,aspectRatio:d.PropTypes.number,isVideo:d.PropTypes.bool.isRequired,imageCrop:d.PropTypes.string,lazyLoad:d.PropTypes.bool,widthOverride:d.PropTypes.string}).isRequired,onLoad:d.PropTypes.func,onRendered:d.PropTypes.func},load:function(){this.props.image.lazyLoad&&this.props.image.aspectRatio>0&&this.refs.image.load()},render:function(){if(this.props.image.aspectRatio>0){var a,b=100*this.props.image.aspectRatio;if(this.props.image.imageCrop)switch(this.props.image.imageCrop){case"ImmersiveLeadHorizontal":b=75;break;case"ImmersiveLeadVertical":b=133}return a={paddingBottom:b+"%"},d.createElement("figure",{itemScope:"itemscope",itemType:"http://schema.org/ImageObject"},d.createElement("div",{className:"placeholder-image-wrap",style:a},d.createElement(e,{ref:"image",alt:this.props.image.altText,src:this.props.image.url,imageCrop:this.props.image.imageCrop,formats:f,onLoad:this.props.onLoad,lazyLoad:this.props.image.lazyLoad,widthOverride:this.props.image.widthOverride})))}return d.createElement("figure",{itemScope:"itemscope",itemType:"http://schema.org/ImageObject"},d.createElement("img",{className:"external-image",alt:this.props.image.altText,src:this.props.image.url,onLoad:this.props.onLoad}))}}));b.exports=g},{"../../../Picturefill/PictureFill.jsx":103,"../../../Picturefill/getPictureFillFormats.js":104,react:"react","react-lazy-load":"react-lazy-load"}],24:[function(a,b,c){"use strict";var d=a("react"),e=a("./ImageNaturalHeight.jsx"),f=a("./ImageFramed.jsx"),g=d.createClass({displayName:"ImageComponent",propTypes:{image:d.PropTypes.shape({url:d.PropTypes.string.isRequired,altText:d.PropTypes.string,frameAspectRatio:d.PropTypes.number,letterbox:d.PropTypes.bool,imageCrop:d.PropTypes.string,aspectRatio:d.PropTypes.number,isVideo:d.PropTypes.bool,lazyLoad:d.PropTypes.bool,widthOverride:d.PropTypes.string}).isRequired,onLoad:d.PropTypes.func,onRendered:d.PropTypes.func},getDefaultProps:function(){return{image:{isVideo:!1,lazyLoad:!0,letterbox:!1}}},shouldComponentUpdate:function(a){return a!==this.props},load:function(){this.props.image.lazyLoad&&this.refs.image.load()},render:function(){return this.props.image.frameAspectRatio>0?d.createElement(f,{ref:"image",image:this.props.image,onLoad:this.props.onLoad}):d.createElement(e,{ref:"image",image:this.props.image,onLoad:this.props.onLoad})}});b.exports=g},{"./ImageFramed.jsx":22,"./ImageNaturalHeight.jsx":23,react:"react"}],25:[function(a,b,c){"use strict";var d=a("react"),e=d.createClass({displayName:"ListItem",propTypes:{item:d.PropTypes.oneOfType([d.PropTypes.string,d.PropTypes.object]).isRequired},getDefaultProps:function(){return{item:{}}},render:function(){return d.createElement("li",null,this.props.item)}});b.exports=e},{react:"react"}],26:[function(a,b,c){"use strict";var d=a("react"),e=d.createClass({displayName:"ShowMoreButton",propTypes:{classes:d.PropTypes.string,hideOnClick:d.PropTypes.bool,label:d.PropTypes.string,onClick:d.PropTypes.func.isRequired},getDefaultProps:function(){return{classes:"show-more-button",hideOnClick:!0,label:"Show More"}},getInitialState:function(){return{hideButton:!1}},handleClick:function(){this.props.onClick(),!this.state.hideButton&&this.isMounted()&&this.setState({hideButton:!0})},componentDidMount:function(){this.refs.button.addEventListener("click",this.handleClick)},render:function(){return this.state.hideButton?null:d.createElement("div",{className:this.props.classes},d.createElement("button",{className:"show-more-button__button",ref:"button"},d.createElement("span",{className:"show-more-button__text"},this.props.label)))}});b.exports=e},{react:"react"}],27:[function(a,b,c){"use strict";var d=a("react"),e=a("./ListItem.jsx"),f=d.createClass({displayName:"UnorderedList",propTypes:{items:d.PropTypes.array.isRequired},getDefaultProps:function(){return{items:[]}},render:function(){var a=0,b=this.props.items.map(function(b){return d.createElement(e,{key:a++,item:b})});return d.createElement("ul",null,b)}});b.exports=f},{"./ListItem.jsx":25,react:"react"}],28:[function(a,b,c){"use strict";var d=a("./ContentSeparator.jsx"),e=a("react"),f=a("react-dom"),g=a("@natgeo/pestle");g.Module.add("ContentSeparator",{initialize:function(){f.render(e.createElement(d,{cssClass:this.options.cssclass}),this.options.el)}})},{"./ContentSeparator.jsx":29,"@natgeo/pestle":"@natgeo/pestle",react:"react","react-dom":"react-dom"}],29:[function(a,b,c){"use strict";var d=a("react"),e=new d.createClass({propTypes:{cssClass:d.PropTypes.string},getDefaultProps:function(){return{cssClass:"content-separator"}},render:function(){return d.createElement("div",{className:this.props.cssClass},d.createElement("hr",null))}});b.exports=e},{react:"react"}],30:[function(a,b,c){"use strict";var d=(a("jquery"),a("@natgeo/pestle"));d.Module.add("Date",{isLoaded:!1,initialize:function(){var a=this,b=a.$el.next(".app-date");if(b.length>0){var c;Date.prototype.getDayName=function(){var a;return a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a[this.getDay()]},Date.prototype.getMonthName=function(){var a;return a=["January","February","March","April","May","June","July","August","September","October","November","December"],a[this.getMonth()]},c=new Date,b.text(c.getDayName()+", "+c.getMonthName()+" "+c.getDate()+", "+c.getFullYear()),a.isLoaded=!0}}})},{"@natgeo/pestle":"@natgeo/pestle",jquery:"jquery"}],31:[function(a,b,c){"use strict";a("es5-shim");var d=a("jquery"),e=a("react"),f=a("react-dom"),g=a("@natgeo/pestle"),h=a("lodash/throttle"),i=a("./PromoFeed.jsx");g.Module.add("PromoFeed",{isLoaded:!1,opts:{},$page:0,$jsonUrl:null,$showMore:null,$lastResultSize:null,$readyForMorePromos:!1,
renderPromoFeedSection:function(a){var b=this;d(b.el).append("<div class='content-block__target'></div>");var c=d(b.el).find(".content-block__target").last().get(0),g=b.$jsonUrl+"&page="+b.$page,h="";d.get(g,function(a){h=a,b.$lastResultSize=h.length},"json").done(function(){f.render(e.createElement(i,{promos:h}),c),b.$page++,a&&a()}).fail(function(){console.log("Dynamic Content Query failure")}),b.$readyForMorePromos=!0},initShowMore:function(){var a=this;a.$showMore=d(a.options.el).next(".content-block__show-more"),a.$showMore.removeClass("hidden");var b=a.$showMore.find(".content-block__show-more-button");b.on("click",function(b){b.preventDefault(),d(this).toggleClass("loading-state"),a.renderPromoFeedSection(a.initInfiniteScroll(a))})},initInfiniteScroll:function(a){function b(){if(c.$lastResultSize>0&&c.$readyForMorePromos){var a=d(window).scrollTop(),b=d("body").height(),e=d(window).height();a>b-e-500&&(c.$readyForMorePromos=!1,c.renderPromoFeedSection())}}var c=a;c.$showMore.hide(),d("body footer:last").hide();var e=h(b,1e3);d(window).scroll(e)},initialize:function(){var a=this;if("promo-feed"==a.options.displayvariation&&a.options.queryendpoint){if(a.$jsonUrl=a.options.queryendpoint,a.options.queryparameters){var b=a.options.queryparameters.replace("&","?");a.$jsonUrl=a.$jsonUrl+b}a.options.startpage&&(a.$page=a.options.startpage),a.options.infinitescroll?(a.options.loadinitialresults&&(a.renderPromoFeedSection(),a.isLoaded=!0),a.initShowMore()):(a.renderPromoFeedSection(),a.isLoaded=!0)}}})},{"./PromoFeed.jsx":32,"@natgeo/pestle":"@natgeo/pestle","es5-shim":"es5-shim",jquery:"jquery","lodash/throttle":"lodash/throttle",react:"react","react-dom":"react-dom"}],32:[function(a,b,c){"use strict";a("es5-shim");var d=(a("jquery"),a("react")),e=(a("@natgeo/pestle"),a("../../Picturefill/PictureFill.js")),f=d.createClass({displayName:"PromoFeedExternalImage",propTypes:{promo:d.PropTypes.object.isRequired},render:function(){return d.createElement("figure",null,d.createElement("img",{className:"content-block__external-image",alt:this.props.promo.leadMedia.altText,src:this.props.promo.leadMedia.url}),d.createElement("div",{className:"content-block__promo--sponsor-caption content-block__promo--image-sponsor-caption"},this.props.promo.page.sponsorContentLabel),d.createElement("div",{className:"triangle-wrapper"}))}}),g=d.createClass({displayName:"PromoFeedImage",propTypes:{promo:d.PropTypes.object.isRequired},render:function(){var a=this.props.promo.leadMedia.aspectRatio;a=100*a;var b={paddingBottom:a+"%"};return d.createElement("figure",{itemScope:"itemscope",itemType:"http://schema.org/ImageObject"},d.createElement("div",{className:"placeholder-image-wrap",style:b},d.createElement(e,{alt:this.props.promo.leadMedia.altText,src:this.props.promo.leadMedia.url})),d.createElement("div",{className:"content-block__promo--sponsor-caption content-block__promo--image-sponsor-caption"},this.props.promo.page.sponsorContentLabel),d.createElement("div",{className:"triangle-wrapper"}))}}),h=d.createClass({displayName:"PromoFeedPromo",propTypes:{promo:d.PropTypes.object.isRequired},render:function(){var a=[],b="content-block__promo clearfix",c="",e=0;return this.props.promo.page.series&&(c+="<p class='content-block__promo-series'>"+this.props.promo.page.series+"</p>"),this.props.promo.page.title&&(c+="<h3 class='content-block__promo-headline'><span itemProp='headline'>"+this.props.promo.page.title+"</span></h3>"),this.props.promo.page.abstract&&(c+="<div class='content-block__promo-dek dotdotdot'><span itemProp='description'>"+this.props.promo.page.abstract+"</span></div>"),this.props.promo.leadMedia?(this.props.promo.leadMedia.aspectRatio>0?(a.push(d.createElement(g,{key:e++,promo:this.props.promo})),this.props.promo.leadMedia.aspectRatio>=1&&(b+=" content-block__promo--vertical-image")):a.push(d.createElement(f,{key:e++,promo:this.props.promo})),this.props.promo.leadMedia.isVideo&&(b+=" content-block__promo--video")):b+=" content-block__promo--text-only",this.props.promo.page.sponsored&&(b+=" content-block__promo--sponsored"),d.createElement("div",{className:"content-block__promo-wrap"},d.createElement("div",{className:b},d.createElement("a",{href:this.props.promo.page.url,className:"div-link"}),a,d.createElement("div",{className:"content-block__text-area",dangerouslySetInnerHTML:{__html:c}}),d.createElement("div",{className:"content-block__promo--sponsor-caption content-block__promo--text-only-sponsor-caption"},this.props.promo.page.sponsorContentLabel)),d.createElement("hr",{className:"content-block__hr"}))}}),i=d.createClass({displayName:"PromoFeed",propTypes:{promos:d.PropTypes.array.isRequired},render:function(){var a=[],b=0;return this.props.promos.forEach(function(c){c.page.url&&c.page.title&&a.push(d.createElement(h,{key:b++,promo:c}))}.bind(this)),d.createElement("div",{className:"content-block container"},a)}});b.exports=i},{"../../Picturefill/PictureFill.js":102,"@natgeo/pestle":"@natgeo/pestle","es5-shim":"es5-shim",jquery:"jquery",react:"react"}],33:[function(a,b,c){"use strict";a("es5-shim"),window.$=window.jQuery=a("jquery"),window.React=a("react"),window.ReactDOM=a("react-dom"),window.Pestle=a("@natgeo/pestle");var d=a("./ThumbnailCarousel.jsx");Pestle.Module.add("ThumbnailCarousel",{isLoaded:!1,opts:{},$gallery:null,$videoModal:null,$playerId:null,$videoLoaded:!1,$jsonUrl:null,initialize:function(){var a=this;if("thumbnail-carousel"==a.options.displayvariation&&a.options.queryendpoint){if(a.$jsonUrl=a.options.queryendpoint,a.options.queryparameters){var b=a.options.queryparameters.replace("&","?");a.$jsonUrl=a.$jsonUrl+b}a.options.startpage&&(a.$jsonUrl=a.$jsonURL+"&page="+a.options.startpage),ReactDOM.render(React.createElement(d,{obj:a}),a.el),a.isLoaded=!0}}})},{"./ThumbnailCarousel.jsx":34,"@natgeo/pestle":"@natgeo/pestle","es5-shim":"es5-shim",jquery:"jquery",react:"react","react-dom":"react-dom"}],34:[function(a,b,c){"use strict";a("es5-shim");var d=a("jquery"),e=a("react"),f=(a("@natgeo/pestle"),a("../../Picturefill/PictureFill.js")),g=a("lodash/isEmpty"),h=e.createClass({displayName:"PromoSlide",propTypes:{promo:e.PropTypes.object.isRequired},render:function(){var a="";return this.props.promo.leadMedia.altText&&(a=this.props.promo.leadMedia.altText),e.createElement("div",{className:"swiper-slide"},e.createElement("a",{href:this.props.promo.page.url,className:"div-link"}),e.createElement("figure",{itemScope:"itemscope",itemType:"http://schema.org/VideoObject",className:"thumbnail-carousel__thumbnail thumbnail-carousel__promo-link"},e.createElement("div",{className:"thumbnail-carousel__image-wrap"},e.createElement(f,{alt:a,src:this.props.promo.leadMedia.url})),e.createElement("figcaption",null,e.createElement("h4",{className:"thumbnail-carousel__slide-title",itemProp:"headline"},e.createElement("a",{href:"#"},e.createElement("span",null,this.props.promo.page.title))))))}}),i=e.createClass({displayName:"VideoSlide",propTypes:{promo:e.PropTypes.object.isRequired},render:function(){var a="";return this.props.promo.abstract&&(a=this.props.promo.abstract),e.createElement("div",{className:"swiper-slide"},e.createElement("figure",{itemScope:"itemscope",itemType:"http://schema.org/VideoObject",className:"thumbnail-carousel__thumbnail app--thumbnail-video-link","data-guid":this.props.promo.guid,"data-title":this.props.promo.title,"data-abstract":a},e.createElement("div",{className:"thumbnail-carousel__image-wrap thumbnail-carousel__image-wrap--video"},e.createElement("img",{src:this.props.promo.damThumbnail})),e.createElement("figcaption",null,e.createElement("h4",{className:"thumbnail-carousel__slide-title",itemProp:"headline"},e.createElement("a",{href:"#",className:"app--thumbnail-video-link"},e.createElement("span",null,this.props.promo.title))))))}}),j=e.createClass({displayName:"CarouselWrapper",propTypes:{promos:e.PropTypes.array.isRequired,obj:e.PropTypes.object.isRequired},componentWillUnmount:function(){var a=this.props.obj,b=a.$gallery;a.$el.find(".thumbnail-carousel__prev-button").off("click"),a.$el.find(".thumbnail-carousel__next-button").off("click"),a.$el.find(".app--thumbnail-video-link").off("click"),a.$videoModal.find(".app-close-video-modal").off("click"),b.destroy()},componentDidMount:function(){function a(b){return i?!1:void(g($pdk)?setTimeout(function(){a(b)},500):null!=ngsPlayer.api?(j.$videoLoaded=!0,ngsPlayer.api.set(b,j.$playerId)):console.log("Video Player API not present"))}function b(b,c,d){e.html(c),f.html(d),a(b)}var c,e,f,h=NGS.core_site.sandbox.coreArticleHelpers.getBreakpoint(),i=NGS.core_site.sandbox.aem.isEditMode(),j=this.props.obj;"desktop"===h?j.$gallery=new Swiper(j.$el.find(".swiper-carousel"),{slidesPerView:"auto",autoplay:4e3}):j.$gallery=new Swiper(j.$el.find(".swiper-carousel"),{slidesPerView:"auto"}),c=this.props.obj.$gallery,j.$el.find(".thumbnail-carousel__prev-button").on("click",function(){c&&(0===c.activeIndex?c.slideTo(c.slides.length):c.slidePrev())}),j.$el.find(".thumbnail-carousel__next-button").on("click",function(){c.isEnd?c.slideTo(0):c.slideNext()}),j.$videoModal=j.$el.parent().find(".video-modal"),j.$closeVideoModal=j.$videoModal.find(".close-modal"),j.$playerId=j.$videoModal.find(".video-modal__player").attr("id"),e=j.$videoModal.find(".video-modal__headline"),f=j.$videoModal.find(".video-modal__dek"),j.$el.find(".app--thumbnail-video-link").on("click",function(a){var c,e;a.preventDefault(),c=d(this),j.$videoModal.addClass("on-screen"),j.$closeVideoModal.removeClass("hidden"),d("body, html").css("overflow-y","hidden"),e="http://link.theplatform.com/s/ngs/media/guid/2423130747/"+c.data("guid")+"?mbr=true&policy=12441385",b(e,c.data("title"),c.data("abstract"))}),j.$videoModal.find(".app-close-video-modal").on("click",function(a){a.preventDefault(),null==ngsPlayer.api||i||(ngsPlayer.api.unload(j.$playerId),j.$videoLoaded=!1),j.$videoModal.removeClass("on-screen"),j.$closeVideoModal.addClass("hidden"),d("body, html").css("overflow-y","auto")})},render:function(){var a=[],b=0;return this.props.promos.forEach(function(c){c.pageType&&"video/mp4"==c.pageType&&c.guid&&c.damThumbnail?a.push(e.createElement(i,{key:b++,promo:c})):c.page&&c.page.url&&c.page.title&&c.leadMedia&&c.leadMedia.url&&c.leadMedia.aspectRatio&&a.push(e.createElement(h,{key:b++,promo:c}))}.bind(this)),a.length>3?e.createElement("div",{className:"thumbnail-carousel"},e.createElement("div",{className:"thumbnail-carousel__heading hidden-md hidden-sm"},e.createElement("h3",null,"Recent Videos"),e.createElement("h3",null,e.createElement("a",{href:"http://video.nationalgeographic.com"},"See All"))),e.createElement("hr",{className:"hidden-sm hidden-md variant-carousel--mobile-hr"}),e.createElement("div",{className:"thumbnail-carousel__carousel swiper-carousel"},e.createElement("div",{className:"swiper-wrapper"},a),e.createElement("img",{className:"thumbnail-carousel__carousel-control thumbnail-carousel__prev-button hidden-sm hidden-xs",src:"/etc/designs/platform/v2/images/Galleries/gallery-prev.png"}),e.createElement("img",{className:"thumbnail-carousel__carousel-control thumbnail-carousel__next-button  hidden-sm hidden-xs",src:"/etc/designs/platform/v2/images/Galleries/gallery-next.png"}))):NGS.platform.sandbox.aem.isEditMode()?e.createElement("div",{className:"content-block container"},e.createElement("h2",null,"Thumbnail Carousel: Less than 4 valid promos selected, component will not render")):e.createElement("div",{className:"thumbnail-carousel--placeholder hidden"})}}),k=e.createClass({displayName:"ThumbnailCarousel",getInitialState:function(){return{itemResults:[]}},propTypes:{obj:e.PropTypes.object.isRequired},componentWillMount:function(){var a=this,b="";d.get(this.props.obj.$jsonUrl,function(a){b=a},"json").done(function(){a.isMounted()&&a.setState({itemResults:b})}).fail(function(){console.log("Thumbnail Carousel query failure")})},render:function(){return this.state.itemResults.length>0?e.createElement(j,{obj:this.props.obj,promos:this.state.itemResults}):e.createElement("div",{className:"thumbnail-carousel--placeholder"})}});b.exports=k},{"../../Picturefill/PictureFill.js":102,"@natgeo/pestle":"@natgeo/pestle","es5-shim":"es5-shim",jquery:"jquery","lodash/isEmpty":"lodash/isEmpty",react:"react"}],35:[function(a,b,c){"use strict";var d=a("react"),e=a("react-dom"),f=a("./EmbeddedVideoPromo.jsx");Pestle.Module.add("EmbeddedVideoPromo",{isLoaded:!1,initialize:function(){var a=this;e.render(d.createElement(f,{model:this.options}),this.el,function(){a.isLoaded=!0,a.sandbox.log.info("EmbeddedVideoPromo is loaded.")})}}),b.exports=f},{"./EmbeddedVideoPromo.jsx":36,react:"react","react-dom":"react-dom"}],36:[function(a,b,c){"use strict";var d=a("react"),e=a("../MultiLayoutPromos/components/Promo.jsx"),f=a("../MultiLayoutPromos/components/Heading.jsx"),g=a("../MultiLayoutPromos/components/LeaderboardAdSlot.jsx"),h=a("../MultiLayoutPromos/components/BoxAdSlot.jsx"),i=a("../ContentSeparator/ContentSeparator.jsx"),j=d.createClass({displayName:"EmbeddedVideoPromo",propTypes:{model:d.PropTypes.shape({adConfig:d.PropTypes.string,includeSizeOption:d.PropTypes.bool,size:d.PropTypes.string,heading:d.PropTypes.string,teaser:d.PropTypes.string,ctaText:d.PropTypes.string,ctaPath:d.PropTypes.string,ctaTarget:d.PropTypes.string,ctaDisplay:d.PropTypes.string,showDetails:d.PropTypes.array,airDetails:d.PropTypes.string,synopsis:d.PropTypes.string,videoOverlayPlayButton:d.PropTypes.bool,videoInstance:d.PropTypes.string.isRequired,videoGuid:d.PropTypes.string.isRequired,sharing:d.PropTypes.bool,ngsIsEdit:d.PropTypes.bool}).isRequired},render:function(){var a=this.props.model,b="desktop"===NGS.core_site.sandbox.coreArticleHelpers.getBreakpoint()?!0:!1,c={leadMedia:{isVideo:!0,videoModel:{autoInit:!a.ngsIsEdit,instance:a.videoInstance,guid:a.videoGuid,sharing:a.sharing,overlayPlayButton:a.videoOverlayPlayButton}},page:{synopsis:a.synopsis,airDetails:a.airDetails,details:a.showDetails,sponsored:!1}};return d.createElement("div",{className:"multi-layout-promos__wrap"},"leaderboard-ads"===a.adConfig?d.createElement(g,{includeLarge:a.includeSizeOption}):d.createElement(i,{cssClass:"multi-layout-promos__hr"}),d.createElement("div",{className:"container"},a.heading||a.teaser?d.createElement(f,{model:a}):null,d.createElement("div",{className:"mt_col-12 mt_col-lg-8 multi-layout-promos multi-layout-promos--"+a.adConfig},d.createElement(e,{promo:c,size:a.size,showImages:!1,showAbstracts:!1,showSeries:!1,showTitles:!1,showDetails:void 0!==a.showDetails,showAirDetails:void 0!==a.airDetails,showSynopsis:void 0!==a.synopsis})),"box-ads"===a.adConfig?d.createElement(h,null):null),"box-ads"===a.adConfig&&b?d.createElement("span",{className:"bumper--bottom"}):null)}});b.exports=j},{"../ContentSeparator/ContentSeparator.jsx":29,"../MultiLayoutPromos/components/BoxAdSlot.jsx":90,"../MultiLayoutPromos/components/Heading.jsx":91,"../MultiLayoutPromos/components/LeaderboardAdSlot.jsx":92,"../MultiLayoutPromos/components/Promo.jsx":95,react:"react"}],37:[function(a,b,c){"use strict";var d=a("react"),e=a("react-lazy-load"),f=a("lodash/defaultsDeep");window.ngsPlayer=a("modules-video");var g=d.createClass({displayName:"EmbeddedVideo",propTypes:{model:d.PropTypes.shape({instance:d.PropTypes.string.isRequired,guid:d.PropTypes.string.isRequired,sharing:d.PropTypes.bool,overlayPlayButton:d.PropTypes.bool}).isRequired,className:d.PropTypes.string,lazyLoad:d.PropTypes.bool},getDefaultProps:function(){return{className:"",lazyLoad:!1}},getInitialState:function(){return{isPdkLoaded:!1}},model:function(){return f(this.props.model,{autoload:!0,type:"inline",skinName:this.props.model.overlayPlayButton?"glass-ngs":"glass-ngs-no-overlay",layoutOptions:{tpShare:void 0!==this.props.model.sharing?this.props.model.sharing:!0},preferredRuntimes:"Flash,HTML5"})},createPlayer:function(){var a=this.model();return ngsPlayer.init(a)},componentDidMount:function(){return this.props.lazyLoad===!1?(this.createPlayer(),NGS.platform.sandbox.log.info('EmbeddedVideo component initialized "onLoad"')):void 0},handleOnLoad:function(){var a=NGS.platform.sandbox.aem.isEditMode();return a!==!0&&this.createPlayer(),NGS.platform.sandbox.log.info("EmbeddedVideo component LazyLoaded")},render:function(){return this.props.lazyLoad===!0?d.createElement(e,{offsetVertical:200,onContentVisible:this.handleOnLoad},d.createElement("figure",{itemType:"http://schema.org/VideoObject",className:"embedded-video "+this.props.className},d.createElement("div",{className:"embedded-video__player-wrapper"},d.createElement("div",{id:this.props.model.instance,className:"embedded-video__player","data-guid":this.props.model.guid})))):d.createElement("figure",{itemType:"http://schema.org/VideoObject",className:"embedded-video "+this.props.className},d.createElement("div",{className:"embedded-video__player-wrapper"},d.createElement("div",{id:this.props.model.instance,className:"embedded-video__player","data-guid":this.props.model.guid})))}});b.exports=g},{"lodash/defaultsDeep":268,"modules-video":"modules-video",react:"react","react-lazy-load":"react-lazy-load"}],38:[function(a,b,c){"use strict";var d=(a("jquery"),a("@natgeo/pestle")),e=a("./components/Inline.jsx");d.Module.add("InlineGallery",{isLoaded:!1,initialize:function(){ReactDOM.render(React.createElement(e,{analyticsEventSite:this.options.analyticsEventSite,backgroundColor:this.options.backgroundColor,disableEnlarge:this.options.disableEnlarge,endpoint:this.options.endpoint,galleryType:this.options.galleryType,heading:this.options.heading,hideForMobile:this.options.hideForMobile,id:this.options.id,pageTitle:this.options.pageTitle,pagewidePresentationDisabled:this.options.pagewidePresentationDisabled,previewAspectRatio:this.options.previewAspectRatio,randomSort:this.options.randomSort,showAbstracts:this.options.showAbstracts,showAssetSources:this.options.showAssetSources,showCredits:this.options.showCredits,showTitles:this.options.showTitles,showCommerceLinks:this.options.showCommerceLinks,size:this.options.size,socialLinks:this.options.socialLinks,title:this.options.title}),this.el),this.isLoaded=!0}})},{"./components/Inline.jsx":42,"@natgeo/pestle":"@natgeo/pestle",jquery:"jquery"}],39:[function(a,b,c){"use strict";var d=a("jquery"),e=a("react"),f=a("react-addons-pure-render-mixin"),g=0,h=e.createClass({displayName:"Captions",mixins:[f],propTypes:{currentSlide:e.PropTypes.number,showAbstracts:e.PropTypes.bool.isRequired,showAssetSources:e.PropTypes.bool.isRequired,showCredits:e.PropTypes.bool.isRequired,showTitles:e.PropTypes.bool.isRequired,showCommerceLinks:e.PropTypes.bool.isRequired,size:e.PropTypes.string.isRequired},fadeOutAndIn:function(){var a=this;d(a.refs.figCaption).velocity({opacity:0},{duration:1,complete:function(b){d(a.refs.figCaption).velocity({opacity:1},{duration:100,easing:"ease-in"})}})},updateCaptionHeight:function(){var a=this,b=a.refs.captionWrap.offsetHeight;d(a.refs.figCaption).velocity({height:b},{duration:100})},componentDidUpdate:function(){this.props.photosJson&&this.updateCaptionHeight()},componentWillUpdate:function(){this.refs.figCaption&&this.fadeOutAndIn()},render:function(){var a="medium"===this.props.size?"medium-caption media__caption":"media__caption",b=[];if(this.props.photosJson&&this.props.photosJson.items.length)for(var c=0;c<this.props.photosJson.items.length;c++){var d=[],f=[],h=this.props.photosJson.items[c],i=c===this.props.currentSlide-1?1:0,j=c===this.props.currentSlide-1?"relative":"absolute",k={opacity:i,position:j};if(h){if(h.title&&this.props.showTitles&&d.push(e.createElement("span",{key:g++,itemProp:"headline",className:"media__caption--title",dangerouslySetInnerHTML:{__html:h.title}})),h.caption&&this.props.showAbstracts&&d.push(e.createElement("span",{key:g++,itemProp:"caption",dangerouslySetInnerHTML:{__html:h.caption}})),(h.credit&&this.props.showCredits||h.assetSource&&this.props.showAssetSources)&&(h.credit&&this.props.showCredits&&f.push(e.createElement("span",{key:g++,dangerouslySetInnerHTML:{__html:h.credit}})),h.assetSource&&this.props.showAssetSources&&(h.credit&&this.props.showCredits&&f.push(e.createElement("br",{key:g++})),f.push(e.createElement("span",{key:g++,dangerouslySetInnerHTML:{__html:h.assetSource}}))),d.push(e.createElement("small",{key:g++,className:"media__caption--credit"},e.createElement("span",{itemProp:"author"},f)))),(h.goldButton||h.silverButton)&&this.props.showCommerceLinks){var l=[];h.goldButton&&l.push(e.createElement("a",{key:g++,href:h.goldButton.linkTrackingCode?h.goldButton.linkUrl+h.goldButton.linkTrackingCode:h.goldButton.linkUrl,target:h.goldButton.linkTarget,dangerouslySetInnerHTML:{__html:h.goldButton.linkText}})),h.silverButton&&l.push(e.createElement("a",{key:g++,href:h.silverButton.linkTrackingCode?h.silverButton.linkUrl+h.silverButton.linkTrackingCode:h.silverButton.linkUrl,target:h.silverButton.linkTarget,dangerouslySetInnerHTML:{__html:h.silverButton.linkText}})),d.push(e.createElement("span",{key:g++,className:"media__caption__commerce-links"},l))}b.push(e.createElement("div",{key:g++,className:"media__caption--text",style:k},d))}}return e.createElement("figcaption",{ref:"figCaption",className:a},e.createElement("div",{ref:"captionWrap",className:"inline-gallery__captions-wrap"},b))}});b.exports=h},{jquery:"jquery",react:"react","react-addons-pure-render-mixin":303}],40:[function(a,b,c){"use strict";var d,e=a("react"),f=a("../../components/GallerySlide.jsx"),g=a("react-addons-pure-render-mixin"),h=a("./Captions.jsx"),i=a("./Heading.jsx"),j=e.createClass({displayName:"Gallery",mixins:[g],propTypes:{analyticsEventSite:e.PropTypes.string,backgroundColor:e.PropTypes.string.isRequired,disableEnlarge:e.PropTypes.bool,galleryType:e.PropTypes.string,heading:e.PropTypes.string,hideForMobile:e.PropTypes.bool,moreHeading:e.PropTypes.string,pagewidePresentationDisabled:e.PropTypes.bool,previewAspectRatio:e.PropTypes.string,randomSort:e.PropTypes.bool,showAbstracts:e.PropTypes.bool,showAssetSources:e.PropTypes.bool,showCredits:e.PropTypes.bool,showCounter:e.PropTypes.bool,showCommerceLinks:e.PropTypes.bool,socialLinks:e.PropTypes.array,size:e.PropTypes.string.isRequired,title:e.PropTypes.shape({linkText:e.PropTypes.string,linkUrl:e.PropTypes.string,linkTarget:e.PropTypes.string})},getInitialState:function(){return this.gallery=null,this.currentSlide=1,this.totalSlides=null,this.galleryShouldRender=!1,this.galleryInitialized=!1,{windowAspectRatio:null,showButtonsOnHoverOnly:!1,firstSlideActive:!0,lastSlideActive:!1,showCounter:!1,currentSlide:null,totalSlides:null}},onTransition:function(){this.currentSlide=this.gallery.activeIndex?this.gallery.activeIndex+1:1,this.updateCounter(),1===this.currentSlide?this.isMounted()&&this.setState({firstSlideActive:!0,lastSlideActive:!1}):this.currentSlide===this.totalSlides?this.isMounted()&&this.setState({firstSlideActive:!1,lastSlideActive:!0}):this.isMounted()&&this.setState({firstSlideActive:!1,lastSlideActive:!1})},slidePrev:function(){this.gallery&&this.gallery.slidePrev()},slideNext:function(){this.gallery&&this.gallery.slideNext()},handleSlideChange:function(a){this.refs["slide-"+a.activeIndex].active()},enlargeButtonClicked:function(){var a=this.props.pageTitle||"";this.props.title&&this.props.title.linkText&&(a=this.props.title.linkText),Pestle.emit("OpenPresentationGallery",this.props.photosJson.items[this.currentSlide-1].guid)},updateCounter:function(){(this.currentSlide!==this.state.currentSlide||this.totalSlides!==this.state.totalSlides)&&this.setState({showCounter:!0,currentSlide:this.currentSlide,totalSlides:this.totalSlides})},initGallery:function(){var a=this;a.gallery=new Swiper(a.refs.galleryEl,{direction:"horizontal",onTransitionStart:function(b){a.onTransition()},onTransitionEnd:function(b){Pestle.emit("AdRefresh_Gallery"),a.handleSlideChange(b)}}),a.galleryInitialized=!0,a.updateCounter(),a.refs.previousButton&&(a.refs.previousButton.addEventListener("click",a.gallery.slidePrev),a.refs.nextButton.addEventListener("click",a.gallery.slideNext)),a.refs.enlargeButton&&a.refs.enlargeButton.addEventListener("click",a.enlargeButtonClicked),d=function(){a.isMounted()&&a.setState({showButtonsOnHoverOnly:!0}),a.refs.galleryEl.removeEventListener("mousever",d)},a.refs.galleryEl.addEventListener("mouseover",d)},componentDidMount:function(){this.galleryShouldRender&&!this.galleryInitialized&&this.initGallery()},componentDidUpdate:function(){this.galleryShouldRender&&!this.galleryInitialized&&this.initGallery()},render:function(){var a=this,b=0,c=0,d=[],g=!1,j="gtm_photogallery_previous gallery__on-image-control gallery__prev-button hidden-xs ",k="gtm_photogallery_next gallery__on-image-control gallery__next-button hidden-xs ",l="gtm_photogallery_enlarge gallery_on-image-control gallery__enlarge-button ",m=this.props.previewAspectRatio||"three-two",n=.666667,o={backgroundColor:a.props.backgroundColor};return"sixteen-nine"===m?n=.5625:"four-three"===m&&(n=.75),a.props.photosJson&&a.props.photosJson.items&&(d=a.props.photosJson.items.map(function(a){return e.createElement(f,{ref:"slide-"+c++,key:b++,lazyLoad:!0,photo:a,windowAspectRatio:n})}),g=!0,a.galleryShouldRender=!0),this.state.showButtonsOnHoverOnly&&(j+="gallery__on-image-control--hover-only ",k+="gallery__on-image-control--hover-only ",l+="gallery__on-image-control--hover-only "),this.state.firstSlideActive&&(j+=" dim "),this.state.lastSlideActive&&(k+=" dim "),a.totalSlides=d.length,e.createElement("div",null,e.createElement(i,{heading:this.props.heading,currentSlide:this.state.currentSlide,totalSlides:this.state.totalSlides,additionalButtons:!0,firstSlideActive:this.state.firstSlideActive,lastSlideActive:this.state.lastSlideActive,showButtons:g,slidePrev:this.slidePrev,slideNext:this.slideNext,title:this.props.title}),e.createElement("div",{className:"inline-gallery__carousel-wrap inline-gallery__carousel-wrap--"+m},e.createElement("div",{ref:"galleryEl",className:"inline-gallery__carousel inline-gallery__carousel--not-moused-over swiper-container ",style:o},e.createElement("div",{className:"inline-gallery__wrapper swiper-wrapper"},d),g?e.createElement("div",null,e.createElement("img",{ref:"previousButton",className:j,src:"/etc/designs/platform/v2/images/Galleries/gallery-prev.png"}),e.createElement("img",{ref:"nextButton",className:k,src:"/etc/designs/platform/v2/images/Galleries/gallery-next.png"}),this.props.randomSort||this.props.pagewidePresentationDisabled||this.props.disableEnlarge?null:e.createElement("span",{ref:"enlargeButton",className:l},e.createElement("span",{className:"hide-from-mobile"},"Enlarge"),e.createElement("span",{className:"gallery__enlarge-button__icons"},e.createElement("i",{className:"icongs-arrowse icongs"}),e.createElement("i",{className:"icongs-arrownw icongs"})))):null)),e.createElement(h,{photosJson:this.props.photosJson,currentSlide:this.currentSlide,showAbstracts:this.props.showAbstracts,showAssetSources:this.props.showAssetSources,showCredits:this.props.showCredits,showTitles:this.props.showTitles,showCommerceLinks:this.props.showCommerceLinks,size:this.props.size}))}});b.exports=j},{"../../components/GallerySlide.jsx":56,"./Captions.jsx":39,"./Heading.jsx":41,react:"react","react-addons-pure-render-mixin":303}],41:[function(a,b,c){"use strict";var d=a("react"),e=a("react-addons-pure-render-mixin"),f=a("../../components/Counter.jsx"),g=d.createClass({displayName:"Heading",mixins:[e],propTypes:{currentSlide:d.PropTypes.number,totalSlides:d.PropTypes.number,additionalButtons:d.PropTypes.bool,heading:d.PropTypes.string,showButtons:d.PropTypes.bool,firstSlideActive:d.PropTypes.bool,lastSlideActive:d.PropTypes.bool,slidePrev:d.PropTypes.func,slideNext:d.PropTypes.func,title:d.PropTypes.shape({linkText:d.PropTypes.string,linkUrl:d.PropTypes.string,linkTarget:d.PropTypes.string})},render:function(){var a=[],b=0;if(this.props.title&&this.props.title.linkText)if(this.props.title.linkUrl){var c=this.props.title.linkTarget||"_blank",e=this.props.title.linkSeoTitle||"",g=this.props.title.linkTrackingCode?this.props.title.linkUrl+this.props.title.linkTrackingCode:this.props.title.linkUrl;a.push(d.createElement("h3",{key:b++,className:"inline-gallery__title"},d.createElement("a",{href:g,alt:e,target:c,dangerouslySetInnerHTML:{__html:this.props.title.linkText}})))}else a.push(d.createElement("h3",{key:b++,className:"inline-gallery__title",dangerouslySetInnerHTML:{__html:this.props.title.linkText}}));return d.createElement("div",{className:"inline-gallery__header clearfix"},this.props.heading?d.createElement("h3",{className:"inline-gallery__header__more",dangerouslySetInnerHTML:{__html:this.props.heading}}):null,a,this.props.showButtons?d.createElement(f,{currentSlide:this.props.currentSlide,totalSlides:this.props.totalSlides,additionalButtons:!0,firstSlideActive:this.props.firstSlideActive,lastSlideActive:this.props.lastSlideActive,slidePrev:this.props.slidePrev,slideNext:this.props.slideNext}):null)}});b.exports=g},{"../../components/Counter.jsx":55,react:"react","react-addons-pure-render-mixin":303}],42:[function(a,b,c){"use strict";var d=a("jquery"),e=a("react"),f=a("./Gallery.jsx"),g=a("react-addons-pure-render-mixin"),h=!1,i=e.createClass({displayName:"InlineGallery",mixins:[g],propTypes:{analyticsEventSite:e.PropTypes.string,backgroundColor:e.PropTypes.string.isRequired,jsonDataOverride:e.PropTypes.object,endpoint:e.PropTypes.string.isRequired,galleryType:e.PropTypes.string,heading:e.PropTypes.string,hideForMobile:e.PropTypes.bool,id:e.PropTypes.string,pageTitle:e.PropTypes.string,pagewidePresentationDisabled:e.PropTypes.bool,previewAspectRatio:e.PropTypes.string,randomSort:e.PropTypes.bool,showAbstracts:e.PropTypes.bool.isRequired,showAssetSources:e.PropTypes.bool.isRequired,showCredits:e.PropTypes.bool.isRequired,showTitles:e.PropTypes.bool.isRequired,showCommerceLinks:e.PropTypes.bool.isRequired,size:e.PropTypes.string.isRequired,socialLinks:e.PropTypes.array,title:e.PropTypes.shape({linkText:e.PropTypes.string,linkUrl:e.PropTypes.string,linkTarget:e.PropTypes.string})},getInitialState:function(){return this.$window=window,{photosJson:null}},setNewContent:function(a){this.isMounted()&&a.items&&this.setState({photosJson:a})},componentWillMount:function(){this.props.jsonDataOverride&&this.setState({photosJson:this.props.jsonDataOverride})},componentDidMount:function(){var a,b=this;h=NGS.core_site.sandbox.aem.isEditMode(),this.state.photosJson||d.get(this.props.endpoint,function(b){a=b},"json").done(function(){b.setNewContent(a)}).fail(function(){NGS.core_site.sandbox.log.info("Inline Gallery query failure")})},render:function(){if(!this.state.photosJson||!this.state.photosJson.items.length)return h?e.createElement("div",{className:"empty-component-message"},e.createElement("div",{className:"empty-component-message__message"},"Insufficient Data - No Images Found")):!1;var a="gtm_photo_gallery inline-gallery ",b=this.props.title&&this.props.title.linkSeoTitle?this.props.title.linkSeoTitle:null;if(this.props.size&&"medium"===this.props.size){var c="fullsize-element clearfix";return a+="inline-gallery--medium media--medium__container ",this.props.hideForMobile&&(c+="hidden-sm"),e.createElement("div",{className:c},e.createElement("div",{className:a,"data-photogallery-name":b,itemScope:"itemScope",itemType:"http://schema.org/ImageGallery"},e.createElement(f,{analyticsEventSite:this.props.analyticsEventSite,heading:this.props.heading,showCounter:this.state.showCounter,backgroundColor:this.props.backgroundColor,pagewidePresentationDisabled:this.props.pagewidePresentationDisabled,pageTitle:this.props.pageTitle,photosJson:this.state.photosJson,previewAspectRatio:this.props.previewAspectRatio,randomSort:this.props.randomSort,showAbstracts:this.props.showAbstracts,showAssetSources:this.props.showAssetSources,showCredits:this.props.showCredits,showTitles:this.props.showTitles,showCommerceLinks:this.props.showCommerceLinks,size:this.props.size,socialLinks:this.props.socialLinks,title:this.props.title})))}return a+="inline-gallery--small clearfix ",
this.props.hideForMobile&&(a+="hidden-sm"),"related"===this.props.galleryType&&(a+="related"),e.createElement("div",{className:a,"data-photogallery-name":b,itemScope:"itemScope",itemType:"http://schema.org/ImageGallery"},e.createElement(f,{analyticsEventSite:this.props.analyticsEventSite,disableEnlarge:this.props.disableEnlarge,heading:this.props.heading,showCounter:this.state.showCounter,backgroundColor:this.props.backgroundColor,pageTitle:this.props.pageTitle,pagewidePresentationDisabled:this.props.pagewidePresentationDisabled,photosJson:this.state.photosJson,previewAspectRatio:this.props.previewAspectRatio,randomSort:this.props.randomSort,showAbstracts:this.props.showAbstracts,showAssetSources:this.props.showAssetSources,showCredits:this.props.showCredits,showTitles:this.props.showTitles,showCommerceLinks:this.props.showCommerceLinks,size:this.props.size,socialLinks:this.props.socialLinks,title:this.props.title}))}});b.exports=i},{"./Gallery.jsx":40,jquery:"jquery",react:"react","react-addons-pure-render-mixin":303}],43:[function(a,b,c){"use strict";var d=a("@natgeo/pestle"),e=a("./components/Presentation.jsx");window.React=a("react"),window.ReactDOM=a("react-dom"),d.Module.add("PresentationMode",{isLoaded:!1,initialize:function(){ReactDOM.render(React.createElement(e,{endpoint:this.options.endpoint,socialLinks:this.options.socialLinks,analyticsEventSite:this.options.analyticsEventSite}),this.el),this.isLoaded=!0}})},{"./components/Presentation.jsx":49,"@natgeo/pestle":"@natgeo/pestle",react:"react","react-dom":"react-dom"}],44:[function(a,b,c){"use strict";var d=a("react"),e=a("../../../Ads/Ad/Ad.jsx"),f=a("react-addons-pure-render-mixin"),g=d.createClass({displayName:"AdHolder",mixins:[f],propTypes:{allow600pxAd:d.PropTypes.bool,layout:d.PropTypes.string.isRequired},render:function(){if("mobile-landscape"===this.props.layout||"tablet-landscape"===this.props.layout||!NGS.core_site.sandbox.ads.globalAdConfig)return!1;var a="300x50, 320x50",b=NGS.core_site.sandbox.ads.globalAdConfig||null,c=NGS.core_site.sandbox.ads.getIndividualAdConfig("modal");return("tablet-portrait"===this.props.layout||"big-web"===this.props.layout)&&(a=this.props.allow600pxAd?"300x250, 300x600":"300x250"),c.dimensions=a,c.presentationGalleryRefresh=!0,d.createElement("div",{className:"presentation-gallery__ad-holder"},d.createElement(e,{globalAdConfig:b,adConfig:c}))}});b.exports=g},{"../../../Ads/Ad/Ad.jsx":1,react:"react","react-addons-pure-render-mixin":303}],45:[function(a,b,c){"use strict";var d=a("react"),e=d.createClass({displayName:"CaptionButton",propTypes:{captionsOpen:d.PropTypes.bool.isRequired,hideInverse:d.PropTypes.bool,onClick:d.PropTypes.func},handleClick:function(){this.props.onClick()},componentDidMount:function(){var a=this;a.refs.captionButton.addEventListener("click",a.handleClick)},componentWillUnmount:function(){var a=this;a.refs.captionButton.removeEventListener("click",a.handleClick)},render:function(){return d.createElement("div",{className:"presentation-gallery__caption-button"},d.createElement("a",{href:"javascript:void(0)",ref:"captionButton"},this.props.captionsOpen?null:d.createElement("span",null,"Read Caption"),this.props.captionsOpen&&!this.props.hideInverse?d.createElement("span",null,"Hide Caption"):null))}});b.exports=e},{react:"react"}],46:[function(a,b,c){"use strict";var d,e=a("jquery"),f=a("react"),g=a("../../../CallToActionButton/CallToActionButton.jsx"),h=a("./CloseButton.jsx"),i=a("react-addons-pure-render-mixin"),j=a("lodash/debounce"),k=f.createClass({displayName:"CaptionDrawer",mixins:[i],propTypes:{captionsOpen:f.PropTypes.bool.isRequired,currentSlide:f.PropTypes.number,includeExtraData:f.PropTypes.bool,includeCaptionCloseButton:f.PropTypes.bool,toggleCaptions:f.PropTypes.func},getInitialState:function(){return this.i=0,this.j=1e4,this.ScrollableAreaExists=!1,{backdropHeight:0,captionShouldScroll:!1}},fadeBackIn:function(){var a=this;setTimeout(function(){e(a.refs.content).velocity({opacity:1},{duration:200,easing:"ease-in"})},300)},adjustBackdrop:function(){var a,b=this,c=!1,d=!1;a=b.props.captionsOpen?b.refs.content.offsetHeight:0,a!==b.state.backdropHeight&&(c=!0),d=b.ScrollableAreaExists&&b.refs.scrollableWrap&&b.refs.scrollableWrap.offsetHeight<b.refs.slideTitle.offsetHeight+b.refs.slideCaption.offsetHeight,!b.state.captionShouldScroll&&d?c?b.setState({backdropHeight:a,captionShouldScroll:!0}):b.setState({captionShouldScroll:!0}):b.state.captionShouldScroll&&!d?c?b.setState({backdropHeight:a,captionShouldScroll:!1}):b.setState({captionShouldScroll:!1}):c&&b.setState({backdropHeight:a})},componentDidMount:function(){this.adjustBackdrop(),this.fadeBackIn(),d=j(this.adjustBackdrop,150),window.addEventListener("resize",d)},componentDidUpdate:function(){this.adjustBackdrop(),this.fadeBackIn()},componentWillUnmount:function(){window.removeEventListener("resize",d)},render:function(){var a="presentation-gallery__caption-drawer ",b=this.props.slides?this.props.slides[this.props.currentSlide-1]:null,c=[],d={height:this.state.backdropHeight+"px"};if(b){if(this.props.captionsOpen&&(a+="presentation-gallery__caption-drawer--open "),this.props.includeCaptionCloseButton&&c.push(f.createElement(h,{key:this.i++,closeModal:this.props.toggleCaptions,captionsOpen:!1})),b.title||b.caption){this.ScrollableAreaExists=!0;var e="presentation-gallery__caption-drawer__scrollable-area--wrap ";this.state.captionShouldScroll&&(e+="presentation-gallery__caption-drawer__scrollable-area--wrap--scroll"),c.push(f.createElement("div",{key:this.i++,ref:"scrollableWrap",className:e},f.createElement("div",{ref:"scrollableArea",className:"presentation-gallery__caption-drawer__scrollable-area"},f.createElement("div",{ref:"slideTitle",className:"presentation-gallery__caption-drawer__title"},b.title),f.createElement("div",{ref:"slideCaption",className:"presentation-gallery__caption-drawer__caption",dangerouslySetInnerHTML:{__html:b.caption}}))))}this.props.includeExtraData&&(b.credit&&c.push(f.createElement("div",{key:this.i++,className:"presentation-gallery__caption-drawer__credit",dangerouslySetInnerHTML:{__html:b.credit}})),b.assetSource&&c.push(f.createElement("div",{key:this.i++,className:"presentation-gallery__caption-drawer__asset-source",dangerouslySetInnerHTML:{__html:b.assetSource}})),b.goldButton&&b.goldButton.linkUrl&&c.push(f.createElement(g,{key:this.i++,type:"button",path:b.goldButton.linkUrl,target:b.goldButton.linkTarget,label:b.goldButton.linkText})),b.silverButton&&b.silverButton.linkUrl&&c.push(f.createElement(g,{className:"silver mt_btn mt_btn--primary ",key:this.i++,type:"button",path:b.silverButton.linkUrl,target:b.silverButton.linkTarget,label:b.silverButton.linkText})))}return f.createElement("figcaption",{className:a},f.createElement("div",{ref:"backdrop",className:"presentation-gallery__caption-drawer__backdrop",style:d}),f.createElement("div",{key:this.j++,ref:"content",className:"presentation-gallery__caption-drawer__content"},c))}});b.exports=k},{"../../../CallToActionButton/CallToActionButton.jsx":17,"./CloseButton.jsx":47,jquery:"jquery","lodash/debounce":"lodash/debounce",react:"react","react-addons-pure-render-mixin":303}],47:[function(a,b,c){"use strict";var d=a("react"),e=a("react-addons-pure-render-mixin"),f=d.createClass({displayName:"CloseButton",mixins:[e],propTypes:{closeModal:d.PropTypes.func,captionsOpen:d.PropTypes.bool,toggleCaptions:d.PropTypes.func},handleClick:function(){this.props.captionsOpen?this.props.toggleCaptions():this.props.closeModal()},componentDidMount:function(){var a=this;a.refs.closeButton&&a.refs.closeButton.addEventListener("click",a.handleClick)},componentWillUnmount:function(){var a=this;a.refs.closeButton&&a.refs.closeButton.removeEventListener("click",a.handleClick)},render:function(){var a="presentation-gallery__close-button ";return this.props.captionsOpen||(a+="presentation-gallery__close-button--captions-closed"),d.createElement("div",{className:a},d.createElement("a",{href:"javascript:void(0)",ref:"closeButton"},this.props.captionsOpen?d.createElement("span",null,"Hide Caption"):d.createElement("i",{className:"icongs icongs-close"})))}});b.exports=f},{react:"react","react-addons-pure-render-mixin":303}],48:[function(a,b,c){"use strict";var d,e=a("jquery"),f=a("react"),g=a("../../components/GallerySlide.jsx"),h=a("./UpNextSlide.jsx"),i=a("lodash/debounce"),j=f.createClass({displayName:"Gallery",propTypes:{galleryId:f.PropTypes.number.isRequired,goToUpNextGallery:f.PropTypes.func,indexToOpen:f.PropTypes.number,showButtons:f.PropTypes.bool,updateCounter:f.PropTypes.func.isRequired,upNextActive:f.PropTypes.bool},getInitialState:function(){return this.gallery=null,this.currentSlide=this.props.indexToOpen+1,this.totalSlides=null,this.galleryShouldRender=!1,this.cachedSlides=null,this.cachedGalleryId=null,this.newGalleryNeeded=!0,{windowAspectRatio:null,showButtonsOnHoverOnly:!1,firstSlideActive:!1,lastSlideActive:!1}},slideNext:function(){this.props.upNextActive?this.props.goToUpNextGallery():this.gallery&&this.gallery.slideNext()},handleSlideChange:function(a){this.refs["slide-"+a.activeIndex].active()},slidePrev:function(){this.gallery&&this.gallery.slidePrev()},handleKeyDown:function(a){39===a.keyCode?this.slideNext():37===a.keyCode&&this.slidePrev()},onTransition:function(){return this.gallery?(this.currentSlide=this.gallery.activeIndex?this.gallery.activeIndex+1:1,this.props.updateCounter(this.currentSlide,this.totalSlides),void(1===this.currentSlide?this.isMounted()&&this.setState({firstSlideActive:!0,lastSlideActive:!1}):this.currentSlide===this.totalSlides?this.isMounted()&&this.setState({firstSlideActive:!1,lastSlideActive:!0}):this.isMounted()&&this.setState({firstSlideActive:!1,lastSlideActive:!1}))):!1},setWindowAspectRatio:function(){var a=e(this.refs.galleryEl),b=a.height()/a.width(),c=this;this.state.windowAspectRatio!==b&&this.isMounted()&&c.setState({windowAspectRatio:b})},initGallery:function(){var a=this;a.galleryShouldRender&&a.newGalleryNeeded&&(a.gallery=new Swiper(a.refs.galleryEl,{direction:"horizontal",initialSlide:a.props.indexToOpen,observeParents:!0,onTransitionStart:function(b){a.onTransition()},onTransitionEnd:function(b){Pestle.emit("AdRefresh_PresentationGallery"),a.handleSlideChange(b)}}),a.newGalleryNeeded=!1,a.setWindowAspectRatio(),a.props.updateCounter(a.props.indexToOpen+1,a.totalSlides),d=i(a.setWindowAspectRatio,150),window.addEventListener("resize",d),this.props.showButtons&&a.refs.previousButton&&(a.refs.previousButton.addEventListener("click",a.slidePrev),a.refs.nextButton.addEventListener("click",a.slideNext)),a.onTransition(),a.gallery.update(1),setTimeout(function(){a.isMounted()&&!a.state.showButtonsOnHoverOnly&&a.setState({showButtonsOnHoverOnly:!0})},2e3))},componentDidMount:function(){this.cachedSlides=this.props.slides,this.initGallery(),window.addEventListener("keydown",this.handleKeyDown)},componentDidUpdate:function(){this.newGalleryNeeded?(this.initGallery(),this.cachedGalleryId=this.props.galleryId,this.cachedSlides=this.props.slides):this.gallery&&this.gallery.update(1)},componentWillUnmount:function(){window.removeEventListener("resize",d),window.removeEventListener("keydown",this.handleKeyDown)},componentWillUpdate:function(a){this.props.galleryId===a.galleryId&&this.props.slides===a.slides||!this.gallery||(this.gallery.destroy(),this.newGalleryNeeded=!0)},shouldComponentUpdate:function(a,b){return this.state!==b?!0:this.props.galleryId!==a.galleryId},render:function(){if(!this.props.slides)return!1;this.galleryShouldRender=!0;var a=this,b=this.props.galleryId,c=0,d=a.props.slides.map(function(d){return f.createElement(g,{ref:"slide-"+c++,key:b++,photo:d,windowAspectRatio:a.state.windowAspectRatio})}),e="gtm_photogallery_previous gallery__on-image-control gallery__prev-button ",i="gtm_photogallery_next gallery__on-image-control gallery__next-button ";return this.state.showButtonsOnHoverOnly&&(e+=" gallery__on-image-control--hover-only ",i+=" gallery__on-image-control--hover-only "),this.state.firstSlideActive&&(e+=" dim "),this.state.lastSlideActive&&(i+=" dim "),this.props.upNextActive&&(i+=" hidden "),this.props.upNext&&d.push(f.createElement(h,{ref:"slide-"+c++,key:b++,page:this.props.upNext,goToUpNextGallery:this.props.goToUpNextGallery})),a.totalSlides=d.length,f.createElement("div",{ref:"galleryEl",className:"presentation-gallery__gallery-window swiper-container"},f.createElement("div",{className:"swiper-wrapper"},d),this.props.showButtons?f.createElement("div",null,f.createElement("img",{ref:"previousButton",className:e,src:"/etc/designs/platform/v2/images/Galleries/gallery-prev.png"}),f.createElement("img",{ref:"nextButton",className:i,src:"/etc/designs/platform/v2/images/Galleries/gallery-next.png"})):null)}});b.exports=j},{"../../components/GallerySlide.jsx":56,"./UpNextSlide.jsx":54,jquery:"jquery","lodash/debounce":"lodash/debounce",react:"react"}],49:[function(a,b,c){"use strict";var d,e,f=a("jquery"),g=a("react-addons-pure-render-mixin"),h=a("react"),i=a("../../components/Counter.jsx"),j=a("./CloseButton.jsx"),k=a("./CaptionButton.jsx"),l=a("./ShareButton.jsx"),m=a("./AdHolder.jsx"),n=a("./Gallery.jsx"),o=a("./CaptionDrawer.jsx"),p=a("./ShareDrawer.jsx"),q=a("./SlideInfoArea.jsx"),r=a("./Title.jsx"),s=a("lodash/debounce"),t=0;window.PresentationGalleryOpen=!1;var u=h.createClass({displayName:"PresentationGallery",mixins:[g],propTypes:{endpoint:h.PropTypes.string,socialLinks:h.PropTypes.array,jsonOverride:h.PropTypes.object},getInitialState:function(){return this.$window=window,this.body=f("html, body"),this.pathname=window.location.pathname,this.activeGallery="page",this.galleryShouldRender=!1,this.pageSlides=null,this.relatedSlides=null,this.galleryKey=1e7,this.upNext=null,this.pageTitle=null,this.relatedTitle=null,this.activeUpNextGalleryUrl=null,this.checkDeepLink=!0,this.showLoadingState=!0,{allow600pxAd:!1,captionsOpen:!1,currentSlide:null,isTooSmallForUpNextCTAButton:!1,layout:null,modalOpen:!1,indexToOpen:0,showCounter:!1,slides:null,title:null,totalSlides:null}},toggleCaptions:function(){var a=!this.state.captionsOpen;this.setState({captionsOpen:a})},updateCounter:function(a,b){(a!==this.state.currentSlide||b!==this.state.totalSlides)&&this.setState({showCounter:!0,currentSlide:a,totalSlides:b,captionsOpen:!1})},fireSocialModal:function(){Pestle.emit("socialmodal:toggle")},resizeHandler:function(){var a,b,c=f(this.$window).height(),d=f(this.$window).width(),e=!1;if(NGS.core_site.sandbox.coreArticleHelpers.truncateText(),d>720&&c>600)d>1e3?(a="big-web",c>950&&(e=!0)):a=900>c?"tablet-landscape":"tablet-portrait";else if(c>d){a="mobile-portrait";var g=c-182,h=440>d?.6666667*(d-40):267,i=174+h;b=i>g}else a="mobile-landscape",b=500>d;(a!==this.state.layout||e!==this.state.allow600pxAd||b!==this.state.isTooSmallForUpNextCTAButton)&&this.setState({layout:a,allow600pxAd:e,isTooSmallForUpNextCTAButton:b})},handleKeyDown:function(a){27==a.keyCode&&this.closeModal()},getData:function(a,b,c){var d,e=this;f.get(a,function(a){d=a},"json").done(function(){e.setNewGalleryContent(d,b,c)}).fail(function(){NGS.core_site.sandbox.log.info("Presentation Gallery query failure")})},setNewGalleryContent:function(a,b){function c(a,b){for(var c=[],d=0;d<a.length;d++)if(b)c.push(a[d]);else if("PHOTO_GALLERY"===a[d].componentType&&a[d].items.length)for(var e=0;e<a[d].items.length;e++)c.push(a[d].items[e]);else"IMAGE"===a[d].componentType&&c.push(a[d]);return c}return a.items||a.relatedGallery&&a.relatedGallery.items?(this.pageSlides=c(a.items),this.pageTitle=a.title||null,a.relatedGallery&&a.relatedGallery.items.length&&(this.relatedSlides=c(a.relatedGallery.items,!0),this.relatedTitle=a.relatedGallery.title.linkText||this.title),this.upNext=a.upNext&&a.upNext.path&&a.upNext.title&&a.upNext.endpointUrl?a.upNext:null,this.galleryKey+=100,"upNext"===b&&this.isMounted()&&this.setState({captionsOpen:!1,showCounter:!1,currentSlide:null,totalSlides:null,indexToOpen:0,slides:this.pageSlides,title:this.pageTitle}),void(deepLinkProvided&&this.checkDeepLink&&(this.openGallery(null,deepLinkProvided),this.checkDeepLink=!1))):!1},openGallery:function(a,b){var c,d,e=this,g=null;if(e.galleryShouldRender=!1,b){for(var h=0;h<e.pageSlides.length;h++){var i=e.pageSlides[h].url.indexOf(b);i=i+="qq",e.pageSlides[h].url&&-1!==e.pageSlides[h].url.indexOf(b)&&(g=h,e.activeGallery="page",d=e.pageSlides,c=this.pageTitle)}if(!g&&e.relatedSlides)for(var h=0;h<e.relatedSlides.length;h++)e.relatedSlides[h].url&&-1!==e.relatedSlides[h].url.indexOf(b)&&(g=h,e.activeGallery="related",d=e.relatedSlides,c=this.relatedTitle)}else{if(e.pageSlides)for(var h=0;h<e.pageSlides.length;h++)e.pageSlides[h].guid===a&&(g=h,e.activeGallery="page",d=e.pageSlides,c=this.pageTitle);if(!g&&e.relatedSlides)for(var h=0;h<e.relatedSlides.length;h++)e.relatedSlides[h].guid===a&&(g=h,e.activeGallery="related",d=e.relatedSlides,c=this.relatedTitle)}if(null===g)return b&&(this.body.removeClass("ngs-generic-modal__noscroll"),this.closeModal(),this.hideLoadingState()),!1;if(e.setState({captionsOpen:!1,currentSlide:null,indexToOpen:g||0,showCounter:!1,slides:d,title:c,totalSlides:null}),e.galleryShouldRender=!0,this.state.modalOpen||b)b&&e.setState({modalOpen:!0});else{e.setState({modalOpen:!0});var j=f(e.refs.modal);j.velocity({scale:"80%",opacity:0},{duration:1,complete:function(a){j.velocity({scale:"100%",opacity:1},{duration:150,easing:"ease-in"})}})}},closeModal:function(){this.state.modalOpen&&(this.activeUpNextGalleryUrl?window.location.href=this.activeUpNextGalleryUrl:this.isMounted()&&(Pestle.emit("FireBaseAds"),this.setState({modalOpen:!1})))},deepLinkManager:function(){if(!this.state.slides||!window.history)return!1;var a=this.activeUpNextGalleryUrl||this.pathname;if(this.state.modalOpen&&this.state.slides[this.state.currentSlide-1]){var b=this.state.slides[this.state.currentSlide-1].url,c=b?"#/"+b.substring(b.lastIndexOf("/")+1):"";history.replaceState(null,null,a+c)}else history.replaceState(null,null,a)},goToUpNextGallery:function(a){a&&a.preventDefault(),this.upNext&&this.upNext.path&&(this.activeUpNextGalleryUrl=this.upNext.path,this.getData(this.upNext.endpointUrl,"upNext"),Pestle.emit("AdRefresh_PresentationGallery"))},hideLoadingState:function(){var a=document.getElementById("loadingPresentation");a&&(a.style.display="none",this.showLoadingState=!1)},componentWillMount:function(){this.resizeHandler(),this.props.jsonOverride?this.setNewGalleryContent(this.props.jsonOverride,"initial"):this.getData(this.props.endpoint,"initial",deepLinkProvided)},componentDidMount:function(){var a=this;Pestle.on("OpenPresentationGallery",a.openGallery),d=s(a.resizeHandler,100),e=s(a.resizeHandler,2e3),a.$window.addEventListener("resize",d),a.$window.addEventListener("orientationchange",e),a.$window.addEventListener("keydown",this.handleKeyDown)},componentDidUpdate:function(){this.deepLinkManager(),this.showLoadingState&&this.state.modalOpen&&this.hideLoadingState()},componentWillUnmount:function(){this.$window.removeEventListener("resize",d),this.$window.removeEventListener("orientationchange",e),this.$window.removeEventListener("keydown",this.handleKeyDown)},render:function(){var a="gtm_photo_gallery presentation-gallery ",b=[],c=[],d=[],e=!1,f=!0,g=!0,s="page"===this.activeGallery?this.upNext:null,u=this.upNext&&this.state.totalSlides&&this.state.totalSlides===this.state.currentSlide;if("big-web"===this.state.layout)a+="nonmobile big-web ",b.push(h.createElement("div",{key:t++,className:"presentation-gallery__header"},h.createElement("a",{href:"http://nationalgeographic.com",className:"presentation-gallery__logo-link"},h.createElement("div",{className:"presentation-gallery__box-logo"})),u?null:h.createElement("div",{className:"presentation-gallery__spacer "}),this.state.title?h.createElement(r,{title:this.state.title}):null,h.createElement(j,{closeModal:this.closeModal,captionsOpen:!1}),u?null:h.createElement("div",{className:"presentation-gallery__spacer presentation-gallery__spacer--right"}),u?null:h.createElement(p,{socialLinks:this.props.socialLinks,analyticsEventSite:this.props.analyticsEventSite}),this.state.showCounter&&!u?h.createElement(i,{currentSlide:this.state.currentSlide,totalSlides:this.state.totalSlides}):null)),c.push(h.createElement("div",{key:t++,className:"presentation-gallery__right-rail"},h.createElement(q,{analyticsEventSite:this.props.analyticsEventSite,toggleCaptions:this.toggleCaptions,slides:this.state.slides,currentSlide:this.state.currentSlide,captionsOpen:this.state.captionsOpen,includeShareDrawer:!1,socialLinks:this.props.socialLinks,upNextActive:u})));else if("tablet-portrait"===this.state.layout||"tablet-landscape"===this.state.layout){var v="tablet-portrait"===this.state.layout;a+=v?"nonmobile tablet-portrait ":"nonmobile tablet-landscape ",b.push(h.createElement("div",{key:t++,className:"presentation-gallery__header"},h.createElement("a",{href:"http://nationalgeographic.com",className:"presentation-gallery__logo-link"},h.createElement("div",{className:"presentation-gallery__box-logo"})),u?null:h.createElement("div",{className:"presentation-gallery__spacer "}),this.state.title?h.createElement(r,{title:this.state.title}):null,h.createElement(j,{closeModal:this.closeModal,captionsOpen:!1}),v||u?null:h.createElement("div",{className:"presentation-gallery__spacer presentation-gallery__spacer--right"}),v||u?null:h.createElement(p,{socialLinks:this.props.socialLinks,analyticsEventSite:this.props.analyticsEventSite}),v||u?null:h.createElement("div",{className:"presentation-gallery__spacer presentation-gallery__spacer--right"}),this.state.showCounter&&!u?h.createElement(i,{currentSlide:this.state.currentSlide,totalSlides:this.state.totalSlides}):null)),d.push(h.createElement("div",{key:t++,className:"presentation-gallery__footer"},h.createElement(q,{analyticsEventSite:this.props.analyticsEventSite,toggleCaptions:this.toggleCaptions,slides:this.state.slides,currentSlide:this.state.currentSlide,captionsOpen:this.state.captionsOpen,includeShareDrawer:v,socialLinks:this.props.socialLinks,upNextActive:u})))}else"mobile-portrait"===this.state.layout?(a+="mobile-portrait ",this.state.isTooSmallForUpNextCTAButton&&(a+="presentation-gallery--hide-up-next-cta-button"),e=!0,f=!1,g=!1,b.push(h.createElement("div",{key:t++,className:"presentation-gallery__header"},h.createElement("a",{href:"http://nationalgeographic.com",className:"presentation-gallery__logo-link"},h.createElement("div",{className:"presentation-gallery__box-logo"})),u?null:h.createElement("div",{className:"presentation-gallery__spacer "}),this.state.showCounter&&!u?h.createElement(i,{currentSlide:this.state.currentSlide,totalSlides:this.state.totalSlides}):null,h.createElement(j,{closeModal:this.closeModal,toggleCaptions:this.toggleCaptions,captionsOpen:this.state.captionsOpen}))),d.push(h.createElement("div",{key:t++,className:"presentation-gallery__footer"},u?null:h.createElement(k,{onClick:this.toggleCaptions,captionsOpen:this.state.captionsOpen,hideInverse:!0}),u?null:h.createElement(l,{onClick:this.fireSocialModal})))):"mobile-landscape"===this.state.layout&&(a+="mobile-landscape ",this.state.isTooSmallForUpNextCTAButton&&(a+="presentation-gallery--hide-up-next-cta-button"),e=!0,f=!1,g=!1,c.push(h.createElement("div",{key:t++,className:"presentation-gallery__right-rail"},h.createElement(j,{closeModal:this.closeModal,toggleCaptions:this.toggleCaptions,captionsOpen:this.state.captionsOpen}),u?null:h.createElement(k,{onClick:this.toggleCaptions,captionsOpen:this.state.captionsOpen,hideInverse:!0}),u?null:h.createElement(l,{onClick:this.fireSocialModal}),this.state.showCounter&&!u?h.createElement(i,{currentSlide:this.state.currentSlide,totalSlides:this.state.totalSlides}):null)));return this.state.modalOpen?(a+=" on-screen",this.body.addClass("ngs-generic-modal__noscroll"),PresentationGalleryOpen=!0):this.showLoadingState||(this.body.removeClass("ngs-generic-modal__noscroll"),PresentationGalleryOpen=!1),this.galleryShouldRender?h.createElement("div",{ref:"modal",className:a,"data-photogallery-name":this.state.title},b,h.createElement(n,{galleryId:this.galleryKey,slides:this.state.slides,updateCounter:this.updateCounter,indexToOpen:this.state.indexToOpen,showButtons:f,upNext:s,upNextActive:u,goToUpNextGallery:this.goToUpNextGallery}),c,d,h.createElement(o,{slides:this.state.slides,captionsOpen:this.state.captionsOpen,currentSlide:this.state.currentSlide,includeExtraData:e,includeCaptionCloseButton:g,toggleCaptions:this.toggleCaptions}),this.galleryShouldRender?h.createElement(m,{key:"adHolder",layout:this.state.layout,allow600pxAd:this.state.allow600pxAd}):null):h.createElement("div",{className:a,"data-photogallery-name":this.state.title})}});b.exports=u},{"../../components/Counter.jsx":55,"./AdHolder.jsx":44,"./CaptionButton.jsx":45,"./CaptionDrawer.jsx":46,"./CloseButton.jsx":47,"./Gallery.jsx":48,"./ShareButton.jsx":50,"./ShareDrawer.jsx":51,"./SlideInfoArea.jsx":52,"./Title.jsx":53,jquery:"jquery","lodash/debounce":"lodash/debounce",react:"react","react-addons-pure-render-mixin":303}],50:[function(a,b,c){"use strict";var d=a("react"),e=a("react-addons-pure-render-mixin"),f=d.createClass({displayName:"ShareButton",mixins:[e],propTypes:{onClick:d.PropTypes.func.isRequired},componentDidMount:function(){var a=this;this.refs.shareButton.addEventListener("click",function(){a.props.onClick()})},componentWillUnmount:function(){var a=this;this.refs.shareButton.removeEventListener("click",function(){a.props.onClick()})},render:function(){return d.createElement("a",{href:"javascript:void(0)",ref:"shareButton",className:"presentation-gallery__share-button"},d.createElement("i",{className:"icongs icongs-share"}))}});b.exports=f},{react:"react","react-addons-pure-render-mixin":303}],51:[function(a,b,c){"use strict";var d,e=a("react"),f=a("react-addons-pure-render-mixin"),g=a("../../../social/AddThis/SocialLink.jsx"),h=e.createClass({displayName:"ShareDrawer",mixins:[f],propTypes:{socialLinks:e.PropTypes.arrayOf(e.PropTypes.shape({socialLink:e.PropTypes.shape({icon:e.PropTypes.string,class:e.PropTypes.string,analyticsEvent:e.PropTypes.string})})),maxVisible:e.PropTypes.number},getInitialState:function(){return{collapsed:!0}},expand:function(){this.isMounted()&&this.setState({collapsed:!1})},componentDidMount:function(){var a=this;d=a.expand,this.refs.expandButton&&a.refs.expandButton.addEventListener("click",d),window.addthis?addthis.toolbox(".presentation-gallery__social-button__holder"):NGS.core_site.sandbox.log.info("Presentation Gallery - AddThis not initialized available")},componentWillUnmount:function(){var a=this;this.refs.expandButton&&a.refs.expandButton.removeEventListener("click",d)},handleClick:function(a,b){b.preventDefault(),"Print"===a&&window.print()},render:function(){var a=this,b="presentation-gallery__share-drawer__expand-button ";return this.state.collapsed||(b+="presentation-gallery__share-drawer__expand-button--collapsed "),e.createElement("div",{className:"presentation-gallery__share-drawer__wrap"},e.createElement("div",{className:"presentation-gallery__share-drawer"},e.createElement("div",{className:"presentation-gallery__share-drawer__spacer"},e.createElement("span",{className:"presentation-gallery__share-drawer__label"},"Share:"),this.props.socialLinks?this.props.socialLinks.map(function(b,c){return"Print"!==b.socialLink.analyticsEvent?e.createElement("div",{key:c,className:3>c||!a.state.collapsed?"presentation-gallery__social-button ":"presentation-gallery__social-button collapsable"},e.createElement(g,{className:"presentation-gallery__social-button__holder",icon:b.socialLink.icon,internalClassName:b.socialLink.class,analyticsEvent:b.socialLink.analyticsEvent,analyticsEventSite:a.props.analyticsEventSite,onClick:a.handleClick.bind(a,b.socialLink.analyticsEvent)})):void 0}):null,e.createElement("button",{className:b,ref:"expandButton"},e.createElement("div",{className:"presentation-gallery__share-drawer__expand-button__spacer"},e.createElement("div",{className:"presentation-gallery__share-drawer__expand-button__dot"}),e.createElement("div",{className:"presentation-gallery__share-drawer__expand-button__dot"}),e.createElement("div",{className:"presentation-gallery__share-drawer__expand-button__dot"}))))))}});b.exports=h},{"../../../social/AddThis/SocialLink.jsx":131,react:"react","react-addons-pure-render-mixin":303}],52:[function(a,b,c){"use strict";var d,e=a("react"),f=(a("./AdHolder.jsx"),a("../../../CallToActionButton/CallToActionButton.jsx")),g=a("./CaptionButton.jsx"),h=a("./ShareDrawer.jsx"),i=a("react-addons-pure-render-mixin"),j=a("lodash/debounce"),k=0,l=e.createClass({displayName:"SlideInfoArea",mixins:[i],propTypes:{analyticsEventSite:e.PropTypes.string,captionsOpen:e.PropTypes.bool.isRequired,currentSlide:e.PropTypes.number,includeShareDrawer:e.PropTypes.bool,socialLinks:e.PropTypes.array,toggleCaptions:e.PropTypes.func.isRequired,upNextActive:e.PropTypes.bool},getInitialState:function(){return this.ScrollableAreaExists=!1,this.currentSlide=1,{captionShouldScroll:!1}},checkForScroll:function(){var a=this.ScrollableAreaExists&&this.refs.scrollableWrap&&this.refs.scrollableWrap.offsetHeight<this.refs.credit.offsetHeight+this.refs.assetSource.offsetHeight;a&&!this.state.captionShouldScroll?this.isMounted()&&this.setState({captionShouldScroll:!0}):!a&&this.state.captionShouldScroll&&this.isMounted()&&this.setState({captionShouldScroll:!1})},componentDidMount:function(){this.checkForScroll(),d=j(this.checkForScroll,150),window.addEventListener("resize",d)},componentDidUpdate:function(){this.currentSlide!=this.props.currentSlide&&this.checkForScroll(),this.currentSlide=this.props.currentSlide},componentWillUnmount:function(){window.removeEventListener("resize",d)},render:function(){var a=this.props.slides?this.props.slides[this.props.currentSlide-1]:null,b=[];if(this.props.includeShareDrawer&&!this.props.upNextActive&&b.push(e.createElement(h,{key:k++,socialLinks:this.props.socialLinks,analyticsEventSite:this.props.analyticsEventSite})),a){if(a.title&&b.push(e.createElement("div",{key:k++,className:"presentation-gallery__slide-info-area__title dotdotdot"},a.title)),a.credit||a.assetSource){this.ScrollableAreaExists=!0;var c="presentation-gallery__slide-info-area__scrollable-area--wrap ";this.state.captionShouldScroll&&(c+="presentation-gallery__slide-info-area__scrollable-area--wrap--scroll"),b.push(e.createElement("div",{key:this.i++,ref:"scrollableWrap",className:c},e.createElement("div",{ref:"scrollableArea",className:"presentation-gallery__slide-info-area__scrollable-area"},e.createElement("div",{ref:"credit",className:"presentation-gallery__slide-info-area__credit",dangerouslySetInnerHTML:{__html:a.credit}}),e.createElement("div",{ref:"assetSource",className:"presentation-gallery__slide-info-area__asset-source",dangerouslySetInnerHTML:{__html:a.assetSource}}))))}a.caption&&b.push(e.createElement(g,{key:k++,onClick:this.props.toggleCaptions,captionsOpen:this.props.captionsOpen})),(a.silverButton&&a.silverButton.linkUrl||a.goldButton&&a.goldButton.linkUrl)&&b.push(e.createElement("div",{key:k++,className:"presentation-gallery__slide-info-area__buy-buttons"},a.goldButton&&a.goldButton.linkUrl?e.createElement(f,{type:"button",path:a.goldButton.linkUrl,target:a.goldButton.linkTarget,label:a.goldButton.linkText}):null,a.silverButton&&a.silverButton.linkUrl?e.createElement(f,{className:"silver mt_btn mt_btn--primary ",type:"button",path:a.silverButton.linkUrl,target:a.silverButton.linkTarget,label:a.silverButton.linkText}):null))}return e.createElement("div",{className:"presentation-gallery__slide-info-area"},b)}});b.exports=l},{"../../../CallToActionButton/CallToActionButton.jsx":17,"./AdHolder.jsx":44,"./CaptionButton.jsx":45,"./ShareDrawer.jsx":51,"lodash/debounce":"lodash/debounce",react:"react","react-addons-pure-render-mixin":303}],53:[function(a,b,c){"use strict";var d=a("react"),e=a("react-addons-pure-render-mixin"),f=d.createClass({
displayName:"Title",mixins:[e],propTypes:{title:d.PropTypes.string.isRequired},componentDidMount:function(){NGS.core_site.sandbox.coreArticleHelpers.truncateText()},render:function(){return d.createElement("div",{className:"presentation-gallery__title dotdotdot",dangerouslySetInnerHTML:{__html:this.props.title}})}});b.exports=f},{react:"react","react-addons-pure-render-mixin":303}],54:[function(a,b,c){"use strict";var d=a("react"),e=a("react-addons-pure-render-mixin"),f=a("../../../Common/components/Images/Images.jsx"),g=d.createClass({displayName:"UpNextSlide",mixins:[e],propTypes:{page:d.PropTypes.shape({path:d.PropTypes.string.isRequired,title:d.PropTypes.string.isRequired,image:d.PropTypes.shape({title:d.PropTypes.string,url:d.PropTypes.string,aspectRatio:d.PropTypes.aspectRatio,altText:d.PropTypes.string})})},getInitialState:function(){return{activated:!1}},componentDidMount:function(){this.refs.divLink.addEventListener("click",this.props.goToUpNextGallery),this.refs.continueButtonDesktop.addEventListener("click",this.props.goToUpNextGallery),this.refs.continueButtonMobile.addEventListener("click",this.props.goToUpNextGallery)},componentWillUnmount:function(){this.refs.divLink.removeEventListener("click",this.props.goToUpNextGallery),this.refs.continueButtonDesktop.removeEventListener("click",this.props.goToUpNextGallery),this.refs.continueButtonMobile.removeEventListener("click",this.props.goToUpNextGallery)},active:function(){this.refs.image&&!this.state.activated&&(this.setState({activated:!0}),this.refs.image.load())},render:function(){var a=null,b=this.props.page;return b.image&&b.image.url&&(a={url:b.image.url,frameAspectRatio:.66667,aspectRatio:b.image.aspectRatio||null,isVideo:!1,altText:b.image.altText,lazyLoad:!0}),d.createElement("div",{className:"swiper-slide presentation-gallery__up-next-slide"},d.createElement("div",{className:"presentation-gallery__up-next-slide__holder clearfix"},d.createElement("a",{ref:"divLink",className:"div-link",href:b.path,title:"View Next Gallery"}),a?d.createElement("div",{className:"presentation-gallery__up-next-slide__label"},"MORE PHOTOS"):null,d.createElement("div",{className:"presentation-gallery__up-next-slide__image-and-title-holder clearfix"},a?d.createElement(f,{ref:"image",image:a}):null,d.createElement("div",{className:"presentation-gallery__up-next-slide__title-and-button-holder"},d.createElement("div",{className:"presentation-gallery__up-next-slide__title dotdotdot",dangerouslySetInnerHTML:{__html:b.title}}),d.createElement("div",{ref:"continueButtonMobile",className:"presentation-gallery__up-next-slide__continue-button presentation-gallery__up-next-slide__continue-button--mobile gallery__on-image-control"},d.createElement("div",{className:"presentation-gallery__up-next-slide__continue-button__holder mt_btn--primary"},d.createElement("span",null,"Continue"),d.createElement("i",{className:"icongs-directionright icongs"})))))),d.createElement("div",{ref:"continueButtonDesktop",className:"presentation-gallery__up-next-slide__continue-button presentation-gallery__up-next-slide__continue-button--desktop gallery__on-image-control"},d.createElement("div",{className:"presentation-gallery__up-next-slide__continue-button__holder mt_btn--primary"},d.createElement("span",null,"Continue"),d.createElement("i",{className:"icongs-directionright icongs"}))))}});b.exports=g},{"../../../Common/components/Images/Images.jsx":24,react:"react","react-addons-pure-render-mixin":303}],55:[function(a,b,c){"use strict";var d=a("react"),e=a("react-addons-pure-render-mixin"),f=d.createClass({displayName:"Counter",mixins:[e],propTypes:{additionalButtons:d.PropTypes.bool,baseClass:d.PropTypes.string,currentSlide:d.PropTypes.number,totalSlides:d.PropTypes.number,slideNext:d.PropTypes.func,slidePrev:d.PropTypes.func},componentDidMount:function(){this.refs.previousButton&&(this.refs.previousButton.addEventListener("click",this.props.slidePrev),this.refs.nextButton.addEventListener("click",this.props.slideNext))},componentWillUnmount:function(){this.refs.previousButton&&(this.refs.previousButton.removeEventListener("click",this.props.slidePrev),this.refs.nextButton.removeEventListener("click",this.props.slideNext))},render:function(){var a=this.props.baseClass||"gallery",b=this.props.firstSlideActive?"faded":" ",c=this.props.lastSlideActive?"faded":" ";return d.createElement("div",{className:a+"__counter"},this.props.additionalButtons?d.createElement("i",{ref:"previousButton",className:" gtm_photogallery_previous icongs-directionleft icongs gallery__counter__prev "+b}):null,d.createElement("span",{className:a+"__current-item-display"},this.props.currentSlide),"/",d.createElement("span",{className:a+"__total-items-display"},this.props.totalSlides),this.props.additionalButtons?d.createElement("i",{ref:"nextButton",className:"gtm_photogallery_next icongs-directionright icongs gallery__counter__next "+c}):null)}});b.exports=f},{react:"react","react-addons-pure-render-mixin":303}],56:[function(a,b,c){"use strict";var d=a("react"),e=a("../../Common/components/Images/Images.jsx"),f=a("react-addons-pure-render-mixin"),g=d.createClass({displayName:"GallerySlide",mixins:[f],propTypes:{photo:d.PropTypes.shape({url:d.PropTypes.string,altText:d.PropTypes.string,windowAspectRatio:d.PropTypes.number})},getInitialState:function(){return{activated:!1}},active:function(){this.refs.image&&!this.state.activated&&(this.setState({activated:!0}),this.refs.image.load())},render:function(){var a={url:this.props.photo.url,altText:this.props.photo.altText,aspectRatio:parseFloat(this.props.photo.aspectRatio),lazyLoad:!0,frameAspectRatio:this.props.windowAspectRatio,letterbox:!0};return d.createElement("div",{className:"swiper-slide"},this.props.windowAspectRatio?d.createElement(e,{ref:"image",image:a}):null)}});b.exports=g},{"../../Common/components/Images/Images.jsx":24,react:"react","react-addons-pure-render-mixin":303}],57:[function(a,b,c){"use strict";var d=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},e=a("react"),f=new e.createClass({propTypes:{item:e.PropTypes.object.isRequired},getDefaultProps:function(){return{item:{linkUrl:"",linkText:"",linkTarget:""}}},render:function(){var a=this.props.item.linkTarget?this.props.item.linkTarget:"_self";return e.createElement("a",d({href:this.props.item.linkUrl,target:a},this.props),this.props.item.linkText)}});b.exports=f},{react:"react"}],58:[function(a,b,c){"use strict";var d=a("./GenericModal.jsx"),e=a("react"),f=a("react-dom"),g=a("@natgeo/pestle");g.Module.add("GenericModal",{initialize:function(){f.render(e.createElement(d,null),this.options.el)}})},{"./GenericModal.jsx":59,"@natgeo/pestle":"@natgeo/pestle",react:"react","react-dom":"react-dom"}],59:[function(a,b,c){"use strict";var d=a("jquery"),e=a("react"),f=d(document.body),g=(a("velocity-animate"),new e.createClass({propTypes:{className:e.PropTypes.string,outerClickClose:e.PropTypes.bool,displayCloseButton:e.PropTypes.bool,transitionSpeed:e.PropTypes.number,transitionType:e.PropTypes.string,disableScrollOnShow:e.PropTypes.bool},getDefaultProps:function(){return{className:"ngs-generic-modal",outerClickClose:!0,transitionSpeed:250,transitionType:"fade",displayCloseButton:!0,disableScrollOnShow:!1,onClose:function(){},onModalClick:function(){}}},getInitialState:function(){return this.shouldRender=!1,{opacity:0,visibility:"hidden",renderNGSModal:!1}},componentDidMount:function(){f.on("keydown.GenericModal",this.handleKeyDown)},componentWillUnMount:function(){f.off("keydown.GenericModal")},handleKeyDown:function(a){27==a.keyCode&&this.props.onClose(a)},componentWillReceiveProps:function(a){this.props.renderNGSModal!=a.renderNGSModal&&(a.transitionSpeed?a.renderNGSModal===!0?this.transitionIn():this.transitionOut():(this.shouldRender=a.renderNGSModal,this.setState({renderNGSModal:a.renderNGSModal})),a.disableScrollOnShow&&NGS.platform.sandbox.coreArticleHelpers.disableScrollEvent(a.renderNGSModal))},transitionIn:function(){var a="slide"!==this.props.transitionType?{opacity:1}:{left:0,bottom:0};this.shouldRender=!0,this.setState({renderNGSModal:!0},function(){d.Velocity(this.refs.modalWindow,a,{duration:this.props.transitionSpeed})})},transitionOut:function(){var a=this;d.Velocity(this.refs.modalWindow,{opacity:0},{duration:this.props.transitionSpeed,complete:function(){a.refs.modalWindow.removeAttribute("style"),a.setState({renderNGSModal:!1})}})},hideOnOuterClick:function(a){this.props.outerClickClose!==!1&&a.target.dataset.modal&&this.props.onClose(a)},onModalClick:function(a){"function"==typeof this.props.onModalClick&&this.props.onModalClick(a)},render:function(){if(!this.shouldRender)return null;var a="slide"===this.props.transitionType?this.props.className+" ngs-generic-modal__slide":this.props.className;return this.state.renderNGSModal||(a+=" ngs-generic-modal--off-screen"),e.createElement("div",{className:a,ref:"modalWindow",onClick:this.onModalClick,"data-modal-root":"true"},this.props.displayCloseButton?e.createElement("i",{className:"icongs icongs-close close-modal",onClick:this.props.onClose}):null,e.createElement("div",{ref:"modalWrapper",className:"ngs-generic-modal__scroll-wrapper",onClick:this.hideOnOuterClick,"data-modal":"true"},this.props.children))}}));b.exports=g},{jquery:"jquery",react:"react","velocity-animate":"velocity-animate"}],60:[function(a,b,c){"use strict";var d=a("@natgeo/pestle"),e=(a("jquery"),a("@natgeo/modules-global-footer"));d.Module.add("GlobalFooter",{isLoaded:!1,initialize:function(){var a={autoInit:this.options.autoinit,baseContainer:this.options.basecontainer};this.GF=new e(a),this.isLoaded=!0}})},{"@natgeo/modules-global-footer":148,"@natgeo/pestle":"@natgeo/pestle",jquery:"jquery"}],61:[function(a,b,c){"use strict";var d=(a("jquery"),a("@natgeo/pestle")),e=a("@natgeo/modules-global-nav"),f=a("lodash/assign"),g=a("lodash/merge");d.Module.add("GlobalNav",{isLoaded:!1,defaults:{baseContainer:"#global_nav",loadTypeKit:!1,localization:!0,toggleDrawerButton:".gn_JS_toggle-drawer-button",display:"skinny",loadRegistration:!0,showSearch:!0,searchUrl:"https://www-s.nationalgeographic.com/search",responsive:!0,localSection:null,registrationOptions:{gigyaKey:"3_CmsN4ygKDetYsTJyVCkj5-H-YbBqcCQWCBhm_prJIQ6he9gF4fB3e7DEEJzpDEAO",show_user_ui:!1}},initialize:function(){window.NGS.modules=g({rp:{pageConfig:{endpoints:{mmdb:this.options.registrationOptions.mmdbHost,members:this.options.registrationOptions.memcenHost,notifications:this.options.registrationOptions.notificationsHost},notificationsKey:this.options.registrationOptions.notificationsKey}}},window.NGS.modules),this.GN=new e(f(this.defaults,this.options)),this.sandbox.log.info("GlobalNav is loaded")}})},{"@natgeo/modules-global-nav":149,"@natgeo/pestle":"@natgeo/pestle",jquery:"jquery","lodash/assign":264,"lodash/merge":"lodash/merge"}],62:[function(a,b,c){"use strict";var d,e=a("react"),f=a("lodash/debounce"),g=e.createClass({displayName:"Captions",propTypes:{title:e.PropTypes.string,caption:e.PropTypes.string,image1Title:e.PropTypes.string,image1Caption:e.PropTypes.string,image1Credit:e.PropTypes.string,image2Title:e.PropTypes.string,image2Caption:e.PropTypes.string,image2Credit:e.PropTypes.string,size:e.PropTypes.string},updateDimensions:function(){var a=window,b=document,c=b.documentElement,d=b.getElementsByTagName("body")[0],e=a.innerWidth||c.clientWidth||d.clientWidth;this.setState({width:e})},componentWillMount:function(){this.updateDimensions()},componentDidMount:function(){d=f(this.updateDimensions,250),window.addEventListener("resize",d)},componentWillUnmount:function(){window.removeEventListener("resize",d)},render:function(){var a,b,c=": ",d=" (",f=") ",g=this.props.image1Credit===this.props.image2Credit,h=[],i=[],j=[],k=[],l="medium"===this.props.size?"media__caption medium-caption":"media__caption",m=0;return this.state.width<620?(a="Top",b="Bottom"):(a="Left",b="Right"),this.props.title||this.props.caption?(this.props.title&&i.push(e.createElement("span",{key:m++,className:"media__caption--title",dangerouslySetInnerHTML:{__html:this.props.title}})),this.props.caption&&i.push(e.createElement("span",{key:m++,dangerouslySetInnerHTML:{__html:this.props.caption}}))):(this.props.image1Title?(i.push(e.createElement("span",{key:m++,className:"media__caption--title",dangerouslySetInnerHTML:{__html:a+c+this.props.image1Title}})),this.props.image1Caption&&i.push(e.createElement("span",{key:m++,dangerouslySetInnerHTML:{__html:this.props.image1Caption}}))):this.props.image1Caption&&i.push(e.createElement("span",{key:m++,className:"position",dangerouslySetInnerHTML:{__html:a+c}}),e.createElement("span",{key:m++,dangerouslySetInnerHTML:{__html:this.props.image1Caption}})),this.props.image2Title?(i.push(e.createElement("span",{key:m++,className:"media__caption--title right-pos-padding",dangerouslySetInnerHTML:{__html:b+c+this.props.image2Title}})),this.props.image2Caption&&i.push(e.createElement("span",{key:m++,dangerouslySetInnerHTML:{__html:this.props.image2Caption}}))):this.props.image2Caption&&i.push(e.createElement("span",{key:m++,className:"position right-pos-padding",dangerouslySetInnerHTML:{__html:b+c}}),e.createElement("span",{key:m++,dangerouslySetInnerHTML:{__html:this.props.image2Caption}}))),g?k.push(e.createElement("span",{key:m++,dangerouslySetInnerHTML:{__html:this.props.image1Credit}})):this.props.image1Credit?(k.push(e.createElement("span",{key:m++,dangerouslySetInnerHTML:{__html:this.props.image1Credit+(d+a+f)}})),this.props.image2Credit&&k.push(e.createElement("span",{key:m++}," and "),e.createElement("span",{key:m++,dangerouslySetInnerHTML:{__html:this.props.image2Credit+d+b+f}}))):k.push(e.createElement("span",{key:m++,dangerouslySetInnerHTML:{__html:this.props.image2Credit+d+b+f}})),i.length&&h.push(e.createElement("div",{key:m++,className:"media__caption--text"},i)),k.length&&j.push(e.createElement("div",{key:m,className:"media__caption--credit"},k)),e.createElement("figcaption",{className:l},h,j)}});b.exports=g},{"lodash/debounce":"lodash/debounce",react:"react"}],63:[function(a,b,c){"use strict";var d=a("react"),e=d.createClass({displayName:"EnlargeButton",render:function(){return d.createElement("span",{className:"image-hover-control--hover-only enlarge-button"},d.createElement("span",null,"Enlarge"),d.createElement("span",{className:"enlarge-button__icons"},d.createElement("i",{className:"icongs-arrowse icongs"}),d.createElement("i",{className:"icongs-arrownw icongs"})))}});b.exports=e},{react:"react"}],64:[function(a,b,c){"use strict";var d=a("react"),e=a("react-dom"),f=a("./ImageGroup.jsx");Pestle.Module.add("ImageGroup",{initialize:function(){e.render(d.createElement(f,{id:this.options.id,hideGutter:this.options.hideGutter,hideForMobile:this.options.hideForMobile,disableEnlarge:this.options.disableEnlarge,pagewidePresentationDisabled:this.options.pagewidePresentationDisabled,size:this.options.size,title:this.options.title,caption:this.options.caption,image1Path:this.options.image1Path,image1Title:this.options.image1Title,image1Caption:this.options.image1Caption,image1Credit:this.options.image1Credit,image1AltText:this.options.image1AltText,image1AspectRatio:this.options.image1AspectRatio,image1Guid:this.options.image1Guid,image2Path:this.options.image2Path,image2Title:this.options.image2Title,image2Caption:this.options.image2Caption,image2Credit:this.options.image2Credit,image2AltText:this.options.image2AltText,image2AspectRatio:this.options.image2AspectRatio,image2Guid:this.options.image2Guid}),this.el)}})},{"./ImageGroup.jsx":65,react:"react","react-dom":"react-dom"}],65:[function(a,b,c){"use strict";var d=a("react"),e=a("../Common/components/Images/Images.jsx"),f=a("./EnlargeButton.jsx"),g=a("./Captions.jsx"),h=d.createClass({displayName:"ImageGroup",propTypes:{id:d.PropTypes.string,hideGutter:d.PropTypes.bool,hideForMobile:d.PropTypes.bool,disableEnlarge:d.PropTypes.bool,pagewidePresentationDisabled:d.PropTypes.bool,size:d.PropTypes.string,title:d.PropTypes.string,caption:d.PropTypes.string,image1Path:d.PropTypes.string.isRequired,image1Title:d.PropTypes.string,image1Caption:d.PropTypes.string,image1Credit:d.PropTypes.string,image1AltText:d.PropTypes.string,image1AspectRatio:d.PropTypes.number,image1Guid:d.PropTypes.string,image2Path:d.PropTypes.string.isRequired,image2Title:d.PropTypes.string,image2Caption:d.PropTypes.string,image2Credit:d.PropTypes.string,image2AltText:d.PropTypes.string,image2AspectRatio:d.PropTypes.number,image2Guid:d.PropTypes.string},getDefaultProps:function(){return{hideGutter:!1,hideForMobile:!1}},componentDidMount:function(){var a=this;a.refs.enlargeButton1.addEventListener("click",a.openGalleryImage1),a.refs.enlargeButton2.addEventListener("click",a.openGalleryImage2)},componentWillUnmount:function(){this.refs.enlargeButton1.removeEventListener("click",self.openGalleryImage1),this.refs.enlargeButton2.removeEventListener("click",self.openGalleryImage2)},openGalleryImage1:function(){Pestle.emit("OpenPresentationGallery",this.props.image1Guid)},openGalleryImage2:function(){Pestle.emit("OpenPresentationGallery",this.props.image2Guid)},render:function(){var a="cinematic"===this.props.size?"100vw":null,b=this.props.image1AspectRatio||2/3,c=this.props.hideForMobile?"hide-for-mobile":null,h=this.props.size?" media--"+this.props.size:null,i={url:this.props.image1Path,frameAspectRatio:b,aspectRatio:this.props.image1AspectRatio,altText:this.props.image1AltText,lazyLoad:!0,widthOverride:a},j={url:this.props.image2Path,frameAspectRatio:b,aspectRatio:this.props.image2AspectRatio,altText:this.props.image2AltText,lazyLoad:!0,widthOverride:a},k="image-group__first-image standalone-linked",l="image-group__second-image standalone-linked";return this.props.hideGutter&&(this.props.disableEnlarge||this.props.pagewidePresentationDisabled)?(k+=" hide-hover",l+=" hide-hover"):1!=this.props.hideGutter&&(this.props.disableEnlarge||this.props.pagewidePresentationDisabled)?(k+=" image-group__first-image_gutter hide-hover",l+=" image-group__second-image_gutter hide-hover"):1!=this.props.hideGutter&&1!=this.props.disableEnlarge&&(k+=" image-group__first-image_gutter",l+=" image-group__second-image_gutter"),d.createElement("div",{className:c},d.createElement("div",{className:"image-group image"+h},d.createElement("div",{className:k,ref:"enlargeButton1"},d.createElement(e,{image:i}),d.createElement(f,null)),d.createElement("div",{className:l,ref:"enlargeButton2"},d.createElement(e,{image:j}),d.createElement(f,null)),d.createElement("div",{className:"clearfix"}),d.createElement(g,{title:this.props.title,caption:this.props.caption,image1Title:this.props.image1Title,image1Caption:this.props.image1Caption,image1Credit:this.props.image1Credit,image2Title:this.props.image2Title,image2Caption:this.props.image2Caption,image2Credit:this.props.image2Credit,size:this.props.size})))}});b.exports=h},{"../Common/components/Images/Images.jsx":24,"./Captions.jsx":62,"./EnlargeButton.jsx":63,react:"react"}],66:[function(a,b,c){"use strict";a("es5-shim"),window.$=window.jQuery=a("jquery"),window.React=a("react"),window.ReactDOM=a("react-dom"),window.Pestle=a("@natgeo/pestle");var d=a("./ImmersiveLead.jsx");Pestle.Module.add("ImmersiveLead",{isLoaded:!1,initialize:function(){ReactDOM.render(React.createElement(d,{model:this}),this.el),this.isLoaded=!0}})},{"./ImmersiveLead.jsx":67,"@natgeo/pestle":"@natgeo/pestle","es5-shim":"es5-shim",jquery:"jquery",react:"react","react-dom":"react-dom"}],67:[function(a,b,c){"use strict";a("es5-shim");var d=a("jquery"),e=a("react"),f=a("@natgeo/pestle"),g=a("../Common/components/Images/Images.jsx"),h=a("./SocialButtons.jsx"),i=a("lodash/debounce");a("velocity-animate");var j=e.createClass({displayName:"Heading",render:function(){return e.createElement("h2",{className:"immersive-lead__heading",dangerouslySetInnerHTML:{__html:this.props.heading}})}}),k=e.createClass({displayName:"Description",render:function(){return e.createElement("div",{className:"immersive-lead__description",dangerouslySetInnerHTML:{__html:this.props.description}})}}),l=e.createClass({displayName:"TintOverlay",propTypes:{tint:e.PropTypes.string},render:function(){var a="immersive-lead__tint-overlay";return a+=this.props.tint?" immersive-lead__tint-overlay--"+this.props.tint:"",e.createElement("div",{className:a})}}),m=e.createClass({displayName:"DownArrow",arrowClicked:function(){var a=this.props.el||d(".immersive-lead"),b="mobile"===this.props.breakpoint?50:120,c=a.offset().top+a.height()-b;d("html").velocity("scroll",{offset:c+"px",mobileHA:!1})},componentDidMount:function(){var a=this;this.refs.arrow.addEventListener("click",function(){a.arrowClicked()})},componentWillUnmount:function(){var a=this;this.refs.arrow.removeEventListener("click",function(){a.arrowClicked()})},render:function(){return e.createElement("div",{className:"immersive-lead__down-arrow",ref:"arrow"},e.createElement("i",{className:"icongs icongs-directiondown"}))}}),n=e.createClass({displayName:"CreditDisplay",propTypes:{credit:e.PropTypes.string.isRequired},render:function(){return e.createElement("div",{className:"immersive-lead__credit media__caption"},e.createElement("small",{className:"media__caption--credit",dangerouslySetInnerHTML:{__html:this.props.credit}}))}}),o=e.createClass({displayName:"Content",propTypes:{model:e.PropTypes.shape({description:e.PropTypes.string,heading:e.PropTypes.string,showFacebook:e.PropTypes.bool,showGooglePlus:e.PropTypes.bool,showInstagram:e.PropTypes.bool,showLinkedIn:e.PropTypes.bool,showPinterest:e.PropTypes.bool,showTumblr:e.PropTypes.bool,showTwitter:e.PropTypes.bool,showWhatsApp:e.PropTypes.bool}).isRequired},render:function(){var a="mobile"===NGS.core_site.sandbox.coreArticleHelpers.getBreakpoint()?"mobile":"desktop",b=!1,c="immersive-lead__space-taking-content ",d="immersive-lead__space-taking-content-wrap ";return this.props.noOpacity&&(c+="immersive-lead--hide",d+="immersive-lead--hide"),this.props.model.showFacebook?b=!0:this.props.model.showTwitter?b=!0:this.props.model.showInstagram?b=!0:this.props.model.showPinterest?b=!0:this.props.model.showGooglePlus?b=!0:this.props.model.showTumblr?b=!0:this.props.model.showLinkedIn?b=!0:this.props.model.showWhatsApp&&(b=!0),b||(a=""),e.createElement("div",{className:d},"desktop"===a?e.createElement(h,{model:this.props.model,cssClass:"upper-left"}):"",e.createElement("div",{className:c},this.props.model.heading?e.createElement(j,{heading:this.props.model.heading}):"",this.props.model.description?e.createElement(k,{description:this.props.model.description}):"","mobile"===a?e.createElement(h,{model:this.props.model}):""))}}),p=e.createClass({displayName:"ImmersiveLead",propTypes:{model:e.PropTypes.shape({$el:e.PropTypes.object,options:e.PropTypes.shape({altText:e.PropTypes.string,aspectRatio:e.PropTypes.number,credit:e.PropTypes.string,description:e.PropTypes.string,heading:e.PropTypes.string,leadImageUrl:e.PropTypes.string,showCredit:e.PropTypes.bool,showDownArrow:e.PropTypes.bool,showFacebook:e.PropTypes.bool,showGooglePlus:e.PropTypes.bool,showInstagram:e.PropTypes.bool,showLinkedIn:e.PropTypes.bool,showPinterest:e.PropTypes.bool,showTumblr:e.PropTypes.bool,showTwitter:e.PropTypes.bool,showWhatsApp:e.PropTypes.bool})}).isRequired,containerDivHeight:e.PropTypes.string,imageFrameAspectRatio:e.PropTypes.string,wrapperCssClasses:e.PropTypes.string},getInitialState:function(){return{showEditModeMessage:!1,screenMeasureTaken:!1,imageHasRendered:!1,wrapperClasses:"immersive-lead__content-wrapper",containerDivHeight:"auto",imageFrameAspectRatio:"0.5625",imageCrop:"ImmersiveLeadHorizontal",windowWidth:d(window).width||0}},imageHasRendered:function(){f.emit("fireAds"),this.isMounted()&&this.setState({imageHasRendered:!0})},fillViewport:function(){this.setState({containerDivHeight:"auto",wrapperClasses:"immersive-lead__content-wrapper"});var a,b,c=this.props.model.$el,e=c.height(),f=d(window).width()>1900?1900:d(window).width(),g=d(window).height(),h=c.offset().top;if(g>e+h){var i=g-h;a=i/f,b=a>1?"ImmersiveLeadVertical":"ImmersiveLeadHorizontal",this.setState({screenMeasureTaken:!0,imageFrameAspectRatio:a,imageCrop:b,containerDivHeight:i+"px",wrapperClasses:"immersive-lead__content-wrapper immersive-lead--center-content"})}else a=e/f,b=a>1?"ImmersiveLeadVertical":"ImmersiveLeadHorizontal",this.setState({screenMeasureTaken:!0,imageFrameAspectRatio:a,imageCrop:b})},handleResize:function(){if(d(window).width()!=this.state.windowWidth){var a=d(window).width()||0;this.setState({screenMeasureTaken:!1,windowWidth:a}),this.fillViewport()}},componentWillMount:function(){this.props.model.options.heading&&this.props.model.options.leadImageUrl||!NGS.core_site.sandbox.aem.isEditMode()||this.setState({showEditModeMessage:!0})},componentDidMount:function(){this.fillViewport();var a=i(this.handleResize,250);window.addEventListener("resize",a)},componentWillUnmount:function(){var a=i(this.handleResize,250);window.removeEventListener("resize",a)},render:function(){var a=this.props.model.sandbox.coreArticleHelpers.getBreakpoint()||"desktop",b={height:this.state.containerDivHeight};if(this.state.showEditModeMessage)return e.createElement("div",{className:"immersive-lead__edit-message"},e.createElement("h2",null,"Insufficient Data!"),e.createElement("p",null,"Component requires at least a heading and a valid image to render"));var c={url:this.props.model.options.leadImageUrl,altText:this.props.model.options.altText||"",aspectRatio:parseFloat(this.props.model.options.aspectRatio)||null,frameAspectRatio:parseFloat(this.state.imageFrameAspectRatio)||null,isVideo:!1,imageCrop:this.state.imageCrop||""};return e.createElement("div",{className:this.state.wrapperClasses,style:b},e.createElement(g,{image:c,onLoad:this.imageHasRendered}),this.state.imageHasRendered?e.createElement(l,{tint:this.props.model.options.tint}):"",e.createElement(o,{model:this.props.model.options,noOpacity:!this.state.imageHasRendered}),this.props.model.options.showDownArrow&&this.state.imageHasRendered?e.createElement(m,{el:this.props.model.options.$el,breakpoint:a}):"",this.props.model.options.credit&&this.props.model.options.showCredit?e.createElement(n,{credit:this.props.model.options.credit}):"")}});b.exports=p},{"../Common/components/Images/Images.jsx":24,"./SocialButtons.jsx":68,"@natgeo/pestle":"@natgeo/pestle","es5-shim":"es5-shim",jquery:"jquery","lodash/debounce":"lodash/debounce",react:"react","velocity-animate":"velocity-animate"}],68:[function(a,b,c){"use strict";var d=a("jquery"),e=React.createClass({displayName:"FacebookButton",render:function(){return React.createElement("div",{className:"social-button"},React.createElement("a",{className:"addthis_button_facebook "},React.createElement("i",{className:"icongs icongs-facebook"})))}}),f=React.createClass({displayName:"TwitterButton",render:function(){return React.createElement("div",{className:"social-button"},React.createElement("a",{className:"addthis_button_twitter "},React.createElement("i",{className:"icongs icongs-twitter"})))}}),g=React.createClass({displayName:"InstagramButton",render:function(){var a={color:"red"};return React.createElement("div",{className:"social-button"},React.createElement("a",{className:"addthis_button_whatsapp ",style:a},React.createElement("i",{className:"icongs icongs-close"})))}}),h=React.createClass({displayName:"PinterestButton",render:function(){return React.createElement("div",{className:"social-button"},React.createElement("a",{className:"addthis_button_pinterest_share "},React.createElement("i",{className:"icongs icongs-pinterest"})))}}),i=React.createClass({displayName:"GooglePlusButton",render:function(){return React.createElement("div",{className:"social-button"},React.createElement("a",{className:"addthis_button_google_plusone_share "},React.createElement("i",{className:"icongs icongs-googleplus"})))}}),j=React.createClass({displayName:"TumblrButton",render:function(){return React.createElement("div",{className:"social-button"},React.createElement("a",{className:"addthis_button_tumblr "},React.createElement("i",{className:"icongs icongs-tumblr"})))}}),k=React.createClass({displayName:"LinkedInButton",render:function(){return React.createElement("div",{className:"social-button"},React.createElement("a",{className:"addthis_button_linkedin "},React.createElement("i",{className:"icongs icongs-linkedin"})))}}),l=React.createClass({displayName:"WhatsAppButton",render:function(){var a={color:"red"};return React.createElement("div",{className:"social-button"},React.createElement("a",{className:"addthis_button_whatsapp_share ",style:a},React.createElement("i",{className:"icongs icongs-close"})))}}),m=React.createClass({displayName:"SocialButtons",propTypes:{model:React.PropTypes.shape({showFacebook:React.PropTypes.bool,showGooglePlus:React.PropTypes.bool,showInstagram:React.PropTypes.bool,showLinkedIn:React.PropTypes.bool,showPinterest:React.PropTypes.bool,showTumblr:React.PropTypes.bool,showTwitter:React.PropTypes.bool,showWhatsApp:React.PropTypes.bool}).isRequired,cssClass:React.PropTypes.string},componentDidMount:function(){var a={addthis_config:{pubid:"ng-dmg",data_track_addressbar:!1,data_track_clickback:!1},addthis_share:{url_transforms:{shorten:{twitter:"bitly"}},shorteners:{bitly:{}},passthrough:{twitter:{via:"NatGeo"}}}};window.addthis_config=a.addthis_config,window.addthis_share=a.addthis_share,d.getScript("//s7.addthis.com/js/300/addthis_widget.js#pubid=ng-dmg")},render:function(){var a=[],b="addthis_toolbox immersive-lead__social-buttons ",c=0;return b+=this.props.cssClass?this.props.cssClass:"",this.props.model.showFacebook&&a.push(React.createElement(e,{key:c++})),this.props.model.showTwitter&&a.push(React.createElement(f,{key:c++})),this.props.model.showInstagram&&a.push(React.createElement(g,{key:c++})),this.props.model.showPinterest&&a.push(React.createElement(h,{key:c++})),this.props.model.showGooglePlus&&a.push(React.createElement(i,{key:c++})),this.props.model.showTumblr&&a.push(React.createElement(j,{key:c++})),this.props.model.showLinkedIn&&a.push(React.createElement(k,{key:c++})),this.props.model.showWhatsApp&&a.push(React.createElement(l,{key:c++})),React.createElement("div",{className:b},a)}});b.exports=m},{jquery:"jquery"}],69:[function(a,b,c){"use strict";var d=a("@natgeo/pestle"),e=a("jquery"),f=a("react"),g=a("react-dom"),h=a("../Common/components/ShowMoreButton/ShowMoreButton.jsx"),i=480;d.Module.add("InDepthContent",{initialize:function(){var a=e(this.options.el).prev(".in-depth-content");if(!a)return!1;var b=e(a).find(".in-depth-content__space-holder").height()||0;if(i>b)return a.addClass("in-depth-content--no-truncation"),!1;var c=function(){a.addClass("in-depth-content--no-truncation"),a.velocity({maxHeight:"5000px"},{easing:"linear",duration:100})};g.render(f.createElement(h,{onClick:c,label:"Read More"}),this.options.el)}})},{"../Common/components/ShowMoreButton/ShowMoreButton.jsx":26,"@natgeo/pestle":"@natgeo/pestle",jquery:"jquery",react:"react","react-dom":"react-dom"}],70:[function(a,b,c){"use strict";var d=(window.jQuery=a("jquery"),a("./InteractiveStickyNav.jsx")),e=a("react"),f=a("react-dom"),g=a("@natgeo/pestle");g.Module.add("InteractiveStickyNav",{initialize:function(){f.render(e.createElement(d,{featureTitle:this.options.featureTitle,chapterLinks:this.options.chapterLinks,socialLinks:this.options.socialLinks,commentingEnabled:this.options.commentingEnabled}),this.options.el)}})},{"./InteractiveStickyNav.jsx":71,"@natgeo/pestle":"@natgeo/pestle",jquery:"jquery",react:"react","react-dom":"react-dom"}],71:[function(a,b,c){"use strict";var d=a("react"),e=a("./components/TitleItem.jsx"),f=a("./components/ShareButton.jsx"),g=a("./components/ShareDrawer.jsx"),h=a("../Ads/Ad/Ad.jsx"),i=a("../social/SocialModal/SocialModal.jsx"),j=new d.createClass({propTypes:{featureTitle:d.PropTypes.string,chapterLinks:d.PropTypes.array,socialLinks:d.PropTypes.array,
commentingEnabled:d.PropTypes.bool,analyticsEventSite:d.PropTypes.string},componentDidMount:function(){NGS.core_site.sandbox.stickyBehavior.initStickiness("interactive",NGS.core_site.sandbox,"interactiveNav")},getDefaultProps:function(){return{featureTitle:"",chapterLinks:[],socialLinks:[],commentingEnabled:!0}},fireSocialModal:function(){Pestle.emit("socialmodal:toggle")},render:function(){return d.createElement("div",{className:"interactive-sticky-nav"},d.createElement("div",{className:"interactive-sticky-nav__wrap"},d.createElement("div",{className:"interactive-sticky-nav__header"},d.createElement("a",{href:"http://nationalgeographic.com",className:"interactive-sticky-nav__logo-link"},d.createElement("div",{className:"icongs icongs-border"})),d.createElement("div",{className:"interactive-sticky-nav__title"},d.createElement(e,{title:this.props.featureTitle,chapterLinks:this.props.chapterLinks})),d.createElement(g,{showComments:this.props.commentingEnabled,socialLinks:this.props.socialLinks,analyticsEventSite:this.props.analyticsEventSite}),d.createElement(f,{onClick:this.fireSocialModal}),d.createElement(i,{label:"Share this link",socialLinks:this.props.socialLinks,analyticsEventSite:this.props.analyticsEventSite}),d.createElement("div",{className:"interactive-sticky-nav__ad clearfix"},NGS.core_site.sandbox.ads?d.createElement(h,{globalAdConfig:NGS.core_site.sandbox.ads.globalAdConfig,adConfig:NGS.core_site.sandbox.ads.getIndividualAdConfig("sponsorAd_upperRight")}):null))))}});b.exports=j},{"../Ads/Ad/Ad.jsx":1,"../social/SocialModal/SocialModal.jsx":132,"./components/ShareButton.jsx":73,"./components/ShareDrawer.jsx":74,"./components/TitleItem.jsx":75,react:"react"}],72:[function(a,b,c){"use strict";var d=a("react"),e=a("jquery"),f=e(window),g=a("lodash/debounce"),h=a("../../Common/components/GenericLink.jsx"),i=a("../../Common/components/UnorderedList.jsx"),j=d.createClass({displayName:"DropDownContainer",propTypes:{items:d.PropTypes.array.isRequired},getDefaultProps:function(){return{items:[]}},setMaxHeight:function(){var a=e(".feature-label"),b=a.find("ul"),c=f.height()-(a.offset().top-f.scrollTop());b.css({"max-height":c-a.height()-26+"px"})},componentDidMount:function(){var a=this;Pestle.once("dfpcall:contentchanged_header",function(){a.setMaxHeight()}),f.resize(g(a.setMaxHeight,150)),f.scroll(g(a.setMaxHeight,2))},render:function(){var a=this.props.items.map(function(a){return d.createElement(h,{item:a})});return d.createElement(i,{items:a})}});b.exports=j},{"../../Common/components/GenericLink.jsx":21,"../../Common/components/UnorderedList.jsx":27,jquery:"jquery","lodash/debounce":"lodash/debounce",react:"react"}],73:[function(a,b,c){"use strict";var d=a("react"),e=a("react-addons-pure-render-mixin"),f=d.createClass({displayName:"ShareButton",mixins:[e],propTypes:{onClick:d.PropTypes.func.isRequired},componentDidMount:function(){var a=this;this.refs.shareButton.addEventListener("click",function(){a.props.onClick()})},componentWillUnmount:function(){var a=this;this.refs.shareButton.removeEventListener("click",function(){a.props.onClick()})},render:function(){return d.createElement("a",{href:"javascript:void(0)",ref:"shareButton",className:"interactive-sticky-nav__share-button"},d.createElement("i",{className:"icongs icongs-share"}))}});b.exports=f},{react:"react","react-addons-pure-render-mixin":303}],74:[function(a,b,c){"use strict";var d,e=a("react"),f=a("react-addons-pure-render-mixin"),g=a("../../social/AddThis/SocialLink.jsx"),h=a("jquery"),i=e.createClass({displayName:"ShareDrawer",mixins:[f],propTypes:{showComments:e.PropTypes.bool,socialLinks:e.PropTypes.arrayOf(e.PropTypes.shape({socialLink:e.PropTypes.shape({icon:e.PropTypes.string,class:e.PropTypes.string,analyticsEvent:e.PropTypes.string})})),maxVisible:e.PropTypes.number},getInitialState:function(){return{collapsed:!0}},expand:function(){this.isMounted()&&this.setState({collapsed:!1})},componentDidMount:function(){var a=this;d=a.expand,this.refs.expandButton&&a.refs.expandButton.addEventListener("click",d)},componentWillMount:function(){h.getScript("//s7.addthis.com/js/300/addthis_widget.js#pubid=ng-dmg").then(function(){addthis.toolbox(".interactive-sticky-nav__social-button__holder")})},componentWillUnmount:function(){var a=this;this.refs.expandButton&&a.refs.expandButton.removeEventListener("click",d)},handleClick:function(a,b){b.preventDefault(),"Print"===a&&window.print()},scrollToComments:function(){h("#livefyre").velocity("scroll",{duration:500,delay:200})},render:function(){var a=this,b="interactive-sticky-nav__share-drawer__expand-button ";return this.state.collapsed||(b+="interactive-sticky-nav__share-drawer__expand-button--collapsed "),e.createElement("div",{className:"interactive-sticky-nav__share-drawer__wrap"},e.createElement("div",{className:"interactive-sticky-nav__share-drawer"},e.createElement("div",{className:"interactive-sticky-nav__share-drawer__spacer"},e.createElement("span",{className:"interactive-sticky-nav__share-drawer__label"},"Share:"),this.props.socialLinks?this.props.socialLinks.map(function(b,c){return"Print"!==b.socialLink.analyticsEvent?e.createElement("div",{key:c,className:3>c||!a.state.collapsed?"interactive-sticky-nav__share-drawer__social-button ":"interactive-sticky-nav__share-drawer__social-button collapsable"},e.createElement(g,{className:"interactive-sticky-nav__share-drawer__social-button__holder",icon:b.socialLink.icon,internalClassName:b.socialLink.class,analyticsEvent:b.socialLink.analyticsEvent,analyticsEventSite:a.props.analyticsEventSite,onClick:a.handleClick.bind(a,b.socialLink.analyticsEvent)})):void 0}):null,e.createElement("button",{className:b,ref:"expandButton"},e.createElement("div",{className:"interactive-sticky-nav__expand-button__spacer"},e.createElement("div",{className:"interactive-sticky-nav__share-drawer__expand-button__dot"}),e.createElement("div",{className:"interactive-sticky-nav__share-drawer__expand-button__dot"}),e.createElement("div",{className:"interactive-sticky-nav__share-drawer__expand-button__dot"})))),this.props.showComments?e.createElement("span",{className:"comment-icon-container",onClick:this.scrollToComments},e.createElement("i",{className:"icongs icongs-comment"})):null))}});b.exports=i},{"../../social/AddThis/SocialLink.jsx":131,jquery:"jquery",react:"react","react-addons-pure-render-mixin":303}],75:[function(a,b,c){"use strict";var d=a("react"),e=a("./DropDownContainer.jsx"),f=d.createClass({displayName:"TitleItem",propTypes:{title:d.PropTypes.string.isRequired,chapterLinks:d.PropTypes.array},getDefaultProps:function(){return{title:"",chapterLinks:[]}},render:function(){var a=this.props.chapterLinks.length>0?"feature-label has-drop":"feature-label";return d.createElement("div",{className:a},d.createElement("span",{className:"label-text dotdotdot"},this.props.title),this.props.chapterLinks.length>0?d.createElement("span",{className:"directionalArrow"},d.createElement("i",{className:"icongs icongs-directiondown"}),d.createElement("i",{className:"icongs icongs-directionup"})):null,d.createElement("div",{className:"label-bottom-border"}),this.props.chapterLinks.length>0?d.createElement(e,{items:this.props.chapterLinks}):null)}});b.exports=f},{"./DropDownContainer.jsx":72,react:"react"}],76:[function(a,b,c){"use strict";var d=a("./JumpMenu.jsx"),e=a("react"),f=a("react-dom"),g=a("@natgeo/pestle");g.Module.add("JumpMenu",{initialize:function(){var a=this.options.el;f.render(e.createElement(d,{dataModel:this.options}),a)}})},{"./JumpMenu.jsx":77,"@natgeo/pestle":"@natgeo/pestle",react:"react","react-dom":"react-dom"}],77:[function(a,b,c){"use strict";var d=a("react"),e=a("../PseudoSelect/PseudoSelect.jsx"),f=a("jquery"),g=d.createClass({displayName:"LinkItem",propTypes:{item:d.PropTypes.object.isRequired},getDefaultProps:function(){return{item:{linkUrl:"",linkText:"",linkTarget:"",linkSeoTitle:""}}},render:function(){var a=this.props.item.linkTarget?this.props.item.linkTarget:"_parent";return d.createElement("a",{href:this.props.item.linkUrl,title:this.props.item.linkSeoTitle,target:a},this.props.item.linkText)}}),h=(d.createClass({displayName:"CloseBtn",propTypes:{closeFunc:d.PropTypes.func},getDefaultProps:function(){return{closeFunc:function(){}}},closeParentDropdown:function(){"function"==typeof this.props.closeFunc&&this.props.closeFunc()},render:function(){return d.createElement("i",{className:"ngs-jummp-menu-close-btn icongs icongs-close",onClick:this.closeParentDropdown})}}),d.createClass({displayName:"FooterItems",propTypes:{items:d.PropTypes.array.isRequired,cssClass:d.PropTypes.string},getDefaultProps:function(){return{items:[]}},render:function(){var a=""!==this.props.cssClass?this.props.cssClass:"",b=0,c=this.props.items.map(function(a){return d.createElement("li",{key:b++},d.createElement(g,{item:a}))});return d.createElement("ul",{className:a},c)}})),i=d.createClass({displayName:"JumpNavBox",propTypes:{boxType:d.PropTypes.string.isRequired,boxTitle:d.PropTypes.string.isRequired,activityCTA:d.PropTypes.string.isRequired,destinationCTA:d.PropTypes.string.isRequired,boxTextLinks:d.PropTypes.array.isRequired,activityLinks:d.PropTypes.array,destinationLinks:d.PropTypes.array,activityLinksURL:d.PropTypes.string,destinationLinksURL:d.PropTypes.string,onClose:d.PropTypes.func,linkTrackCodes:d.PropTypes.string},closeParentDropdown:function(){"function"==typeof this.props.onClose&&this.props.onClose()},normalizeLinks:function(a,b){var c=[],d=this.props.linkTrackCodes?this.props.linkTrackCodes:"";if(f.isArray(a)){a.map(function(a,b){"401"!==a.title&&a.page&&a.page.title&&a.page.url&&c.push({linkText:a.page.title,linkUrl:a.page.url+d,linkTarget:"_blank"})})}return c},updateLinkState:function(a){this.setState({lodgesActivityLinks:a.lodgesActivityLinks,lodgesDestinationLinks:a.lodgesDestinationLinks})},getDefaultProps:function(){return{boxType:"",boxTitle:"",activityCTA:"",destinationCTA:"",boxTextLinks:[],activityLinks:[],destinationLinks:[],activityLinksURL:"",destinationLinksURL:"",linkTrackCodes:""}},getInitialState:function(){return{lodgesActivityLinks:[],lodgesDestinationLinks:[]}},componentWillMount:function(){var a=this,b=[],c=[];this.props.activityLinksURL&&this.props.destinationLinksURL&&f.when(f.get(a.props.activityLinksURL),f.get(a.props.destinationLinksURL)).done(function(d,e){a.isMounted()&&(b=a.normalizeLinks(d[0]),c=a.normalizeLinks(e[0]),a.updateLinkState({lodgesActivityLinks:b,lodgesDestinationLinks:c}))}).fail(function(){console.log("Query failure")})},render:function(){var a="trips"===this.props.boxType?{activityLinks:this.props.activityLinks,destinationLinks:this.props.destinationLinks}:{activityLinks:this.state.lodgesActivityLinks,destinationLinks:this.state.lodgesDestinationLinks};return d.createElement("div",{className:"ngs-secondary-nav-jump-menu-box-container"},d.createElement("i",{className:"ngs-jummp-menu-close-btn icongs icongs-close",onClick:this.closeParentDropdown}),d.createElement("label",null,this.props.boxTitle),d.createElement("ul",null,d.createElement("li",{className:"jump-container"},d.createElement(e,{label:this.props.destinationCTA,linkSet:a.destinationLinks})),d.createElement("li",{className:"jump-container"},d.createElement(e,{label:this.props.activityCTA,linkSet:a.activityLinks}))),d.createElement(h,{items:this.props.boxTextLinks,cssClass:"ngs-secondary-nav-jump-menu-box-footer"}))}}),j=new d.createClass({propTypes:{dataModel:d.PropTypes.object},mixins:[a("react-onclickoutside")],handleClickOutside:function(a){this.closeParentDropdown()},getInitialState:function(){return this.cachedNavState=null,this.navBoxEls=null,{openDropdown:"trips"}},getDefaultProps:function(){return{dataModel:[]}},toggleMenu:function(a){this.state.openDropdown===a?this.closeParentDropdown():this.openDropdown(a)},openDropdown:function(a){this.setState({openDropdown:a}),this.navBoxEls.velocity({height:300},{duration:200})},closeParentDropdown:function(){var a=this;0!==this.cachedNavState&&a.navBoxEls.velocity({height:0},{duration:200,complete:function(b){a.setState({openDropdown:0})}})},childCloseButtonClicked:function(){try{localStorage.setItem("secondary-nav-dropdown-closed",!0)}catch(a){}this.closeParentDropdown()},componentDidMount:function(){var a=this;this.navBoxEls=f(".ngs-secondary-nav-jump-menu-box-container__wrap"),Pestle.on("SponsorAdRendered",function(){a.closeParentDropdown()})},componentWillMount:function(){var a=this.state.openDropdown,b=null,c=!1,d=1,e=3;try{a=this.state.openDropdown,b=localStorage.getItem("secondary-nav-dropdown-override"),c=localStorage.getItem("secondary-nav-dropdown-closed")||!1,d=localStorage.getItem("secondary-nav-visits")?parseInt(localStorage.getItem("secondary-nav-visits"))+1:1,e=localStorage.getItem("secondary-nav-max-visits")?parseInt(localStorage.getItem("secondary-nav-max-visits")):3,localStorage.setItem("secondary-nav-visits",d)}catch(a){}null!==b&&(a=b),(c||e>=0&&d>e)&&(a=0),a!==this.state.openDropdown&&this.setState({openDropdown:a})},render:function(){var a="trips"===this.state.openDropdown?"ngs-secondary-nav-open":"ngs-secondary-nav-closed",b="lodges"===this.state.openDropdown?"ngs-secondary-nav-open":"ngs-secondary-nav-closed";return this.cachedNavState=this.state.openDropdown,d.createElement("nav",{className:"ngs-secondary-nav-jump-menu"},d.createElement("ul",{className:"ngs-secondary-nav-jump-menu-container"},d.createElement("li",{className:"ngs-secondary-nav-jump-menu-header"},d.createElement("div",{className:"ngs-secondary-nav-jump-menu-header--border"},d.createElement("div",{className:"ngs-secondary-nav-jump-menu-header--center-helper"},d.createElement("span",null,this.props.dataModel.heading)))),d.createElement("li",{className:a},d.createElement("span",{title:this.props.dataModel.tripsNavBarLabel,className:"ngs-secondary-nav-jump-menu-label",onClick:this.toggleMenu.bind(this,"trips")},this.props.dataModel.tripsNavBarLabel,d.createElement("i",{className:"icongs icongs-lightdirectiondown"})),d.createElement("div",{ref:"navBox1",className:"ngs-secondary-nav-jump-menu-box-container__wrap"},d.createElement(i,{boxType:"trips",boxTitle:this.props.dataModel.tripsDropMenuTitle,activityCTA:this.props.dataModel.tripsByActivityCta,activityLinks:this.props.dataModel.tripsByActivityLinks,destinationCTA:this.props.dataModel.tripsByDestinationCta,destinationLinks:this.props.dataModel.tripsByDestinationLinks,boxTextLinks:this.props.dataModel.tripsTextLinks,onClose:this.childCloseButtonClicked}))),d.createElement("li",{className:b},d.createElement("span",{title:this.props.dataModel.lodgesNavBarLabel,className:"ngs-secondary-nav-jump-menu-label",onClick:this.toggleMenu.bind(this,"lodges")},this.props.dataModel.lodgesNavBarLabel,d.createElement("i",{className:"icongs icongs-lightdirectiondown"})),d.createElement("div",{ref:"navBox2",className:"ngs-secondary-nav-jump-menu-box-container__wrap"},d.createElement(i,{boxType:"lodges",boxTitle:this.props.dataModel.lodgesDropMenuTitle,activityCTA:this.props.dataModel.lodgesByActivityCta,activityLinksURL:this.props.dataModel.lodgesByActivityQueryPath,destinationCTA:this.props.dataModel.lodgesByDestinationCta,destinationLinksURL:this.props.dataModel.lodgesByDestinationQueryPath,boxTextLinks:this.props.dataModel.lodgesTextLinks,onClose:this.childCloseButtonClicked,linkTrackCodes:this.props.dataModel.linkTrackingCodes})))))}});b.exports=j},{"../PseudoSelect/PseudoSelect.jsx":107,jquery:"jquery",react:"react","react-onclickoutside":"react-onclickoutside"}],78:[function(a,b,c){"use strict";var d=a("./JumpMenuStandAlone.jsx"),e=a("react"),f=a("react-dom"),g=a("@natgeo/pestle");g.Module.add("JumpMenuStandAlone",{initialize:function(){f.render(e.createElement(d,{dataEndpoint:this.options.endpoint,dataCTA:this.options.cta,dataHeading:this.options.heading,dataTracking:this.options.linkTrackingCodes,comid:this.options.id}),this.el)}})},{"./JumpMenuStandAlone.jsx":79,"@natgeo/pestle":"@natgeo/pestle",react:"react","react-dom":"react-dom"}],79:[function(a,b,c){"use strict";var d=a("react"),e=a("../PseudoSelect/PseudoSelect.jsx"),f=a("../ContentSeparator/ContentSeparator.jsx"),g=a("jquery"),h=new d.createClass({propTypes:{dataEndpoint:d.PropTypes.string,dataCTA:d.PropTypes.string,dataHeading:d.PropTypes.string,dataTracking:d.PropTypes.string,comid:d.PropTypes.string},getInitialState:function(){return{dropLinks:[]}},getDefaultProps:function(){return{dataEndpoint:"",dataCTA:"",dataHeading:"",dataTracking:"",comid:""}},normalizeLinks:function(a,b){var c=[],d=this.props.dataTracking?this.props.dataTracking:"";if(g.isArray(a)){a.map(function(a,b){"401"!==a.title&&a.page&&a.page.title&&a.page.url&&c.push({linkText:a.page.title,linkUrl:a.page.url+d,linkTarget:"_blank"})})}return c},componentWillMount:function(){var a=this;this.props.dataEndpoint&&g.when(g.get(a.props.dataEndpoint)).done(function(b){a.isMounted()&&a.setState({dropLinks:a.normalizeLinks(JSON.parse(b))})}).fail(function(){console.log("Query failure")})},render:function(){return d.createElement("nav",{className:"ngs-jump-menu-container"},d.createElement(f,{cssClass:"ngs-jump-menu-container__hr"}),d.createElement("h3",null,this.props.dataHeading),d.createElement(e,{label:this.props.dataCTA,linkSet:this.state.dropLinks,comid:this.props.comid}))}});b.exports=h},{"../ContentSeparator/ContentSeparator.jsx":29,"../PseudoSelect/PseudoSelect.jsx":107,jquery:"jquery",react:"react"}],80:[function(a,b,c){"use strict";var d,e=a("jquery");b.exports={init:function(){null!=e("#sponsor-info__ad-slot")&&(d=e(".sponsor-info__modal"),e(".js-open-sponsor-modal, .js-close-sponsor-modal").on("click",function(){e(".sponsor-info__modal").toggle()}))}}},{jquery:"jquery"}],81:[function(a,b,c){"use strict";a("es5-shim"),window.$=window.jQuery=a("jquery"),window.React=a("react"),window.ReactDOM=a("react-dom"),window.Pestle=a("@natgeo/pestle");var d=a("./LinkList.jsx");Pestle.Module.add("LinkList",{isLoaded:!1,initialize:function(){var a=this;return ReactDOM.render(React.createElement(d,{model:a.options}),this.el),this.isLoaded=!0,console.log(this.options),this.sandbox.log.info("Link List js loaded:",this.el)}}),b.exports=d},{"./LinkList.jsx":82,"@natgeo/pestle":"@natgeo/pestle","es5-shim":"es5-shim",jquery:"jquery",react:"react","react-dom":"react-dom"}],82:[function(a,b,c){"use strict";a("es5-shim");var d=a("jquery"),e=a("react"),f=(a("@natgeo/pestle"),a("../MultiLayoutPromos/components/BoxAdSlot.jsx")),g=a("../GenericModal/GenericModal.jsx"),h=a("lodash/throttle");a("velocity-animate");var i=e.createClass({displayName:"Title",render:function(){return e.createElement("div",{className:"link-list__title",dangerouslySetInnerHTML:{__html:this.props.label}})}}),j=e.createClass({displayName:"Link",propTypes:{link:e.PropTypes.object.isRequired,modalState:e.PropTypes.bool,closeModal:e.PropTypes.func},linkClicked:function(){var a=this.props.link.linkUrl,b=NGS.core_site.sandbox.coreArticleHelpers.getBreakpoint()||"desktop",c="mobile"===b?50:120,e=this;d(a).closest(".section").prev(".section").find(".hub-box-ad").length&&"desktop"===b&&(c=-0),d(a).velocity("scroll",{offset:-c,mobileHA:!1,begin:function(){e.props.modalState&&e.props.closeModal()}})},componentDidMount:function(){var a=this;this.props.link.inPageLink?this.refs.anchor.addEventListener("click",function(b){b.preventDefault(),a.linkClicked()}):this.refs.anchor.addEventListener("click",function(b){a.props.modalState&&a.props.closeModal()})},componentWillUnmount:function(){var a=this;this.refs.anchor.removeEventListener("click",function(){a.linkClicked()})},render:function(){var a=this.props.link,b="";b=a.inPageLink?"link-inPage ":"link-outPage ";var c=a.linkUrl;return a.linkTrackingCode&&a.inPageLink===!1&&(c+=a.linkTrackingCode),e.createElement("li",{className:"link-list__link"},e.createElement("a",{href:c,className:b,target:a.linkTarget,ref:"anchor"},e.createElement("span",{className:"link-list__link-text dotdotdot"},a.linkText),e.createElement("span",{className:"icongs-arrowdown icongs"})))}}),k=e.createClass({displayName:"Placeholder",render:function(){return e.createElement("li",{className:"link-list__placeholder"})}}),l=e.createClass({displayName:"LinkList",propTypes:{model:e.PropTypes.object.isRequired},getInitialState:function(){return this.$el=null,this.lastScrollTop=0,{renderNGSModal:!1,buttonDisplayed:!1}},scrollEvent:function(){var a=d(window),b=this;if(!this.state.renderNGSModal){var c=a.scrollTop(),e=b.$el,f=e.parent().parent().next().offset().top;"desktop"!==NGS.core_site.sandbox.coreArticleHelpers.getBreakpoint()?(c<b.lastScrollTop&&c>f?this.setState({buttonDisplayed:!0}):this.setState({buttonDisplayed:!1}),b.lastScrollTop=c):c>f?this.setState({buttonDisplayed:!0}):this.setState({buttonDisplayed:!1})}},componentDidMount:function(){this.$el=d(this.refs.linklist);var a=h(this.scrollEvent,250);window.addEventListener("scroll",a)},showNGSModal:function(){this.setState({renderNGSModal:!0,buttonDisplayed:!1}),d("html, body").addClass("ngs-generic-modal__noscroll")},closeNGSModal:function(){this.setState({renderNGSModal:!1,buttonDisplayed:!0}),d("html, body").removeClass("ngs-generic-modal__noscroll")},render:function(){var a="open-modal-btn ",b=[],c="desktop"===NGS.core_site.sandbox.coreArticleHelpers.getBreakpoint()?!0:!1;if(this.props.model.links)for(var d=0;d<this.props.model.links.length;d++)b.push(e.createElement(j,{key:d,link:this.props.model.links[d],model:this.props.model,closeModal:this.closeNGSModal,modalState:this.state.renderNGSModal}));else b.push(e.createElement(k,{key:1}));return this.state.buttonDisplayed&&(a+="active"),e.createElement("div",{className:"link-list__wrap",ref:"linklist"},e.createElement("div",{className:"open-modal-btn__wrap"},e.createElement("a",{className:a,onClick:this.showNGSModal},"TABLE ",e.createElement("em",null,"of")," CONTENTS")),e.createElement("div",{className:"link-list__container container"},e.createElement("div",{className:"link-list mt_col-12 mt_col-lg-8 "},this.props.model.title?e.createElement(i,{label:this.props.model.title}):null),e.createElement("div",{className:"link-list mt_col-12 mt_col-lg-8 "},e.createElement("ul",{className:"link-list__links"},b)),e.createElement(f,null)),c?e.createElement("span",{className:"bumper--bottom"}):null,e.createElement(g,{transitionType:"slide",onClose:this.closeNGSModal,renderNGSModal:this.state.renderNGSModal},e.createElement("div",{className:"link-list__wrap"},e.createElement("div",{className:"link-list__container container"},e.createElement("div",{className:"link-list mt_col-12 mt_col-lg-8 "},this.props.model.title?e.createElement(i,{label:this.props.model.title}):null),e.createElement("div",{className:"link-list mt_col-12 mt_col-lg-8 "},e.createElement("ul",{className:"link-list__links"},b))))))}});b.exports=l},{"../GenericModal/GenericModal.jsx":59,"../MultiLayoutPromos/components/BoxAdSlot.jsx":90,"@natgeo/pestle":"@natgeo/pestle","es5-shim":"es5-shim",jquery:"jquery","lodash/throttle":"lodash/throttle",react:"react","velocity-animate":"velocity-animate"}],83:[function(a,b,c){"use strict";var d=a("./Listicle.jsx"),e=a("react"),f=a("react-dom"),g=a("@natgeo/pestle"),h=a("jquery");g.Module.add("Listicle",{initialize:function(){var a=this;h.when(h.get(a.options.endpoint)).done(function(b){h.each(b,function(b,c){var g=b+1;document.getElementById(c.listicleId)?f.render(e.createElement(d,{itemNum:g,showNumbering:a.options.showNumbering,dataModel:c}),document.getElementById(c.listicleId)):NGS.core_site.sandbox.log.info("Listicle Controller: No card found with id: "+c.listicleId)})}).fail(function(){NGS.core_site.sandbox.log.info("Listicle Controller query failure")})}})},{"./Listicle.jsx":84,"@natgeo/pestle":"@natgeo/pestle",jquery:"jquery",react:"react","react-dom":"react-dom"}],84:[function(a,b,c){"use strict";var d=a("react"),e=a("../Common/components/Images/Images.jsx"),f=d.createClass({displayName:"Listicle",propTypes:{showNumbering:d.PropTypes.bool,dataModel:d.PropTypes.object.isRequired},render:function(){var a,b=this.props.dataModel,c={url:b.image.url,frameAspectRatio:2/3,aspectRatio:b.image.imageAspectRatio,lazyLoad:!0};a=b.image.url?d.createElement(e,{image:c}):null;var f=b.title;return this.props.showNumbering===!0&&(f=this.props.itemNum+". "+f),d.createElement("div",{className:"listicle-container"},d.createElement("div",{className:"listicle-container__title"},d.createElement("h3",{dangerouslySetInnerHTML:{__html:f}})),d.createElement("div",{className:"listicle-container__dek",dangerouslySetInnerHTML:{__html:b.dek}}),a,d.createElement("div",{className:"listicle-container__caption",dangerouslySetInnerHTML:{__html:b.image.caption}}),d.createElement("div",{className:"listicle-container__credit",dangerouslySetInnerHTML:{__html:b.image.credit}}),d.createElement("div",{className:"listicle-container__text",dangerouslySetInnerHTML:{__html:b.text}}))}});b.exports=f},{"../Common/components/Images/Images.jsx":24,react:"react"}],85:[function(a,b,c){"use strict";var d=a("jquery"),e=a("@natgeo/pestle");e.Module.add("MapMarker",{isLoaded:!1,init:function(){var a,b,c=this.options.apitoken,d=this.options.points,e=this.options.objectid,f=this.options.icon,g=this.options.mapid,h=(this.options.centerlat,this.options.centerlong,this.options.zoom),i={};if(""===g||""===c)return!1;L.mapbox.accessToken=c;var j=L.mapbox.map(e,g);for(var k in d){if(i.longitude=k.longitude,i.latitude=k.latitude,a={title:k.title},b=L.marker([k.latitude,k.longitude],a),void 0!==f&&""!==f||void 0!==k.leadImageUrl&&""!==k.leadImageUrl){var l=L.icon({iconUrl:void 0!==f&&""!==f?f:k.leadImageUrl,iconSize:[50,50],iconAnchor:[25,50],popupAnchor:[0,-50],className:"PinNatGeo"});b.setIcon(l)}var m='<div class="mapcomponent-tooltip-"><div class=" mapcomponent-tooltip-left"><a href="'+k.path+'.html"><div class="mapcomponent-img-container"><div class="mapcomponent-img-innercontainer"><img src="'+k.leadImageUrl+'"/></a></div></div></div><div class="mapcomponent-tooltip-right"><a href="'+k.path+'.html"><h2>'+k.title+'</h2></a><a class="mapcomponent-tooltip-moreabout" href="'+k.path+'.html">More</a></div></div>';b.bindPopup(m),b.addTo(j)}j.setView([i.latitude,i.longitude],h),this.isLoaded=!0},initialize:function(){var a=this;this.sandbox.log.info("MapMarker initialized"),d.getScript("/etc/designs/platform/v2/vendor/mapbox_js/mapbox.js").then(function(){a.init()})}})},{"@natgeo/pestle":"@natgeo/pestle",jquery:"jquery"}],86:[function(a,b,c){"use strict";a("es5-shim");var d=(a("jquery"),a("react")),e=a("react-dom"),f=a("@natgeo/pestle"),g=a("./MostPopular.jsx");f.Module.add("MostPopular",{isLoaded:!1,initialize:function(){if(!this.isLoaded){var a={showKeyword:!0,showDescription:this.options.showabstract,showImage:this.options.showimage,showSeries:this.options.showseries};return e.render(d.createElement(g,{heading:this.options.heading,groupId:this.options.guid,addons:a,maxResults:Number(this.options.maxresults),timeInterval:this.options.timeinterval,showMoreAt:Number(this.options.mobileinitialcount)||2,endPoint:this.options.endpoint,site:this.options.site}),this.el),this.isLoaded=!0,this.sandbox.log.info("MostPopular js loaded:",this.el)}}}),b.exports=g},{"./MostPopular.jsx":87,"@natgeo/pestle":"@natgeo/pestle","es5-shim":"es5-shim",jquery:"jquery",react:"react","react-dom":"react-dom"}],87:[function(a,b,c){"use strict";a("es5-shim");var d=a("jquery"),e=a("react"),f=a("@natgeo/pestle"),g=a("../Spinner/Spinner.jsx"),h=a("lodash/map"),i=a("lodash/bind"),j=e.createClass({displayName:"MostPopularItemImage",render:function(){return e.createElement("a",{href:this.props.link,className:"popularitem-imagelink"},e.createElement("div",{className:"popularitem-imagepreview"},this.props.src&&this.props.src.match(/^(.*:)\/\/([A-Za-z0-9\-\.]+)(:[0-9]+)?\/content\/dam\/(.*)$/)?e.createElement("div",{className:"delayed-image-load","data-src":this.props.src+"/{width}/{pixel_ratio}"}):e.createElement("i",{className:"icongs icongs-border gn_text--highlight"})))}}),k=e.createClass({displayName:"MostPopularListItem",propTypes:{groupId:e.PropTypes.string,showDescription:e.PropTypes.bool,showImage:e.PropTypes.bool,showSeries:e.PropTypes.bool,title:e.PropTypes.string.isRequired,link:e.PropTypes.string.isRequired,image:e.PropTypes.string,series:e.PropTypes.string,description:e.PropTypes.string,keyword:e.PropTypes.string,hideFromMobile:e.PropTypes.bool},getInitialProps:function(){return{hideFromMobile:!1}},getInitialState:function(){return{showHiddenItems:!1}},componentDidMount:function(){d(document).on(this.props.groupId+".showMore",function(){this.setState({showHiddenItems:!0})}.bind(this)),d(document).on(this.props.groupId+".showLess",function(){this.setState({showHiddenItems:!1})}.bind(this)),f.emit("responsiveimages:create")},createTitle:function(){return{__html:this.props.title}},createDescription:function(){return{__html:this.props.description}},render:function(){var a="popularitem ";return a+=this.props.hideFromMobile&&this.state.showHiddenItems!==!0?"hide-from-mobile":"",e.createElement("li",{className:a},this.props.showImage&&"Null"!=this.props.image?e.createElement(j,{key:this.props.keyword,link:"//"+this.props.link,src:this.props.image}):e.createElement("div",null),e.createElement("h4",{className:"popularitem-title fade fade-one-lines"},this.props.showSeries&&"Null"!=this.props.series?e.createElement("span",{className:"popularitem-series"},this.props.series):e.createElement("span",null),e.createElement("a",{href:"//"+this.props.link,className:"popularitem-link",dangerouslySetInnerHTML:this.createTitle()})),this.props.showDescription&&"Null"!=this.props.showDescription?e.createElement("p",{className:"popularitem-description fade fade-three-lines",dangerouslySetInnerHTML:this.createDescription()}):e.createElement("p",null))}}),l=e.createClass({displayName:"MostPopularMoreButton",propTypes:{groupId:e.PropTypes.string},getInitialState:function(){return{showMore:!0}},handleClickMoreButton:function(){this.state.showMore?(d(this.refs.showMoreBtn).trigger(this.props.groupId+".showMore"),this.setState({showMore:!1})):(d(this.refs.showMoreBtn).trigger(this.props.groupId+".showLess"),this.setState({showMore:!0}))},render:function(){return e.createElement("button",{ref:"showMoreBtn",className:"mostpopular-component-showmore",onClick:this.handleClickMoreButton},"Show ",this.state.showMore?"More":"Less")}}),m=e.createClass({displayName:"MostPopular",propTypes:{heading:e.PropTypes.string.isRequired,groupId:e.PropTypes.string.isRequired,addons:e.PropTypes.object,endPoint:e.PropTypes.string.isRequired,showMoreAt:e.PropTypes.number,maxResults:e.PropTypes.number,timeInterval:e.PropTypes.string.isRequired},getInitialState:function(){return{mostPopularData:[],isLoading:!0}},componentDidMount:function(){if(this.props.timeInterval&&this.props.site){var a=this.props.endPoint+"?"+d.param({maxResults:this.props.maxResults,timeInterval:this.props.timeInterval,site:this.props.site});this.fetchData(a)}},fetchData:function(a){return d.getJSON(a,function(a){var b=0;this.setState({isLoading:!1,mostPopularData:h(a,function(a){return{itemKey:b++,description:a["ga:dimension29"],image:a["ga:dimension30"],series:a["ga:dimension33"],title:a["ga:pageTitle"],link:a["ga:pagePath"],keyword:a["ga:keyword"]}})})}.bind(this)).fail(function(){throw this.setState({isLoading:!1}),new Error("MostPopular component fetchData "+a+" not found.")}.bind(this))},render:function(){return e.createElement("div",{className:"mostpopular-component"},e.createElement("h3",{className:"mostpopular-component-title"},this.props.heading),e.createElement(g,{showContentWhen:!this.state.isLoading},e.createElement("ul",{id:"mpcontent",className:"mostpopular-component-content"},this.state.mostPopularData.map(i(function(a){return e.createElement(k,{groupId:this.props.groupId,showDescription:Boolean(this.props.addons.showDescription),showImage:Boolean(this.props.addons.showImage),showSeries:Boolean(this.props.addons.showSeries),hideFromMobile:a.itemKey>=this.props.showMoreAt?!0:!1,key:a.itemKey,title:a.title,image:a.image,series:a.series,
description:a.description,keyword:a.keyword,link:a.link})},this)),this.state.mostPopularData.length>this.props.showMoreAt?e.createElement(l,{groupId:this.props.groupId}):e.createElement("div",null))))}});b.exports=m},{"../Spinner/Spinner.jsx":119,"@natgeo/pestle":"@natgeo/pestle","es5-shim":"es5-shim",jquery:"jquery","lodash/bind":266,"lodash/map":"lodash/map",react:"react"}],88:[function(a,b,c){"use strict";a("es5-shim"),window.$=window.jQuery=a("jquery");var d=a("react"),e=a("react-dom"),f=a("./MultiLayoutPromos.jsx");Pestle.Module.add("MultiLayoutPromos",{isLoaded:!1,initialize:function(){var a=this;e.render(d.createElement(f,{model:a.options}),this.el),this.isLoaded=!0}}),b.exports=f},{"./MultiLayoutPromos.jsx":89,"es5-shim":"es5-shim",jquery:"jquery",react:"react","react-dom":"react-dom"}],89:[function(a,b,c){"use strict";a("es5-shim");var d=a("jquery"),e=a("react"),f=(a("@natgeo/pestle"),a("./components/Heading.jsx")),g=a("./components/PromosContainer.jsx"),h=a("./components/PinnedPromoContainer.jsx"),i=a("../ContentSeparator/ContentSeparator.jsx"),j=a("./components/LeaderboardAdSlot.jsx"),k=a("./components/BoxAdSlot.jsx"),l=!1,m=e.createClass({displayName:"MultiLayoutPromos",propTypes:{model:e.PropTypes.object.isRequired},getInitialState:function(){return{hidePromoArea:!1}},componentDidMount:function(){var a=d(this.refs.mlp),b=this.props.model.adConfig?"multi-layout-promos--with-"+this.props.model.adConfig:"no-size";a&&a.closest(".multiLayout").addClass(b),l=NGS.core_site.sandbox.aem.isEditMode()||!1,"article"===NGS.core_site.dfp.template&&"box-ads"===this.props.model.adConfig},hidePromoArea:function(){this.isMounted()&&this.setState({hidePromoArea:!0})},render:function(){var a="desktop"===NGS.core_site.sandbox.coreArticleHelpers.getBreakpoint()?!0:!1,b="container ",c="multi-layout-promos__wrap ",d="siblings"===this.props.model.configuration||"children"===this.props.model.configuration?"multi-layout-promos__hr":"multi-layout-promos__hr multi-layout-promos__hr--large",m="multiLayoutWithPin"===this.props.model.componentType;return b+=this.state.hidePromoArea?" hidden":"",c+=m?" multi-layout-promos--pinned":"",e.createElement("div",{ref:"mlp",className:c},"leaderboard-ads"!==this.props.model.adConfig||m?e.createElement(i,{cssClass:d}):e.createElement(j,{includeLarge:this.props.model.includeSizeOption}),this.state.hidePromoArea&&l?e.createElement("div",{className:"empty-component-message"},e.createElement("div",{className:"empty-component-message__message"},"(MLP) Insufficient Data - No Promos Found")):null,e.createElement("div",{className:b},m?null:e.createElement(f,{model:this.props.model}),m?e.createElement(h,{model:this.props.model,hidePromoArea:this.hidePromoArea}):e.createElement(g,{model:this.props.model,hidePromoArea:this.hidePromoArea}),"box-ads"===this.props.model.adConfig||m?e.createElement(k,null):""),("box-ads"===this.props.model.adConfig||m)&&a?e.createElement("span",{className:"bumper--bottom bumper--bottom-of-box-ad"}):"")}});b.exports=m},{"../ContentSeparator/ContentSeparator.jsx":29,"./components/BoxAdSlot.jsx":90,"./components/Heading.jsx":91,"./components/LeaderboardAdSlot.jsx":92,"./components/PinnedPromoContainer.jsx":94,"./components/PromosContainer.jsx":96,"@natgeo/pestle":"@natgeo/pestle","es5-shim":"es5-shim",jquery:"jquery",react:"react"}],90:[function(a,b,c){"use strict";var d=a("react"),e=d.createClass({displayName:"BoxAdSlot",render:function(){var a=Math.random().toString(36).substring(7);return d.createElement("div",{id:a,className:"ad-holder mt_col-12 mt_col-lg-4","data-ad-component":"boxAd","data-ad-config-key":"bodyBox"})}});b.exports=e},{react:"react"}],91:[function(a,b,c){"use strict";var d=a("react"),e=a("../../CallToActionButton/CallToActionButton.jsx"),f=d.createClass({displayName:"Heading",render:function(){return d.createElement("div",{className:"multi-layout-promos__heading__text",dangerouslySetInnerHTML:{__html:this.props.label}})}}),g=d.createClass({displayName:"Teaser",render:function(){return d.createElement("div",{className:"multi-layout-promos__heading__teaser",dangerouslySetInnerHTML:{__html:this.props.label}})}}),h=d.createClass({displayName:"HeadingComponent",propTypes:{model:d.PropTypes.shape({heading:d.PropTypes.string,teaser:d.PropTypes.string,ctaPath:d.PropTypes.string,ctaText:d.PropTypes.string,size:d.PropTypes.string.isRequired}).isRequired},render:function(){var a="multi-layout-promos__heading ";return a+="secondary"===this.props.model.headingStyle?" multi-layout-promos__heading--secondary":"multi-layout-promos__heading--primary","box-ads"===this.props.model.adConfig&&(a+=" multi-layout-promos__heading--box-ads"),d.createElement("div",{className:a},this.props.model.heading?d.createElement(f,{label:this.props.model.heading}):null,this.props.model.teaser?d.createElement(g,{label:this.props.model.teaser}):null,("large"!==this.props.model.size||"above-promo"==this.props.model.ctaPosition)&&this.props.model.ctaPath&&this.props.model.ctaText?d.createElement("div",null,d.createElement(e,{type:this.props.model.ctaDisplay,label:this.props.model.ctaText,path:this.props.model.ctaPath,target:this.props.model.ctaTarget})):null)}});b.exports=h},{"../../CallToActionButton/CallToActionButton.jsx":17,react:"react"}],92:[function(a,b,c){"use strict";var d=a("react"),e=d.createClass({displayName:"LeaderboardAdSlot",render:function(){var a=Math.random().toString(36).substring(7);return d.createElement("div",{id:a,className:"ad-holder","data-ad-component":"stickyLeaderboard","data-ad-config-key":"bodyLeaderboard"})}});b.exports=e},{react:"react"}],93:[function(a,b,c){"use strict";var d=a("react"),e=a("../../Common/components/Images/Images.jsx"),f=a("./Substories.jsx"),g=d.createClass({displayName:"Series",render:function(){return d.createElement("p",{className:"multi-layout-promos__promo-series",dangerouslySetInnerHTML:{__html:this.props.label}})}}),h=d.createClass({displayName:"Title",getDefaultProps:function(){return{onClickEvent:null}},render:function(){var a="multi-layout-promos__promo-title ";a+=this.props.truncate?"dotdotdot":"";var b=this.props.onClickEvent?"javascript:":this.props.link;return d.createElement("h3",{className:a},d.createElement("a",{href:b,onClick:this.props.onClickEvent,className:"multi-layout-promos__promo-title-link"},d.createElement("span",{itemProp:"headline",dangerouslySetInnerHTML:{__html:this.props.label}})))}}),i=d.createClass({displayName:"Abstract",render:function(){var a="multi-layout-promos__promo-dek ";return a+=this.props.truncate?"dotdotdot":"",d.createElement("div",{className:a},d.createElement("span",{itemProp:"description",dangerouslySetInnerHTML:{__html:this.props.label}}))}}),j=d.createClass({displayName:"BrandingBadge",render:function(){return d.createElement("div",{className:"multi-layout-promos__promo--branding promo--brandingBadge",dangerouslySetInnerHTML:{__html:this.props.label}})}}),k=d.createClass({displayName:"Pin",render:function(){var a=(this.props.size,this.props.showImages),b=this.props.showSeries,c=this.props.showTitles,k=this.props.showAbstracts,l="multi-layout-promos__promo-text ",m="multi-layout-promos__promo multi-layout-promos__promo--pin ",n="video"===this.props.promo.page.pageType&&this.props.promo.page.guid,o=this.props.promo.page.subStories&&this.props.promo.page.subStories.length,p=0;this.props.promo.leadMedia&&(this.props.promo.page.showPlayButton||this.props.promo.page.videoLead||this.props.promo.leadMedia.isVideo||n)&&(m+=" multi-layout-promos__promo--video");var q=!1;return d.createElement("div",null,d.createElement("div",{className:m},d.createElement("div",{className:"multi-layout-promos__promo-content"},this.props.promo.page.url?d.createElement("a",{href:this.props.promo.page.url,className:"div-link"}):null,this.props.promo.leadMedia&&this.props.promo.leadMedia.url&&a?d.createElement("a",{href:this.props.promo.page.url,className:"figure-link"},d.createElement(e,{key:p++,image:this.props.promo.leadMedia})):null,d.createElement("div",{className:l},this.props.promo.page.series&&b?d.createElement(g,{label:this.props.promo.page.series}):null,this.props.promo.page.title&&c?d.createElement(h,{label:this.props.promo.page.title,truncate:q,link:this.props.promo.page.url}):null,this.props.promo.page.abstract&&k?d.createElement(i,{label:this.props.promo.page.abstract,truncate:q}):null),this.props.promo.page.brandingBadge?d.createElement(j,{label:this.props.promo.page.brandingBadge}):null)),o?d.createElement("hr",{className:"multi-layout-promos__promo--pin__hr"}):null,o?d.createElement(f,{substories:this.props.promo.page.subStories,classes:"multi-layout-promos__promo--pin__substory"}):null)}});b.exports=k},{"../../Common/components/Images/Images.jsx":24,"./Substories.jsx":97,react:"react"}],94:[function(a,b,c){"use strict";var d=a("jquery"),e=a("react"),f=a("./Promo.jsx"),g=a("./Pin.jsx"),h=e.createClass({displayName:"PinnedPromosContainer",getInitialState:function(){return this.shouldCallStickiness=!1,{promoResults:[],promosShown:1}},propTypes:{model:e.PropTypes.object.isRequired},componentDidUpdate:function(){this.shouldCallStickiness&&"article"===NGS.core_site.dfp.template&&"box-ads"===this.props.model.adConfig&&(setTimeout(function(){NGS.core_site.sandbox.stickyBehavior.initStickiness("article",NGS.core_site.sandbox,"mlpBoxAd")},500),this.shouldCallStickiness=!1)},componentWillMount:function(){var a=this,b="",c=this.props.model.endpoint;if(this.props.model.queryParameters){var e=this.props.model.queryParameters.replace("&","?");c+=e}this.props.model.startPage&&(c=$jsonURL+"&page="+this.props.model.startPage),d.get(c,function(a){b=a},"json").done(function(){b.length?a.isMounted()&&(a.shouldCallStickiness=!0,a.setState({promoResults:b,promosShown:b.length})):a.props.hidePromoArea()}).fail(function(){this.props.hidePromoArea(),console.log("MLP query failure")})},render:function(){var a=this.props.model,b="mt_col-12 mt_col-lg-8 multi-layout-promos multi-layout-promos--box-ads multi-layout-promos--medium",c="",d=!0,h=!0,i=!0,j=!0,k=[],l=1;if(a.showImages||(d=!1),a.showSeries||(h=!1),a.showTitles||(i=!1),a.showAbstracts||(j=!1),this.state.promoResults.length)for(var m=0;m<this.state.promoResults.length;){for(var n=[],o=0;l>o&&m<this.state.promosShown&&m<this.state.promoResults.length;o++)0===m?n.push(e.createElement(g,{key:m,promo:this.state.promoResults[m],showImages:d,showSeries:h,showTitles:i,showAbstracts:j})):(n.push(e.createElement("hr",{key:"hrkey"+m,className:"multi-layout-promos--pinned__hr"})),n.push(e.createElement(f,{key:m,promo:this.state.promoResults[m],promoClasses:c,size:"medium",isPinned:!0,showImages:d,showSeries:h,showTitles:i,showAbstracts:j}))),m++;var p=e.createElement("div",{key:m,className:"multi-layout-promos__row clearfix"},n);k.push(p)}return e.createElement("div",{className:b},k)}});b.exports=h},{"./Pin.jsx":93,"./Promo.jsx":95,jquery:"jquery",react:"react"}],95:[function(a,b,c){"use strict";var d=a("react"),e=a("../../Common/components/Images/Images.jsx"),f=a("../../EmbeddedVideoPromo/components/EmbeddedVideo.jsx"),g=a("./Substories.jsx"),h=a("lodash/bind"),i=d.createClass({displayName:"Series",render:function(){return d.createElement("p",{className:"multi-layout-promos__promo-series",dangerouslySetInnerHTML:{__html:this.props.label}})}}),j=d.createClass({displayName:"Title",getDefaultProps:function(){return{onClickEvent:null}},render:function(){var a="multi-layout-promos__promo-title ";a+=this.props.truncate?"dotdotdot":"";var b=this.props.onClickEvent?"javascript:":this.props.link;return d.createElement("h3",{className:a},d.createElement("a",{href:b,onClick:this.props.onClickEvent,className:"multi-layout-promos__promo-title-link"},d.createElement("span",{itemProp:"headline",dangerouslySetInnerHTML:{__html:this.props.label}})))}}),k=d.createClass({displayName:"Abstract",render:function(){var a="multi-layout-promos__promo-dek ";return a+=this.props.truncate?"dotdotdot":"",d.createElement("div",{className:a},d.createElement("span",{itemProp:"description",dangerouslySetInnerHTML:{__html:this.props.label}}))}}),l=d.createClass({displayName:"Details",propTypes:{items:d.PropTypes.array.isRequired},render:function(){return d.createElement("div",{className:"multi-layout-promos__promo-details"},this.props.items.map(h(function(a,b){return d.createElement("div",{key:b,className:"multi-layout-promos__promo-details__row"},d.createElement("span",{className:"promo-details__label",dangerouslySetInnerHTML:{__html:a.label+":"}}),d.createElement("span",{className:"promo-details__value",dangerouslySetInnerHTML:{__html:a.value}}))},this)))}}),m=d.createClass({displayName:"RichText",propTypes:{class:d.PropTypes.string.isRequired},render:function(){return d.createElement("div",{className:"multi-layout-promos__promo-richtext-"+this.props.class},d.createElement("span",{dangerouslySetInnerHTML:{__html:this.props.text}}))}}),n=d.createClass({displayName:"BrandingBadge",render:function(){return d.createElement("div",{className:"multi-layout-promos__promo--branding promo--brandingBadge",dangerouslySetInnerHTML:{__html:this.props.label}})}}),o=d.createClass({displayName:"PromoComponent",propTypes:{promo:d.PropTypes.shape({leadMedia:d.PropTypes.shape({url:d.PropTypes.string,isVideo:d.PropTypes.bool,videoModel:d.PropTypes.shape({instance:d.PropTypes.string.isRequired,guid:d.PropTypes.string.isRequired,sharing:d.PropTypes.bool,overlayPlayButton:d.PropTypes.bool})}),page:d.PropTypes.shape({url:d.PropTypes.string,series:d.PropTypes.string,title:d.PropTypes.string,abstract:d.PropTypes.string,details:d.PropTypes.array,airDetails:d.PropTypes.string,synopsis:d.PropTypes.string,sponsored:d.PropTypes.bool,sponsorContentLabel:d.PropTypes.string,brandingBadge:d.PropTypes.string}).isRequired}).isRequired,isPinned:d.PropTypes.bool,promoClasses:d.PropTypes.string,size:d.PropTypes.string.isRequired,showImages:d.PropTypes.bool.isRequired,showSeries:d.PropTypes.bool.isRequired,showTitles:d.PropTypes.bool.isRequired,showAbstracts:d.PropTypes.bool.isRequired,showAirDetails:d.PropTypes.bool,showDetails:d.PropTypes.bool,showSynopsis:d.PropTypes.bool,videoPromoPresent:d.PropTypes.bool},triggerVideoModal:function(){Pestle.emit("VideoModal_Launch",this.props.promo.page.guid,this.props.promo.page.title,this.props.promo.page.abstract)},render:function(){var a=this.props.size,b=this.props.showImages,c=this.props.showSeries,h=this.props.showTitles,o=this.props.showAbstracts,p=this.props.showAirDetails,q=this.props.showDetails,r=this.props.showSynopsis,s="multi-layout-promos__promo-text ",t=this.props.promoClasses,u="video"===this.props.promo.page.pageType&&this.props.promo.page.guid,v=this.props.isPinned&&this.props.promo.page.subStories&&this.props.promo.page.subStories.length,w=0;t+=" multi-layout-promos__promo clearfix",this.props.promo.leadMedia&&(this.props.promo.leadMedia.videoModel?t+=" multi-layout-promos__promo--embedded-video":(this.props.promo.page.showPlayButton||this.props.promo.page.videoLead||this.props.promo.leadMedia.isVideo||u)&&(t+=" multi-layout-promos__promo--video")),"video"!==a&&(b&&this.props.promo.leadMedia&&this.props.promo.leadMedia.url||(t+=" multi-layout-promos__promo--text-only")),this.props.promo.page.sponsored&&(t+=" multi-layout-promos__promo--sponsored");var x=!1;return"large"!==a&&"video"!==a&&(x=!0,this.props.promo.leadMedia&&(this.props.promo.leadMedia.frameAspectRatio=this.props.videoPromoPresent?.5625:.6666)),u?d.createElement("div",null,d.createElement("div",{className:t},d.createElement("div",{className:"multi-layout-promos__promo-content"},b&&this.props.promo.leadMedia&&this.props.promo.leadMedia.url?null:d.createElement("div",{className:"multi-layout-promos__promo--text-only__bg"}),d.createElement("a",{href:"javascript:;",onClick:this.triggerVideoModal,className:"div-link"}),this.props.promo.leadMedia&&this.props.promo.leadMedia.url&&b?d.createElement("a",{href:"javascript:;",onClick:this.triggerVideoModal,className:"figure-link"},d.createElement("div",{className:"multi-layout-promos__promo--sponsor-caption"},this.props.promo.page.sponsorContentLabel),d.createElement(e,{key:w++,image:this.props.promo.leadMedia})):null,this.props.promo.leadMedia&&this.props.promo.leadMedia.isVideo&&this.props.promo.leadMedia.videoModel?d.createElement(f,{key:w++,model:this.props.promo.leadMedia.videoModel,lazyLoad:!0}):null,d.createElement("div",{className:s},this.props.promo.page.series&&c?d.createElement(i,{label:this.props.promo.page.series}):null,this.props.promo.page.title&&h?d.createElement(j,{label:this.props.promo.page.title,truncate:x,onClickEvent:this.triggerVideoModal,link:this.props.promo.page.url}):null,this.props.promo.page.abstract&&o?d.createElement(k,{label:this.props.promo.page.abstract,truncate:x}):null,this.props.promo.page.details&&q?d.createElement(l,{items:this.props.promo.page.details}):null,this.props.promo.page.airDetails&&p?d.createElement(m,{class:"air-details",text:this.props.promo.page.airDetails}):null,this.props.promo.page.synopsis&&r?d.createElement(m,{class:"synopsis",text:this.props.promo.page.synopsis}):null),this.props.promo.page.brandingBadge?d.createElement(n,{label:this.props.promo.page.brandingBadge}):null)),v?d.createElement(g,{substories:this.props.promo.page.subStories}):null):d.createElement("div",null,d.createElement("div",{className:t},d.createElement("div",{className:"multi-layout-promos__promo-content"},b&&this.props.promo.leadMedia&&this.props.promo.leadMedia.url&&!this.props.promo.page.sponsored?null:d.createElement("div",{className:"multi-layout-promos__promo--text__bg"}),this.props.promo.page.url?d.createElement("a",{href:this.props.promo.page.url,className:"div-link"}):null,this.props.promo.leadMedia&&this.props.promo.leadMedia.url&&b?d.createElement("a",{href:this.props.promo.page.url,className:"figure-link"},d.createElement("div",{className:"multi-layout-promos__promo--sponsor-caption"},this.props.promo.page.sponsorContentLabel),d.createElement(e,{key:w++,image:this.props.promo.leadMedia})):null,this.props.promo.leadMedia&&this.props.promo.leadMedia.isVideo&&this.props.promo.leadMedia.videoModel?d.createElement(f,{key:w++,model:this.props.promo.leadMedia.videoModel,lazyLoad:!0}):null,d.createElement("div",{className:s},this.props.promo.page.series&&c?d.createElement(i,{label:this.props.promo.page.series}):null,this.props.promo.page.title&&h?d.createElement(j,{label:this.props.promo.page.title,truncate:x,link:this.props.promo.page.url}):null,this.props.promo.page.abstract&&o?d.createElement(k,{label:this.props.promo.page.abstract,truncate:x}):null,this.props.promo.page.details&&q?d.createElement(l,{items:this.props.promo.page.details}):null,this.props.promo.page.airDetails&&p?d.createElement(m,{class:"air-details",text:this.props.promo.page.airDetails}):null,this.props.promo.page.synopsis&&r?d.createElement(m,{class:"synopsis",text:this.props.promo.page.synopsis}):null),this.props.promo.page.brandingBadge?d.createElement(n,{label:this.props.promo.page.brandingBadge}):null)),v?d.createElement(g,{substories:this.props.promo.page.subStories}):null)}});b.exports=o},{"../../Common/components/Images/Images.jsx":24,"../../EmbeddedVideoPromo/components/EmbeddedVideo.jsx":37,"./Substories.jsx":97,"lodash/bind":266,react:"react"}],96:[function(a,b,c){"use strict";var d=a("jquery"),e=a("react"),f=a("./Promo.jsx"),g=a("../../CallToActionButton/CallToActionButton.jsx"),h=a("../../Common/components/ShowMoreButton/ShowMoreButton.jsx"),i=e.createClass({displayName:"PlaceholderDiv",render:function(){return e.createElement("div",{className:"multi-layout-promos__placeholder-div"})}}),j=e.createClass({displayName:"PromosContainer",getInitialState:function(){return this.shouldCallStickiness=!1,this.videoPromoPresent=!1,{promoResults:[],promosShown:1}},propTypes:{model:e.PropTypes.object.isRequired},showMorePromos:function(){var a=1;this.props.model.adConfig&&this.props.model.size&&("small"==this.props.model.size&&(a="box-ads"==this.props.model.adConfig?2:3),"medium"==this.props.model.size&&"leaderboard-ads"==this.props.model.adConfig&&(a=2));var b=this.state.promosShown,c=b+4*a;this.isMounted()&&this.setState({promosShown:c})},componentDidUpdate:function(){this.shouldCallStickiness&&"article"===NGS.core_site.dfp.template&&"box-ads"===this.props.model.adConfig&&(setTimeout(function(){NGS.core_site.sandbox.stickyBehavior.initStickiness("article",NGS.core_site.sandbox,"mlpBoxAd")},500),this.shouldCallStickiness=!1)},componentWillMount:function(){var a=this,b="",c=this.props.model.endpoint;if(this.props.model.queryParameters){var e=this.props.model.queryParameters.replace("&","?");c+=e}this.props.model.startPage&&(c=$jsonURL+"&page="+this.props.model.startPage),d.get(c,function(a){b=a},"json").done(function(){if(b.length){if(a.isMounted()){a.shouldCallStickiness=!0;for(var c=0;c<b.length;c++)b[c].page&&"video"===b[c].page.pageType&&(a.videoPromoPresent=!0);a.props.model.showAll?a.setState({promoResults:b,promosShown:b.length}):"small"==a.props.model.size?a.props.model.adConfig&&"box-ads"==a.props.model.adConfig?a.setState({promoResults:b,promosShown:4}):a.setState({promoResults:b,promosShown:3}):"medium"==a.props.model.size?a.setState({promoResults:b,promosShown:2}):a.setState({promoResults:b})}}else a.props.hidePromoArea()}).fail(function(){console.log("MLP query failure")})},render:function(){var a=this.props.model,b="mt_col-12 multi-layout-promos ",c="",d=!0,j=!0,k=!0,l=!0,m=[],n=!1,o=1;if(a.adConfig&&"box-ads"==a.adConfig?(b+="mt_col-lg-8 multi-layout-promos--box-ads ","small"==a.size&&(c+="mt_col-6 ",o=2)):(b+="multi-layout-promos--leaderboard ","small"==a.size&&(c+="mt_col-12 ",o=3),"medium"==a.size&&(c+="mt_col-12 mt_col-sm-6 ",o=2)),"small"==a.size&&(b+="multi-layout-promos--small "),"medium"==a.size&&(b+="multi-layout-promos--medium "),"large"==a.size&&(b+="multi-layout-promos--large "),a.showImages||(d=!1),a.showSeries||(j=!1),a.showTitles||(k=!1),a.showAbstracts||(l=!1),this.state.promoResults.length){for(var p=0;p<this.state.promosShown&&p<this.state.promoResults.length;){for(var q=[],r=0;o>r&&p<this.state.promosShown&&p<this.state.promoResults.length;r++)q.push(e.createElement(f,{key:p,promo:this.state.promoResults[p],promoClasses:c,size:a.size,showImages:d,showSeries:j,showTitles:k,showAbstracts:l,videoPromoPresent:this.videoPromoPresent})),p++;var s=e.createElement("div",{key:p,className:"multi-layout-promos__row clearfix"},q);m.push(s)}this.state.promoResults.length>this.state.promosShown&&(n=!0)}else m.push(e.createElement(i,{key:1}));return e.createElement("div",{className:b},m,"large"==a.size&&"below-promo"==a.ctaPosition&&a.ctaPath&&a.ctaText?e.createElement("div",{className:"multi-layout-promos--cta-container"},e.createElement(g,{type:a.ctaDisplay,label:a.ctaText,path:a.ctaPath,target:a.ctaTarget})):"",n?e.createElement(h,{label:a.buttonLabel,onClick:this.showMorePromos,hideOnClic:!1,classes:"multi-layout-promos__show-more mt_col-12"}):"")}});b.exports=j},{"../../CallToActionButton/CallToActionButton.jsx":17,"../../Common/components/ShowMoreButton/ShowMoreButton.jsx":26,"./Promo.jsx":95,jquery:"jquery",react:"react"}],97:[function(a,b,c){"use strict";var d=a("react"),e=d.createClass({displayName:"Substory",render:function(){var a=this.props.substory;return d.createElement("div",{className:"multi-layout-promos__substory__holder dotdotdot"},d.createElement("a",{className:"multi-layout-promos__substory",href:a.link.linkUrl,title:a.link.linkSeoTitle,target:a.link.linkTarget},a.genre?d.createElement("span",{className:"multi-layout-promos__substory__genre",dangerouslySetInnerHTML:{__html:a.genre}}):null,d.createElement("span",{className:"multi-layout-promos__substory__title",dangerouslySetInnerHTML:{__html:a.link.linkText}})))}}),f=d.createClass({displayName:"Substories",render:function(){for(var a=[],b=0;b<this.props.substories.length;b++){var c=this.props.substories[b];c.link&&c.link.linkText&&c.link.linkUrl&&a.push(d.createElement(e,{key:b,substory:c}))}return d.createElement("div",{className:"multi-layout-promos__substory__wrap "+this.props.classes},a)}});b.exports=f},{react:"react"}],98:[function(a,b,c){"use strict";a("es5-shim");var d=(window.jQuery=a("jquery"),a("react")),e=a("react-dom"),f=a("@natgeo/pestle"),g=a("./NavRibbon.jsx");f.Module.add("NavRibbon",{isLoaded:!1,initialize:function(){var a=this;e.render(d.createElement(g,{model:a.options}),this.el),this.isLoaded=!0}}),b.exports=g},{"./NavRibbon.jsx":99,"@natgeo/pestle":"@natgeo/pestle","es5-shim":"es5-shim",jquery:"jquery",react:"react","react-dom":"react-dom"}],99:[function(a,b,c){"use strict";a("es5-shim");var d=(a("jquery"),a("react")),e=a("./components/NavRibbonTitle.jsx"),f=a("./components/NavRibbonLink.jsx"),g=d.createClass({displayName:"NavRibbon",propTypes:{model:d.PropTypes.object.isRequired},render:function(){var a=[];if(this.props.model)for(var b=0;b<this.props.model.links.length;b++)a.push(d.createElement(f,{key:b,link:this.props.model.links[b]}));return d.createElement("div",{className:"nav-ribbon container",ref:"navribbon"},d.createElement("div",{className:"nav-ribbon__wrap"},this.props.model.heading?d.createElement(e,{label:this.props.model.heading}):null,d.createElement("ul",{className:"nav-ribbon__links"},a)))}});b.exports=g},{"./components/NavRibbonLink.jsx":100,"./components/NavRibbonTitle.jsx":101,"es5-shim":"es5-shim",jquery:"jquery",react:"react"}],100:[function(a,b,c){"use strict";a("es5-shim");var d=a("react"),e=d.createClass({displayName:"NavRibbonLink",propTypes:{link:d.PropTypes.object.isRequired},render:function(){var a=this.props.link.navItem,b=a.linkUrl;return a.linkTrackingCode&&(b+=a.linkTrackingCode),d.createElement("li",{className:"nav-ribbon__link"},d.createElement("a",{href:b,title:a.linkSeoTitle,target:a.linkTarget,ref:"anchor"},d.createElement("span",{className:"nav-ribbon__link-text"},a.linkText)))}});b.exports=e},{"es5-shim":"es5-shim",react:"react"}],101:[function(a,b,c){"use strict";a("es5-shim");var d=a("react"),e=d.createClass({displayName:"NavRibbonTitle",propTypes:{label:d.PropTypes.string},render:function(){return d.createElement("div",{className:"nav-ribbon__title",dangerouslySetInnerHTML:{__html:this.props.label}})}});b.exports=e},{"es5-shim":"es5-shim",react:"react"}],102:[function(a,b,c){"use strict";a("es5-shim"),a("picturefill");var d=(a("jquery"),a("react")),e=a("react-dom"),f=a("./PictureFill.jsx"),g=a("./getPictureFillFormats");Pestle.Module.add("PictureFill",{isLoaded:!1,initialize:function(){var a="cinematic"===this.options.imageboxSize?"100vw":null;e.render(d.createElement(f,{src:this.options.src,alt:this.options.alt,imageCrop:this.options.imageCrop,formats:g,widthOverride:a}),this.el),this.isLoaded=!0}})},{"./PictureFill.jsx":103,"./getPictureFillFormats":104,"es5-shim":"es5-shim",jquery:"jquery",picturefill:"picturefill",react:"react","react-dom":"react-dom"}],103:[function(a,b,c){"use strict";var d=a("react"),e=a("react-dom"),f=(a("jquery"),a("react-lazy-load")),g=a("lodash/isFunction"),h=a("lodash/debounce"),i=d.createClass({displayName:"PictureFill",propTypes:{formats:d.PropTypes.arrayOf(d.PropTypes.shape({width:d.PropTypes.number.isRequired,media:d.PropTypes.string.isRequired,densities:d.PropTypes.arrayOf(d.PropTypes.number).isRequired})),fadeSpeed:d.PropTypes.number,src:d.PropTypes.string.isRequired,imageCrop:d.PropTypes.string,lazyLoad:d.PropTypes.bool,onLoad:d.PropTypes.func,onRendered:d.PropTypes.func,widthOverride:d.PropTypes.string},getInitialState:function(){return{opacity:0,width:this.props.widthOverride||0}},load:function(){this.props.lazyLoad&&this.refs.lazyLoad.lazyLoadHandler()},handleOnLoad:function(){this.setState({opacity:1}),g(this.props.onLoad)&&setTimeout(function(){this.isMounted()&&this.props.onLoad()}.bind(this),this.props.fadeSpeed)},resizeHandler:function(){if(!this.props.widthOverride){var a=function(a){var b=a.offsetWidth,c=getComputedStyle(a);return b+=parseInt(c.marginLeft)+parseInt(c.marginRight)};this.setState({width:a(e.findDOMNode(this).parentNode)+"px"||"100vw"})}},componentDidMount:function(){picturefill({elements:[e.findDOMNode(this)]}),window.addEventListener("resize",h(this.resizeHandler,750).bind(this)),this.resizeHandler()},componentWillUnmount:function(){window.removeEventListener("resize",this.resizeHandler)},shouldComponentUpdate:function(a,b){return a!==this.props||b!==this.state},getDefaultProps:function(){return{formats:[{width:470,densities:[1,2],media:"(max-width: 470px)"},{width:676,densities:[1],media:"(max-width: 676px)"},{width:885,densities:[1],media:"(max-width: 885px)"},{width:945,densities:[1],media:"(max-width: 945px)"},{width:1190,densities:[1],media:"(max-width: 1190px)"}],fadeSpeed:.75,lazyLoad:!0}},render:function(){var a,b=this.props.formats,c=this.props.src,e=c.substr(0,c.lastIndexOf(".")),g=c.substr(c.lastIndexOf(".")+1),h=this.props.imageCrop,a=d.createElement(j,{formats:b,baseName:e,extension:g,imageCrop:h,parentWidth:this.state.width}),i=this.props.style||{};return i.transition="opacity "+this.props.fadeSpeed+"s",i.opacity=this.state.opacity,this.props.lazyLoad?d.createElement(f,{ref:"lazyLoad",offsetVertical:200},d.createElement("picture",null,9>=k?d.createElement("video",{style:{display:"none"}},a):a,d.createElement("img",{style:i,src:this.props.src,ref:"imageTag",itemProp:"contentUrl",alt:this.props.alt,onLoad:this.handleOnLoad}))):d.createElement("picture",null,9>=k?d.createElement("video",{style:{display:"none"}},a):a,d.createElement("img",{style:i,src:this.props.src,ref:"imageTag",itemProp:"contentUrl",alt:this.props.alt,onLoad:this.handleOnLoad}))}}),j=d.createClass({displayName:"Source",propTypes:{baseName:d.PropTypes.string.isRequired,formats:d.PropTypes.arrayOf(d.PropTypes.shape({width:d.PropTypes.number.isRequired,media:d.PropTypes.string.isRequired,densities:d.PropTypes.arrayOf(d.PropTypes.number).isRequired})).isRequired,extension:d.PropTypes.string.isRequired,imageCrop:d.PropTypes.string},shouldComponentUpdate:function(a,b){return a.parentWidth>this.props.parentWidth},render:function(){var a=this.props.baseName,b=this.props.extension,c=this.props.imageCrop?this.props.imageCrop+".":"",e=(this.props.parentWidth,[]);this.props.formats.map(function(d,f){var g=d.width,h=d.densities;h.forEach(function(d){e.push(a+".adapt."+g+".1."+c+b+" "+g+"w")})});return d.createElement("source",{srcSet:e,sizes:this.props.parentWidth})}}),k=function(){for(var a,b=3,c=document.createElement("div"),d=c.getElementsByTagName("i");c.innerHTML="<!--[if gt IE "+ ++b+"]><i></i><![endif]-->",d[0];);return b>4?b:a}();b.exports=i},{jquery:"jquery","lodash/debounce":"lodash/debounce","lodash/isFunction":"lodash/isFunction",react:"react","react-dom":"react-dom","react-lazy-load":"react-lazy-load"}],104:[function(a,b,c){"use strict";var d=function(){return document.querySelector('meta[name="picturefill"]')?JSON.parse(document.querySelector('meta[name="picturefill"]').content):null}();b.exports=d},{}],105:[function(a,b,c){"use strict";var d=a("./PreFooter.jsx"),e=a("react"),f=a("react-dom"),g=a("@natgeo/pestle");g.Module.add("PreFooter-TextImage",{initialize:function(){f.render(e.createElement(d,{heading:this.options.heading,hideHrBigWeb:this.options.hideHrBigWeb,hideHrTabletMobile:this.options.hideHrTabletMobile,columns:this.options.columns}),this.options.el)}})},{"./PreFooter.jsx":106,"@natgeo/pestle":"@natgeo/pestle",react:"react","react-dom":"react-dom"}],106:[function(a,b,c){"use strict";var d=a("react"),e=d.createClass({displayName:"LinkItem",propTypes:{item:d.PropTypes.object.isRequired},render:function(){return d.createElement("div",{className:"mt_col-6 mt_col-gut-1"},d.createElement("a",{href:this.props.item.link.linkUrl},d.createElement("img",{src:this.props.item.image}),d.createElement("label",{className:""},this.props.item.text)))}}),f=d.createClass({displayName:"PreFooter",propTypes:{heading:d.PropTypes.string.isRequired,hideHrBigWeb:d.PropTypes.bool.isRequired,hideHrTabletMobile:d.PropTypes.bool.isRequired,columns:d.PropTypes.array.isRequired},getDefaultProps:function(){
return{heading:"",hideHrBigWeb:!1,hideHrTabletMobile:!1,columns:[]}},render:function(){var a=[],b=[],c=0;for(c;c<this.props.columns.length;c++)2>c?a.push(d.createElement(e,{key:c,item:this.props.columns[c]})):b.push(d.createElement(e,{key:c,item:this.props.columns[c]}));var f="textImage__top-rule";return this.props.hideHrBigWeb===!0?f+=" textImage__top-rule--hide-desktop":this.props.hideHrTabletMobile===!0&&(f+=" textImage__top-rule--hide-mobile"),d.createElement("div",{className:"mt_row textImage"},d.createElement("div",{className:"rule-buffer"},d.createElement("hr",{className:f})),d.createElement("div",{className:"prefooter__header"},d.createElement("span",null,this.props.heading)),d.createElement("div",{className:"mt_col-12 mt_col-md-6 dividing-rule-buffer"},a),d.createElement("hr",{className:"dividing-rule"}),d.createElement("div",{className:"mt_col-12 mt_col-md-6"},b))}});b.exports=f},{react:"react"}],107:[function(a,b,c){"use strict";var d=a("react"),e=a("jquery"),f=a("../GenericLink/GenericLink.jsx"),g=e(document.body),h=d.createClass({displayName:"SubList",propTypes:{items:d.PropTypes.array.isRequired,cssClass:d.PropTypes.string,includeClose:d.PropTypes.bool,onClose:d.PropTypes.func},getDefaultProps:function(){return{items:[],cssClass:"",includeClose:!1}},closeParentDropdown:function(){"function"==typeof this.props.onClose&&this.props.onClose()},render:function(){var a=""!==this.props.cssClass?this.props.cssClass:"",b=0,c=this.props.items.map(function(a){return d.createElement("li",{key:b++},d.createElement(f,{item:a,"data-select":"true"}))});return d.createElement("ul",{className:a},c)}}),i=new d.createClass({mixins:[a("react-onclickoutside")],propTypes:{label:d.PropTypes.string,linkSet:d.PropTypes.array,comid:d.PropTypes.string},getDefaultProps:function(){function a(a){for(var b="",c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",d=0;a>d;d++)b+=c.charAt(Math.floor(Math.random()*c.length));return b}return{label:"",linkSet:[],comid:a(8)}},getInitialState:function(){return{openDropdown:!1}},handleClickOutside:function(a){this.closeDropdown()},toggleMenu:function(a){a.target.dataset.select&&(this.state.openDropdown?this.closeDropdown():this.openDropdown())},openDropdown:function(){this.setState({openDropdown:!0})},closeDropdown:function(){this.setState({openDropdown:!1})},handleKeyDown:function(a){27==a.keyCode&&this.closeDropdown()},render:function(){var a=this.state.openDropdown===!0?"ngs-pseudoSelect-container ngs-pseudoSelect-open":"ngs-pseudoSelect-container";return this.state.openDropdown?g.on("keydown.PseudoSelect"+this.props.comid,this.handleKeyDown):g.off("keydown.PseudoSelect"+this.props.comid),d.createElement("div",{className:"ngs-pseudoSelect",onClick:this.toggleMenu},d.createElement("div",{className:a},d.createElement("span",{className:"ngs-pseudoSelect-container__drop-label","data-select":"true",dangerouslySetInnerHTML:{__html:this.props.label+'<i data-select="true" class="icongs icongs-lightdirectiondown"></i><i data-select="true" class="icongs icongs-lightdirectionup"></i>'}}),d.createElement(h,{items:this.props.linkSet,onClose:this.closeDropdown,cssClass:"ngs-pseudoSelect-container__list"})))}});b.exports=i},{"../GenericLink/GenericLink.jsx":57,jquery:"jquery",react:"react","react-onclickoutside":"react-onclickoutside"}],108:[function(a,b,c){"use strict";var d=a("react"),e=a("../Common/components/GenericLink.jsx"),f=a("../Common/components/UnorderedList.jsx"),g=d.createClass({displayName:"DropDown",propTypes:{items:d.PropTypes.array.isRequired},getDefaultProps:function(){return{items:[]}},render:function(){var a=this.props.items.map(function(a){return d.createElement(e,{item:a})});return d.createElement(f,{items:a})}});b.exports=g},{"../Common/components/GenericLink.jsx":21,"../Common/components/UnorderedList.jsx":27,react:"react"}],109:[function(a,b,c){"use strict";var d=(window.jQuery=a("jquery"),a("./SecondaryNav.jsx")),e=a("react"),f=a("react-dom"),g=a("@natgeo/pestle");g.Module.add("SecondaryNav",{initialize:function(){f.render(e.createElement(d,{model:this.options,jsonModel:this.options.model,siteTitle:this.options.siteLink}),this.options.el)}})},{"./SecondaryNav.jsx":110,"@natgeo/pestle":"@natgeo/pestle",jquery:"jquery",react:"react","react-dom":"react-dom"}],110:[function(a,b,c){"use strict";var d,e=a("react"),f=a("../JumpMenu/JumpMenu.jsx"),g=a("../Common/components/GenericLink.jsx"),h=(a("../Common/components/UnorderedList.jsx"),a("./SiteHeading.jsx")),i=a("./DropDown.jsx"),j=a("jquery"),k=a("lodash/debounce"),l=new e.createClass({propTypes:{jsonModel:e.PropTypes.array.isRequired,siteTitle:e.PropTypes.object.isRequired,model:e.PropTypes.shape({heading:e.PropTypes.string,linkTrackingCodes:e.PropTypes.string,tripsNavBarLabel:e.PropTypes.string,tripsDropMenuTitle:e.PropTypes.string,tripsByDestinationCta:e.PropTypes.string,tripsByActivityCta:e.PropTypes.string,tripsByDestinationLinks:e.PropTypes.array,tripsByActivityLinks:e.PropTypes.array,tripsTextLinks:e.PropTypes.array,lodgesNavBarLabel:e.PropTypes.string,lodgesDropMenuTitle:e.PropTypes.string,lodgesByDestinationCta:e.PropTypes.string,lodgesByActivityCta:e.PropTypes.string,lodgesByDestinationQueryPath:e.PropTypes.string,lodgesByActivityQueryPath:e.PropTypes.string,lodgesTextLinks:e.PropTypes.array})},getInitialState:function(){return{hideNav:!1}},resizeHandler:function(){j(document).width()<j(this.refs.navContainer).width()+60?this.isMounted()&&!this.state.hideNav&&this.setState({hideNav:!0}):this.isMounted()&&this.state.hideNav&&this.setState({hideNav:!1})},componentDidMount:function(){this.resizeHandler(),d=k(this.resizeHandler,100),window.addEventListener("resize",d)},componentWillUnmount:function(){window.removeEventListener("resize",d)},getDefaultProps:function(){return{siteTitle:{linkText:"Travel",linkSeoTitle:null,linkUrl:null,inPageLink:!1,linkTarget:null,linkTrackingCode:null},jsonModel:[]}},render:function(){var a=""!==this.props.siteTitle?e.createElement(h,{siteTitle:this.props.siteTitle}):null,b=this.state.hideNav?"hideNavContainer":null;return e.createElement("section",{ref:"navContainer",className:"ngs-secondary-nav-parent clearfix "+b},e.createElement("nav",{className:"ngs-secondary-nav"},a,e.createElement("div",{className:"ngs-secondary-nav-container"},e.createElement("ul",null,this.props.jsonModel.map(function(a,b){return e.createElement("li",{className:"ngs-secondary-nav-item",key:b},e.createElement(g,{item:a.navItem}),a.navItem.dropMenu?e.createElement(i,{items:a.navItem.dropMenu}):null)}),e.createElement("li",{className:"ngs-jump-item"},e.createElement("div",{className:"ngs-secondary-nav-jump-menu-parent"},e.createElement(f,{dataModel:this.props.model})))))))}});b.exports=l},{"../Common/components/GenericLink.jsx":21,"../Common/components/UnorderedList.jsx":27,"../JumpMenu/JumpMenu.jsx":77,"./DropDown.jsx":108,"./SiteHeading.jsx":111,jquery:"jquery","lodash/debounce":"lodash/debounce",react:"react"}],111:[function(a,b,c){"use strict";var d=a("react"),e=a("../Common/components/GenericLink.jsx"),f=d.createClass({displayName:"SiteHeading",propTypes:{siteTitle:d.PropTypes.object.isRequired},getDefaultProps:function(){return{siteTitle:{linkText:"Travel",linkSeoTitle:null,linkUrl:null,inPageLink:!1,linkTarget:null,linkTrackingCode:null}}},returnTitleString:function(){var a,b;return this.props.siteTitle.linkUrl?(b=this.props.siteTitle.linkTrackingCode?this.props.siteTitle.linkUrl+this.props.siteTitle.linkTrackingCode:this.props.siteTitle.linkUrl,a={linkUrl:b,linkText:this.props.siteTitle.linkText,linkTarget:this.props.siteTitle.linkTarget},d.createElement(e,{item:a})):this.props.siteTitle.linkText},render:function(){return d.createElement("h3",{className:"ngs-secondary-nav-header"},this.returnTitleString())}});b.exports=f},{"../Common/components/GenericLink.jsx":21,react:"react"}],112:[function(a,b,c){"use strict";var d=a("./SiblingCarousel.jsx"),e=a("react"),f=a("react-dom"),g=a("@natgeo/pestle");g.Module.add("SiblingCarousel",{initialize:function(){f.render(e.createElement(d,{carousel:this.options.carousel}),this.options.el)}})},{"./SiblingCarousel.jsx":113,"@natgeo/pestle":"@natgeo/pestle",react:"react","react-dom":"react-dom"}],113:[function(a,b,c){"use strict";var d=a("react"),e=d.createClass({displayName:"SiblingCarousel",propTypes:{carousel:d.PropTypes.array.isRequired},getCurrentPage:function(){var a;for(a=0;a<this.props.carousel.length;a++)if(this.props.carousel[a].active===!0)return a+1},prevUrl:function(){return 1!==this.getCurrentPage()?this.props.carousel[this.getCurrentPage()-2].absoluteUrl:null},nextUrl:function(){return this.getCurrentPage()!==this.props.carousel.length?this.props.carousel[this.getCurrentPage()].absoluteUrl:null},render:function(){var a="carousel__button carousel__button--prev",b="carousel__button carousel__button--next";return 1===this.getCurrentPage()?a+=" dim":this.getCurrentPage()===this.props.carousel.length&&(b+=" dim"),d.createElement("div",{className:"carousel-container"},d.createElement("a",{className:a,href:this.prevUrl()},d.createElement("i",{className:"icongs-directionleft icongs"})),d.createElement("span",null,this.getCurrentPage()),d.createElement("span",null," / "),d.createElement("span",null,this.props.carousel.length),d.createElement("a",{className:b,href:this.nextUrl()},d.createElement("i",{className:"icongs-directionright icongs"})))}});b.exports=e},{react:"react"}],114:[function(a,b,c){"use strict";var d=a("jquery"),e=a("@natgeo/pestle"),f=a("react"),g=a("react-dom"),h=a("./CommentButton.jsx");e.Module.add("CommentButton",{scrollToComments:function(){d("#livefyre").velocity("scroll",{duration:500,delay:200})},render:function(a){g.render(f.createElement(h,{amount:a,minimumAmountToShow:this.options.minimumamounttoshow,onClick:this.scrollToComments.bind(this)}),this.options.el)},initialize:function(){e.on("comments:updatecommentcount",this.render.bind(this)),this.render()}})},{"./CommentButton.jsx":115,"@natgeo/pestle":"@natgeo/pestle",jquery:"jquery",react:"react","react-dom":"react-dom"}],115:[function(a,b,c){"use strict";var d=a("react"),e=d.createClass({displayName:"CommentButton",propTypes:{amount:d.PropTypes.number,minimumAmountToShow:d.PropTypes.number,onClick:d.PropTypes.func},getDefaultProps:function(){return{amount:0,minimumAmountToShow:0,onClick:function(){}}},onClick:function(){this.props.onClick()},formatCount:function(a){var b="",c=0;a<Math.pow(10,9)&&a>=Math.pow(10,6)-1?(b="m",c=a/Math.pow(10,6)):a<Math.pow(10,6)&&a>=Math.pow(10,3)-1?(b="k",c=a/Math.pow(10,3)):a<=Math.pow(10,3)&&(c=a);var d=Math.round(10*c)/10,e=d.toString().slice(0,3),f=e.replace(/\.$/,"");return f+b},render:function(){var a=this.props.amount<=this.props.minimumAmountToShow?"hide-zero":"",b=this.formatCount(this.props.amount);return d.createElement("div",{className:"sharebutton article__count__menu "+a},d.createElement("a",{className:"app-modal-comments",onClick:this.onClick},d.createElement("i",{className:"icongs icongs-comment"}),d.createElement("span",{itemProp:"commentCount",className:"sharebutton__comment-count"},b)))}});b.exports=e},{react:"react"}],116:[function(a,b,c){"use strict";var d=a("jquery"),e=a("@natgeo/pestle"),f=a("react"),g=a("react-dom"),h=a("../AnimatedScrollToButton/AnimatedScrollToButton.jsx");e.Module.add("CommentsCallToActionButton",{render:function(a,b){g.render(f.createElement(h,a),b)},initialize:function(){var a=d("#livefyre"),b=this.options;this.render({className:"comments-cta mt_btn mt_btn--naked",groupId:b.guid,label:b.label,iconClass:b.iconclass,location:a},this.el)}})},{"../AnimatedScrollToButton/AnimatedScrollToButton.jsx":14,"@natgeo/pestle":"@natgeo/pestle",jquery:"jquery",react:"react","react-dom":"react-dom"}],117:[function(a,b,c){"use strict";var d=a("@natgeo/pestle"),e=a("react-dom"),f=a("react"),g=a("./SocialMobile.jsx");d.Module.add("SocialMobile",{render:function(a){e.render(f.createElement(g,null),a)},initialize:function(){var a=this.sandbox.coreArticleHelpers.getBreakpoint();"desktop"!==a&&this.render(this.options.el)}})},{"./SocialMobile.jsx":118,"@natgeo/pestle":"@natgeo/pestle",react:"react","react-dom":"react-dom"}],118:[function(a,b,c){"use strict";a("velocity-animate");var d=a("jquery"),e=a("react"),f=a("../CallToActionButton/CallToActionButton.jsx"),g=a("../AnimatedScrollToButton/AnimatedScrollToButton.jsx"),h=a("lodash/debounce"),i=e.createClass({displayName:"SocialModal",propTypes:{offsetTop:e.PropTypes.number,onClickComment:e.PropTypes.func,onClickShare:e.PropTypes.func},getDefaultProps:function(){var a=d(".addthis_toolbox"),b=a.length?a.offset().top+a.height():0;return{offsetTop:b,onClickComment:function(){},onClickShare:function(){}}},getInitialState:function(){return{scrollValue:null,scrollDirection:"up",commentsEl:d("#livefyre"),onScroll:h(this.onScroll,200)}},shouldComponentUpdate:function(a,b){return!1},componentDidMount:function(){window.addEventListener("scroll",this.state.onScroll),this.$bar=d(ReactDOM.findDOMNode(this).parentNode)},componentWillUnmount:function(){window.removeEventListener("scroll",this.state.onScroll),Pestle.off("socialmodal:close")},show:function(a){this.isHiden&&(this.$bar.slideDown({duration:a||400}),this.isHiden=!1)},hide:function(a){this.isHiden||(this.$bar.slideUp({duration:a||400}),this.isHiden=!0)},onScroll:function(a){if(!this.isLocked){var b,c=window.scrollY,d=this.state.scrollValue;if(c>d?(b="down",this.hide()):(b="up",c>this.props.offsetTop?this.show():this.hide()),this.setState({scrollValue:c}),this.state.scrollDirection===b)return;this.setState({scrollDirection:b})}},onClickShareButton:function(a){var b=this;a.preventDefault(),this.hide(300),this.isLocked=!0,Pestle.emit("socialmodal:toggle",!0),Pestle.once("socialmodal:close",function(){setTimeout(b.show,700),b.isLocked=!1})},render:function(){return e.createElement("ul",{className:"social-mobile__list"},e.createElement("li",{className:"social-mobile__list_item"},e.createElement(g,{className:"social-mobile__link comment-button",location:this.state.commentsEl,iconClass:"icongs-comment",alt:"Comments"})),e.createElement("li",{className:"social-mobile__list_item"},e.createElement(f,{type:"button",className:"social-mobile__link comment-button",iconClass:"icongs-share",target:"_self",onClick:this.onClickShareButton})))}});b.exports=i},{"../AnimatedScrollToButton/AnimatedScrollToButton.jsx":14,"../CallToActionButton/CallToActionButton.jsx":17,jquery:"jquery","lodash/debounce":"lodash/debounce",react:"react","velocity-animate":"velocity-animate"}],119:[function(a,b,c){"use strict";a("es5-shim");var d=a("react"),e=d.createClass({displayName:"Spinner",propTypes:{showContentWhen:d.PropTypes.bool.isRequired},render:function(){return this.props.showContentWhen?d.createElement("div",{key:"content"},this.props.children):d.createElement("div",{className:"spinner-container"},d.createElement("div",{className:"spinner-animation"}))}});b.exports=e},{"es5-shim":"es5-shim",react:"react"}],120:[function(a,b,c){"use strict";var d=a("jquery"),e=a("@natgeo/pestle");e.Module.add("TitleAndDek",{initialize:function(){var a=d(this.options.el);a.text().trim().length&&(a.removeClass("hidden"),a.prependTo(".text.smartbody p:first"))}})},{"@natgeo/pestle":"@natgeo/pestle",jquery:"jquery"}],121:[function(a,b,c){"use strict";var d,e,f=a("jquery"),e=a("@natgeo/pestle");window.ngsPlayerConfig={autoload:!1,preferredRuntimes:"Flash,HTML5"},d=window.NGS||{},d.modules={video:{pageConfig:{autoPlay:!1,preferredRuntimes:"Flash,HTML5"}}},window.ngsPlayer=a("modules-video"),e.Module.add("UniversalVideo",{createPlayer:function(a){return a.overlayPlayButton===!1&&(a.skinName=a.skinName||"glass-ngs-no-overlay",a.useDefaulPlayOverlay=!1),a.guid=a.videoguid,a.layoutOptions={tpShare:void 0!==a.sharing?a.sharing:!0},ngsPlayer.init(a)},initialize:function(){return f(document).ready(function(a){return function(){return a.createPlayer(a.options),a.sandbox.log.info("UniversalVideo component initialized:")}}(this))}})},{"@natgeo/pestle":"@natgeo/pestle",jquery:"jquery","modules-video":"modules-video"}],122:[function(a,b,c){"use strict";a("es5-shim");var d=(a("jquery"),a("react")),e=a("react-dom"),f=a("@natgeo/pestle"),g=a("./VideoModal.jsx");f.Module.add("VideoModal",{isLoaded:!1,initialize:function(){e.render(d.createElement(g,{model:this}),this.el),this.isLoaded=!0}})},{"./VideoModal.jsx":123,"@natgeo/pestle":"@natgeo/pestle","es5-shim":"es5-shim",jquery:"jquery",react:"react","react-dom":"react-dom"}],123:[function(a,b,c){"use strict";a("es5-shim");var d=a("jquery"),e=a("react"),f=a("@natgeo/pestle"),g=a("../GenericModal/GenericModal.jsx"),h=a("../EmbeddedVideoPromo/components/EmbeddedVideo.jsx"),i=0,j=e.createClass({displayName:"VideoModal",propTypes:{model:e.PropTypes.object.isRequired},getInitialState:function(){return this.guid=null,this.title="",this.abstract="",{openModal:!1}},showVideoModal:function(a,b,c){this.guid=a,this.title=b,this.abstract=c,this.setState({openModal:!0}),d("html, body").addClass("ngs-generic-modal__noscroll")},closeNGSModal:function(){ngsPlayer&&ngsPlayer.api&&"undefined"!=typeof $pdk&&ngsPlayer.api.unload("platformModalVideoPlayer"+i),this.setState({openModal:!1}),d("html, body").removeClass("ngs-generic-modal__noscroll")},componentDidMount:function(){var a=this;f.on("VideoModal_Launch",function(b,c,d){a.showVideoModal(b,c,d)})},render:function(){i++;var a={instance:"platformModalVideoPlayer"+i,guid:this.guid,sharing:!0,overlayPlayButton:!0,autoPlay:!0},b=this.state.openModal;return e.createElement(g,{onClose:this.closeNGSModal,renderNGSModal:b},b?e.createElement("div",{className:"video-modal"},e.createElement("div",{className:"video-modal__player-wrap"},e.createElement(h,{key:i,model:a,lazyLoad:!0})),e.createElement("div",{className:"video-modal__caption"},e.createElement("h3",{className:"video-modal__headline",dangerouslySetInnerHTML:{__html:this.title}}),e.createElement("div",{className:"video-modal__dek",dangerouslySetInnerHTML:{__html:this.abstract}}),e.createElement("a",{href:"http://video.nationalgeographic.com",className:"video-modal__caption-link"},"See More Videos"))):null)}});b.exports=j},{"../EmbeddedVideoPromo/components/EmbeddedVideo.jsx":37,"../GenericModal/GenericModal.jsx":59,"@natgeo/pestle":"@natgeo/pestle","es5-shim":"es5-shim",jquery:"jquery",react:"react"}],124:[function(a,b,c){"use strict";var d=a("./CTAPromo.jsx"),e=a("react"),f=a("react-dom"),g=a("@natgeo/pestle");g.Module.add("CTAPromo",{initialize:function(){f.render(e.createElement(d,{imageUrl:this.options.imageUrl,imageAspectRatio:this.options.imageAspectRatio,link:this.options.link,brandingBadge:this.options.brandingBadge,title:this.options.title}),this.options.el)}})},{"./CTAPromo.jsx":125,"@natgeo/pestle":"@natgeo/pestle",react:"react","react-dom":"react-dom"}],125:[function(a,b,c){"use strict";var d=a("react"),e=a("../../Common/components/Images/Images.jsx"),f=d.createClass({displayName:"CTAPromo",propTypes:{imageUrl:d.PropTypes.string.isRequired,imageAspectRatio:d.PropTypes.number.isRequired,link:d.PropTypes.string.isRequired,brandingBadge:d.PropTypes.string,title:d.PropTypes.string.isRequired},render:function(){var a={url:this.props.imageUrl,frameAspectRatio:.8,aspectRatio:this.props.imageAspectRatio,lazyLoad:!0};return d.createElement("div",{className:"box-container-mobile"},d.createElement("a",{href:this.props.link},d.createElement("div",{className:"cta-promo mt_backgroundbasic"},d.createElement("div",{className:"cta-promo__branding-badge mt_backgroundhighlight dotdotdot",dangerouslySetInnerHTML:{__html:this.props.brandingBadge}}),d.createElement(e,{image:a}),d.createElement("div",{className:"cta-promo__title dotdotdot",dangerouslySetInnerHTML:{__html:this.props.title}}))))}});b.exports=f},{"../../Common/components/Images/Images.jsx":24,react:"react"}],126:[function(a,b,c){"use strict";var d=a("jquery"),e=a("@natgeo/pestle");e.Module.add("EditorsPicks",{isLoaded:!1,initialize:function(){var a=this;d(".app-show-more-editors-picks").on("click",function(){d(this).hide(),d(".app-show-less-editors-picks").show(),d("li.editorspicksitem").removeClass("hidden-xs")}),d(".app-show-less-editors-picks").on("click",function(){d(this).hide(),d(".app-show-more-editors-picks").show(),d("li.editorspicksitem.app-hidden-pick").addClass("hidden-xs")}),a.isLoaded=!0}})},{"@natgeo/pestle":"@natgeo/pestle",jquery:"jquery"}],127:[function(a,b,c){"use strict";var d=a("jquery"),e=a("@natgeo/pestle");e.Module.add("Pin",{isLoaded:!1,$gallery:null,initGallery:function(){var a=this;a.$gallery=new Swiper(".pin-gallery",{}),d(".pin-gallery__prev").on("click",function(){a.$gallery&&a.$gallery.slidePrev()}),d(".pin-gallery__next").on("click",function(){a.$gallery&&a.$gallery.slideNext()})},initialize:function(){var a=this;a.$hasAssets=this.options.hasassets,a.$hasAssets&&a.initGallery(),a.isLoaded=!0}})},{"@natgeo/pestle":"@natgeo/pestle",jquery:"jquery"}],128:[function(a,b,c){"use strict";var d=a("jquery"),e=a("@natgeo/pestle"),f=a("lodash/debounce");e.Module.add("VariantCarousel",{isLoaded:!1,$hasAssets:!1,$component:null,$gallery:null,$assetCount:null,$currentBreakpoint:null,initDesktopGallery:function(){var a=this;a.$gallery=new Swiper(a.$component.find(".variant-carousel__desktop-carousel"),{slidesPerView:"auto",loop:"true",loopedSlides:a.$assetCount}),a.$component.find(".variant-carousel__prev-button").on("click",function(){a.$gallery&&a.$gallery.slidePrev()}),a.$component.find(".variant-carousel__next-button").on("click",function(){a.$gallery&&a.$gallery.slideNext()})},initMobileGallery:function(){var a=this;a.$gallery=new Swiper(a.$component.find(".variant-carousel__mobile-carousel"),{slidesPerView:"auto"})},resizeHandler:function(){var a=this,b=NGS.core_site.sandbox.coreArticleHelpers.getBreakpoint();return a.$currentBreakpoint===b?!1:("mobile"===a.$currentBreakpoint&&a.initDesktopGallery(),"mobile"!==a.$currentBreakpoint&&"mobile"===b&&a.initMobileGallery(),void(a.$currentBreakpoint=b))},initialize:function(){var a=this;a.$id=this.options.id,a.$hasAssets=this.options.hasassets,a.$assetCount=this.options.assetcount,a.$currentBreakpoint=NGS.core_site.sandbox.coreArticleHelpers.getBreakpoint(),a.$component=a.$el.siblings(".variant-carousel"),a.$component.length&&("mobile"===a.$currentBreakpoint?a.initMobileGallery():a.initDesktopGallery(),a.isLoaded=!0,d(window).resize(f(a.resizeHandler.bind(this),150)))}})},{"@natgeo/pestle":"@natgeo/pestle",jquery:"jquery","lodash/debounce":"lodash/debounce"}],129:[function(a,b,c){"use strict";var d=a("jquery"),e=a("@natgeo/pestle"),f=a("react"),g=a("react-dom"),h=a("lodash/merge"),i=a("lodash/bind"),j=a("./AddThis.jsx");a("../../../extensions/stickyBehavior.js");e.Module.add("AddThis",{isLoaded:!1,settings:{addthis_config:{pubid:"ng-dmg",data_track_addressbar:!1,data_track_clickback:!1},addthis_share:{url_transforms:{shorten:{twitter:"bitly"}},shorteners:{bitly:{}},passthrough:{twitter:{via:"NatGeo"}}}},configure:function(){h(window.addthis_config,this.settings.addthis_config),h(window.addthis_share,this.settings.addthis_share)},addthisReady:function(a){this.configure(),this.sandbox.log.info("AddThis is loaded"),this.isLoaded=!0,window.addthis.isReady=!0,e.emit("addthis:ready")},initialize:function(){var a=this,b=this.options,c=b.socialLinks,e=b.analyticsEventSite,h=b.maxVisible,k=b.el,l=b.configuration;"vertical"===l&&(l="auto"),d(k).closest(".addthis_toolbox").addClass(l),g.render(f.createElement(j,{SocialLinks:c,orientation:l,maxVisible:h,className:"addthis__component",analyticsEventSite:e}),k,function(){d.getScript("//s7.addthis.com/js/300/addthis_widget.js#pubid=ng-dmg").then(function(){window.addthis.addEventListener("addthis.ready",i(a.addthisReady,a))})})}})},{"../../../extensions/stickyBehavior.js":141,"./AddThis.jsx":130,"@natgeo/pestle":"@natgeo/pestle",jquery:"jquery","lodash/bind":266,"lodash/merge":"lodash/merge",react:"react","react-dom":"react-dom"}],130:[function(a,b,c){"use strict";a("velocity-animate");var d=3,e=a("jquery"),f=a("react"),g=(a("./../../GenericModal/GenericModal.jsx"),a("./SocialLink.jsx")),h=a("../SocialModal/SocialModal.jsx"),i=f.createClass({displayName:"AddThis",propTypes:{SocialLinks:f.PropTypes.arrayOf(f.PropTypes.shape({socialLink:f.PropTypes.shape({icon:f.PropTypes.string,class:f.PropTypes.string,analyticsEvent:f.PropTypes.string})})),orientation:f.PropTypes.oneOf(["auto","horizontal","vertical"]),maxVisible:f.PropTypes.number},getDefaultProps:function(){return{orientation:"auto",maxVisible:d}},getInitialState:function(){return{collapsed:!0}},animate:function(){var a=this.state,b=this.props.orientation,c=NGS.platform.sandbox.coreArticleHelpers.getBreakpoint(),d=a.collapsed?"slideUp":"slideDown",f=e(".sharebutton__modal--button-container.collapsable"),g=e(".sharebutton__modal--button-container:last .icongs.icongs-open"),h={width:"",opacity:"",display:"none"},i={width:"",opacity:"",display:""},j=300,k=44;if("auto"===b&&"desktop"===c||"vertical"===b)f[d]({duration:j,complete:function(){f.css(a.collapsed?h:i)}});else{var l=void 0,m=void 0,n=void 0;a.collapsed?(l={width:k,opacity:1},m={width:0,opacity:0},n={duration:j,display:"none",complete:function(){f.css(h)}}):(l={width:0,opacity:0},m={width:k,opacity:1},n={duration:j,display:"inline-block",complete:function(){f.css(i)}}),f.css(l),f.velocity(m,n)}g.velocity({rotateZ:a.collapsed?"0deg":"45deg"},{duration:j})},componentDidMount:function(){var a=e(".sharebutton__modal--button-container.collapsable");a.css({display:"none"}),"horizontal"!==this.props.orientation&&NGS.core_site.sandbox.stickyBehavior.initStickiness("article",NGS.core_site.sandbox,"addthis")},handleCollapse:function(a){return a.preventDefault(),"mobile"===NGS.platform.sandbox.coreArticleHelpers.getBreakpoint()?Pestle.emit("socialmodal:toggle",!0):void this.setState({collapsed:!this.state.collapsed},this.animate)},handleClick:function(a,b){b.preventDefault(),"Print"===a&&window.print()},render:function(){var a=this,b=this.props;this.state;return f.createElement("div",{className:"addthis__component "+b.orientation},f.createElement("div",{className:"addthis__component-sociallinks__wrapper"},b.SocialLinks.map(function(c,d){return f.createElement(g,{key:d,className:d<b.maxVisible?"":"collapsable",icon:c.socialLink.icon,internalClassName:c.socialLink.class,analyticsEvent:c.socialLink.analyticsEvent,analyticsEventSite:b.analyticsEventSite,onClick:a.handleClick.bind(a,c.socialLink.analyticsEvent)})}),f.createElement(g,{onClick:a.handleCollapse,icon:"icongs-open",className:"addthis_button_open"})),f.createElement(h,{label:"Share this link",socialLinks:b.SocialLinks,analyticsEventSite:b.analyticsEventSite}))}});b.exports=i},{"../SocialModal/SocialModal.jsx":132,"./../../GenericModal/GenericModal.jsx":59,"./SocialLink.jsx":131,jquery:"jquery",react:"react","velocity-animate":"velocity-animate"}],131:[function(a,b,c){"use strict";var d=a("react"),e=d.createClass({displayName:"SocialLink",propTypes:{analyticsEventSite:d.PropTypes.string,analyticsEvent:d.PropTypes.string,icon:d.PropTypes.string,internalClassName:d.PropTypes.string,className:d.PropTypes.string,onClick:d.PropTypes.func},getDefaultProps:function(){return{internalClassName:"",className:"",onClick:function(){}}},handleClickTrack:function(a){if(a.preventDefault(),this.props.analyticsEvent){var b=["_trackEvent",this.props.analyticsEventSite,"Share",this.props.analyticsEvent];_gaq.push(b)}},onClick:function(a){this.props.onClick(a)},render:function(){var a=this.props,b="sharebutton__modal--button-container clearfix "+a.className;return d.createElement("div",{onClick:this.handleClickTrack,className:b},d.createElement("a",{href:"#",onClick:this.onClick,className:"social-link "+a.internalClassName},d.createElement("span",{className:"share-icon-container"},d.createElement("div",{className:"share-icon"},d.createElement("i",{className:"icongs "+a.icon})))))}});b.exports=e},{react:"react"}],132:[function(a,b,c){"use strict";a("velocity-animate"),a("velocity-animate/velocity.ui");var d=a("jquery"),e=a("es6-promise").Promise,f=a("react"),g=a("./../../GenericModal/GenericModal.jsx"),h=a("../AddThis/SocialLink.jsx"),i={"social.fadeUpIcons":{defaultDuration:80,calls:[[{translateY:"3px"}],[{translateY:"-1px"}],[{translateY:"0"}]]},"social.showContainer":{defaultDuration:250,calls:[[{opacity:[1,0],translateY:[0,"100%"],paddingBottom:3}],[{paddingBottom:0}]]},"social.hideContainer":{defaultDuration:200,calls:[[{opacity:[0,1],translateY:"100%"}]]}},j=f.createClass({displayName:"SocialModal",propTypes:{label:f.PropTypes.string,socialLinks:f.PropTypes.array.isRequired},getInitialState:function(){return{isVisible:!1}},componentWillMount:function(){for(var a in i)d.Velocity.Redirects[a]||d.Velocity.RegisterEffect(a,i[a])},componentDidMount:function(){this.addthisIsLoaded=!1,this.addthisIsReady=new e(function(a,b){window.addthis&&window.addthis.isReady?a():Pestle.once("addthis:ready",a)}),Pestle.on("socialmodal:toggle",this.toggle)},componentWillUnmount:function(){Pestle.off("socialmodal:toggle")},componentDidUpdate:function(){var a=this;this.state.isVisible&&!this.addthisIsLoaded&&(this.addthisIsReady.then(function(){window.addthis.toolbox(".modal-addthis-toolbox"),a.addthisIsLoaded=!0}),this.$modalWrapper=d(this.refs.genericModal.refs.modalWrapper),this.$modalWrapper.$shareIcons=this.$modalWrapper.find(".share-icon")),this.state.isVisible&&(this.$modalWrapper.velocity("social.showContainer"),this.$modalWrapper.$shareIcons.velocity("social.fadeUpIcons",{stagger:50,delay:100}))},toggle:function(a){var b=void 0!==a?a:!this.state.isVisible;b?this.show():this.close()},show:function(){this.setState({isVisible:!0})},close:function(){var a=this;this.$modalWrapper.velocity("social.hideContainer",{complete:function(){a.setState({isVisible:!1},function(){Pestle.emit("socialmodal:close")})}})},handleCrossBtn:function(a){a.preventDefault(),this.close()},handleGenericModal:function(a){a.target.dataset.modalRoot&&this.close()},render:function(){var a=this.props;return f.createElement(g,{renderNGSModal:this.state.isVisible,ref:"genericModal",className:"modal-social-mobile",onClose:this.state.isVisible?this.close:void 0,onModalClick:this.handleGenericModal,transitionSpeed:150,outerClickClose:!1,disableScrollOnShow:!0,displayCloseButton:!1},f.createElement("header",{className:"modal-social-mobile__header"},f.createElement("h6",{className:"modal-social-mobile__headline"},this.props.label),f.createElement("a",{href:"#",className:"modal-social-mobile__close",onClick:this.handleCrossBtn},f.createElement("i",{className:"icongs icongs-close app__modal-social-mobile-close"}))),f.createElement("div",{className:"modal-social-mobile__list modal-addthis-toolbox"},a.socialLinks.map(function(b,c){return b.socialLink.class?f.createElement(h,{key:c,className:"modal-social-mobile__item",icon:b.socialLink.icon,internalClassName:"modal-social-mobile__link "+b.socialLink.class,analyticsEvent:b.socialLink.analyticsEvent,analyticsEventSite:a.analyticsEventSite}):void 0})))}});b.exports=j},{"../AddThis/SocialLink.jsx":131,"./../../GenericModal/GenericModal.jsx":59,"es6-promise":"es6-promise",jquery:"jquery",react:"react","velocity-animate":"velocity-animate","velocity-animate/velocity.ui":334}],133:[function(a,b,c){"use strict";var d=a("@natgeo/pestle");d.Module.add("Comments",{initialize:function(){window.addEventListener("lf:CommentCount",function(a){d.emit("comments:updatecommentcount",a.detail)}),window.addEventListener("lf:CommentsLoaded",function(){d.emit("comments:ready")}),window.livefyreConfig={global:{network:this.options.lfnetworkname},streams:[{siteId:this.options.lfsiteid,articleId:this.options.pageguid,el:this.options.lfelement,collectionMeta:this.options.lfmetadata,checksum:this.options.checksum,signed:!0}]},a("modules-livefyre")}})},{"@natgeo/pestle":"@natgeo/pestle","modules-livefyre":"modules-livefyre"}],134:[function(a,b,c){"use strict";var d,e=a("jquery"),f=a("lodash/defaults"),g=a("lodash/isNumber"),h=a("lodash/bind"),i=a("lodash/partial"),j=a("lodash/debounce"),k=function a(b,c){
var d=c?c:b.target,a=e(b.stickyBarClass);this.init=function(){var c,f;c=g(d)?d:e(d).offset().top,f=j(l,b.waitLimit),e(window).scroll(i(f,a,c))}},l=function(a,b,c){var d=e(this).scrollTop();d>=b?a.addClass("stickybar-el--fixed"):a.removeClass("stickybar-el--fixed")},m=function(a,b){var c=e(a.el).closest(".stickybar-container");c.removeClass(a.rwdClasses.join(" ")),c.addClass(a.rwdClasses[b])};Pestle.Module.add("StickyBar",{initialize:function(){var a,b={topSpeed:700,waitLimit:300,autostart:!0,stickyBarClass:".stickybar-el",target:".mainArt",rwdClasses:["stickybar--mobile","stickybar--tablet","stickybar--desktop"]};this.options=f(this.options,b),d=this.sandbox,a=new k(this.options),this.options.autostart?a.init():Pestle.once("stickybar:init",a.init),e(this.options.el).closest(".stickybar-container").on("click",".gototop-btn",h(this.goToTop,this)),Pestle.on("rwd:mobile",i(m,this.options,0)),Pestle.on("rwd:tablet",i(m,this.options,1)),Pestle.on("rwd:desktop",i(m,this.options,2))},goToTop:function(a){a.preventDefault(),e("html, body").animate({scrollTop:0},this.options.topSpeed)}})},{jquery:"jquery","lodash/bind":266,"lodash/debounce":"lodash/debounce","lodash/defaults":"lodash/defaults","lodash/isNumber":280,"lodash/partial":294}],135:[function(a,b,c){"use strict";var d=a("jquery"),e={name:"ActiveEngagement",optionKey:"activeEngagement",initialize:function(a){a.sandbox.activeEngagement=f}},f={start:function(a,b){a=a||12e4,b=b||document,d(b).idleTimer(a)},stop:function(a){a=a||document,d(a).idleTimer("destroy")},onUserIdle:function(a,b){b=b||document,d(b).bind("idle.idleTimer",a)},onUserActive:function(a,b){b=b||document,d(b).bind("active.idleTimer",a)},stopListening:function(a,b){b=b||document,d(b).unbind("active.idleTimer",a),d(b).unbind("idle.idleTimer",a)},isUserActive:function(a){return a=a||document,!d(a).idleTimer("isIdle")},getIdleTimeout:function(a){return a=a||document,d(a).data("idleTimerObj").timeout},getElapsedTime:function(a){return a=a||document,d(a).idleTimer("getElapsedTime")}};b.exports=e},{jquery:"jquery"}],136:[function(a,b,c){"use strict";function d(a){for(var b=window.location.search.substring(1),c=b.split("&"),d=0;d<c.length;d++){var e=c[d].split("=");if(e[0]==a)return e[1]}return!1}function e(a,b,c){var d,e,g=c.breakpoint||"mobile",h=!1,i=!1,j=b.size,k=j?j[0]:null,m=j?j[1]:null,n=a.data("sizeMapping");a=f(a),j="["+j+"]",j=j.replace(/,/g,", "),d={desktop:0,tablet:1,mobile:2},e=c.sizeMapping[n][d[c.breakpoint]].stickydimensions,e&&(i=!0,h=l(e,j)),m>700&&a.addClass("ad--large"),"header"!==n&&"bodyLeaderboard"!==n||"mobile"===g||a.closest(".sticky-leaderboard__placeholder").addClass("hidden-xs"),!h&&i&&(a.closest(".sticky-component").addClass("disable-stickiness"),a.closest(".sticky-leaderboard__placeholder").addClass("disable-stickiness")),"sponsorAd_upperRight"===n&&(k>190&&m>40?Pestle.emit("SponsorAdRendered"):f(".titleAndDek").addClass("hideAd"))}var f=a("jquery");a("es6-promise").Promise;a("jquery.dfp");var g=a("react"),h=a("react-dom"),i=a("../components/Ads/Templates/HubAds.jsx"),j=a("../components/Ads/Templates/ArticleAds.jsx"),k=a("lodash/flatten"),l=a("lodash/includes"),m=a("lodash/padStart"),n={},o=function(a,b,c){var d=[a.locations,a.series,a.genres,a.people,a.organizations,a.events,a.concepts,a.audiences],e=function(a){var b=[];a.forEach(function(a){a&&b.push(a)})},g=e(d),h=function(){var d={s1:a.source,s2:a.firstSubjectAncestor,s3:a.firstSubject,kw:a.adKeywords,breakpoint:b,category:a.otherSubjects,template:c,metadata:k(g)};return d},i={dfpID:f("meta[name='dfp:networkCode']").attr("content")||2994,enableSingleRequest:!1,refreshExisting:!1,setUrlTargeting:!0,setTargeting:h()};return i},p={initialize:function(a){n=a.sandbox,n.ads=n.ads||{};var b=document.getElementById("ad-component-base"),c=n.taxonomy.getData(),k=n.coreArticleHelpers.getBreakpoint(),l=f("meta[name='dfp:sizeMapping']").attr("content")?JSON.parse(f("meta[name='dfp:sizeMapping']").attr("content")):null,p={desktop:0,tablet:1,mobile:2};if(!l)return!1;var q={activeEngagementInterval:parseInt(f("meta[name='dfp:activeEngagementInterval']").attr("content"))||120,adUnitId:f("meta[name='dfp:domain']").attr("content")||"ng.test",adLoadBuffer:parseInt(f("meta[name='dfp:adLoadBuffer']").attr("content"))||200,base:n,breakpoint:k,debug:JSON.parse(d("debugAds"))||!1,usePlaceholders:n.aem.isEditMode()||n.aem.isDesignMode()||"true"===f("meta[name='flag:disableAds']").attr("content")||JSON.parse(d("disableAds")),favorability:f("meta[name='dfp:adFavorability']").attr("content")||"viewability",outOfPageEnabled:"true"===f("meta[name='dfp:outOfPageEnabled']").attr("content")||!1,refreshRate:parseInt(f("meta[name='dfp:refreshRate']").attr("content"))||15,sizeMapping:l,template:f("meta[name='dfp:template']").attr("content")||null},r=o(c,k,q.template),s=f("meta[name='dfp:domain']").attr("content")||"ng.test",t=c.firstSubjectAncestor||"ancestor",u=c.firstSubject||"subject",v=f("#template-id").data("template")||"template",w=s+"/"+t+"/"+u+"/"+v,x={};return n.ads.getIndividualAdConfig=function(a){function b(a){for(var b="",c=0;c<e[p[a]].ad_sizes.length;c++){var d=e[p[a]].ad_sizes[c]||"";d=d.replace(/, /g,"x").replace("[","").replace("]",""),b+=b?", "+d:d}return b}var c={},d="",e=l[a];if(c.adConfigKey=a,x[a]){x[a]=x[a]+1;var f=m(x[a],2,0);d=a+"-"+f}else x[a]=1,d=a;return c.adUnitId=w+"/"+d,e&&(c.dimensions=b(k)),c},n.ads.dfpCall=function(a){r.afterEachAdLoaded=function(a,b){if(e(a,b,q),!b.isEmpty&&b.slotContentChanged){var c=a.data().sizeMapping;Pestle.emit("dfpcall:contentchanged_"+c,a,b)}},n.log.info("DFP Ad Call: "+a.data("adunit")),a.dfp(r)},n.ads.globalAdConfig=q,b?void("hub"===q.template?f(".mainArt .section").first().hasClass("immersive")?Pestle.on("fireAds",function(){h.render(g.createElement(i,{base:n}),b)}):f(function(){h.render(g.createElement(i,{base:n}),b)}):"article"===q.template||"gallery"===q.template||"interactive"===q.template?f(function(){h.render(g.createElement(j,{base:n,template:q.template}),b)}):n.log.warn("No pagewide React Ad Component available for this template")):(n.log.warn("No Div available for pagewide React Ad Component"),!1)},name:"Ads",optionKey:"ads"};b.exports=p},{"../components/Ads/Templates/ArticleAds.jsx":12,"../components/Ads/Templates/HubAds.jsx":13,"es6-promise":"es6-promise",jquery:"jquery","jquery.dfp":"jquery.dfp","lodash/flatten":270,"lodash/includes":"lodash/includes","lodash/padStart":293,react:"react","react-dom":"react-dom"}],137:[function(a,b,c){"use strict";var d={initialize:function(a){var b;b="undefined"==typeof CQ?void 0:CQ,a.sandbox.aem=a.sandbox.aem||{},a.sandbox.aem.isEditMode=function(){return b&&b.WCM?b.WCM.isEditMode(!0):!1},a.sandbox.aem.isPreviewMode=function(){return b&&b.WCM?b.WCM.isPreviewMode(!0):!1},a.sandbox.aem.isDesignMode=function(){return b&&b.WCM?b.WCM.isDesignMode(!0):!1},a.sandbox.aem.getMode=function(){return b&&b.WCM&&b.WCM.getMode(!0)}},name:"AEM",optionKey:"aem"};b.exports=d},{}],138:[function(a,b,c){"use strict";var d=a("jquery"),e=(d(window),a("lodash/debounce")),f={initialize:function(a){var b={};a.sandbox.coreArticleHelpers=a.sandbox.coreArticleHelpers||{};var c=function(){d(".dotdotdot").each(function(){d(this).dotdotdot()})};a.sandbox.coreArticleHelpers.truncateText=function(){d(".pre-dotdotdot").each(function(){return d(this).hasClass("hidden")?(d(this).removeClass("hidden"),d(this).removeClass("pre-dotdotdot--visible")):d(this).addClass("pre-dotdotdot--visible")}),c(),d(".pre-dotdotdot").each(function(){return d(this).hasClass("pre-dotdotdot--visible")?void 0:d(this).addClass("hidden")})};d(function(){c(),d(window).resize(e(c,200)),setInterval(function(){c()},2e3)}),a.sandbox.coreArticleHelpers.getBreakpoint=function(){var a=window.getComputedStyle(document.querySelector("body"),":after").getPropertyValue("content").replace(/"/g,"").replace(/'/g,"")||"not available";return a},a.sandbox.coreArticleHelpers.disableScrollEvent=function(a){var c=void 0!==a?a:!0;if(c){var d=document.getElementsByTagName("body")[0];b.styles=d.getAttribute("style"),b.scrollY=window.scrollY;var e="top:"+-1*window.scrollY+"px; overflow:visible; height:100%; width:100%; position:fixed;";d.setAttribute("style",e)}else{var d=document.getElementsByTagName("body")[0];b.styles&&b.styles.length?d.setAttribute("style",b.styles):d.removeAttribute("style"),window.scrollTo(0,b.scrollY)}},a.sandbox.coreArticleHelpers.isElementInViewport=function(a){if("function"==typeof jQuery&&a instanceof jQuery&&(a=a[0]),!a)return!1;var b=a.getBoundingClientRect(),c=b.top!==b.bottom,d=b.top>=0&&b.bottom<=(window.innerHeight||document.documentElement.clientHeight);return c&&d}},name:"coreArticleHelpers",optionKey:"coreArticleHelpers"};b.exports=f},{jquery:"jquery","lodash/debounce":"lodash/debounce"}],139:[function(a,b,c){"use strict";var d,e=a("mousetrap"),f=a("lodash/isString"),g=a("lodash/extend"),h=function(a){var b,c;a.nodeType&&1===a.nodeType?b=new e(a):f(a)?(c=document.querySelector(a),c?b=new e(c):d.log.error("[Keyboard Events] the passed selector doesn't exist")):b=e;var h={bind:b.bind,unbind:b.unbind,trigger:b.trigger,stopCallback:b.stopCallback,reset:b.reset};return g(b,{bind:function(a,c,d){return h.bind.call(b,a,c,d)},unbind:function(a,c){return h.unbind.call(b,a,c)},trigger:function(a,c){return h.trigger.call(b,a,c)},stopCallback:function(a,c){return h.stopCallback.call(b,a,c)},reset:function(){return h.reset.call(b)}})},i={initialize:function(a){d=a.sandbox,a.sandbox.keyboard=function(a){return h(a)}},name:"Keyboard Events",optionKey:"keyboardevents"};b.exports=i},{"lodash/extend":"lodash/extend","lodash/isString":"lodash/isString",mousetrap:"mousetrap"}],140:[function(a,b,c){"use strict";var d=(a("lodash/defaults"),a("lodash/partial")),e=a("lodash/isString"),f=a("lodash/isObject"),g=a("lodash/isArray"),h=a("lodash/isEmpty"),i={},j=function(a,b,c){var d,e={};return g(c)||(c=[c]),c.forEach(function(c){g(a)&&a.length?a.forEach(function(a){d=c.getAttribute(a.attr),d&&(e[l(d,a.norm,a.repl)]=c.getAttribute(a.val))}):Array.prototype.slice.call(c.attributes,0).forEach(function(a){var c=b?l(a.name,b,""):a.name;e[c]=a.value})}),e},k=function(a,b,c){var g,i=[],k={},c=c||"",b=b||[],l=d(j,b,c);if(e(a))g=document.querySelectorAll(a);else{if(!f(a))return;g=a}return g&&(g.length&&(g=Array.prototype.slice.call(g,0)),g.length>1&&0==b.length?i=g.map(l):g.length>=1&&b.length||g.nodeName?k=l(g):1==g.length&&(k=l(g[0]))),h(k)?i:k},l=function(a,b,c){return a.replace(new RegExp(b),c)},m={initialize:function(a){i=a.sandbox,a.sandbox.util.parseTag||(a.sandbox.util.parseTag=function(a,b,c){return k(a,b,c)}),a.sandbox.util.parseTaxonomyTag||(a.sandbox.util.parseTaxonomyTag=d(k,"meta[name^='tax:']",[{attr:"name",norm:"tax:",repl:"",val:"content"}])),a.sandbox.util.parseOpenGraphTag||(a.sandbox.util.parseOpenGraphTag=d(k,"meta[property^='og:']",[{attr:"property",norm:"og:",repl:"",val:"content"}])),a.sandbox.util.parseNamespacedData||(a.sandbox.util.parseNamespacedData=function(a,b){var c;return c=e(a)?"[data-"+b+'-component="'+a+'"]':a,k(c,void 0,"data-"+b+"-")})},name:"Platform Utilities",optionKey:"platformutils"};b.exports=m},{"lodash/defaults":"lodash/defaults","lodash/isArray":"lodash/isArray","lodash/isEmpty":"lodash/isEmpty","lodash/isObject":"lodash/isObject","lodash/isString":"lodash/isString","lodash/partial":294}],141:[function(a,b,c){"use strict";var d=a("jquery"),e=(a("velocity-animate"),a("lodash/debounce")),f=a("lodash/once"),g=d(window),h={bumperSectionHandler:function(a,b,c,d,f,h,i,j,k){function l(){s.addClass("disable-stickiness"),O=!0}function m(){return f&&"desktop"!==N?!1:(L=F.hasClass("bumper--add-margin")?K:0,M=E.hasClass("bumper--add-margin")?K:0,u=E.offset().top+M,v=F.offset().top-L,x=v-u,z=s.offset().left,w=H.offset().top,y=u-w,A=t.height(),void(!d&&A>x-15?l():(O&&(s.removeClass("disable-stickiness"),O=!1),s.css({height:x+"px",top:y+"px"}))))}function n(a){J||(J=!0,t.velocity("stop",!0).velocity({opacity:0},0)),E=a.top,F=a.bottom,m()}function o(a,b){function c(a){var b=0,c=0;a.bottom.hasClass("bumper--add-margin")&&(c=K),a.top.hasClass("bumper--add-margin")&&(b=K);var d=a.bottom.offset().top-c-(a.top.offset().top+b);return d>A?!0:!1}if(b=b||0,!G||!G.length)return!1;var d=I+b,e=void 0;if("up"===a)for(;--d>=0&&!e;)c(G[d])&&(I=d,n(G[I]),e=I);else for(;++d<G.length&&!e;)c(G[d])&&(I=d,n(G[I]),e=I)}function p(){if(f){var a=D.Base.coreArticleHelpers.getBreakpoint();if("desktop"===a&&(q(),m(),C=g.height()),N==a)return!1;"desktop"===N&&s.removeClass("sticky-component__active"),"desktop"!==N&&"desktop"===a&&(s.addClass("sticky-component__active"),m()),N=a}else m()}function q(){return f&&"desktop"!==N?!1:(B=g.scrollTop(),u=E.offset().top+M,v=F.offset().top-L,d&&I!==G.length&&B+h>v?o("down"):d&&0!==I&&u>B+C?o("up"):J&&(t.velocity("stop",!0).velocity({opacity:1}),J=!1),u-h>B?(s.removeClass("sticky"),t.removeClass("sticky").removeClass("below-sticky").addClass("above-sticky"),!1):(B>u-h&&(s.addClass("sticky"),t.removeClass("above-sticky").removeClass("below-sticky").addClass("sticky")),void(B>v-A-h&&(s.removeClass("sticky"),t.removeClass("sticky").removeClass("above-sticky").addClass("below-sticky")))))}function r(a,b){return f&&"desktop"!==N?!1:(B=a,u=E.offset().top+M,v=F.offset().top-L,d&&I!==G.length&&B+h>v?o("down"):d&&0!==I&&u>B+C?o("up"):J&&(t.velocity("stop",!0).velocity({opacity:1}),J=!1),u-h>B?(t.removeClass("sticky").removeClass("below-sticky").addClass("above-sticky"),!1):(B>u-h&&t.removeClass("above-sticky").removeClass("below-sticky").addClass("sticky"),B>v-A-h&&t.removeClass("sticky").removeClass("above-sticky").addClass("below-sticky"),void b()))}var s,t,u,v,w,x,y,z,A,B,C,D=this,E=a,F=b,G=k,H=j||E,I=0,J=!1,K=i||48,L=0,M=0,N=D.Base.coreArticleHelpers.getBreakpoint(),O=!1;f=f||!1,h=h||0,s=c.first(),t=s.children(":first"),C=g.height(),G&&G.length<2&&(d=!1),m(),setInterval(function(){m(),q()},3e3),g.resize(e(p,150)),g.scroll(e(q,2)),f&&s.addClass("sticky-component--desktop-only"),s.addClass("sticky-component__active"),t.addClass("sticky-component__section"),Pestle.on("stickyBehavior:simulateScrollEvent",function(a,b){r(a,b),m()}),o("down",-1)},handleRightRailPromos:function(a){var b;if(b=d(".right-rail-slot .relatedContentList, .right-rail-slot .ctaPromo").first(),b.length){var c=b.parents(".right-rail-slot");if(c.length&&(c.removeClass("bumper--bottom"),c.find("span.bumper--top").removeClass("bumper--top")),b.find(".related-content-list, .box-container-mobile").length){var e=a.children(":first");b.appendTo(e)}}},handleRightRailAddthis:f(function(a){a.length&&a.find(".right-rail-slot .bumper--bottom_addthis, .right-rail-slot .bumper--top_addthis").removeClass("bumper--bottom_addthis bumper--top_addthis")}),addToSectionHandler:function(a,b,c,e){var f=[];if(b.length&&c.length===b.length&&a.length){for(var g=0;g<b.length;g++){var h={top:d(b[g]),bottom:d(c[g])};f.push(h)}this.bumperSectionHandler(f[0].top,f[0].bottom,a,!0,!0,20,48,e,f)}},stickyInteractiveStrategies:{interactiveNav:function(){var a=d(".bumper--top.bumper--top-sticky-nav"),b=d(".bumper--bottom.bumper--bottom-sticky-nav"),c=d(".interactive-sticky-nav__wrap");return a.length&&b.length&&c.length?(this.bumperSectionHandler(a,b,c,!1,!1,0,20),!0):!1}},initInteractiveStickiness:function(a){"function"==typeof this.stickyInteractiveStrategies[a]&&this.stickyInteractiveStrategies[a].call(this)},stickyArticleStrategies:{leaderboard:function a(b){var c=".bumper--bottom.bumper--leaderboard"+("desktop"===b?"-desktop":""),e=d(".bumper--top.bumper--leaderboard"),f=d(c),a=d(".sticky-leaderboard__wrap");return e.length&&f.length&&a.length?(this.bumperSectionHandler(e,f,a,!1,!1,0,20),!0):!1},boxad:function(){var a=d(".paragraphs"),b=d(".sticky-component.sticky-box-ad");this.Base.aem.isEditMode()||this.handleRightRailPromos(b);var c=a.find(".bumper--top"),e=a.find(".bumper--bottom");this.addToSectionHandler(b,c,e,a)},mlpBoxAd:function(){var a=d(".multiLayout .hub-box-ad .sticky-component"),b=d(".multiLayout .hub-box-ad .bumper--top"),c=d(".multiLayout .bumper--bottom-of-box-ad");a.length&&b.length&&c.length&&this.bumperSectionHandler(b,c,a,!1,!0,20,20)},commentsBoxAd:function a(){var a=d(".livefyre-comments .hub-box-ad .sticky-component"),b=d(".livefyre-comments .bumper--top"),c=d(".bumper--bottom-of-comments-ad ");a.length&&b.length&&c.length&&this.bumperSectionHandler(b,c,a,!1,!0,20,20)},addthis:function(){var a=d(".paragraphs"),b=d(".addthis_toolbox"),c=a.find(".bumper--bottom_addthis"),e=a.find(".bumper--top_addthis");this.addToSectionHandler(b,e,c,a)}},initArticleStickiness:function(a){var b=this.Base.ads.globalAdConfig?this.Base.ads.globalAdConfig.breakpoint:"none",c=d(".paragraphs");if(this.handleRightRailAddthis(c),"desktop"===b){if(("boxad"===a||"addthis"===a)&&!c.length)return console.log("Sticky Behavior Failed: smartbody not found"),!1}else if("boxad"===a||"mlpBoxAd"===a)return!1;"function"==typeof this.stickyArticleStrategies[a]&&this.stickyArticleStrategies[a].call(this,b)},initHubStickiness:function(){var a=this,b=this.Base.ads.globalAdConfig?"desktop"===this.Base.ads.globalAdConfig.breakpoint:!1,c=d(".bumper--top, .bumper--bottom, .sticky-component");if(c.length>=3)for(var e=0;e<c.length;e++){var f=d(c[e]);if(f.hasClass("bumper--top"))for(var g=f,h=null,i=null,j=e+1;j<c.length;j++){var k=d(c[j])||null;if(k&&!k.hasClass("bumper--top"))if(i||!k.hasClass("sticky-component")||k.hasClass("disable-stickiness")){if(i&&k.hasClass("bumper--bottom")){h=k;var l=!1,m=0;i.data("desktopOnly")?b&&(l=!0,m=20,a.bumperSectionHandler(g,h,i,!1,l,m,20)):a.bumperSectionHandler(g,h,i,!1,l,m,20),j=c.length}}else i=k,i.data("desktopOnly")&&b&&(this.Base.aem.isEditMode()||this.handleRightRailPromos(i))}}},initialize:function(a){var b=this;a.sandbox.stickyBehavior=a.sandbox.stickyBehavior||{},a.sandbox.stickyBehavior.simulateScrollEvent=function(a,b){Pestle.emit("stickyBehavior:simulateScrollEvent",a,b)},a.sandbox.stickyBehavior.initStickiness=function(a,c,d){b.Base=c,"hub"===a?b.initHubStickiness():"article"===a?b.initArticleStickiness(d):"interactive"===a&&b.initInteractiveStickiness(d)}},name:"stickyBehavior",optionKey:"stickyBehavior"};b.exports=h},{jquery:"jquery","lodash/debounce":"lodash/debounce","lodash/once":292,"velocity-animate":"velocity-animate"}],142:[function(a,b,c){"use strict";var d={initialize:function(a){var b={arrayValues:["adKeywords","otherSubjects","locations","series","genres","people","organizations","events","concepts","audiences"]};a.sandbox.taxonomy=a.sandbox.taxonomy||{},a.sandbox.taxonomy.getData=function(c){var d=a.sandbox.util.extend(b.arrayValues,c),e=a.sandbox.util.parseTaxonomyTag();return d.forEach(function(a){var b=[];e[a]&&(e[a].split(",").forEach(function(a){b.push(a.trim())}),e[a]=b)}),e}},name:"Taxonomy",optionKey:"taxonomy"};b.exports=d},{}],143:[function(a,b,c){"use strict";!function(a){a.idleTimer=function(b,c){var d;"object"==typeof b?(d=b,b=null):"number"==typeof b&&(d={timeout:b},b=null),c=c||document,d=a.extend({idle:!1,timeout:3e4,events:"mousemove keydown wheel DOMMouseScroll mousewheel mousedown touchstart touchmove MSPointerDown MSPointerMove"},d);var e=a(c),f=e.data("idleTimerObj")||{},g=function(b){var d=a.data(c,"idleTimerObj")||{};d.idle=!d.idle,d.olddate=+new Date;var e=a.Event((d.idle?"idle":"active")+".idleTimer");a(c).trigger(e,[c,a.extend({},d),b])},h=function(b){var d=a.data(c,"idleTimerObj")||{};if(null==d.remaining){if("mousemove"===b.type){if(b.pageX===d.pageX&&b.pageY===d.pageY)return;if("undefined"==typeof b.pageX&&"undefined"==typeof b.pageY)return;var e=+new Date-d.olddate;if(200>e)return}clearTimeout(d.tId),d.idle&&g(b),d.lastActive=+new Date,d.pageX=b.pageX,d.pageY=b.pageY,d.tId=setTimeout(g,d.timeout)}},i=function(){var b=a.data(c,"idleTimerObj")||{};b.idle=b.idleBackup,b.olddate=+new Date,b.lastActive=b.olddate,b.remaining=null,clearTimeout(b.tId),b.idle||(b.tId=setTimeout(g,b.timeout))},j=function(){var b=a.data(c,"idleTimerObj")||{};null==b.remaining&&(b.remaining=b.timeout-(+new Date-b.olddate),clearTimeout(b.tId))},k=function(){var b=a.data(c,"idleTimerObj")||{};null!=b.remaining&&(b.idle||(b.tId=setTimeout(g,b.remaining)),b.remaining=null)},l=function(){var b=a.data(c,"idleTimerObj")||{};clearTimeout(b.tId),e.removeData("idleTimerObj"),e.off("._idleTimer")},m=function(){var b=a.data(c,"idleTimerObj")||{};if(b.idle)return 0;if(null!=b.remaining)return b.remaining;var d=b.timeout-(+new Date-b.lastActive);return 0>d&&(d=0),d};if(null===b&&"undefined"!=typeof f.idle)return i(),e;if(null===b);else{if(null!==b&&"undefined"==typeof f.idle)return!1;if("destroy"===b)return l(),e;if("pause"===b)return j(),e;if("resume"===b)return k(),e;if("reset"===b)return i(),e;if("getRemainingTime"===b)return m();if("getElapsedTime"===b)return+new Date-f.olddate;if("getLastActiveTime"===b)return f.lastActive;if("isIdle"===b)return f.idle}return e.on(a.trim((d.events+" ").split(" ").join("._idleTimer ")),function(a){h(a)}),f=a.extend({},{olddate:+new Date,lastActive:+new Date,idle:d.idle,idleBackup:d.idle,timeout:d.timeout,remaining:null,tId:null,pageX:null,pageY:null}),f.idle||(f.tId=setTimeout(g,f.timeout)),a.data(c,"idleTimerObj",f),e},a.fn.idleTimer=function(b){return this[0]?a.idleTimer(b,this[0]):this}}(jQuery)},{}],144:[function(a,b,c){"use strict";a("jquery"),function(a,b){function c(a,b,c){var d=a.children(),e=!1;a.empty();for(var g=0,h=d.length;h>g;g++){var i=d.eq(g);if(a.append(i),c&&a.append(c),f(a,b)){i.remove(),e=!0;break}c&&c.detach()}return e}function d(b,c,g,h,i){var j=!1,k="table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style",l="script, .dotdotdot-keep";return b.contents().detach().each(function(){var m=this,n=a(m);if("undefined"==typeof m||3==m.nodeType&&0==a.trim(m.data).length)return!0;if(n.is(l))b.append(n);else{if(j)return!0;b.append(n),i&&b[b.is(k)?"after":"append"](i),f(g,h)&&(j=3==m.nodeType?e(n,c,g,h,i):d(n,c,g,h,i),j||(n.detach(),j=!0)),j||i&&i.detach()}}),j}function e(b,c,d,e,h){var k=b[0];if(!k)return!1;var m=j(k),n=-1!==m.indexOf(" ")?" ":"",o="letter"==e.wrap?"":n,p=m.split(o),q=-1,r=-1,s=0,t=p.length-1;for(e.fallbackToLetter&&0==s&&0==t&&(o="",p=m.split(o),t=p.length-1);t>=s&&(0!=s||0!=t);){var u=Math.floor((s+t)/2);if(u==r)break;r=u,i(k,p.slice(0,r+1).join(o)+e.ellipsis),f(d,e)?(t=r,e.fallbackToLetter&&0==s&&0==t&&(o="",p=p[0].split(o),q=-1,r=-1,s=0,t=p.length-1)):(q=r,s=r)}if(-1==q||1==p.length&&0==p[0].length){var v=b.parent();b.detach();var w=h&&h.closest(v).length?h.length:0;v.contents().length>w?k=l(v.contents().eq(-1-w),c):(k=l(v,c,!0),w||v.detach()),k&&(m=g(j(k),e),i(k,m),w&&h&&a(k).parent().append(h))}else m=g(p.slice(0,q+1).join(o),e),i(k,m);return!0}function f(a,b){return a.innerHeight()>b.maxHeight}function g(b,c){for(;a.inArray(b.slice(-1),c.lastCharacter.remove)>-1;)b=b.slice(0,-1);return a.inArray(b.slice(-1),c.lastCharacter.noEllipsis)<0&&(b+=c.ellipsis),b}function h(a){return{width:a.innerWidth(),height:a.innerHeight()}}function i(a,b){a.innerText?a.innerText=b:a.nodeValue?a.nodeValue=b:a.textContent&&(a.textContent=b)}function j(a){return a.innerText?a.innerText:a.nodeValue?a.nodeValue:a.textContent?a.textContent:""}function k(a){do a=a.previousSibling;while(a&&1!==a.nodeType&&3!==a.nodeType);return a}function l(b,c,d){var e=!0;a:for(;e;){var f=b,g=c,h=d;e=!1;var i,j=f&&f[0];if(j){if(!h){if(3===j.nodeType)return j;if(a.trim(f.text())){b=f.contents().last(),c=g,d=void 0,e=!0,j=i=void 0;continue a}}for(i=k(j);!i;){if(f=f.parent(),f.is(g)||!f.length)return!1;i=k(f[0])}if(i){b=a(i),c=g,d=void 0,e=!0,j=i=void 0;continue a}}return!1}}function m(b,c){return b?"string"==typeof b?(b=a(b,c),b.length?b:!1):b.jquery?b:!1:!1}function n(a){for(var b=a.innerHeight(),c=["paddingTop","paddingBottom"],d=0,e=c.length;e>d;d++){var f=parseInt(a.css(c[d]),10);isNaN(f)&&(f=0),b-=f}return b}if(!a.fn.dotdotdot){a.fn.dotdotdot=function(b){if(0==this.length)return a.fn.dotdotdot.debug('No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each(function(){a(this).dotdotdot(b)});var e=this;e.data("dotdotdot")&&e.trigger("destroy.dot"),e.data("dotdotdot-style",e.attr("style")||""),e.css("word-wrap","break-word"),"nowrap"===e.css("white-space")&&e.css("white-space","normal"),e.bind_events=function(){return e.bind("update.dot",function(b,h){b.preventDefault(),b.stopPropagation(),i.maxHeight="number"==typeof i.height?i.height:n(e),i.maxHeight+=i.tolerance,"undefined"!=typeof h&&(("string"==typeof h||h instanceof HTMLElement)&&(h=a("<div />").append(h).contents()),h instanceof a&&(g=h)),p=e.wrapInner('<div class="dotdotdot" />').children(),p.contents().detach().end().append(g.clone(!0)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var k=!1,l=!1;return j.afterElement&&(k=j.afterElement.clone(!0),k.show(),j.afterElement.detach()),f(p,i)&&(l="children"==i.wrap?c(p,i,k):d(p,e,p,i,k)),p.replaceWith(p.contents()),p=null,a.isFunction(i.callback)&&i.callback.call(e[0],l,g),j.isTruncated=l,l}).bind("isTruncated.dot",function(a,b){return a.preventDefault(),a.stopPropagation(),"function"==typeof b&&b.call(e[0],j.isTruncated),j.isTruncated}).bind("originalContent.dot",function(a,b){return a.preventDefault(),a.stopPropagation(),"function"==typeof b&&b.call(e[0],g),g}).bind("destroy.dot",function(a){a.preventDefault(),a.stopPropagation(),e.unwatch().unbind_events().contents().detach().end().append(g).attr("style",e.data("dotdotdot-style")||"").data("dotdotdot",!1)}),e},e.unbind_events=function(){return e.unbind(".dot"),e},e.watch=function(){if(e.unwatch(),"window"==i.watch){var b=a(window),c=b.width(),d=b.height();b.bind("resize.dot"+j.dotId,function(){c==b.width()&&d==b.height()&&i.windowResizeFix||(c=b.width(),d=b.height(),l&&clearInterval(l),l=setTimeout(function(){e.trigger("update.dot")},100))})}else k=h(e),l=setInterval(function(){if(e.is(":visible")){var a=h(e);(k.width!=a.width||k.height!=a.height)&&(e.trigger("update.dot"),k=a)}},500);return e},e.unwatch=function(){return a(window).unbind("resize.dot"+j.dotId),l&&clearInterval(l),e};var g=e.contents(),i=a.extend(!0,{},a.fn.dotdotdot.defaults,b),j={},k={},l=null,p=null;return i.lastCharacter.remove instanceof Array||(i.lastCharacter.remove=a.fn.dotdotdot.defaultArrays.lastCharacter.remove),i.lastCharacter.noEllipsis instanceof Array||(i.lastCharacter.noEllipsis=a.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis),j.afterElement=m(i.after,e),j.isTruncated=!1,j.dotId=o++,e.data("dotdotdot",!0).bind_events().trigger("update.dot"),i.watch&&e.watch(),e},a.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:!0,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0},a.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","",",",";",".","!","?"],noEllipsis:[]}},a.fn.dotdotdot.debug=function(a){};var o=1,p=a.fn.html;a.fn.html=function(c){return c!=b&&!a.isFunction(c)&&this.data("dotdotdot")?this.trigger("update",[c]):p.apply(this,arguments)};var q=a.fn.text;a.fn.text=function(c){return c!=b&&!a.isFunction(c)&&this.data("dotdotdot")?(c=a("<div />").text(c).html(),this.trigger("update",[c])):q.apply(this,arguments)}}}(jQuery)},{jquery:"jquery"}],145:[function(a,b,c){"use strict";window.jQuery=window.$=a("jquery"),window.Pestle=a("@natgeo/pestle");var d=a("lodash/each"),e=jQuery,f=jQuery.noConflict();!function(b,c,e){window.NGS={platform:function(){return new e.Core({debug:{logLevel:0}})}()},NGS.platform.kicker=a("../components/Kicker/kicker.js");var f=[a("../extensions/platformutils.js"),a("../extensions/aem.js"),a("../extensions/taxonomy.js"),a("../extensions/coreArticleHelpers.js"),a("../extensions/keyboardevents.js"),a("../extensions/activeEngagement.js"),a("../extensions/stickyBehavior.js"),a("../extensions/ads.js")];a("./libs/jquery.dotdotdot.js"),a("swiper"),a("./libs/idle-timer.min.js"),a("./modules/cinematic.js"),a("../components/GlobalFooter/GlobalFooter.js"),a("../components/GlobalNav/GlobalNav.js"),a("../components/Common/Icon/Icon.js"),a("../components/CallToActionButton/CallToActionButton.js"),a("../components/EmbeddedVideoPromo/EmbeddedVideoPromo.js"),a("../components/UniversalVideo/UniversalVideo.js"),a("../components/BackgroundVideo/BackgroundVideo.js"),a("../components/MapMarker/MapMarker.js"),a("../components/MostPopular/MostPopular.js"),a("../components/social/AddThis/AddThis.js"),a("../components/stickyBar/stickyBar.js"),a("../components/Galleries/Inline/Inline.js"),a("../components/Galleries/Presentation/Presentation.js"),a("../components/ImmersiveLead/ImmersiveLead.js"),a("../components/promo/variantCarousel/variantCarousel.js"),a("../components/promo/editorsPicks/editorsPicks.js"),a("../components/DynamicContent/PromoFeed/PromoFeed.js"),a("../components/DynamicContent/ThumbnailCarousel/ThumbnailCarousel.js"),a("../components/Date/Date.js"),a("../components/TitleAndDek/TitleAndDek.js"),a("../components/promo/pin/pin.js"),a("../components/social/livefyre/Comments/Comments.js"),a("../components/MultiLayoutPromos/MultiLayoutPromos.js"),a("../components/ContentSeparator/ContentSeparator.js"),a("../components/SecondaryNav/SecondaryNav.js"),a("../components/JumpMenu/JumpMenu.js"),a("../components/JumpMenuStandAlone/JumpMenuStandAlone.js"),a("../components/LinkList/LinkList.js"),a("../components/NavRibbon/NavRibbon.js"),a("../components/GenericModal/GenericModal.js"),a("../components/LinkList/LinkList.js"),a("../components/SocialButtons/CommentButton.js"),a("../components/SocialButtons/SocialMobile.js"),a("../components/SocialButtons/CommentsCallToActionButton.js"),a("../components/Picturefill/PictureFill.js"),a("../components/VideoModal/VideoModal.js"),a("../components/PreFooter/PreFooter.js"),a("../components/SiblingCarousel/SiblingCarousel.js"),a("../components/promo/CTAPromo/CTAPromo.js"),a("../components/Listicle/Listicle.js"),a("../components/InteractiveStickyNav/InteractiveStickyNav.js"),a("../components/InDepthContent/InDepthContent.js"),a("../components/ImageGroup/ImageGroup.js"),d(f,function(a){NGS.platform.addExtension(a)}),NGS.core_site=NGS.platform,NGS.core_site.dfp={template:b("meta[name='dfp:template']").attr("content")||"article"},NGS.platform.start();var g=a("../templates/article.js");g.init()}(f,e,Pestle)},{"../components/BackgroundVideo/BackgroundVideo.js":15,"../components/CallToActionButton/CallToActionButton.js":16,"../components/Common/Icon/Icon.js":18,"../components/ContentSeparator/ContentSeparator.js":28,"../components/Date/Date.js":30,"../components/DynamicContent/PromoFeed/PromoFeed.js":31,"../components/DynamicContent/ThumbnailCarousel/ThumbnailCarousel.js":33,"../components/EmbeddedVideoPromo/EmbeddedVideoPromo.js":35,"../components/Galleries/Inline/Inline.js":38,"../components/Galleries/Presentation/Presentation.js":43,"../components/GenericModal/GenericModal.js":58,"../components/GlobalFooter/GlobalFooter.js":60,"../components/GlobalNav/GlobalNav.js":61,"../components/ImageGroup/ImageGroup.js":64,"../components/ImmersiveLead/ImmersiveLead.js":66,"../components/InDepthContent/InDepthContent.js":69,"../components/InteractiveStickyNav/InteractiveStickyNav.js":70,"../components/JumpMenu/JumpMenu.js":76,"../components/JumpMenuStandAlone/JumpMenuStandAlone.js":78,"../components/Kicker/kicker.js":80,"../components/LinkList/LinkList.js":81,"../components/Listicle/Listicle.js":83,"../components/MapMarker/MapMarker.js":85,"../components/MostPopular/MostPopular.js":86,"../components/MultiLayoutPromos/MultiLayoutPromos.js":88,"../components/NavRibbon/NavRibbon.js":98,"../components/Picturefill/PictureFill.js":102,"../components/PreFooter/PreFooter.js":105,"../components/SecondaryNav/SecondaryNav.js":109,"../components/SiblingCarousel/SiblingCarousel.js":112,"../components/SocialButtons/CommentButton.js":114,"../components/SocialButtons/CommentsCallToActionButton.js":116,"../components/SocialButtons/SocialMobile.js":117,"../components/TitleAndDek/TitleAndDek.js":120,"../components/UniversalVideo/UniversalVideo.js":121,
"../components/VideoModal/VideoModal.js":122,"../components/promo/CTAPromo/CTAPromo.js":124,"../components/promo/editorsPicks/editorsPicks.js":126,"../components/promo/pin/pin.js":127,"../components/promo/variantCarousel/variantCarousel.js":128,"../components/social/AddThis/AddThis.js":129,"../components/social/livefyre/Comments/Comments.js":133,"../components/stickyBar/stickyBar.js":134,"../extensions/activeEngagement.js":135,"../extensions/ads.js":136,"../extensions/aem.js":137,"../extensions/coreArticleHelpers.js":138,"../extensions/keyboardevents.js":139,"../extensions/platformutils.js":140,"../extensions/stickyBehavior.js":141,"../extensions/taxonomy.js":142,"../templates/article.js":147,"./libs/idle-timer.min.js":143,"./libs/jquery.dotdotdot.js":144,"./modules/cinematic.js":146,"@natgeo/pestle":"@natgeo/pestle",jquery:"jquery","lodash/each":"lodash/each",swiper:"swiper"}],146:[function(a,b,c){"use strict";var d=a("jquery"),e=a("lodash/debounce"),f=function(){var a=d(".cinematic-element"),b=e(function(){var b=d(window).width();a.each(function(){var a=d(this),c=a.parent().offset().left,e=a.offset().left,f=parseInt(a.css("margin-left"),10),g={};800>=b?(e=0,g={left:"0px",width:"auto",position:"inherit"}):0!==e&&(g={left:"-"+(c-f)+"px",width:b+"px",position:"relative"}),a.css(g)})},60);return a.length<1?!1:(b(),void window.addEventListener("resize",b,!1))};d(function(){f()}),b.exports=f},{jquery:"jquery","lodash/debounce":"lodash/debounce"}],147:[function(a,b,c){"use strict";var d=a("jquery"),e=a("lodash/debounce");e(function(){platform.sandbox.coreArticleHelpers.truncateText()},30);c.init=function(){NGS.platform.kicker.init(),d(c.domReady),d(window).resize(c.windowResize)}},{jquery:"jquery","lodash/debounce":"lodash/debounce"}],148:[function(require,module,exports){(function(process){var jquery=require("jquery"),handlebarsruntime=require("handlebars/runtime").default;require("matchmedia-polyfill");var matchMediaaddListener=require("matchmedia-polyfill/matchMedia.addListener"),handlebars,templates,variables,text,json,json_datajson,globalFooter,main;(function(){handlebars=function(a){return a.registerHelper("current_year",function(){var a;return a=new Date,a.getFullYear()}),a}(handlebarsruntime)}).call(this),templates=function(a){return this.GlobalFooterTemplates=this.GlobalFooterTemplates||{},a.registerPartial("logo.svg",a.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){return'<svg xmlns="http://www.w3.org/2000/svg" width="209" height="38" viewBox="8 867.225 990 180.775" enable-background="new 8 867.225 990 180.775"><path fill="#F6DB00" d="M8 1046.975v-179.75h125.5v179.75H8zm107.125-18.375V885.225h-89.25V1028.6h89.25z"/><path d="M216.625 988.85h-7.875c-10-14.375-20.125-28.375-30.125-44.625v44.625h-8.75v-62.5h7.875c10 14.375 20.125 28.375 30.125 44.625V926.35h8.75v62.5zM236.75 963.85c2.625-8.25 4.75-15.75 7.375-25.375 2.625 9.625 4.75 17 7 25.375H236.75zm4.375-37.625l-21.375 62.5h9.125l5.25-17h18.75l4.75 17h11.75l-19.625-62.5h-8.625zM280 988.85V934.6h-16.625v-8.25h43.25v8.25H290v54.25h-10zM310.125 988.85v-62.5h10.5v62.5h-10.5zM353.875 980.975c-10.875 0-14.875-12.25-14.875-24 0-11.375 4.375-22.25 14.875-22.25s14.875 10.875 14.875 22.25c.5 11.75-3.5 24-14.875 24zm0 8.75c16.125 0 26.625-14.375 26.625-33.25 0-17.5-11.375-31.5-26.625-31.5s-26.625 14-26.625 31.5c.375 18.75 10.5 33.25 26.625 33.25zM433.5 988.85h-7.875c-10-14.375-20.125-28.375-30.125-44.625v44.625h-8.75v-62.5h7.875c10 14.375 20.125 28.375 30.125 44.625V926.35h8.75v62.5zM454 963.85c2.625-8.25 4.75-15.75 7.375-25.375 2.625 9.625 4.75 17 7 25.375H454zm4-37.625l-21.375 62.5h9.125l5.25-17h18.75l4.75 17h11.75l-19.25-62.5h-9zM489.875 926.225h10.5v54.25h21v8.25H489.5v-62.5h.375zM589.125 959.975v25.75c-5.625 2.125-11.75 3.875-17.875 3.875-18.375 0-30.125-14.375-30.125-32.75 0-17 11.75-31.875 30.125-31.875 5.625 0 11.75 2.125 15.25 4.75L583 937.1c-3-1.75-7.375-3.5-11.375-3.5-11.375 0-19.25 9.125-19.25 23.125 0 14.875 8.75 23.625 17.875 23.625 3 0 5.25-.375 7.375-1.25v-19.25h11.5v.125zM627.625 934.6H609.75v17h17.5v8.25h-17.5v20.125h21v8.25h-31.875V926.1h28.375v8.25h.375v.25zM660.375 980.475c-10.875 0-14.875-12.25-14.875-24 0-11.375 4.375-22.25 14.875-22.25s14.875 10.875 14.875 22.25c.5 11.75-3.5 24-14.875 24zm0 9.25c16.125 0 26.625-14.375 26.625-33.25 0-17.5-11.375-31.5-26.625-31.5s-26.625 14-26.625 31.5c.375 18.375 10.5 33.25 26.625 33.25zM738.25 959.975v25.75c-5.625 2.125-11.75 3.875-17.875 3.875-18.375 0-30.125-14.375-30.125-32.75 0-17 11.75-31.875 30.125-31.875 5.625 0 11.75 2.125 15.25 4.75l-3.5 7.375c-3-1.75-7.375-3.5-11.375-3.5-11.375 0-19.25 9.125-19.25 23.125 0 14.875 8.75 23.625 17.875 23.625 3 0 5.25-.375 7.375-1.25v-19.25h11.5v.125zM758.75 934.6h4.75c6.125 0 10 3.5 10 10 0 8.25-5.25 12.25-10 12.25-.875 0-3.5 0-4.375.375V934.6h-.375zm27.125 53.75L773.25 962.6c7-3.5 10.875-10.875 10.875-18.375 0-12.25-7.375-17.875-19.25-17.875H748.25v62.5h10.5v-23.625h4.75l10 23.625h12.25v-.5h.125zM803.375 963.85c2.625-8.25 4.75-15.75 7.375-25.375 2.625 9.625 4.75 17 7 25.375h-14.375zm4.375-37.625l-21.375 62.5h9.125l5.25-17h18.75l4.75 17H836l-19.625-62.5h-8.625zM856.375 926.225H839.75v62.5h10.5V965.1H855c12.625 0 20.5-10.5 20.5-21 .5-12.125-6.875-17.875-19.125-17.875zM855 956.85c-1.25 0-3.5 0-4.375.375V934.6h4.75c6.125 0 9.625 3.5 9.625 10 .125 8.375-4.75 11.875-10 12.25zM925.375 988.35h-10.5v-30.125h-22.25v30.125h-10.5v-62.125h10.5v24h22.25V926.6h10.5v61.75zM935.5 988.35v-62.125H946v62.5h-10.5v-.375zM994.5 937.225c-2.625-1.75-7-3.5-10.875-3.5-10.875 0-18.75 9.125-18.75 23.125 0 14.875 8.75 23.625 19.25 23.625 3.875 0 7.875-1.25 10.5-3l3 7.875c-3 2.125-8.75 4.375-14 4.375-18.375 0-30.125-14.375-30.125-32.75 0-17 11.375-31.875 30.125-31.875 5.625 0 10.5 2.125 14.375 4.75l-3.5 7.375z"/></svg>\n'},useData:!0})),this.GlobalFooterTemplates.layout_base=a.template({1:function(a,b,c,d){var e,f=b.helperMissing,g="function",h=this.escapeExpression;return'                <li data-submenu="submenu-'+h((e=null!=(e=b.slug||(null!=a?a.slug:a))?e:f,typeof e===g?e.call(a,{name:"slug",hash:{},data:d}):e))+'" class="gf_nav-tab gf_JS_nav-tab">\n                    <a href="#" class="gf_nav-title">'+h((e=null!=(e=b.title||(null!=a?a.title:a))?e:f,typeof e===g?e.call(a,{name:"title",hash:{},data:d}):e))+"</a>\n                </li>\n"},3:function(a,b,c,d){var e,f;return'            <ul class="gf_nav-ul gf_nav-submenu" id="submenu-'+this.escapeExpression((f=null!=(f=b.slug||(null!=a?a.slug:a))?f:b.helperMissing,"function"==typeof f?f.call(a,{name:"slug",hash:{},data:d}):f))+'">\n'+(null!=(e=b.each.call(a,null!=a?a.items:a,{name:"each",hash:{},fn:this.program(4,d,0),inverse:this.noop,data:d}))?e:"")+"            </ul>\n"},4:function(a,b,c,d){var e,f=b.helperMissing,g="function",h=this.escapeExpression;return'                <li>\n                    <a href="'+h((e=null!=(e=b.href||(null!=a?a.href:a))?e:f,typeof e===g?e.call(a,{name:"href",hash:{},data:d}):e))+'" title="'+h((e=null!=(e=b.title||(null!=a?a.title:a))?e:f,typeof e===g?e.call(a,{name:"title",hash:{},data:d}):e))+'" class="gf_nav-link">'+h((e=null!=(e=b.title||(null!=a?a.title:a))?e:f,typeof e===g?e.call(a,{name:"title",hash:{},data:d}):e))+"</a>\n                </li>\n"},6:function(a,b,c,d){var e,f=b.helperMissing,g="function",h=this.escapeExpression;return'                <li class="gf_nav-follow-li">\n                    <a href="'+h((e=null!=(e=b.href||(null!=a?a.href:a))?e:f,typeof e===g?e.call(a,{name:"href",hash:{},data:d}):e))+'" title="'+h((e=null!=(e=b.title||(null!=a?a.title:a))?e:f,typeof e===g?e.call(a,{name:"title",hash:{},data:d}):e))+'" class="gf_nav-link">'+h((e=null!=(e=b.title||(null!=a?a.title:a))?e:f,typeof e===g?e.call(a,{name:"title",hash:{},data:d}):e))+"</a>\n                </li>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f,g=b.helperMissing,h="function",i=this.escapeExpression;return'    <div class="gf_content">\n        <div class="gf_logo">\n            <a class="gf_iso" href="http://www.nationalgeographic.com/">\n'+(null!=(e=this.invokePartial(c["logo.svg"],a,{name:"logo.svg",data:d,indent:"                ",helpers:b,partials:c}))?e:"")+'                <h1 class="gf_visuallyhidden">'+i((f=null!=(f=b.logoTitle||(null!=a?a.logoTitle:a))?f:g,typeof f===h?f.call(a,{name:"logoTitle",hash:{},data:d}):f))+'</h1>\n            </a>\n        </div>\n\n        <nav class="gf_nav">\n            <ul class="gf_nav-ul gf_nav-mainlinks">\n'+(null!=(e=b.each.call(a,null!=a?a.sections:a,{name:"each",hash:{},fn:this.program(1,d,0),inverse:this.noop,data:d}))?e:"")+"            </ul>\n"+(null!=(e=b.each.call(a,null!=a?a.sections:a,{name:"each",hash:{},fn:this.program(3,d,0),inverse:this.noop,data:d}))?e:"")+'\n            <ul class="gf_nav-ul gf_nav-follow">\n                <li class="gf_nav-follow-li">\n                    <a href="#" class="gf_nav-title">Follow Nat Geo</a>\n                </li>\n\n                <li class="gf_nav-follow-li gf_nav-follow-icons">\n                    <a href="https://www.facebook.com/natgeo" class="gf_nav-link"><i class="icongs icongs-facebook"></i></a>\n                    <a href="http://instagram.com/natgeo" class="gf_nav-link"><i class="icongs icongs-instagram"></i></a>\n                    <a href="https://twitter.com/NatGeo" class="gf_nav-link"><i class="icongs icongs-twitter"></i></a>\n                    <!--<a href="http://nationalgeographic.com/social" class="gf_nav-link">More</a>-->\n                </li>\n\n'+(null!=(e=b.each.call(a,null!=(e=null!=a?a.follow:a)?e.items:e,{name:"each",hash:{},fn:this.program(6,d,0),inverse:this.noop,data:d}))?e:"")+'            </ul>\n        </nav>\n\n        <p class="gf-copy">Copyright &copy; 1996-2015 National Geographic Society.<br>Copyright &copy; 2015-'+i((f=null!=(f=b.current_year||(null!=a?a.current_year:a))?f:g,typeof f===h?f.call(a,{name:"current_year",hash:{},data:d}):f))+' National Geographic Partners, LLC.<br>All rights reserved</p>\n        <p class="gf-copy">Learn about our nonprofit work at <br><a href="http://www.nationalgeographic.org/">NationalGeographic.org</a></p>\n    </div>\n'},usePartial:!0,useData:!0}),this.GlobalFooterTemplates}(handlebars),function(){"use strict";variables=function(a){var b;return b='{"mqs":{"med":""screen and (min-width: 586px)"","until_big":""screen and (max-width: 984px)"","big":""screen and (min-width: 985px)""},"options":{"responsive":"true","wrapper_class":"gf_wrapper","include_font_face":"true"}}',b=a.parseJSON(b.replace(/\""/g,'"'))}(jquery)}.call(this),text=function(a){var b,c,d=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],e=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,f=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,g="undefined"!=typeof location&&location.href,h=g&&location.protocol&&location.protocol.replace(/\:/,""),i=g&&location.hostname,j=g&&(location.port||void 0),k=[],l=a.config&&a.config()||{};return b={version:"2.0.5",strip:function(a){if(a){a=a.replace(e,"");var b=a.match(f);b&&(a=b[1])}else a="";return a},jsEscape:function(a){return a.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:l.createXhr||function(){var a,b,c;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(b=0;3>b;b+=1){c=d[b];try{a=new ActiveXObject(c)}catch(a){}if(a){d=[c];break}}return a},parseName:function(a){var b,c,d,e=!1,f=a.indexOf("."),g=0===a.indexOf("./")||0===a.indexOf("../");return-1!==f&&(!g||f>1)?(b=a.substring(0,f),c=a.substring(f+1,a.length)):b=a,d=c||b,f=d.indexOf("!"),-1!==f&&(e="strip"===d.substring(f+1),d=d.substring(0,f),c?c=d:b=d),{moduleName:b,ext:c,strip:e}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(a,c,d,e){var f,g,h,i=b.xdRegExp.exec(a);return i?(f=i[2],g=i[3],g=g.split(":"),h=g[1],g=g[0],!(f&&f!==c||g&&g.toLowerCase()!==d.toLowerCase()||(h||g)&&h!==e)):!0},finishLoad:function(a,c,d,e){d=c?b.strip(d):d,l.isBuild&&(k[a]=d),e(d)},load:function(a,c,d,e){if(e.isBuild&&!e.inlineText)return void d();l.isBuild=e.isBuild;var f=b.parseName(a),k=f.moduleName+(f.ext?"."+f.ext:""),m=c.toUrl(k),n=l.useXhr||b.useXhr;!g||n(m,h,i,j)?b.get(m,function(c){b.finishLoad(a,f.strip,c,d)},function(a){d.error&&d.error(a)}):c([k],function(a){b.finishLoad(f.moduleName+"."+f.ext,f.strip,a,d)})},write:function(a,c,d,e){if(k.hasOwnProperty(c)){var f=b.jsEscape(k[c]);d.asModule(a+"!"+c,"define(function () { return '"+f+"';});\n")}},writeFile:function(a,c,d,e,f){var g=b.parseName(c),h=g.ext?"."+g.ext:"",i=g.moduleName+h,j=d.toUrl(g.moduleName+h)+".js";b.load(i,d,function(c){var d=function(a){return e(j,a)};d.asModule=function(a,b){return e.asModule(a,j,b)},b.write(a,i,d,f)},f)}},"node"===l.env||!l.env&&"undefined"!=typeof process&&process.versions&&process.versions.node?(c=require.nodeRequire("fs"),b.get=function(a,b){var d=c.readFileSync(a,"utf8");0===d.indexOf("\ufeff")&&(d=d.substring(1)),b(d)}):"xhr"===l.env||!l.env&&b.createXhr()?b.get=function(a,c,d,e){var f,g=b.createXhr();if(g.open("GET",a,!0),e)for(f in e)e.hasOwnProperty(f)&&g.setRequestHeader(f.toLowerCase(),e[f]);l.onXhr&&l.onXhr(g,a),g.onreadystatechange=function(b){var e,f;4===g.readyState&&(e=g.status,e>399&&600>e?(f=new Error(a+" HTTP status: "+e),f.xhr=g,d(f)):c(g.responseText))},g.send(null)}:("rhino"===l.env||!l.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java)&&(b.get=function(a,b){var c,d,e="utf-8",f=new java.io.File(a),g=java.lang.System.getProperty("line.separator"),h=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(f),e)),i="";try{for(c=new java.lang.StringBuffer,d=h.readLine(),d&&d.length()&&65279===d.charAt(0)&&(d=d.substring(1)),c.append(d);null!==(d=h.readLine());)c.append(g),c.append(d);i=String(c.toString())}finally{h.close()}b(i)}),b}({}),json=function(text){function cacheBust(a){return a=a.replace(CACHE_BUST_FLAG,""),a+=a.indexOf("?")<0?"?":"&",a+CACHE_BUST_QUERY_PARAM+"="+Math.round(2147483647*Math.random())}var CACHE_BUST_QUERY_PARAM="bust",CACHE_BUST_FLAG="!bust",jsonParse="undefined"!=typeof JSON&&"function"==typeof JSON.parse?JSON.parse:function(val){return eval("("+val+")")},buildMap={};return{load:function(a,b,c,d){d.isBuild&&(d.inlineJSON===!1||-1!==a.indexOf(CACHE_BUST_QUERY_PARAM+"="))||0===b.toUrl(a).indexOf("empty:")?c(null):text.get(b.toUrl(a),function(b){d.isBuild?(buildMap[a]=b,c(b)):c(jsonParse(b))},c.error,{accept:"application/json"})},normalize:function(a,b){return-1!==a.indexOf(CACHE_BUST_FLAG)&&(a=cacheBust(a)),b(a)},write:function(a,b,c){if(b in buildMap){var d=buildMap[b];c('define("'+a+"!"+b+'", function(){ return '+d+";});\n")}}}}(text),json_datajson={logoTitle:"National Geographic",sections:[{title:"General",slug:"general",items:[{title:"About",href:"http://www.nationalgeographic.com/about/"},{title:"Jobs",href:"http://www.nationalgeographic.com/jobs/"},{title:"Newsletter",href:"http://www.nationalgeographic.com/newsletter/"},{title:"Global Sites",href:"http://www.nationalgeographic.com/siteindex/international/"},{title:"Press Room",href:"http://press.nationalgeographic.com/"},{title:"Advertise",href:"http://www.nationalgeographic.com/mediakit/"}]},{title:"Shop",slug:"shop",items:[{title:"Store",href:"http://shop.nationalgeographic.com/ngs/index.jsp?code=NG94281"},{title:"Subscribe",href:"http://www.nationalgeographic.com/magazines/"},{title:"Trips",href:"http://www.nationalgeographicexpeditions.com/home?utm_source=travel.nationalgeographic.com&utm_medium=Link&utm_content=Footer_link_Our_Trips&utm_campaign=NGdotcom"},{title:"Our Lodges",href:"http://www.nationalgeographiclodges.com/?utm_source=NGdotcom&utm_medium=Footer&utm_content=20150106_NGMainFooter_NGLodges&utm_campaign=NGdotcom"},{title:"Events",href:"http://events.nationalgeographic.com/"},{title:"Exhibits",href:"http://events.nationalgeographic.com/events/exhibits/"}]},{title:"Contact",slug:"contact",items:[{title:"Customer Service",href:"http://www.nationalgeographic.com/contact/"}]}],follow:{items:[{title:"Terms Of Service",href:"http://www.nationalgeographic.com/community/terms/"},{title:"Privacy Policy",href:"http://www.nationalgeographic.com/community/privacy/"}]}},function(){"use strict";var a=function(a,b){return function(){return a.apply(b,arguments)}};globalFooter=function(b,c,d,e){var f,g;return g={autoInit:!0,responsive:!0,renderBase:!0,baseContainer:"footer",template:"layout_base",data:e},f=function(){function e(d){this.toggleNav=a(this.toggleNav,this),this.options=b.extend(!0,{},g,d),this.template=c[this.options.template],this.baseContainer=b(this.options.baseContainer),this.options.autoInit&&this.init()}return e.prototype.init=function(){return 0===this.baseContainer.length?void console.error("GlobalFooter couldn't find DOM element \""+this.options.baseContainer+'". Check GF params, buddy!'):this.options.renderBase?this.render():void 0},e.prototype.render=function(){return this.baseContainer.addClass(d.options.wrapper_class),this.baseContainer.html(this.template(this.options.data)),this.bindEvents()},e.prototype.bindEvents=function(){return b(this.options.baseContainer).on("click",".gf_JS_nav-tab",this.toggleNav)},e.prototype.toggleNav=function(a){var c,d;return this.isMobileView()?(a.preventDefault(),d=b(a.currentTarget),c=b("#"+d.data("submenu")),d.toggleClass("active"),d.siblings().toggleClass("active",!1),d.hasClass("active")?c.slideDown():c.slideUp(),c.siblings(".gf_nav-submenu:visible").slideUp()):void 0},e.prototype.isMobileView=function(){return window.matchMedia(d.mqs.until_big).matches},e}()}(jquery,templates,variables,json_datajson)}.call(this),function(){"use strict";!function(a){return"object"==typeof exports?module.exports=a:window.GF instanceof a?void 0:window.GF=new a(window.GF)}(globalFooter)}.call(this),main=void 0}).call(this,require("_process"))},{_process:150,"handlebars/runtime":"handlebars/runtime",jquery:"jquery","matchmedia-polyfill":"matchmedia-polyfill","matchmedia-polyfill/matchMedia.addListener":"matchmedia-polyfill/matchMedia.addListener"}],149:[function(a,b,c){(function(d){!function(a){if("object"==typeof c&&"undefined"!=typeof b)b.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof d?d:"undefined"!=typeof self?self:this,e.GlobalNav=a()}}(function(){var b;return function b(c,d,e){function f(h,i){if(!d[h]){if(!c[h]){var j="function"==typeof a&&a;if(!i&&j)return j(h,!0);if(g)return g(h,!0);var k=new Error("Cannot find module '"+h+"'");throw k.code="MODULE_NOT_FOUND",k}var l=d[h]={exports:{}};c[h][0].call(l.exports,function(a){var b=c[h][1][a];return f(b?b:a)},l,l.exports,b,c,d,e)}return d[h].exports}for(var g="function"==typeof a&&a,h=0;h<e.length;h++)f(e[h]);return f}({1:[function(a,b,c){"use strict";b.exports={autoInit:!0,baseContainer:"header",cbContainer:[],data:null,display:"biggie",drawer:"#gn_JS_global-nav",endPoint:"https://www-s.nationalgeographic.com/global-nav-content/content-by-region/",localization:!0,localISOCode:"",localSection:null,loadRegistration:!0,logoTargetUrl:null,loadTypeKit:!0,navContainer:"#gn_JS_panelcontainer",nav_template:"layout_navigation",renderBase:!0,registrationOptions:{},responsive:!0,searchUrl:"https://www-s.nationalgeographic.com/search",searchPlaceholder:"Search",showSearch:!0,template:"layout_base",toggleDrawerButton:".gn_JS_toggle-drawer-button",typeKitOptions:{kitId:"wdv5zcl",scriptTimeout:3e3}}},{}],2:[function(a,b,c){"use strict";var d,e,f,g,h,i,j,k,l=function(a,b){return function(){return a.apply(b,arguments)}};d=window.$||window.jQuery||a("jquery"),g=a("./defaults.coffee"),h=a("./utils/handlebars.helpers.coffee"),j=a("./templates.js"),f=a("./registration.coffee"),k=a("./variables.coffee"),i=a("./utils/polyfills.coffee"),e=function(){function a(a){this.loadTypeKit=l(this.loadTypeKit,this),this.toggleDrawer=l(this.toggleDrawer,this),this.toggleScrollLock=l(this.toggleScrollLock,this),this.toggleSearch=l(this.toggleSearch,this),this.toggleNavList=l(this.toggleNavList,this),this.toggleClickNavList=l(this.toggleClickNavList,this),this.toggleHoverNavList=l(this.toggleHoverNavList,this),this.switchToBiggie=l(this.switchToBiggie,this),this.closeSubnav=l(this.closeSubnav,this),this.openLocalSection=l(this.openLocalSection,this);var b;this.default_options=g,this.options=d.extend(!0,{},g,a),this.template=j(h)[this.options.template],this.nav_template=j(h)[this.options.nav_template],this.data=this.options.data,this.registration=new f(this),null==(b=this.options).logoTargetUrl&&(b.logoTargetUrl=this.options.logoURL),this.localISOCode=this.options.localISOCode,this.navContent=this.options.navContent,this.options.autoInit&&this.init()}return a.prototype.init=function(){return this.loadTypeKit(),this.render(),this.loadRegistrationPackage()},a.prototype.setLocalISOCode=function(){return new Promise(function(a){return function(b,c){var e;return null==a.options.localization&&(a.localISOCode=sessionStorage.getItem("localISOCode"),null==a.localISOCode)?(e="https:"===window.location.protocol?"https://www-s.":"http://www.",e+="nationalgeographic.com/geolocalization/country.js",d.getScript(e).done(function(){return geoip2.country(function(d){var e;a.localISOCode=d.country.iso_code;try{return sessionStorage.setItem("localISOCode",a.localISOCode),b(a.localISOCode)}catch(a){throw e=a,c("sessionStorage could not be used: "+e),new Error("sessionStorage could not be used: "+e)}})}).fail(c)):b(a.localISOCode)}}(this))},a.prototype.loadRegistrationPackage=function(){return this.options.loadRegistration&&!this.registration.loaded?this.registration.loadRegistration():void 0},a.prototype.loadNavData=function(){return new Promise(function(a){return function(b,c){var d;try{a.data=a.data||JSON.parse(sessionStorage.getItem("navData"))}catch(a){d=a,console.warn("navData is not an object - "+d)}return null!=a.data?b(a.data):a.fetch().catch(function(a){return c(a)}).then(function(c){var d;a.data=c;try{sessionStorage.setItem("navData",JSON.stringify(c))}catch(a){d=a,console.warn("sessionStorage could not be used: "+d)}return b(a.data)})}}(this))},a.prototype.render=function(){return this.options.renderBase&&this.renderBase(),this.loadNavData().then(function(a){return function(b){return a.renderNavigation(),a.openLocalSection()}}(this)),this.bindEvents()},a.prototype.renderBase=function(){return this.$base=d(this.template(this.options)).replaceAll(this.options.baseContainer)},a.prototype.renderNavigation=function(){var a;return a=d.extend(!0,{},this.data,{options:this.options}),this.$nav=d(this.options.navContainer).html(this.nav_template(a))},a.prototype.fetch=function(){return this.setLocalISOCode().then(function(a){return function(){if("withCredentials"in new XMLHttpRequest)return a.stdFetch();if(null!=window.XDomainRequest)return a.xdrFetch();throw new Error("No CORS support!")}}(this))},a.prototype.stdFetch=function(){return this.options.localization?d.getJSON(this.options.endPoint+this.localISOCode):d.getJSON(this.options.endPoint)},a.prototype.xdrFetch=function(){var a,b;return a=new d.Deferred,b=new XDomainRequest,b.open("get",this.options.endPoint+this.localISOCode),b.onload=function(){var c;return c=d.parseJSON(b.responseText),a.resolve(c)},b.onerror=function(){return a.reject("error")},b.onprogress=b.ontimeout=function(){},window.setTimeout(function(){return b.send()},200),a},a.prototype.getElement=function(){return null!=this.$base?this.$base:this.$base=d(this.options.baseContainer)},a.prototype.bindEvents=function(){return null==window.dataLayer&&(window.dataLayer=[]),this.$drawer=d(this.options.drawer),this.getElement().on("click",this.options.toggleDrawerButton,this.toggleDrawer).on("click",".gn_JS_search-button",this.toggleSearch).on("click",".gn_JS_sub-nav-button",!0,this.toggleClickNavList).on("click",".gn_JS_closesubnav",!1,this.toggleClickNavList).on("mouseenter mouseleave",".gn_navlist--primary > .gn_JS_navlist-item",this.toggleHoverNavList).on("click",".gn_navlist--primary > .gn_JS_navlist-item, .gn_drawerfooter-item",this.trackClick),this.options.responsive?window.matchMedia(k.mqs.biggie).addListener(this.switchToBiggie):void 0},a.prototype.trackClick=function(a){return window.dataLayer.push({event:"main-nav",parent:d.trim(d(".gn_navlist-link:first",this).text()),link:d.trim(d(a.target).text())}),!0},a.prototype.openLocalSection=function(){return null==this._$localSectionButton&&(this._$localSectionButton=this.getElement().find("[data-local-section] .gn_JS_sub-nav-button")),this.isTopHat()?this.closeSubnav():this.toggleNavList(this._$localSectionButton,!0)},a.prototype.closeSubnav=function(){var a;return a=this.getElement().find('[data-state="open"]'),this.toggleNavList(a,!1)},a.prototype.switchToBiggie=function(){return("biggie"===this.options.display||"open"!==this.$drawer.data("drawer"))&&this.openLocalSection(),"biggie"===this.options.display&&"open"===this.$drawer.data("drawer")?this.toggleState(this.$drawer,"drawer"):void 0},a.prototype.isLargeViewport=function(){return this.options.responsive?window.matchMedia(k.mqs.biggie).matches:!0},a.prototype.isTopHat=function(){return this.isLargeViewport()&&"biggie"===this.options.display},a.prototype.toggleState=function(a,b,c){var d;return null==c&&(c="open"!==a.data(b)),d=c?"open":"closed",a.attr("data-"+b,d),a.data(b,d)},a.prototype.toggleHoverNavList=function(a){return this.isTopHat()?this.toggleState(d(a.currentTarget),"state","mouseenter"===a.type):void 0},a.prototype.toggleClickNavList=function(a){return this.toggleNavList(d(a.currentTarget),a.data)},a.prototype.toggleNavList=function(a,b){var c,e;return c=a.closest(".gn_JS_navlist-item"),e=c.closest(".gn_panel"),this.toggleState(e,"child-state",b),setTimeout(function(a){return function(){return a.toggleState(c,"state",b),c.siblings('[data-state="open"]').each(function(c,e){return a.toggleState(d(e),"state",!b)}),0!==e.scrollTop()?e.animate({scrollTop:0},"fast"):void 0}}(this),50)},a.prototype.toggleSearch=function(a){var b,c,e;return c=d.trim(d(".gn_search-input").val()),b=d(".gn_JS_global-search"),e=b.attr("data-search"),this.isLargeViewport()||""!==c&&"open"===e?void 0:(a.preventDefault(),this.toggleState(b,"search"))},a.prototype.toggleScrollLock=function(a){return a?d("body").addClass("NGS_GN_scroll_lock"):d("body").removeClass("NGS_GN_scroll_lock")},a.prototype.toggleDrawer=function(){return"open"===this.$drawer.data("drawer")?(this.toggleScrollLock(!1),this.openLocalSection()):this.toggleScrollLock(!0),this.toggleState(this.$drawer,"drawer")},a.prototype.loadTypeKit=function(){var a,b,c,d,e,f;if(this.options.loadTypeKit)return a=this.options.typeKitOptions,c=document.documentElement,c.className+=" wf-loading",e=setTimeout(function(){return c.className=c.className.replace(/\bwf-loading\b/g,"")+" wf-inactive"},a.scriptTimeout),d=!1,f=document.createElement("script"),f.src="//fonts.ngeo.com/"+a.kitId+".js",f.async=!0,f.onload=f.onreadystatechange=function(){var b;if(!d&&"complete"!==(b=this.readyState)&&"loaded"!==b){d=!0,clearTimeout(e);try{return Typekit.load(a)}catch(a){}}},b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(f,b)},a}(),b.exports=e},{"./defaults.coffee":1,"./registration.coffee":4,"./templates.js":5,"./utils/handlebars.helpers.coffee":6,"./utils/polyfills.coffee":7,"./variables.coffee":8,jquery:"jquery"}],3:[function(a,b,c){"use strict";var d;d=a("./globalNav.coffee"),!window.GN||window.GN instanceof d||(window.GN=new d(window.GN)),b.exports=d},{"./globalNav.coffee":2}],4:[function(a,b,c){"use strict";var d,e,f,g;d=window.$||window.jQuery||a("jquery"),g=a("./variables.coffee"),f={show_user_ui:!1,headerContainer:".identity_bar",mmdbHost:"https://mmdb.nationalgeographic.com",memcenHost:"https://members.nationalgeographic.com",notificationsHost:"https://notifications.nationalgeographic.com",notificationsKey:"e6c4b4af844c454fc2110a4d09828559489837313bd2e519cf",crossDomain:!0,refreshOnLogin:!0,refreshOnLogout:!0,serverSideLogin:!1,debug:!1,debug_lvl:0,whitelist:{origins:["*.nationalgeographic.com","*.natgeo.vm"],targets:["mmdb","mc","geodata"]},gigyaKey:"3_LOaUF9fHrs7lFHW7YFFA22qD6MhVsbO_bpqkn6nnKj9-AbGRsec864eKWqmR2Jdu",gigyaConfig:{enabledProviders:"facebook",autoLogin:!0},userbox_selector:"#gn_JS_userbox",notifications_selector:".gn_JS_notifications",notificationsRefreshRate:5e3},e=function(){function b(a){var b,c;this.globalnav=a,this.options=d.extend(!0,{},f,null!=(b=this.globalnav)&&null!=(c=b.options)?c.registrationOptions:void 0),this.loaded=!1,this.notificationsRefreshRate=this.options.notificationsRefreshRate}return b.prototype.loadRegistration=function(){var b,c,d,e,f;return null==window._M||this.loaded?(this.loaded=!0,window.memFragConfig=this.options,window.__gigyaConf=this.options.gigyaConfig,f=!!document.location.protocol.match("https:"),c="http://cdn.gigya.com",d="https://cdns.gigya.com",b=f?d:c,e=this.options.gigyaKey,a("@natgeo/packages-registration"),this.loadScript(b+"/JS/socialize.js?apikey="+e)):void 0},b.prototype.loadScript=function(a,b){var c;return c=document.createElement("script"),c.setAttribute("type","text/javascript"),d("head").append(c),c.readyState&&(c.onreadystatechange=function(){var a;return"loaded"!==(a=c.readyState)&&"complete"!==a||(c.onreadystatechange=null,"function"!=typeof b)?void 0:b(c.readyState)}),c.setAttribute("src",a)},b}(),b.exports=e},{"./variables.coffee":8,"@natgeo/packages-registration":9,jquery:"jquery"}],5:[function(a,b,c){b.exports=function(a){return this.GlobalNavTemplates=this.GlobalNavTemplates||{},a.registerPartial("component_navlist",a.template({1:function(a,b,c,d){var e;return" gn_navlist--"+this.escapeExpression((e=null!=(e=b.type||(null!=a?a.type:a))?e:b.helperMissing,"function"==typeof e?e.call(a,{name:"type",hash:{},data:d}):e))},3:function(a,b,c,d){var e;return null!=(e=b.if.call(a,null!=a?a.subnav:a,{name:"if",hash:{},fn:this.program(4,d,0),inverse:this.program(11,d,0),data:d}))?e:""},4:function(a,b,c,d){var e,f,g=b.helperMissing,h="function",i=this.escapeExpression;return'\n    <li class="gn_JS_navlist-item gn_navlist-item" '+(null!=(e=(b.if_equal||a&&a.if_equal||g).call(a,null!=a?a.id:a,(e=d&&d.options)&&e.localSection,{name:"if_equal",hash:{},fn:this.program(5,d,0),inverse:this.noop,data:d}))?e:"")+' data-state="closed">\n        <div class="gn_navlist-linkcontainer">\n            <a href="'+i((f=null!=(f=b.url||(null!=a?a.url:a))?f:g,typeof f===h?f.call(a,{name:"url",hash:{},data:d}):f))+'"\n               class="gn_navlist-link\n               '+(null!=(e=b.if.call(a,null!=a?a.highlight:a,{name:"if",hash:{},fn:this.program(7,d,0),inverse:this.noop,data:d}))?e:"")+"\n               "+(null!=(e=b.if.call(a,null!=a?a.highlight_plus:a,{name:"if",hash:{},fn:this.program(9,d,0),inverse:this.noop,data:d}))?e:"")+'\n               gn_h4">'+i((f=null!=(f=b.title||(null!=a?a.title:a))?f:g,typeof f===h?f.call(a,{name:"title",hash:{},data:d}):f))+'</a>\n\n            <button class="gn_JS_sub-nav-button gn_navlist-subnavbutton gn_button--naked gn_hidebiggie">\n                <i class="icongs icongs-directionright"></i>\n            </button>\n        </div>\n\n'+(null!=(e=this.invokePartial(c.panel_subnav,a,{name:"panel_subnav",data:d,indent:"        ",helpers:b,partials:c}))?e:"")+"\n    </li>\n\n"},5:function(a,b,c,d){return'data-local-section="true"'},7:function(a,b,c,d){return"gn_navlist-link--highlight"},9:function(a,b,c,d){return"gn_navlist-link--highlight-plus"},11:function(a,b,c,d){var e,f,g=b.helperMissing,h="function",i=this.escapeExpression;return'    <li class="gn_JS_navlist-item gn_navlist-item">\n        <a href="'+i((f=null!=(f=b.url||(null!=a?a.url:a))?f:g,typeof f===h?f.call(a,{name:"url",hash:{},data:d}):f))+'" class="gn_navlist-link'+(null!=(e=b.if.call(a,null!=a?a.highlight:a,{name:"if",hash:{},fn:this.program(12,d,0),inverse:this.noop,data:d}))?e:"")+' gn_h4">'+i((f=null!=(f=b.title||(null!=a?a.title:a))?f:g,typeof f===h?f.call(a,{
name:"title",hash:{},data:d}):f))+"</a>\n    </li>\n\n"},12:function(a,b,c,d){return" gn_navlist-link--highlight"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e;return'<ul class="gn_navlist'+(null!=(e=b.if.call(a,null!=a?a.type:a,{name:"if",hash:{},fn:this.program(1,d,0),inverse:this.noop,data:d}))?e:"")+'">\n'+(null!=(e=b.each.call(a,null!=a?a.nav_items:a,{name:"each",hash:{},fn:this.program(3,d,0),inverse:this.noop,data:d}))?e:"")+"</ul>\n"},usePartial:!0,useData:!0})),a.registerPartial("component_spotlight",a.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f=b.helperMissing,g="function",h=this.escapeExpression;return'<section class="gn_spotlight">\n    <h2 class="gn_spotlight-title">'+h((e=null!=(e=b.title||(null!=a?a.title:a))?e:f,typeof e===g?e.call(a,{name:"title",hash:{},data:d}):e))+'</h2>\n    <figure class="gn_spotlight-content">\n        <a href="'+h((e=null!=(e=b.url||(null!=a?a.url:a))?e:f,typeof e===g?e.call(a,{name:"url",hash:{},data:d}):e))+'">\n            <img src="'+h((e=null!=(e=b.image||(null!=a?a.image:a))?e:f,typeof e===g?e.call(a,{name:"image",hash:{},data:d}):e))+'" title="'+h((e=null!=(e=b.title||(null!=a?a.title:a))?e:f,typeof e===g?e.call(a,{name:"title",hash:{},data:d}):e))+'" class="gn_spotlight-image">\n        </a>\n        <figcaption class="gn_spotlight-caption">\n            <a href="'+h((e=null!=(e=b.url||(null!=a?a.url:a))?e:f,typeof e===g?e.call(a,{name:"url",hash:{},data:d}):e))+'">'+h((e=null!=(e=b.caption||(null!=a?a.caption:a))?e:f,typeof e===g?e.call(a,{name:"caption",hash:{},data:d}):e))+"</a>\n        </figcaption>\n    </figure>\n</section>\n"},useData:!0})),a.registerPartial("logo-biggie.svg",a.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){return'<svg class="gn_logo--biggie" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n   width="180.667px" height="53px" viewBox="0 0 180.667 53" enable-background="new 0 0 180.667 53" xml:space="preserve">\n<g>\n  <path fill="#FFCC00" d="M0,53.05V0h37.024v53.05H0z M31.669,47.708V5.342H5.336v42.366H31.669z"/>\n</g>\n<g>\n  <path fill="#FFFFFF" d="M61.622,23.797h-2.297c-3.007-4.246-5.989-8.468-8.969-13.241h-0.026v13.241h-2.533V5.333h2.295\n    c3.008,4.221,5.988,8.413,8.942,13.16h0.054V5.333h2.534V23.797z"/>\n  <path fill="#FFFFFF" d="M67.635,16.491c0.737-2.427,1.477-4.67,2.135-7.519h0.053c0.738,2.849,1.4,5.092,2.085,7.519H67.635z\n     M68.849,5.333l-6.385,18.464h2.745l1.607-5.039h5.567l1.449,5.039h3.538L71.483,5.333H68.849z"/>\n  <path fill="#FFFFFF" d="M80.35,23.797V7.812h-4.855V5.333h12.873v2.479h-4.853v15.985H80.35z"/>\n  <path fill="#FFFFFF" d="M89.396,23.797V5.333h3.14v18.464H89.396z"/>\n  <path fill="#FFFFFF" d="M102.296,21.477c-3.299,0-4.459-3.643-4.459-7.175c0-3.404,1.32-6.649,4.459-6.649\n    c3.137,0,4.457,3.245,4.457,6.649C106.753,17.834,105.593,21.477,102.296,21.477z M102.296,24.113c4.826,0,7.833-4.297,7.833-9.811\n    c0-5.173-3.322-9.287-7.833-9.287c-4.512,0-7.835,4.114-7.835,9.287C94.461,19.816,97.468,24.113,102.296,24.113z"/>\n  <path fill="#FFFFFF" d="M125.878,23.797h-2.295c-3.008-4.246-5.987-8.468-8.968-13.241h-0.03v13.241h-2.53V5.333h2.297\n    c3.007,4.221,5.989,8.413,8.94,13.16h0.055V5.333h2.531V23.797z"/>\n  <path fill="#FFFFFF" d="M131.893,16.491c0.738-2.427,1.477-4.67,2.136-7.519h0.054c0.738,2.849,1.396,5.092,2.084,7.519H131.893z\n     M133.105,5.333l-6.384,18.464h2.744l1.609-5.039h5.562l1.454,5.039h3.535l-5.883-18.464H133.105z"/>\n  <path fill="#FFFFFF" d="M142.549,5.333h3.139v15.984h6.251v2.479h-9.39V5.333z"/>\n  <path fill="#FFFFFF" d="M59.672,39.245v7.622c-1.688,0.663-3.456,1.135-5.25,1.135c-5.433,0-8.863-4.219-8.863-9.654\n    c0-5.037,3.43-9.445,8.97-9.445c1.714,0,3.429,0.636,4.486,1.428l-1.03,2.189c-0.846-0.529-2.165-0.978-3.375-0.978\n    c-3.377,0-5.673,2.665-5.673,6.859c0,4.378,2.639,6.964,5.356,6.964c0.845,0,1.557-0.105,2.216-0.444v-5.676H59.672z"/>\n  <path fill="#FFFFFF" d="M70.987,31.702H65.71v5.063h5.171v2.479H65.71v5.961h6.228v2.482h-9.393V29.222h8.441V31.702z"/>\n  <path fill="#FFFFFF" d="M80.747,45.365c-3.297,0-4.457-3.639-4.457-7.175c0-3.402,1.318-6.648,4.457-6.648\n    c3.139,0,4.46,3.246,4.46,6.648C85.207,41.727,84.046,45.365,80.747,45.365z M80.747,48.002c4.83,0,7.836-4.3,7.836-9.812\n    c0-5.171-3.325-9.288-7.836-9.288c-4.511,0-7.833,4.117-7.833,9.288C72.914,43.702,75.92,48.002,80.747,48.002z"/>\n  <path fill="#FFFFFF" d="M103.778,39.245v7.622c-1.689,0.663-3.458,1.135-5.251,1.135c-5.434,0-8.862-4.219-8.862-9.654\n    c0-5.037,3.429-9.445,8.968-9.445c1.718,0,3.431,0.636,4.485,1.428l-1.029,2.189c-0.844-0.529-2.163-0.978-3.376-0.978\n    c-3.377,0-5.673,2.665-5.673,6.859c0,4.378,2.638,6.964,5.354,6.964c0.844,0,1.559-0.105,2.218-0.444v-5.676H103.778z"/>\n  <path fill="#FFFFFF" d="M109.842,31.702h1.401c1.873,0,2.924,1.083,2.924,2.979c0,2.478-1.5,3.588-3.006,3.666\n    c-0.314,0.026-1.052,0.054-1.319,0.082V31.702z M117.862,47.688l-3.718-7.651c2.03-1.081,3.193-3.271,3.193-5.484\n    c0-3.591-2.191-5.331-5.728-5.331h-4.932v18.467h3.163v-6.964h1.372h0.053l2.982,6.964H117.862z"/>\n  <path fill="#FFFFFF" d="M123.086,40.378c0.735-2.424,1.475-4.665,2.135-7.514h0.055c0.739,2.849,1.398,5.09,2.085,7.514H123.086z\n     M124.297,29.222l-6.382,18.467h2.743l1.611-5.04h5.565l1.451,5.04h3.535l-5.884-18.467H124.297z"/>\n  <path fill="#FFFFFF" d="M138.755,29.222h-4.934v18.467h3.164v-6.964h1.426c3.772,0,6.069-3.062,6.069-6.172\n    C144.48,30.962,142.288,29.222,138.755,29.222z M138.309,38.348c-0.327,0.026-1.099,0.051-1.323,0.077v-6.723h1.426\n    c1.851,0,2.902,1.083,2.902,2.979C141.313,37.159,139.811,38.27,138.309,38.348z"/>\n  <path fill="#FFFFFF" d="M159.148,47.688h-3.169v-8.893h-6.569v8.893h-3.136V29.222h3.136v7.098h6.569v-7.046h3.169V47.688z"/>\n  <path fill="#FFFFFF" d="M162.182,47.688V29.222h3.136v18.467H162.182z"/>\n  <path fill="#FFFFFF" d="M179.562,32.572c-0.765-0.477-2.03-1.03-3.244-1.03c-3.219,0-5.564,2.665-5.564,6.859\n    c0,4.378,2.584,6.964,5.644,6.964c1.213,0,2.35-0.396,3.165-0.924l0.873,2.297c-0.952,0.656-2.64,1.264-4.17,1.264\n    c-5.436,0-8.864-4.219-8.864-9.654c0-5.037,3.403-9.445,8.917-9.445c1.635,0,3.165,0.69,4.246,1.428L179.562,32.572z"/>\n</g>\n</svg>\n'},useData:!0})),a.registerPartial("logo-custom.svg",a.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){return'<svg class="gn_logo--custom" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 37 53" preserveAspectRatio="xMinYMin meet" xml:space="preserve">\n    <g>\n        <path fill="#FFCC00" d="M0,53.05V0h37.024v53.05H0z M31.669,47.708V5.342H5.336v42.366H31.669z"></path>\n    </g>\n</svg>\n'},useData:!0})),a.registerPartial("logo-skinny.svg",a.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){return'<svg class="gn_logo--inline" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n	 width="225.354px" height="41.077px" viewBox="0 0 225.354 41.077" enable-background="new 0 0 225.354 41.077" preserveAspectRatio="xMinYMin meet"\n	 xml:space="preserve">\n<g>\n	<g>\n		<g>\n			<g>\n				<path fill="#FFD800" d="M0,41.077V0h28.667v41.077H0z M24.521,36.938V4.137H4.131v32.801H24.521z"/>\n			</g>\n		</g>\n	</g>\n	<g>\n		<g>\n			<path fill="#FFFFFF" d="M47.684,27.767h-1.775c-2.322-3.281-4.627-6.542-6.93-10.232h-0.021v10.232h-1.957v-14.27h1.772\n				c2.324,3.262,4.629,6.503,6.912,10.172h0.04V13.497h1.958V27.767z"/>\n			<path fill="#FFFFFF" d="M52.33,22.122c0.571-1.877,1.141-3.609,1.65-5.811h0.042c0.57,2.202,1.079,3.934,1.61,5.811H52.33z\n				 M53.268,13.497l-4.934,14.27h2.121l1.243-3.893h4.301l1.122,3.893h2.731l-4.546-14.27H53.268z"/>\n			<path fill="#FFFFFF" d="M62.156,27.767V15.414h-3.752v-1.917h9.949v1.917h-3.752v12.353H62.156z"/>\n			<path fill="#FFFFFF" d="M69.146,27.767v-14.27h2.427v14.27H69.146z"/>\n			<path fill="#FFFFFF" d="M79.115,25.972c-2.547,0-3.444-2.811-3.444-5.543c0-2.631,1.019-5.138,3.444-5.138\n				s3.445,2.507,3.445,5.138C82.561,23.161,81.663,25.972,79.115,25.972z M79.115,28.011c3.73,0,6.055-3.322,6.055-7.582\n				c0-3.996-2.568-7.175-6.055-7.175s-6.054,3.179-6.054,7.175C73.062,24.688,75.385,28.011,79.115,28.011z"/>\n			<path fill="#FFFFFF" d="M97.34,27.767h-1.773c-2.324-3.281-4.628-6.542-6.931-10.232h-0.021v10.232h-1.957v-14.27h1.773\n				c2.324,3.262,4.627,6.503,6.91,10.172h0.041V13.497h1.957V27.767z"/>\n			<path fill="#FFFFFF" d="M101.987,22.122c0.57-1.877,1.142-3.609,1.651-5.811h0.041c0.57,2.202,1.08,3.934,1.611,5.811H101.987z\n				 M102.926,13.497l-4.934,14.27h2.119l1.244-3.893h4.302l1.121,3.893h2.731l-4.547-14.27H102.926z"/>\n			<path fill="#FFFFFF" d="M110.223,13.497h2.426v12.354h4.832v1.916h-7.258V13.497z"/>\n		</g>\n		<g>\n			<path fill="#FFFFFF" d="M132.928,21.2v5.892c-1.305,0.511-2.67,0.876-4.056,0.876c-4.2,0-6.851-3.262-6.851-7.46\n				c0-3.894,2.65-7.298,6.932-7.298c1.325,0,2.65,0.488,3.465,1.1l-0.795,1.693c-0.651-0.409-1.672-0.754-2.609-0.754\n				c-2.608,0-4.383,2.057-4.383,5.299c0,3.385,2.039,5.382,4.139,5.382c0.652,0,1.203-0.081,1.713-0.346V21.2H132.928z"/>\n			<path fill="#FFFFFF" d="M141.674,15.37h-4.078v3.915h3.996V21.2h-3.996v4.607h4.812v1.916h-7.257V13.455h6.523V15.37z"/>\n			<path fill="#FFFFFF" d="M149.216,25.93c-2.548,0-3.445-2.813-3.445-5.544c0-2.631,1.02-5.137,3.445-5.137\n				c2.427,0,3.445,2.506,3.445,5.137C152.661,23.116,151.764,25.93,149.216,25.93z M149.216,27.968c3.73,0,6.055-3.322,6.055-7.582\n				c0-3.998-2.568-7.176-6.055-7.176c-3.485,0-6.054,3.179-6.054,7.176C143.162,24.646,145.486,27.968,149.216,27.968z"/>\n			<path fill="#FFFFFF" d="M167.013,21.2v5.892c-1.306,0.511-2.671,0.876-4.057,0.876c-4.2,0-6.851-3.262-6.851-7.46\n				c0-3.894,2.65-7.298,6.932-7.298c1.325,0,2.65,0.488,3.465,1.1l-0.795,1.693c-0.651-0.409-1.67-0.754-2.608-0.754\n				c-2.609,0-4.384,2.057-4.384,5.299c0,3.385,2.039,5.382,4.139,5.382c0.652,0,1.203-0.081,1.713-0.346V21.2H167.013z"/>\n			<path fill="#FFFFFF" d="M171.701,15.37h1.08c1.447,0,2.264,0.837,2.264,2.304c0,1.917-1.163,2.772-2.324,2.834\n				c-0.246,0.02-0.816,0.04-1.02,0.06V15.37z M177.897,27.724l-2.874-5.911c1.57-0.838,2.467-2.528,2.467-4.241\n				c0-2.773-1.691-4.117-4.423-4.117h-3.813v14.269h2.447v-5.382h1.06h0.041l2.304,5.382H177.897z"/>\n			<path fill="#FFFFFF" d="M181.935,22.077c0.569-1.875,1.141-3.608,1.651-5.811h0.041c0.57,2.202,1.08,3.936,1.61,5.811H181.935z\n				 M182.872,13.455l-4.935,14.269h2.121l1.244-3.894h4.301l1.122,3.894h2.731l-4.547-14.269H182.872z"/>\n			<path fill="#FFFFFF" d="M194.043,13.455h-3.812v14.269h2.446v-5.382h1.101c2.916,0,4.689-2.365,4.689-4.771\n				C198.467,14.798,196.775,13.455,194.043,13.455z M193.697,20.508c-0.251,0.019-0.85,0.038-1.021,0.057V15.37h1.101\n				c1.428,0,2.243,0.837,2.243,2.304C196.021,19.591,194.858,20.446,193.697,20.508z"/>\n			<path fill="#FFFFFF" d="M209.801,27.724h-2.446v-6.869h-5.075v6.869h-2.427V13.455h2.427v5.482h5.075v-5.442h2.446V27.724z"/>\n			<path fill="#FFFFFF" d="M212.145,27.724V13.455h2.428v14.269H212.145z"/>\n			<path fill="#FFFFFF" d="M225.578,16.042c-0.59-0.366-1.569-0.794-2.506-0.794c-2.487,0-4.303,2.057-4.303,5.299\n				c0,3.385,1.998,5.382,4.362,5.382c0.938,0,1.814-0.306,2.446-0.714l0.674,1.775c-0.734,0.51-2.039,0.977-3.221,0.977\n				c-4.199,0-6.851-3.262-6.851-7.46c0-3.894,2.63-7.298,6.892-7.298c1.263,0,2.445,0.531,3.281,1.1L225.578,16.042z"/>\n		</g>\n	</g>\n</g>\n</svg>\n'},useData:!0})),a.registerPartial("panel_navigation",a.template({1:function(a,b,c,d){var e,f=b.helperMissing,g="function",h=this.escapeExpression;return'    <li class="gn_component gn_component--'+h((e=null!=(e=b.type||d&&d.type)?e:f,typeof e===g?e.call(a,{name:"type",hash:{},data:d}):e))+'">\n        '+h((e=null!=(e=b.component||d&&d.component)?e:f,typeof e===g?e.call(a,{name:"component",hash:{},data:d}):e))+"\n    </li>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e;return'<ul class="gn_panel gn_background--basic">\n'+(null!=(e=(b.component_list||a&&a.component_list||b.helperMissing).call(a,null!=a?a.components:a,{name:"component_list",hash:{},fn:this.program(1,d,0),inverse:this.noop,data:d}))?e:"")+"</ul>\n"},useData:!0})),a.registerPartial("panel_search",a.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f=b.helperMissing,g="function",h=this.escapeExpression;return'<form action="'+h((e=null!=(e=b.searchUrl||(null!=a?a.searchUrl:a))?e:f,typeof e===g?e.call(a,{name:"searchUrl",hash:{},data:d}):e))+'" method="get">\n    <fieldset data-search="closed" class="gn_JS_global-search gn_search-container">\n        <span class="gn_visuallyhidden">Search</span>\n        <div class="gn_search-inputcontainer">\n            <input type="search" placeholder="'+h((e=null!=(e=b.searchPlaceholder||(null!=a?a.searchPlaceholder:a))?e:f,typeof e===g?e.call(a,{name:"searchPlaceholder",hash:{},data:d}):e))+'" name="q" class="gn_search-input" required>\n        </div>\n        <button class="gn_JS_search-button gn_search-button gn_button--naked">\n            <i class="icongs icongs-search"></i>\n        </button>\n    </fieldset>\n</form>\n'},useData:!0})),a.registerPartial("panel_social",a.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){return'<span class="gn_social-container">\n    <span class="gn_showbiggie gn_social-label">Connect:</span>\n    <a href="https://www.facebook.com/natgeo" class="gn_social-button gn_social-button--facebook">\n        <i class="gn_showbiggie icongs icongs-facebook"></i>\n    </a>\n    <a href="https://twitter.com/NatGeo" class="gn_social-button gn_social-button--twitter">\n        <i class="gn_showbiggie icongs icongs-twitter"></i>\n    </a>\n</span>\n'},useData:!0})),a.registerPartial("panel_subnav",a.template({1:function(a,b,c,d){var e,f=b.helperMissing,g="function",h=this.escapeExpression;return'    <li class="gn_component gn_component--'+h((e=null!=(e=b.type||d&&d.type)?e:f,typeof e===g?e.call(a,{name:"type",hash:{},data:d}):e))+'">\n        '+h((e=null!=(e=b.component||d&&d.component)?e:f,typeof e===g?e.call(a,{name:"component",hash:{},data:d}):e))+"\n    </li>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f,g=b.helperMissing;return'<ul class="gn_JS_subnav gn_panel gn_panel--sub gn_background--basic">\n    <button class="gn_panel-closebutton gn_button--naked gn_JS_closesubnav gn_hidebiggie">\n        <i class="icongs icongs-directionleft gn_navlist-subnavbutton"></i>\n        <span>Main Menu</span>\n    </button>\n\n    <li class="gn_component gn_component--label gn_navlist-link">'+this.escapeExpression((f=null!=(f=b.title||(null!=a?a.title:a))?f:g,"function"==typeof f?f.call(a,{name:"title",hash:{},data:d}):f))+"</li>\n\n"+(null!=(e=(b.component_list||a&&a.component_list||g).call(a,null!=(e=null!=a?a.subnav:a)?e.components:e,{name:"component_list",hash:{},fn:this.program(1,d,0),inverse:this.noop,data:d}))?e:"")+"\n</ul>\n"},useData:!0})),a.registerPartial("panel_user",a.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e;return'<div class="NGS_regpkg">\n    <div class="rp_userbox-container" id="gn_JS_userbox">\n        <div class="rp_userbox-wrapper rp_waitspinner-wrapper">\n'+(null!=(e=this.invokePartial(c.waitspinner,a,{name:"waitspinner",data:d,indent:"            ",helpers:b,partials:c}))?e:"")+'            <span class="rp_userbox-loading">Loading...</span>\n        </div>\n    </div>\n</div>\n'},usePartial:!0,useData:!0})),a.registerPartial("waitspinner",a.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){return'<svg class="gn_waitspinner" viewBox="0 0 100 100" width="16" height="16">\n    <circle class="gn_waitspinner-bg" cx="50" cy="50" r="42" transform="rotate(-90,50,50)" />\n    <circle class="gn_waitspinner-fg" cx="50" cy="50" r="42" transform="rotate(-90,50,50)" />\n</svg>\n'},useData:!0})),this.GlobalNavTemplates.layout_base=a.template({1:function(a,b,c,d){return'data-responsive="false"'},3:function(a,b,c,d){return"data-show-userbox"},5:function(a,b,c,d){return"data-hide-userbox"},7:function(a,b,c,d){return"data-show-search"},9:function(a,b,c,d){return"data-hide-search"},11:function(a,b,c,d){var e;return this.escapeExpression((e=null!=(e=b.logoTargetUrl||(null!=a?a.logoTargetUrl:a))?e:b.helperMissing,"function"==typeof e?e.call(a,{name:"logoTargetUrl",hash:{},data:d}):e))},13:function(a,b,c,d){return"http://www.nationalgeographic.com/"},15:function(a,b,c,d){var e,f;return(null!=(e=this.invokePartial(c["logo-custom.svg"],a,{name:"logo-custom.svg",data:d,indent:"                ",helpers:b,partials:c}))?e:"")+'                <h1 class="gn_logo-title">\n                    '+this.escapeExpression((f=null!=(f=b.logoCustom||(null!=a?a.logoCustom:a))?f:b.helperMissing,"function"==typeof f?f.call(a,{name:"logoCustom",hash:{},data:d}):f))+"\n                </h1>\n"},17:function(a,b,c,d){var e;return null!=(e=this.invokePartial(c["logo-skinny.svg"],a,{name:"logo-skinny.svg",data:d,indent:"                ",helpers:b,partials:c}))?e:""},19:function(a,b,c,d){var e;return null!=(e=this.invokePartial(c.panel_search,a,{name:"panel_search",data:d,helpers:b,partials:c}))?e:""},21:function(a,b,c,d){var e;return null!=(e=this.invokePartial(c.panel_user,a,{name:"panel_user",data:d,helpers:b,partials:c}))?e:""},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f;return'<header id="gn_JS_global-nav" data-display="'+this.escapeExpression((f=null!=(f=b.display||(null!=a?a.display:a))?f:b.helperMissing,"function"==typeof f?f.call(a,{name:"display",hash:{},data:d}):f))+'" '+(null!=(e=b.unless.call(a,null!=a?a.responsive:a,{name:"unless",hash:{},fn:this.program(1,d,0),inverse:this.noop,data:d}))?e:"")+' data-drawer="closed" '+(null!=(e=b.if.call(a,null!=a?a.loadRegistration:a,{name:"if",hash:{},fn:this.program(3,d,0),inverse:this.program(5,d,0),data:d}))?e:"")+" "+(null!=(e=b.if.call(a,null!=a?a.showSearch:a,{name:"if",hash:{},fn:this.program(7,d,0),inverse:this.program(9,d,0),data:d}))?e:"")+' role="banner" class="gn_wrapper">\n\n    <div class="gn_biggierow">\n        <a class="gn_logo-container gn_logo-container--inline" href="'+(null!=(e=b.if.call(a,null!=a?a.logoTargetUrl:a,{name:"if",hash:{},fn:this.program(11,d,0),inverse:this.program(13,d,0),data:d}))?e:"")+'">\n'+(null!=(e=b.if.call(a,null!=a?a.logoCustom:a,{name:"if",hash:{},fn:this.program(15,d,0),inverse:this.program(17,d,0),data:d}))?e:"")+'        </a>\n        <a class="gn_logo-container gn_showbiggie" href="http://www.nationalgeographic.com/">\n'+(null!=(e=this.invokePartial(c["logo-biggie.svg"],a,{name:"logo-biggie.svg",data:d,indent:"            ",helpers:b,partials:c}))?e:"")+'            <h1 class="gn_visuallyhidden">The National Geographic Society</h1>\n        </a>\n'+(null!=(e=this.invokePartial(c.panel_social,a,{name:"panel_social",data:d,indent:"        ",helpers:b,partials:c}))?e:"")+"        "+(null!=(e=b.if.call(a,null!=a?a.showSearch:a,{name:"if",hash:{},fn:this.program(19,d,0),inverse:this.noop,data:d}))?e:"")+"\n        "+(null!=(e=b.if.call(a,null!=a?a.loadRegistration:a,{name:"if",hash:{},fn:this.program(21,d,0),inverse:this.noop,data:d}))?e:"")+'\n    </div>\n\n    <button class="gn_JS_toggle-drawer-button gn_drawerbutton gn_button--naked gn_hidebiggie">\n        <i class="gn_drawerbutton-icon icongs icongs-menu"></i>\n        <div class="gn_drawerbutton-label">Menu</div>\n        <span class="gn_JS_notifications gn_drawerbutton-notification visuallyhidden"></span>\n    </button>\n\n    <nav class="gn_nav-drawer" role="navigation">\n        <div class="gn_background--basic gn_drawerheader-container gn_hidebiggie">\n            <a class="gn_drawerheader-item" href="http://www.nationalgeographic.com/">\n                <i class="icongs icongs-border gn_text--highlight"></i>\n                <span>Home</span>\n            </a>\n        </div>\n\n        <div class="gn_drawer-panelcontainer" id="gn_JS_panelcontainer"></div>\n\n        <div class="gn_drawerfooter">\n            <a class="gn_drawerfooter-item" href="http://shop.nationalgeographic.com/ngs/index.jsp?code=NG94000&source=NavShopHome">Shop</a>\n            <a class="gn_drawerfooter-item" href="http://www.nationalgeographicexpeditions.com/?utm_source=NGdotcom-Home&utm_medium=Link&utm_content=TopNav_Trips&utm_campaign=NGdotcom">Trips</a>\n            <a class="gn_drawerfooter-item" href="http://www.nationalgeographic.com/magazines/lp/nav/">Subscribe</a>\n        </div>\n    </nav>\n</header>\n'},usePartial:!0,useData:!0}),this.GlobalNavTemplates.layout_navigation=a.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e;return null!=(e=this.invokePartial(c.panel_navigation,a,{name:"panel_navigation",data:d,helpers:b,partials:c}))?e:""},usePartial:!0,useData:!0}),this.GlobalNavTemplates}},{}],6:[function(a,b,c){var d,e,f,g;d=a("handlebars/runtime"),f=d.helpers||{},e=d.Utils.escapeExpression,g=function(a){return new d.SafeString('<!-- Template for "'+e(a)+'" not found -->')},f.if_equal||d.registerHelper("if_equal",function(a,b,c){if(3!==arguments.length)throw new Error('Handlebars Helper "if_equal" needs 2 parameters');return c[a===b?"fn":"inverse"](this)}),f.debug||d.registerHelper("debug",function(){return console.log("Context:"),console.log(this)}),f.resized||d.registerHelper("resized",function(a,b,c,d){return null==c&&(c=b),"exposure/transcode/"+b+"/"+c+"/?url="+a}),f.getAvatar||d.registerHelper("getAvatar",function(a){var b,c,e,f,g;return c=d.createFrame(a.data||{}),b=localStorage.getItem("memFrag/User/avatarInUse"),g=localStorage.getItem("memFrag/User/uploadedAvatar"),e=localStorage.getItem("memFrag/User/facebookAvatar"),f=this.staticMedia+"/views/images/nationalGeographic_default_avatar.jpg","null"===b&&(b=null),"null"===e&&(e=null),"custom"===b&&g?f=g:"social"===b&&e&&(f=e),c.avatar=f.replace(/^\/\//,"http://"),a.fn(this,{data:c})}),f.getDisplayName||d.registerHelper("getDisplayName",function(){var a;return a=localStorage.getItem("memFrag/User/displayName")}),f.getVanityUrl||d.registerHelper("getVanityUrl",function(){var a;return a=localStorage.getItem("memFrag/User/vanityUrl")}),f.component_list||d.registerHelper("component_list",function(a,b){var c,e,f,h,i,j,k,l;if(!a)return b.inverse(this);for(j=d.createFrame(b.data||{}),j.options=this.options||{},l="",f=e=0,i=a.length;i>e;f=++e)h=a[f],j.index=f,j.type=h.component||"navlist",k=d.partials["component_"+j.type],k?(c={data:j},j.component=new d.SafeString(k.call(this,h,c)),l+=b.fn(this,c)):l+=g(j.type);return new d.SafeString(l)}),b.exports=d},{"handlebars/runtime":"handlebars/runtime"}],7:[function(a,b,c){"use strict";a("matchmedia-polyfill"),a("matchmedia-polyfill/matchMedia.addListener"),a("whatwg-fetch"),a("es6-promise")},{"es6-promise":"es6-promise","matchmedia-polyfill":"matchmedia-polyfill","matchmedia-polyfill/matchMedia.addListener":"matchmedia-polyfill/matchMedia.addListener","whatwg-fetch":"whatwg-fetch"}],8:[function(a,b,c){"use strict";var d,e;d=window.$||window.jQuery||a("jquery"),e='{"breakpoints":{"until-med":"34.99em","med":"35em","until-biggie":"989.9px","biggie":"990px"},"mqs":{"until-med":""screen and (max-width: 34.99em)"","med":""screen and (min-width: 35em)"","until-biggie":""screen and (max-width: 989.9px)"","biggie":""screen and (min-width: 990px)""},"options":{"responsive":"true"}}',e=d.parseJSON(e.replace(/\""/g,'"')),b.exports=e},{jquery:"jquery"}],9:[function(a,c,e){(function(d){!function(a){if("object"==typeof e&&"undefined"!=typeof c)c.exports=a();else if("function"==typeof b&&b.amd)b([],a);else{var f;f="undefined"!=typeof window?window:"undefined"!=typeof d?d:"undefined"!=typeof self?self:this,f.PackagesRegistration=a()}}(function(){return function b(c,d,e){function f(h,i){if(!d[h]){if(!c[h]){var j="function"==typeof a&&a;if(!i&&j)return j(h,!0);if(g)return g(h,!0);var k=new Error("Cannot find module '"+h+"'");throw k.code="MODULE_NOT_FOUND",k}var l=d[h]={exports:{}};c[h][0].call(l.exports,function(a){var b=c[h][1][a];return f(b?b:a)},l,l.exports,b,c,d,e)}return d[h].exports}for(var g="function"==typeof a&&a,h=0;h<e.length;h++)f(e[h]);return f}({1:[function(a,b,c){b.exports=a("sassify")("@charset \"UTF-8\"; .NGS_regpkg {   border-collapse: separate;   border-spacing: 0;   caption-side: top;   color: #f2f2f2;   cursor: auto;   direction: ltr;   empty-cells: show;   font-family: \"Helvetica Neue\", Helvetica, \"nimbus sans\", Arial, sans-serif;   font-size: 16px;   font-style: normal;   font-variant: normal;   font-weight: 400;   letter-spacing: normal;   line-height: normal;   list-style: disc outside none;   orphans: 2;   quotes: '' '' '' '';   text-align: left;   text-indent: 0;   text-transform: none;   visibility: visible;   white-space: normal;   widows: 2;   word-spacing: normal; }  .NGS_regpkg *, .NGS_regpkg *:before, .NGS_regpkg *:after {   box-sizing: inherit;   line-height: normal; }  .NGS_regpkg button::-moz-focus-inner {   border: 0;   padding: 0; }  .NGS_regpkg a, .NGS_regpkg a:link, .NGS_regpkg a:visited, .NGS_regpkg a:hover, .NGS_regpkg a:active {   border-bottom: 0 none;   color: inherit;   text-decoration: none; }  .rp_userbox-container {   display: block;   margin: 0;   min-height: 3em;   padding: 1em 1.5em; }  .rp_button--naked {   background-color: transparent;   border: 0;   color: inherit;   cursor: pointer;   font-family: inherit; }   .rp_button--naked:focus {     outline: 0; }  .rp_visuallyhidden {   border: 0;   clip: rect(0 0 0 0);   height: 1px;   margin: -1px;   overflow: hidden;   padding: 0;   position: absolute;   width: 1px; }  .NGS_regpkg {   -webkit-font-smoothing: antialiased;   box-sizing: border-box;   font-family: Arial, sans-serif;   height: auto;   left: 0;   position: static;   top: 0;   width: 100%;   z-index: 4000; }  .rp_navlist-subnavbutton {   background-color: white;   border-left: 1px solid white;   font-size: 1.25em;   line-height: 2.3;   margin: 0;   padding: 0 .7em;   position: relative;   right: 0;   top: 0; }  .rp_userbox-container {   background: none;   border: 0;   cursor: pointer;   left: auto;   max-width: 12em;   min-height: 0;   overflow: hidden;   padding: 0;   white-space: nowrap;   width: auto;   z-index: 4001; }   .rp_userbox-container .rp_userbox-wrapper {     background-color: black;     color: #282e5c;     display: block;     font-size: .8125em;     font-weight: 600;     line-height: 1.125;     margin: -.55em -1.5em 0 0;     max-width: 8em;     padding: 0; }   .rp_userbox-container .rp_userbox-link,   .rp_userbox-container .rp_userbox-button {     display: block;     font-weight: 500; }   .rp_userbox-container .rp_userbox-link, .rp_userbox-container .rp_userbox-link:link, .rp_userbox-container .rp_userbox-link:visited, .rp_userbox-container .rp_userbox-link:hover, .rp_userbox-container .rp_userbox-link:active {     border-bottom: 0 none;     color: #ababab;     text-decoration: none; }   .rp_userbox-container .rp_userbox-button {     background: black;     color: #ababab;     margin: .4em 0 0;     position: relative; }   .rp_userbox-container .NGS_regpkg-button {     border: 1px solid #333333;     border-radius: 4px;     color: #ababab;     display: block;     font-weight: 400;     margin: 0;     padding: .64em .7em;     text-transform: none; }     .rp_userbox-container .NGS_regpkg-button, .rp_userbox-container .NGS_regpkg-button:link, .rp_userbox-container .NGS_regpkg-button:visited, .rp_userbox-container .NGS_regpkg-button:hover, .rp_userbox-container .NGS_regpkg-button:active {       border-bottom: 1px solid #333333; }     .rp_userbox-container .NGS_regpkg-button:hover, .rp_userbox-container .NGS_regpkg-button:active {       background-color: #4d4d4d;       color: #c4c4c4; }     .rp_userbox-container .NGS_regpkg-button .rp_navlist-subnavbutton {       display: none; }   .rp_userbox-container .rp_waitspinner-wrapper {     border: 1px solid #333333;     border-radius: 4px;     color: #ababab;     display: block;     font-weight: 400;     margin: 0;     min-width: 8em;     padding: .64em .7em; }   .rp_userbox-container .rp_waitspinner {     left: .8em;     margin-right: .25em;     position: absolute;     vertical-align: text-top; }   .rp_userbox-container .rp_userbox-loading {     line-height: inherit; }  .rp_userbox-name {   display: inline-block;   font-size: 0.8125em;   max-width: 9em;   overflow: hidden;   text-overflow: ellipsis;   vertical-align: middle;   white-space: nowrap; }  .rp_userbox-subnavbutton {   background-color: transparent;   border-left: 0;   color: #f2f2f2;   float: right;   font-size: .6em;   padding: 0;   position: absolute; }  .rp_userbox-arrow {   margin-right: .8em;   transition: transform 0.25s linear; }   [data-userbox='open'] .rp_userbox-arrow,   .rp_userbox-container.open .rp_userbox-arrow {     transform: rotate(-180deg) translate(0.1em, 0.1em); }  .rp_userbox-avatar-wrapper {   background-image: url(\"data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABQAAD/4QMtaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjMtYzAxMSA2Ni4xNDU2NjEsIDIwMTIvMDIvMDYtMTQ6NTY6MjcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzYgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ODIxRTE5Nzk1OTRFMTFFNUFBODZFNjU2MDg0QThBODMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6ODIxRTE5N0E1OTRFMTFFNUFBODZFNjU2MDg0QThBODMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4MjFFMTk3NzU5NEUxMUU1QUE4NkU2NTYwODRBOEE4MyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4MjFFMTk3ODU5NEUxMUU1QUE4NkU2NTYwODRBOEE4MyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pv/uAA5BZG9iZQBkwAAAAAH/2wCEAAICAgICAgICAgIDAgICAwQDAgIDBAUEBAQEBAUGBQUFBQUFBgYHBwgHBwYJCQoKCQkMDAwMDAwMDAwMDAwMDAwBAwMDBQQFCQYGCQ0LCQsNDw4ODg4PDwwMDAwMDw8MDAwMDAwPDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDP/AABEIAFAAUAMBEQACEQEDEQH/xABzAAEAAgMBAQEAAAAAAAAAAAAAAgUBBgcEAwkBAQAAAAAAAAAAAAAAAAAAAAAQAAIBAgMFBwMACwAAAAAAAAECAAMEETESIXGRMgVBsSJSchMGUYGSYaHB0UJigiMzQxURAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/AP0Nd31v425j2n6wI6387cTAa387cTA+FxeU7Si1e4r+1STNiTmcgBmSfoIGrV/lzhiLW2YqMnrOQT/SuXGBij8uq6gLm1Og5tSc4j7NnxgbRa31K9oivbVzUpk4HaQVP0YHaDA9Ot/O3EwGt/O3EwAd8R42z+pgH539R74EICBzz5DePc9QqUcf7Nkfbpp2asBrbeTsgUUBAtuiXj2fUKOBPtXLCjXTsIY4Kd4JgdKgIGRmN8CT87+o98CEBA5h1cKOqX5Rg6tWLBlII24E7R+mBXQED1WIU3tnrYKnv0yzMcAAGBOJMDq5zMDEDIzG+BJ+d/Ue+BCBFtRRwnOVYJ6sNn64HIcCvhYFWXY6nMEZgwEBAwcMDj2wOs2i1FtLRawIqrRpiqDnqCgHGB6IGRmN8CT87+o98CEBA035TahWtrxKYX3NVOuyjDFs1LYZkjHbA1GAgbP8YtVq3Ne5qUw6WyhaZYYj3GOOIx7QBA3mAgZGY3wJPzv6j3wIQECv6qiP0y+V1DgUWYA9jKMQd4MDl8BA6V0JETpNnoULrDO+HaxYgk8IFtAQMjMb4En539R74EMgSdgGZOQgUt31/ptriq1Dd1R/ro7R935eGMDVL/r17fK9IabW3cYNSp7SwPYzHafthApICBcWHW72wVaSla9uuVCp2D+VhtEDa7T5F065wWq5s6p/hq8v2cbOOEC8BDKGUhlblYHEHcRAkMxvgVXWuqp0tdlP3riszezTJwUAZsx+m3KBz+86heX5Juq7Opyojw0xuUbIHjgICAgICB6rS+u7FtVrXakMcTTG1DvU7DA3zovWB1MNTqUxSuqIDOF5WUnDUuOW3MQKD5YxPU6adiUQfydv3QNYgICAgICAgIF/8ZYr1amvY9KoD9gD+yB9vlSt/wBY+E/4Uw/JoGt6W8p4QGlvKeEBpbynhAaW8p4QGlvKeEBpbynhAaW8p4QGlvKeEC8+OK3/AGLbwnlqY/gYH//Z\");   background-repeat: no-repeat;   background-size: contain;   display: inline-block;   height: 25px;   margin-right: .5em;   vertical-align: middle;   width: 25px; }  .rp_userbox-avatar {   height: 100%;   width: 100%; }  .rp_userbox-notification {   background-color: #d10000;   border-radius: .3em;   color: #f2f2f2;   display: inline-block;   font-size: .9em;   font-weight: 400;   line-height: 1.5em;   margin: 0 1em 0 0;   padding: 0 .5em; }   .rp_userbox-notification:empty {     display: none; }  .rp_userbox-menu {   background-color: #000;   box-sizing: border-box;   line-height: 2em;   list-style-type: none;   margin: 0;   max-height: 0;   overflow: hidden;   padding: 0;   position: relative;   transition: max-height 0.5s linear;   z-index: 4010; }   [data-userbox='open'] .rp_userbox-menu,   .rp_userbox-container.open .rp_userbox-menu {     margin-top: 0;     max-height: 19em; }   .NGS_regpkg .rp_userbox-menu {     background-color: black; }   .rp_userbox-menu li:first-child {     padding-top: .5em; }   .rp_userbox-menu li:last-child {     padding-bottom: .5em; }   .rp_userbox-menu li a {     display: block;     font-size: 0.8125em;     padding: 0 2.1em 0 2.3em; }     .rp_userbox-menu li a:hover {       background: white; }       .NGS_regpkg .rp_userbox-menu li a:hover {         background-color: #333333; }   .rp_userbox-menu li, .rp_userbox-menu a {     line-height: inherit; }   .rp_userbox-container .rp_userbox-menu li:first-child {     margin-top: 0; }  [data-userbox='open'] .NGS_regpkg {   margin-top: 2.125em; }  [data-hide-userbox] .NGS_regpkg {   margin-top: 0; }  .userbox-menu-notification {   background-color: #d65f35;   border-radius: .3em;   color: #fff;   display: inline-block;   line-height: 1.5em;   margin: 0 .5em;   padding: 0 .5em; }   .userbox-menu-notification.hidden {     display: none; }  .rp_waitspinner-bg, .rp_waitspinner-fg {   fill: none;   opacity: .2;   stroke: currentcolor;   stroke-linecap: round;   stroke-width: 16; }  .rp_waitspinner-fg {   animation: rp_waitspinner-animation 1s infinite linear;   opacity: 1;   stroke-dasharray: 0, 0, 70, 194;   stroke-dashoffset: 0; }  @keyframes rp_waitspinner-animation {   to {     stroke-dashoffset: -264; } }  .rp_background--basic {   background-color: white; }  .rp_background--basiclighter {   background-color: white; }  .rp_background--inverse {   background-color: white; }  .rp_jewel {   background-color: #cc0000;   border-radius: .3em;   color: #fff;   display: inline-block;   font-size: 0.9em;   font-weight: 400;   line-height: 1.5em;   margin: 0 1em 0 0.3em;   padding: 0 0.5em; }   .rp_userbox-link .rp_jewel {     margin: -1.1em 0 0 .3em;     position: static; }  .rp_text--inverse {   color: #f2f2f2; }   .rp_text--inverse a {     color: #f2f2f2; }  .rp_text--highlight {   color: #ffcc00; }   .rp_text--highlight a {     color: #ffcc00; }  /*# sourceMappingURL=data:application/json;base64,ewoJInZlcnNpb24iOiAzLAoJImZpbGUiOiAiYXBwL19zY3NzL21haW4uc2NzcyIsCgkic291cmNlcyI6IFsKCQkiYXBwL19zY3NzL21haW4uc2NzcyIsCgkJImFwcC9fc2Nzcy9nbG9iYWwvdmFyaWFibGVzL19jb25maWcuc2NzcyIsCgkJImFwcC9fc2Nzcy9nbG9iYWwvdmFyaWFibGVzL19sYXlvdXQuc2NzcyIsCgkJImFwcC9fc2Nzcy9nbG9iYWwvdmFyaWFibGVzL190aGVtZS5zY3NzIiwKCQkiYm93ZXJfY29tcG9uZW50cy9tb3J0YXIvc2Nzcy9nbG9iYWwvdmFyaWFibGVzL19jb2xvcnMuc2NzcyIsCgkJImFwcC9fc2Nzcy9nbG9iYWwvdmFyaWFibGVzL196LWluZGV4LnNjc3MiLAoJCSJhcHAvX3Njc3MvZ2xvYmFsL21peGlucy9fZGVmZW5zaXZlLWVsZW1lbnRzLnNjc3MiLAoJCSJhcHAvX3Njc3MvZ2xvYmFsL2V4dGVuZHMvX2RlZmVuc2l2ZS5zY3NzIiwKCQkiYXBwL19zY3NzL2dsb2JhbC9leHRlbmRzL190b3VjaHRhcmdldC5zY3NzIiwKCQkiYXBwL19zY3NzL2hlbHBlci9fYnV0dG9uLnNjc3MiLAoJCSJhcHAvX3Njc3MvaGVscGVyL192aXN1YWxseWhpZGRlbi5zY3NzIiwKCQkiYXBwL19zY3NzL19iYXNlLnNjc3MiLAoJCSJhcHAvX3Njc3MvYmxvY2svX25hdmxpc3Quc2NzcyIsCgkJImFwcC9fc2Nzcy9ibG9jay9fdXNlcm1lbnUuc2NzcyIsCgkJImFwcC9fc2Nzcy9ibG9jay9fd2FpdHNwaW5uZXIuc2NzcyIsCgkJImFwcC9fc2Nzcy90aGVtZS9fYmFja2dyb3VuZHMuc2NzcyIsCgkJImFwcC9fc2Nzcy90aGVtZS9faWNvbmdzLnNjc3MiLAoJCSJhcHAvX3Njc3MvdGhlbWUvX2pld2VsLnNjc3MiLAoJCSJhcHAvX3Njc3MvdGhlbWUvX3RleHQuc2NzcyIKCV0sCgkic291cmNlc0NvbnRlbnQiOiBbCgkJIi8vIEltcG9ydCB2YXJpYWJsZXNcbkBpbXBvcnQgJ2dsb2JhbC92YXJpYWJsZXMvY29uZmlnJztcbkBpbXBvcnQgJ2dsb2JhbC92YXJpYWJsZXMvbGF5b3V0JztcbkBpbXBvcnQgJ2dsb2JhbC92YXJpYWJsZXMvdGhlbWUnO1xuQGltcG9ydCAnZ2xvYmFsL3ZhcmlhYmxlcy96LWluZGV4JztcbkBpbXBvcnQgJ2dsb2JhbC9taXhpbnMvZGVmZW5zaXZlLWVsZW1lbnRzJztcbkBpbXBvcnQgJ2dsb2JhbC9leHRlbmRzL2RlZmVuc2l2ZSc7XG5AaW1wb3J0ICdnbG9iYWwvZXh0ZW5kcy90b3VjaHRhcmdldCc7XG5cbi8vIFdoaWxlIHRoZSBwcm9qZWN0IGlzIGJ1aWx0IHdpdGggb2JqZWN0IG9yaWVudGVkIGNsYXNzZXMgd3JhcHBpbmcgYWxsIG9mXG4vLyB0aGVtIGluIHRoaXMgb25lIGNsYXNzIHdpbGwgaGVscCB0byBlbnN1cmUgdGhhdCB0aGUgaGVhZGVyIHN0eWxlcyBhcmVcbi8vIHByb3Blcmx5IHNjb3BlZC5cbi8vXG4vLyBBbGwgSURzIGFuZCBjbGFzc2VzIHNob3VsZCBiZSBwcmVmYWNlZCB3aXRoIHJwX2NsYXNzbmFtZSwgc2hvcnQgZm9yIFwicmVnaXN0cmF0aW9uIHBhY2thZ2VcIlxuLy8gVGhlIHRyYWlsaW5nIHVuZGVyc2NvcmUgaXMganVzdCBwbGF5aW5nIGl0IHNhZmUgaW4gdGVybXMgb2YgYXZvaWRpbmdcbi8vIGEgbmFtZXNwYWNlIGNvbGxpc2lvblxuLy8gQWxsIEpTIHRhcmdldCBpZHMgYW5kIGNsYXNzZXMgc2hvdWxkIGJlIHByZWZhY2VkIHdpdGggcnBfSlNfY2xhc3NuYW1lLFxuLy8gQ1NTIHNlbGVjdG9ycyBzaG91bGQgbm90IGJlIHVzZWQgYXMgSlMgdGFyZ2V0c1xuLy8gQ2xhc3NlcyBvbmx5IGZvciBDU1Ncbi8vIEFzIGZsYXQgYSBDU1Mgc3RydWN0dXJlIGFzIHBvc3NpYmxlIChhdm9pZCBuZXN0aW5nLCBzcGVjaWZpY2l0eSB3YXJzIGF0IGFsbCBjb3N0cylcblxuQGltcG9ydCAnaGVscGVyL2J1dHRvbic7XG5AaW1wb3J0ICdoZWxwZXIvdmlzdWFsbHloaWRkZW4nO1xuQGltcG9ydCAnYmFzZSc7XG5AaW1wb3J0ICdibG9jay9uYXZsaXN0JztcbkBpbXBvcnQgJ2Jsb2NrL3VzZXJtZW51JztcbkBpbXBvcnQgJ2Jsb2NrL3dhaXRzcGlubmVyJztcbkBpbXBvcnQgJ3RoZW1lL2JhY2tncm91bmRzJztcbkBpbXBvcnQgJ3RoZW1lL2ljb25ncyc7XG5AaW1wb3J0ICd0aGVtZS9qZXdlbCc7XG5AaW1wb3J0ICd0aGVtZS90ZXh0JztcbiIsCgkJIi8vIFJhbmRvbSB2YXJpYWJsZXMgdGhhdCBhcmUgbmVlZGVkIGFjcm9zcyB0aGUgcHJvamVjdFxuXG4kd3JhcHBlcjogJy5OR1NfcmVncGtnJztcbiRzaWRlYmFyLXdpZHRoOiAyNWVtO1xuXG4kZHJhd2VyLWFuaW1hdGlvbi1kdXJhdGlvbjogLjVzO1xuJGRyYXdlci1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBsaW5lYXI7XG5cbi8vIHN1Ym5hdmlnYXRpb25cbiRzdWJuYXYtYXJyb3ctd2lkdGg6IC40NWVtO1xuJGNvbG9yLW5hdmxpc3QtaGlnaGxpZ2h0OiBoc2woMCwgMCUsIDkzJSk7XG5cbiR1c2VyYm94LW1heC13aWR0aDogMTJlbTtcblxuLy8gTW9kaWZpZWQgYnkgZ3J1bnQtcmVwbGFjZVxuJGluY2x1ZGUtZm9udC1mYWNlOiBmYWxzZTtcbiIsCgkJIi8vIEdsb2JhbGx5IHJlcGVhdGVkIGxheW91dCB2YXJpYWJsZXNcblxuJHRhcmdldC1oZWlnaHQ6IDNlbTtcbiR1c2VyYm94LWhlaWdodDogM2VtO1xuIiwKCQkiLy8gR2xvYmFsbHkgcmVwZWF0ZWQgdGhlbWUgdmFyaWFibGVzXG5cbi8vIEtlZXAgY29sb3JzIGluIHN5bmMgd2l0aCBNb3J0YXJcbi8vIFF1aWNrIHJlZmVyZW5jZTogaHR0cDovL2dvby5nbC9xT1R4U1dcblxuQGltcG9ydCAnLi4vLi4vLi4vLi4vYm93ZXJfY29tcG9uZW50cy9tb3J0YXIvc2Nzcy9nbG9iYWwvdmFyaWFibGVzL2NvbG9ycyc7XG5cbiRkYXJrLWdyZXk6ICAgICAgICAgICAgICAgaHNsKDAsIDAlLCA0MCUpO1xuJGNvbG9yLXJlZDogICAgICAgICAgICAgICBoc2woMCwgMTAwJSwgNDAlKTtcblxuJGNvbG9yLWF0dGVudGlvbjogICAgICAgICAkY29sb3ItcmVkO1xuJGNvbG9yLWJhc2ljOiAgICAgICAgICAgICAjMDAwO1xuJGNvbG9yLWJhc2ljLWxpZ2h0OiAgICAgICBtaXgoI2ZmZiwgJG10LWNvbG9yLWJhc2ljLCAxMCUpO1xuJGNvbG9yLWJhc2ljLWxpZ2h0ZXI6ICAgICBtaXgoI2ZmZiwgJG10LWNvbG9yLWJhc2ljLCAyMCUpO1xuJGNvbG9yLWludmVyc2U6ICAgICAgICAgICAkb2ZmLXdoaXRlO1xuJGNvbG9yLWhpZ2hsaWdodDogICAgICAgICAkYnJhbmQtZ29sZDtcbiRjb2xvci1sb3dsaWdodDogICAgICAgICAgJGxpZ2h0LWdyZXk7XG4kY29sb3ItdGV4dDogICAgICAgICAgICAgICRvZmYtd2hpdGU7XG4kY29sb3ItdGV4dC1hdHRlbnRpb246ICAgICNmZmY7XG4kY29sb3Itc2hhZG93OiAgICAgICAgICAgICRkYXJrLWdyZXk7XG5cbi8vIFJlZ2lzdHJhdGlvbiBQYWNrYWdlIGNvbG9yc1xuJGNvbG9yLXJwLWZnOiAgICAgICAgICRtdF9jb2xvci1wcmltYXJ5O1xuJGNvbG9yLXJwLWJnOiAgICAgICAgICRtdF9jb2xvci1pbnZlcnNlO1xuJGNvbG9yLXJwLWhpZ2hsaWdodDogIGhzbCgwLCAwJSwgNjclKTtcbiRjb2xvci1ycC1taWRsaWdodDogICBoc2woMCwgMCUsIDIwJSk7XG4kY29sb3ItcnAtbG93bGlnaHQ6ICAgaHNsKDAsIDAlLCAxMyUpO1xuJGNvbG9yLXJwLW9mZjogICAgICAgIGhzbCgwLCAwJSwgODclKTtcblxuLy8gdHlwb2dyYXBoeVxuJHR5cGUtZGVmYXVsdDogJ0hlbHZldGljYSBOZXVlJywgSGVsdmV0aWNhLCAnbmltYnVzIHNhbnMnLCBBcmlhbCwgc2Fucy1zZXJpZjtcbiRiYXNlLWZvbnQtc2l6ZTogMTZweDtcblxuJGZvbnQtc206IC43NWVtO1xuJGZvbnQtbWQ6IC44MTI1ZW07XG4kZm9udC1qdzogLjllbTtcbiRmb250LXJlZzogMWVtO1xuJGZvbnQtbHJnOiAxLjI1ZW07XG4iLAoJCSIvLyBzY3NzLWxpbnQ6ZGlzYWJsZSBDb2xvclZhcmlhYmxlIENvbG9yS2V5d29yZFxuXG4vLyBDb2xvciBWYXJpYWJsZXNcbi8vID09PT09PT09PT09PT09PVxuLy9cbi8vIFRoZXNlIHNob3VsZCBub3QgYmUgcmVmZXJlbmNlZCBvdXRzaWRlIG9mIHRoaXMgcGFydGlhbFxuXG4kbWVkaXVtLWJsdWU6ICAgaHNsKDIzMywgMzklLCAyNiUpO1xuJGJyaWdodC1ibHVlOiAgIGhzbCgyMzYsIDgxJSwgNjElKTtcbiRkYXJrLWdyZXk6ICAgICBoc2woMCwgMCUsIDQwJSk7XG4kbWVkaXVtLWdyZXk6ICAgaHNsKDAsIDAlLCA2MCUpO1xuJGxpZ2h0LWdyZXk6ICAgIGhzbCgwLCAwJSwgODglKTtcbiRvZmYtd2hpdGU6ICAgICBoc2woMCwgMCUsIDk1JSk7XG4kYnJhbmQtZ29sZDogICAgaHNsKDQ4LCAxMDAlLCA1MCUpO1xuJGZhY2Vib29rLWJsdWU6IGhzbCgyMjAsIDQzJSwgNDElKTtcbiRyZWQ6ICAgICAgICAgICBoc2woMCwgMTAwJSwgNDElKTtcbiRsaWdodC1yZWQ6ICAgICBoc2woMCwgNDMlLCA5MSUpO1xuJGdyZWVuOiAgICAgICAgIGhzbCg5OCwgODclLCAzNyUpO1xuJGxpZ2h0LWdyZWVuOiAgIGhzbCgxMTMsIDUwJSwgOTQlKTtcblxuXG4vLyBTZW1hbnRpYyBWYXJpYWJsZXNcbi8vID09PT09PT09PT09PT09PT09PVxuLy9cbi8vIFRoZXNlIHZhcmlhYmxlcyBhcmUgZm9yIHVzZSB0aHJvdWdob3V0IHRoZSBwcm9qZWN0XG5cbiRtdF9jb2xvci1iYXNpYzogICAgICAgICAgIHdoaXRlO1xuJG10X2NvbG9yLWJhc2ljLWFsdDogICAgICAgJG9mZi13aGl0ZTtcbiRtdF9jb2xvci1pbnZlcnNlOiAgICAgICAgIGJsYWNrO1xuJG10X2NvbG9yLXByaW1hcnk6ICAgICAgICAgJG1lZGl1bS1ibHVlO1xuJG10X2NvbG9yLWhpZ2hsaWdodDogICAgICAgJGJyYW5kLWdvbGQ7XG4kbXRfY29sb3ItbG93bGlnaHQ6ICAgICAgICAkbGlnaHQtZ3JleTtcbiRtdF9jb2xvci1kYW5nZXI6ICAgICAgICAgICRyZWQ7XG4kbXRfY29sb3ItZGFuZ2VyLWJnOiAgICAgICAkbGlnaHQtcmVkO1xuJG10X2NvbG9yLXN1Y2Nlc3M6ICAgICAgICAgJGdyZWVuO1xuJG10X2NvbG9yLXN1Y2Nlc3MtYmc6ICAgICAgJGxpZ2h0LWdyZWVuO1xuJG10X2NvbG9yLXRleHQ6ICAgICAgICAgICAgYmxhY2s7XG4kbXRfY29sb3ItdGV4dC1pbnZlcnNlOiAgICAkb2ZmLXdoaXRlO1xuJG10X2NvbG9yLWxpbms6ICAgICAgICAgICAgJGJyaWdodC1ibHVlO1xuJG10X2NvbG9yLWxpbmstaW52ZXJzZTogICAgbGlnaHRlbigkYnJpZ2h0LWJsdWUsIDEwKTtcbiRtdF9jb2xvci1iZXRhOiAgICAgICAgICAgICRtZWRpdW0tZ3JleTtcbiRtdF9jb2xvci1nYW1tYTogICAgICAgICAgICRkYXJrLWdyZXk7XG4kbXRfY29sb3ItaW1hZ2UtbWFzazogICAgICB0cmFuc3BhcmVudGl6ZShibGFjaywgLjIpO1xuJG10X2NvbG9yLWZhY2Vib29rOiAgICAgICAgJGZhY2Vib29rLWJsdWU7XG4iLAoJCSIvLyBBbGwgei1pbmRleCB2YWx1ZXMgc2hvdWxkIGNvbWUgZnJvbSB0aGlzIGxpc3RcblxuLy8gVmFsdWVzIHNob3VsZCBjb25mb3JtIHdpdGggZG9jdW1lbnRhdGlvbiBoZXJlOlxuLy8gaHR0cHM6Ly9jb25mbHVlbmNlLm5hdGlvbmFsZ2VvZ3JhcGhpYy5jb20vcGFnZXMvdmlld3BhZ2UuYWN0aW9uP3RpdGxlPVotaW5kZXgrR3VpZGVsaW5lcyZzcGFjZUtleT1EU1xuXG4kei1ib3R0b206IDQwMDA7XG4kei1taWRkbGU6ICR6LWJvdHRvbSArIDEwO1xuJHotdG9wOiAgICAkei1ib3R0b20gKyAyMDtcbiIsCgkJIi8vIE1peGluKHMpIHRvIGRlZmVuZCBzcGVjaWZpYyBlbGVtZW50cyAobWF5IGdyb3cpLlxuQG1peGluIGRlZmVuc2l2ZS1hKCRjb2xvcjogaW5oZXJpdCwgJHRleHQtZGVjb3JhdGlvbjogbm9uZSwgJGJvcmRlci1ib3R0b206IDAgbm9uZSkge1xuICAgICYsXG4gICAgJjpsaW5rLFxuICAgICY6dmlzaXRlZCxcbiAgICAmOmhvdmVyLFxuICAgICY6YWN0aXZlIHtcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogJGJvcmRlci1ib3R0b207XG4gICAgICAgIGNvbG9yOiAkY29sb3I7XG4gICAgICAgIHRleHQtZGVjb3JhdGlvbjogJHRleHQtZGVjb3JhdGlvbjtcbiAgICB9XG59XG4iLAoJCSIvLyBUaGlzIHBsYWNlaG9sZGVyIGlzb2xhdGVzIG1hdGNoaW5nIGVsZW1lbnRzIGZyb20gaW5oZXJpdGFibGUgcHJvcGVydGllc1xuLy8gZGVmaW5lZCBhdCBhbnkgYW5jZXN0b3IuIE9ubHkgdmlzdWFsIChub3QgYXVyYWwpIHByb3BlcnRpZXMgYXJlIGFmZmVjdGVkLlxuLy8gU291cmNlOiBodHRwOi8vd3d3LnczLm9yZy9UUi9DU1MyMS9wcm9waWR4Lmh0bWxcblxuJWRlZmVuc2l2ZS1pbmhlcml0YW5jZSB7XG4gICAgYm9yZGVyLWNvbGxhcHNlOiBzZXBhcmF0ZTtcbiAgICBib3JkZXItc3BhY2luZzogMDtcbiAgICBjYXB0aW9uLXNpZGU6IHRvcDtcbiAgICBjb2xvcjogJGNvbG9yLXRleHQ7XG4gICAgY3Vyc29yOiBhdXRvO1xuICAgIGRpcmVjdGlvbjogbHRyO1xuICAgIGVtcHR5LWNlbGxzOiBzaG93O1xuICAgIGZvbnQtZmFtaWx5OiAkdHlwZS1kZWZhdWx0O1xuICAgIGZvbnQtc2l6ZTogJGJhc2UtZm9udC1zaXplO1xuICAgIGZvbnQtc3R5bGU6IG5vcm1hbDtcbiAgICBmb250LXZhcmlhbnQ6IG5vcm1hbDtcbiAgICBmb250LXdlaWdodDogNDAwO1xuICAgIGxldHRlci1zcGFjaW5nOiBub3JtYWw7XG4gICAgbGluZS1oZWlnaHQ6IG5vcm1hbDtcbiAgICBsaXN0LXN0eWxlOiBkaXNjIG91dHNpZGUgbm9uZTtcbiAgICBvcnBoYW5zOiAyO1xuICAgIHF1b3RlczogJ+KAnCcgJ+KAnScgJ+KAmCcgJ+KAmSc7XG4gICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICB0ZXh0LWluZGVudDogMDtcbiAgICB0ZXh0LXRyYW5zZm9ybTogbm9uZTtcbiAgICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xuICAgIHdoaXRlLXNwYWNlOiBub3JtYWw7XG4gICAgd2lkb3dzOiAyO1xuICAgIHdvcmQtc3BhY2luZzogbm9ybWFsO1xufVxuXG4vLyBBbGwgdG9nZXRoZXIgbm93OlxuJWRlZmVuZCB7XG4gICAgQGV4dGVuZCAlZGVmZW5zaXZlLWluaGVyaXRhbmNlO1xuXG4gICAgLy8gcmVzZXRzXG4gICAgKixcbiAgICAqOmJlZm9yZSxcbiAgICAqOmFmdGVyIHtcbiAgICAgICAgYm94LXNpemluZzogaW5oZXJpdDtcbiAgICAgICAgbGluZS1oZWlnaHQ6IG5vcm1hbDtcbiAgICB9XG5cbiAgICBidXR0b246Oi1tb3otZm9jdXMtaW5uZXIge1xuICAgICAgICBib3JkZXI6IDA7XG4gICAgICAgIHBhZGRpbmc6IDA7XG4gICAgfVxuXG4gICAgYSB7XG4gICAgICAgIEBpbmNsdWRlIGRlZmVuc2l2ZS1hO1xuICAgIH1cbn1cbiIsCgkJIi8vIERlZmF1bHQgdG91Y2gtdGFyZ2V0IHNpemUgZm9yIGl0ZW1zIGluIHRoZSBkcmF3ZXJcblxuJXRvdWNoLXRhcmdldCB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgbWFyZ2luOiAwO1xuICAgIG1pbi1oZWlnaHQ6ICR0YXJnZXQtaGVpZ2h0O1xuICAgIHBhZGRpbmc6ICR0YXJnZXQtaGVpZ2h0LzMgJHRhcmdldC1oZWlnaHQvMjtcbn1cbiIsCgkJIi8vIEdldCByaWQgb2YgZGVmYXVsdCBidXR0b24gc3R5bGVzIHdpdGggdGhpcyBjbGFzc1xuXG4ucnBfYnV0dG9uLS1uYWtlZCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgYm9yZGVyOiAwO1xuICAgIGNvbG9yOiBpbmhlcml0O1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBmb250LWZhbWlseTogaW5oZXJpdDtcblxuICAgICY6Zm9jdXMge1xuICAgICAgICBvdXRsaW5lOiAwO1xuICAgIH1cbn1cbiIsCgkJIi8vIEFjY2Vzc2libGUgdmlzdWFsbHloaWRkZW4gY2xhc3MsIGdyYWJiZWQgZnJvbSBoNWJwXG4vLyByZWZlcmVuY2U6IGh0dHA6Ly9nb28uZ2wvRTNmUlJ4XG5cbi5ycF92aXN1YWxseWhpZGRlbiB7XG4gICAgYm9yZGVyOiAwO1xuICAgIGNsaXA6IHJlY3QoMCAwIDAgMCk7XG4gICAgaGVpZ2h0OiAxcHg7XG4gICAgbWFyZ2luOiAtMXB4O1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgcGFkZGluZzogMDtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgd2lkdGg6IDFweDtcbn1cbiIsCgkJIi8vIFdoaWxlIHRoZSBtYWluIGVuZGVhdm9yIG9mIHRoZSBDU1Mgc3R5bGUgaGVyZSBpcyB0byBhdm9pZCByZWx5aW5nIG9uIHRoZVxuLy8gY2FzY2FkZSB3aGF0c29ldmVyLCBpdCBtYWtlcyBzZW5zZSBmb3IgdGhlc2UgdmVyeSBmZXcgcnVsZXMgc28gdGhhdFxuLy8gY2xhc3NlcyBkb24ndCBoYXZlIHRvIGJlIHJlcGVhdGVkIG92ZXIgYW5kIG92ZXIuXG4vL1xuLy8gVGhlIHdyYXBwZXIgZm9yIFJlZ2lzdHJhdGlvbiBQYWNrYWdlIGlzIGxvY2F0ZWQgaW4gZ2xvYmFsL3ZhcmlhYmxlcy9fY29uZmlnLnNjc3Ncbi8vIGFuZCB1c2VzIHRoZSBjbGFzcyBcIk5HU19yZWdwa2dcIi5cblxuI3skd3JhcHBlcn0ge1xuICAgIEBleHRlbmQgJWRlZmVuZDtcblxuICAgIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkO1xuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmO1xuICAgIGhlaWdodDogYXV0bztcbiAgICBsZWZ0OiAwO1xuICAgIHBvc2l0aW9uOiBzdGF0aWM7XG4gICAgdG9wOiAwO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIHotaW5kZXg6ICR6LWJvdHRvbTtcbn1cbiIsCgkJIi8vIEZvciBSZWdpc3RyYXRpb24gUGFja2FnZSwgd2Ugb25seSB1c2UgbmF2bGlzdC1zdWJuYXZidXR0b24uXG4vLyBTbyB0aGF0J3MgYWxsIHdlJ3JlIHN0eWxpbmcgaGVyZS5cblxuLnJwX25hdmxpc3Qtc3VibmF2YnV0dG9uIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkY29sb3ItYmFzaWMtbGlnaHRlcjtcbiAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkICRjb2xvci1iYXNpYy1saWdodDtcbiAgICBmb250LXNpemU6IDEuMjVlbTtcbiAgICBsaW5lLWhlaWdodDogMi4zO1xuICAgIG1hcmdpbjogMDtcbiAgICBwYWRkaW5nOiAwIC43ZW07XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIHJpZ2h0OiAwO1xuICAgIHRvcDogMDtcbn1cbiIsCgkJIi5ycF91c2VyYm94LWNvbnRhaW5lciB7XG4gICAgQGV4dGVuZCAldG91Y2gtdGFyZ2V0O1xuXG4gICAgYmFja2dyb3VuZDogbm9uZTtcbiAgICBib3JkZXI6IDA7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIGxlZnQ6IGF1dG87XG4gICAgbWF4LXdpZHRoOiAkdXNlcmJveC1tYXgtd2lkdGg7XG4gICAgbWluLWhlaWdodDogMDtcbiAgICBvdmVyZmxvdzogaGlkZGVuOyAvLyBtYWtlcyBpdCB2aXNpYmxlIGluIElFXG4gICAgcGFkZGluZzogMDtcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgIHdpZHRoOiBhdXRvO1xuICAgIHotaW5kZXg6ICR6LWJvdHRvbSArIDE7XG5cbiAgICAucnBfdXNlcmJveC13cmFwcGVyIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJGNvbG9yLXJwLWJnO1xuICAgICAgICBjb2xvcjogJGNvbG9yLXJwLWZnO1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgZm9udC1zaXplOiAuODEyNWVtO1xuICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICBsaW5lLWhlaWdodDogMS4xMjU7XG4gICAgICAgIG1hcmdpbjogLS41NWVtIC0xLjVlbSAwIDA7XG4gICAgICAgIG1heC13aWR0aDogOGVtO1xuICAgICAgICBwYWRkaW5nOiAwO1xuICAgIH1cblxuICAgIC5ycF91c2VyYm94LWxpbmssXG4gICAgLnJwX3VzZXJib3gtYnV0dG9uIHtcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgfVxuXG4gICAgLnJwX3VzZXJib3gtbGluayB7XG4gICAgICAgIEBpbmNsdWRlIGRlZmVuc2l2ZS1hKCRjb2xvcjogJGNvbG9yLXJwLWhpZ2hsaWdodCk7XG4gICAgfVxuXG4gICAgLnJwX3VzZXJib3gtYnV0dG9uIHtcbiAgICAgICAgYmFja2dyb3VuZDogJGNvbG9yLXJwLWJnO1xuICAgICAgICBjb2xvcjogJGNvbG9yLXJwLWhpZ2hsaWdodDtcbiAgICAgICAgbWFyZ2luOiAuNGVtIDAgMDtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIH1cblxuICAgIC5OR1NfcmVncGtnLWJ1dHRvbiB7XG4gICAgICAgICRib3JkZXI6IDFweCBzb2xpZCAkY29sb3ItcnAtbWlkbGlnaHQ7XG5cbiAgICAgICAgYm9yZGVyOiAkYm9yZGVyO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgIGNvbG9yOiAkY29sb3ItcnAtaGlnaGxpZ2h0O1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICBwYWRkaW5nOiAuNjRlbSAuN2VtO1xuICAgICAgICB0ZXh0LXRyYW5zZm9ybTogbm9uZTtcblxuICAgICAgICAvLyBvdmVycmlkZSBkZWZlbnNpdmUgYm9yZGVyLWJvdHRvbTpcbiAgICAgICAgQGluY2x1ZGUgZGVmZW5zaXZlLWEoJGNvbG9yOiBudWxsLCAkdGV4dC1kZWNvcmF0aW9uOiBudWxsLCAkYm9yZGVyLWJvdHRvbTogJGJvcmRlcik7XG5cbiAgICAgICAgJjpob3ZlcixcbiAgICAgICAgJjphY3RpdmUge1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRlbigkY29sb3ItcnAtbWlkbGlnaHQsIDEwKTtcbiAgICAgICAgICAgIGNvbG9yOiBsaWdodGVuKCRjb2xvci1ycC1oaWdobGlnaHQsIDEwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5ycF9uYXZsaXN0LXN1Ym5hdmJ1dHRvbiB7XG4gICAgICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLnJwX3dhaXRzcGlubmVyLXdyYXBwZXIge1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAkY29sb3ItcnAtbWlkbGlnaHQ7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgY29sb3I6ICRjb2xvci1ycC1oaWdobGlnaHQ7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICBmb250LXdlaWdodDogNDAwO1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgIG1pbi13aWR0aDogOGVtO1xuICAgICAgICBwYWRkaW5nOiAuNjRlbSAuN2VtO1xuICAgIH1cblxuICAgIC5ycF93YWl0c3Bpbm5lciB7XG4gICAgICAgIGxlZnQ6IC44ZW07XG4gICAgICAgIG1hcmdpbi1yaWdodDogLjI1ZW07XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdmVydGljYWwtYWxpZ246IHRleHQtdG9wO1xuICAgIH1cblxuICAgIC5ycF91c2VyYm94LWxvYWRpbmcge1xuICAgICAgICBsaW5lLWhlaWdodDogaW5oZXJpdDtcbiAgICB9XG59XG5cbi5ycF91c2VyYm94LW5hbWUge1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICBmb250LXNpemU6ICRmb250LW1kO1xuICAgIG1heC13aWR0aDogOWVtO1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xufVxuXG4ucnBfdXNlcmJveC1zdWJuYXZidXR0b24ge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgIGJvcmRlci1sZWZ0OiAwO1xuICAgIGNvbG9yOiAkY29sb3ItaW52ZXJzZTtcbiAgICBmbG9hdDogcmlnaHQ7XG4gICAgZm9udC1zaXplOiAuNmVtO1xuICAgIHBhZGRpbmc6IDA7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xufVxuXG4ucnBfdXNlcmJveC1hcnJvdyB7XG4gICAgbWFyZ2luLXJpZ2h0OiAuOGVtO1xuICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAkZHJhd2VyLWFuaW1hdGlvbi1kdXJhdGlvbiAvIDIgbGluZWFyO1xuXG4gICAgW2RhdGEtdXNlcmJveD0nb3BlbiddICYsXG4gICAgLnJwX3VzZXJib3gtY29udGFpbmVyLm9wZW4gJiB7XG4gICAgICAgIHRyYW5zZm9ybTogcm90YXRlKC0xODBkZWcpIHRyYW5zbGF0ZSguMWVtLCAuMWVtKTtcbiAgICB9XG59XG5cbi5ycF91c2VyYm94LWF2YXRhci13cmFwcGVyIHtcbiAgICAvLyBkZWZhdWx0IGF2YXRhciBpbWFnZSAoc21hbGwgMTAweDEwMCBweClcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ2RhdGE6aW1hZ2UvanBlZztiYXNlNjQsLzlqLzRRQVlSWGhwWmdBQVNVa3FBQWdBQUFBQUFBQUFBQUFBQVAvc0FCRkVkV05yZVFBQkFBUUFBQUJRQUFELzRRTXRhSFIwY0RvdkwyNXpMbUZrYjJKbExtTnZiUzk0WVhBdk1TNHdMd0E4UDNod1lXTnJaWFFnWW1WbmFXNDlJdSs3dnlJZ2FXUTlJbGMxVFRCTmNFTmxhR2xJZW5KbFUzcE9WR042YTJNNVpDSS9QaUE4ZURwNGJYQnRaWFJoSUhodGJHNXpPbmc5SW1Ga2IySmxPbTV6T20xbGRHRXZJaUI0T25odGNIUnJQU0pCWkc5aVpTQllUVkFnUTI5eVpTQTFMak10WXpBeE1TQTJOaTR4TkRVMk5qRXNJREl3TVRJdk1ESXZNRFl0TVRRNk5UWTZNamNnSUNBZ0lDQWdJQ0krSUR4eVpHWTZVa1JHSUhodGJHNXpPbkprWmowaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1UazVPUzh3TWk4eU1pMXlaR1l0YzNsdWRHRjRMVzV6SXlJK0lEeHlaR1k2UkdWelkzSnBjSFJwYjI0Z2NtUm1PbUZpYjNWMFBTSWlJSGh0Ykc1ek9uaHRjRDBpYUhSMGNEb3ZMMjV6TG1Ga2IySmxMbU52YlM5NFlYQXZNUzR3THlJZ2VHMXNibk02ZUcxd1RVMDlJbWgwZEhBNkx5OXVjeTVoWkc5aVpTNWpiMjB2ZUdGd0x6RXVNQzl0YlM4aUlIaHRiRzV6T25OMFVtVm1QU0pvZEhSd09pOHZibk11WVdSdlltVXVZMjl0TDNoaGNDOHhMakF2YzFSNWNHVXZVbVZ6YjNWeVkyVlNaV1lqSWlCNGJYQTZRM0psWVhSdmNsUnZiMnc5SWtGa2IySmxJRkJvYjNSdmMyaHZjQ0JEVXpZZ0tFMWhZMmx1ZEc5emFDa2lJSGh0Y0UxTk9rbHVjM1JoYm1ObFNVUTlJbmh0Y0M1cGFXUTZPREl4UlRFNU56azFPVFJGTVRGRk5VRkJPRFpGTmpVMk1EZzBRVGhCT0RNaUlIaHRjRTFOT2tSdlkzVnRaVzUwU1VROUluaHRjQzVrYVdRNk9ESXhSVEU1TjBFMU9UUkZNVEZGTlVGQk9EWkZOalUyTURnMFFUaEJPRE1pUGlBOGVHMXdUVTA2UkdWeWFYWmxaRVp5YjIwZ2MzUlNaV1k2YVc1emRHRnVZMlZKUkQwaWVHMXdMbWxwWkRvNE1qRkZNVGszTnpVNU5FVXhNVVUxUVVFNE5rVTJOVFl3T0RSQk9FRTRNeUlnYzNSU1pXWTZaRzlqZFcxbGJuUkpSRDBpZUcxd0xtUnBaRG80TWpGRk1UazNPRFU1TkVVeE1VVTFRVUU0TmtVMk5UWXdPRFJCT0VFNE15SXZQaUE4TDNKa1pqcEVaWE5qY21sd2RHbHZiajRnUEM5eVpHWTZVa1JHUGlBOEwzZzZlRzF3YldWMFlUNGdQRDk0Y0dGamEyVjBJR1Z1WkQwaWNpSS9Qdi91QUE1QlpHOWlaUUJrd0FBQUFBSC8yd0NFQUFJQ0FnSUNBZ0lDQWdJREFnSUNBd1FEQWdJREJBVUVCQVFFQkFVR0JRVUZCUVVGQmdZSEJ3Z0hCd1lKQ1FvS0NRa01EQXdNREF3TURBd01EQXdNREF3QkF3TURCUVFGQ1FZR0NRMExDUXNORHc0T0RnNFBEd3dNREF3TUR3OE1EQXdNREF3UERBd01EQXdNREF3TURBd01EQXdNREF3TURBd01EQXdNREF3TURQL0FBQkVJQUZBQVVBTUJFUUFDRVFFREVRSC94QUJ6QUFFQUFnTUJBUUVBQUFBQUFBQUFBQUFBQWdVQkJnY0VBd2tCQVFBQUFBQUFBQUFBQUFBQUFBQUFBQUFRQUFJQkFnTUZCd01BQ3dBQUFBQUFBQUVDQUFNRUVURVNJWEdSTWdWQnNTSlNjaE1HVVlHU1lhSEIwVUppZ2lNelF4VVJBUUFBQUFBQUFBQUFBQUFBQUFBQUFBRC8yZ0FNQXdFQUFoRURFUUEvQVAwTmQzMXY0MjVqMm42d0k2Mzg3Y1RBYTM4N2NUQStGeGVVN1NpMWU0cisxU1ROaVRtY2dCbVNmb0lHclYvbHpoaUxXMllxTW5yT1FUL1N1WEdCaWo4dXE2Z0xtMU9nNXRTYzRqN05ueGdiUmEzMUs5b2l2YlZ6VXBrNEhhUVZQMFlIYURBOU90L08zRXdHdC9PM0V3QWQ4UjQyeitwZ0g1MzlSNzRFSUNCeno1RGVQYzlRcVVjZjdOa2ZicHAyYXNCcmJlVHNnVVVCQXR1aVhqMmZVS09CUHRYTENqWFRzSVk0S2Q0SmdkS2dJR1JtTjhDVDg3K285OENFQkE1aDFjS09xWDVSZzZ0V0xCbElJMjRFN1IrbUJYUUVEMVdJVTN0bnJZS252MHl6TWNBQUdCT0pNRHE1ek1ERURJekcrQkorZC9VZStCQ0JGdFJSd25PVllKNnNObjY0SEljQ3ZoWUZXWFk2bk1FWmd3RUJBd2NNRGoyd09zMmkxRnRMUmF3SXFyUnBpcURucUNnSEdCNklHUm1OOENUODcrbzk4Q0VCQTAzNVRhaFd0cnhLWVgzTlZPdXlqREZzMUxZWmtqSGJBMUdBZ2JQOFl0VnEzTmU1cVV3Nld5aGFaWVlqM0dPT0l4N1FCQTNtQWdaR1kzd0pQenY2ajN3SVFFQ3Y2cWlQMHkrVjFEZ1VXWUE5aktNUWQ0TURsOEJBNlYwSkVUcE5ub1VMckRPK0hheFlnazhJRnRBUU1qTWI0RW41MzlSNzRFTWdTZGdHWk9RZ1V0MzEvcHRyaXExRGQxUi9ybzdSOTM1ZUdNRFZML3IxN2ZLOUlhYlczY1lOU3A3U3dQWXpIYWZ0aEFwSUNCY1dIVzcyd1ZhU2xhOXV1VkNwMkQrVmh0RURhN1Q1RjA2NXdXcTVzNnAvaHE4djJjYk9PRUM4QkRLR1VobGJsWUhFSGNSQWtNeHZnVlhXdXFwMHRkbFAzcmlzemV6VEp3VUFac3grbTNLQnorODZoZVg1SnVxN09weW9qdzB4dVViSUhqZ0lDQWdJQ0I2clMrdTdGdFZyWGFrTWNUVEcxRHZVN0RBM3pvdldCMU1OVHFVeFN1cUlET0Y1V1VuRFV1T1czTVFLRDVZeFBVNmFkaVVRZnlkdjNRTllnSUNBZ0lDQWdJRi84WllyMWFtdlk5S29EOWdEK3lCOXZsU3Qvd0JZK0UvNFV3L0pvR3Q2VzhwNFFHbHZLZUVCcGJ5bmhBYVc4cDRRR2x2S2VFQnBieW5oQWFXOHA0UUdsdktlRUM4K09LMy9BR0xid25scVkvZ1lILy9aJyk7XG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW47XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIGhlaWdodDogMjVweDtcbiAgICBtYXJnaW4tcmlnaHQ6IC41ZW07XG4gICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAgICB3aWR0aDogMjVweDtcbn1cblxuLnJwX3VzZXJib3gtYXZhdGFyIHtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgd2lkdGg6IDEwMCU7XG59XG5cbi5ycF91c2VyYm94LW5vdGlmaWNhdGlvbiB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogJHJlZDtcbiAgICBib3JkZXItcmFkaXVzOiAuM2VtO1xuICAgIGNvbG9yOiAkY29sb3ItaW52ZXJzZTtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgZm9udC1zaXplOiAuOWVtO1xuICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG4gICAgbGluZS1oZWlnaHQ6IDEuNWVtO1xuICAgIG1hcmdpbjogMCAxZW0gMCAwO1xuICAgIHBhZGRpbmc6IDAgLjVlbTtcblxuICAgICY6ZW1wdHkge1xuICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cbn1cblxuLnJwX3VzZXJib3gtbWVudSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogJGNvbG9yLWJhc2ljO1xuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgbGluZS1oZWlnaHQ6IDJlbTtcbiAgICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7XG4gICAgbWFyZ2luOiAwO1xuICAgIG1heC1oZWlnaHQ6IDA7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICBwYWRkaW5nOiAwO1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB0cmFuc2l0aW9uOlxuICAgIG1heC1oZWlnaHRcbiAgICAkZHJhd2VyLWFuaW1hdGlvbi1kdXJhdGlvblxuICAgICRkcmF3ZXItYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvblxuICAgIDtcblxuICAgIHotaW5kZXg6ICR6LW1pZGRsZTtcblxuICAgIFtkYXRhLXVzZXJib3g9J29wZW4nXSAmLFxuICAgIC5ycF91c2VyYm94LWNvbnRhaW5lci5vcGVuICYge1xuICAgICAgICBtYXJnaW4tdG9wOiAwO1xuICAgICAgICBtYXgtaGVpZ2h0OiAxOWVtO1xuICAgIH1cblxuICAgICN7JHdyYXBwZXJ9ICYge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkY29sb3ItcnAtYmc7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIGNvcnJlY3QgcGFkZGluZyB3aXRob3V0IG92ZXJmbG93IG9yIGp1bXB5IHRyYW5zaXRpb25cbiAgICBsaSB7XG4gICAgICAgICY6Zmlyc3QtY2hpbGQge1xuICAgICAgICAgICAgcGFkZGluZy10b3A6IC41ZW07XG4gICAgICAgIH1cblxuICAgICAgICAmOmxhc3QtY2hpbGQge1xuICAgICAgICAgICAgcGFkZGluZy1ib3R0b206IC41ZW07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsaSBhIHtcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgIGZvbnQtc2l6ZTogJGZvbnQtbWQ7XG4gICAgICAgIHBhZGRpbmc6IDAgMi4xZW0gMCAyLjNlbTtcblxuICAgICAgICAmOmhvdmVyIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICRjb2xvci1iYXNpYy1saWdodDtcblxuICAgICAgICAgICAgI3skd3JhcHBlcn0gJiB7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJGNvbG9yLXJwLW1pZGxpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgbGksIGEge1xuICAgICAgICBsaW5lLWhlaWdodDogaW5oZXJpdDtcbiAgICB9XG5cbiAgICAucnBfdXNlcmJveC1jb250YWluZXIgJiBsaTpmaXJzdC1jaGlsZCB7XG4gICAgICAgIG1hcmdpbi10b3A6IDA7XG4gICAgfVxufVxuXG4jeyR3cmFwcGVyfSB7XG4gICAgW2RhdGEtdXNlcmJveD0nb3BlbiddICYge1xuICAgICAgICAvLyBDdXJyZW50IGhlaWdodCBvZiB0aGUgdXNlcmJveFxuICAgICAgICAvLyBUT0RPOiBtYWtlIGl0IGEgc2hhcmVkIHZhcmlhYmxlLCBpZGVhbGx5IGNvbXB1dGVkIGZyb20gdGhlIGFjdHVhbFxuICAgICAgICAvLyBudW1iZXIgb2YgaXRlbXMgdGFrZW4gZnJvbSBhIGpzb24gdmFyaWFibGVcbiAgICAgICAgbWFyZ2luLXRvcDogMi4xMjVlbTtcbiAgICB9XG5cbiAgICBbZGF0YS1oaWRlLXVzZXJib3hdICYge1xuICAgICAgICBtYXJnaW4tdG9wOiAwO1xuICAgIH1cbn1cblxuLnVzZXJib3gtbWVudS1ub3RpZmljYXRpb24ge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNkNjVmMzU7XG4gICAgYm9yZGVyLXJhZGl1czogLjNlbTtcbiAgICBjb2xvcjogI2ZmZjtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgbGluZS1oZWlnaHQ6IDEuNWVtO1xuICAgIG1hcmdpbjogMCAuNWVtO1xuICAgIHBhZGRpbmc6IDAgLjVlbTtcblxuICAgICYuaGlkZGVuIHtcbiAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG59XG4iLAoJCSIucnBfd2FpdHNwaW5uZXItYmcge1xuICAgIGZpbGw6IG5vbmU7XG4gICAgb3BhY2l0eTogLjI7XG4gICAgc3Ryb2tlOiBjdXJyZW50Y29sb3I7XG4gICAgc3Ryb2tlLWxpbmVjYXA6IHJvdW5kO1xuICAgIHN0cm9rZS13aWR0aDogMTY7XG59XG5cbi5ycF93YWl0c3Bpbm5lci1mZyB7XG4gICAgQGV4dGVuZCAucnBfd2FpdHNwaW5uZXItYmc7XG5cbiAgICBhbmltYXRpb246IHJwX3dhaXRzcGlubmVyLWFuaW1hdGlvbiAxcyBpbmZpbml0ZSBsaW5lYXI7XG4gICAgb3BhY2l0eTogMTtcbiAgICBzdHJva2UtZGFzaGFycmF5OiAwLCAwLCA3MCwgMTk0O1xuICAgIHN0cm9rZS1kYXNob2Zmc2V0OiAwO1xufVxuXG5Aa2V5ZnJhbWVzIHJwX3dhaXRzcGlubmVyLWFuaW1hdGlvbiB7XG4gICAgdG8ge1xuICAgICAgICBzdHJva2UtZGFzaG9mZnNldDogLTI2NDtcbiAgICB9XG59XG4iLAoJCSIgLy8gTG9vcCBvdmVyIGNvbG9ycyB0byBjcmVhdGUgYmFja2dyb3VuZCBjb2xvciBjbGFzc2VzXG5cbiRiYWNrZ3JvdW5kLWNvbG9yczogKFxuICAgIGJhc2ljOiAkbXRfY29sb3ItYmFzaWMsXG4gICAgYmFzaWNsaWdodGVyOiAkbXRfY29sb3ItYmFzaWMtYWx0LFxuICAgIGludmVyc2U6ICRtdF9jb2xvci1pbnZlcnNlXG4pO1xuXG5AZWFjaCAkbmFtZSwgJGNvbG9yIGluICRiYWNrZ3JvdW5kLWNvbG9ycyB7XG4gICAgLnJwX2JhY2tncm91bmQtLSN7JG5hbWV9IHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJG10X2NvbG9yLWJhc2ljO1xuICAgIH1cbn1cbiIsCgkJIkBpZiAkaW5jbHVkZS1mb250LWZhY2Uge1xuICAgIEBmb250LWZhY2Uge1xuICAgICAgZm9udC1mYW1pbHk6ICdpY29uZ3MnO1xuICAgICAgc3JjOiB1cmwoJy8vYXNzZXRzLm5hdGlvbmFsZ2VvZ3JhcGhpYy5jb20vaWNvbmdzXzAtMTEtMS9mb250cy9pY29uZ3MuZW90Jyk7IC8qIElFOSBDb21wYXQgTW9kZXMgKi9cbiAgICAgIHNyYzogdXJsKCcvL2Fzc2V0cy5uYXRpb25hbGdlb2dyYXBoaWMuY29tL2ljb25nc18wLTExLTEvZm9udHMvaWNvbmdzLmVvdD8jaWVmaXgnKSBmb3JtYXQoJ2VtYmVkZGVkLW9wZW50eXBlJyksIC8qIElFNi1JRTggKi9cbiAgICAgICAgICAgdXJsKCcvL2Fzc2V0cy5uYXRpb25hbGdlb2dyYXBoaWMuY29tL2ljb25nc18wLTExLTEvZm9udHMvaWNvbmdzLndvZmYnKSBmb3JtYXQoJ3dvZmYnKSwgLyogTW9kZXJuIEJyb3dzZXJzICovXG4gICAgICAgICAgIHVybCgnLy9hc3NldHMubmF0aW9uYWxnZW9ncmFwaGljLmNvbS9pY29uZ3NfMC0xMS0xL2ZvbnRzL2ljb25ncy50dGYnKSAgZm9ybWF0KCd0cnVldHlwZScpLCAvKiBTYWZhcmksIEFuZHJvaWQsIGlPUyAqL1xuICAgICAgICAgICB1cmwoJy8vYXNzZXRzLm5hdGlvbmFsZ2VvZ3JhcGhpYy5jb20vaWNvbmdzXzAtMTEtMS9mb250cy9pY29uZ3Muc3ZnI3N2Z0ZvbnROYW1lJykgZm9ybWF0KCdzdmcnKTsgLyogTGVnYWN5IGlPUyAqL1xuICAgIH1cbn1cbiIsCgkJIi5ycF9qZXdlbCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogJGNvbG9yLWF0dGVudGlvbjtcbiAgICBib3JkZXItcmFkaXVzOiAuM2VtO1xuICAgIGNvbG9yOiAkY29sb3ItdGV4dC1hdHRlbnRpb247XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIGZvbnQtc2l6ZTogJGZvbnQtanc7XG4gICAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgICBsaW5lLWhlaWdodDogMS41ZW07XG4gICAgbWFyZ2luOiAwIDFlbSAwIDAuM2VtO1xuICAgIHBhZGRpbmc6IDAgMC41ZW07XG5cbiAgICAucnBfdXNlcmJveC1saW5rICYge1xuICAgICAgICBtYXJnaW46IC0xLjFlbSAwIDAgLjNlbTtcbiAgICAgICAgcG9zaXRpb246IHN0YXRpYztcbiAgICB9XG59XG4iLAoJCSIvLyBMb29wIG92ZXIgY29sb3JzIHRvIGNyZWF0ZSB0ZXh0IGNvbG9yIGNsYXNzZXNcblxuJGJhY2tncm91bmQtY29sb3JzOiAoXG4gICAgaW52ZXJzZTogJG10X2NvbG9yLXRleHQtaW52ZXJzZSxcbiAgICBoaWdobGlnaHQ6ICRtdF9jb2xvci1oaWdobGlnaHRcbik7XG5cbkBlYWNoICRuYW1lLCAkY29sb3IgaW4gJGJhY2tncm91bmQtY29sb3JzIHtcbiAgICAucnBfdGV4dC0tI3skbmFtZX0ge1xuICAgICAgICBjb2xvcjogJGNvbG9yO1xuXG4gICAgICAgIGEge1xuICAgICAgICAgICAgY29sb3I6ICRjb2xvcjtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIKCV0sCgkibWFwcGluZ3MiOiAiO0FXT0EsV0FBVyxDSkhZO0VBQ25CLGVBQWUsRUFBRSxRQUFTO0VBQzFCLGNBQWMsRUFBRSxDQUFFO0VBQ2xCLFlBQVksRUFBRSxHQUFJO0VBQ2xCLEtBQUssRUhJTyxPQUFHO0VHSGYsTUFBTSxFQUFFLElBQUs7RUFDYixTQUFTLEVBQUUsR0FBSTtFQUNmLFdBQVcsRUFBRSxJQUFLO0VBQ2xCLFdBQVcsRUprQkEsZ0JBQWdCLEVBQUUsU0FBUyxFQUFFLGFBQWEsRUFBRSxLQUFLLEVBQUUsVUFBVTtFSWpCeEUsU0FBUyxFSmtCSSxJQUFJO0VJakJqQixVQUFVLEVBQUUsTUFBTztFQUNuQixZQUFZLEVBQUUsTUFBTztFQUNyQixXQUFXLEVBQUUsR0FBSTtFQUNqQixjQUFjLEVBQUUsTUFBTztFQUN2QixXQUFXLEVBQUUsTUFBTztFQUNwQixVQUFVLEVBQUUsaUJBQWtCO0VBQzlCLE9BQU8sRUFBRSxDQUFFO0VBQ1gsTUFBTSxFQUFFLHVCQUF3QjtFQUNoQyxVQUFVLEVBQUUsSUFBSztFQUNqQixXQUFXLEVBQUUsQ0FBRTtFQUNmLGNBQWMsRUFBRSxJQUFLO0VBQ3JCLFVBQVUsRUFBRSxPQUFRO0VBQ3BCLFdBQVcsRUFBRSxNQUFPO0VBQ3BCLE1BQU0sRUFBRSxDQUFFO0VBQ1YsWUFBWSxFQUFFLE1BQU8sR0FDeEI7O0FJdEJELFdBQVcsQ0o2QlAsQ0FBQyxFSTdCTCxXQUFXLENKOEJQLENBQUMsQUFBQSxPQUFPLEVJOUJaLFdBQVcsQ0orQlAsQ0FBQyxBQUFBLE1BQU0sQ0FBQztFQUNKLFVBQVUsRUFBRSxPQUFRO0VBQ3BCLFdBQVcsRUFBRSxNQUFPLEdBQ3ZCOztBSWxDTCxXQUFXLENKb0NQLE1BQU0sQUFBQSxrQkFBa0IsQ0FBQztFQUNyQixNQUFNLEVBQUUsQ0FBRTtFQUNWLE9BQU8sRUFBRSxDQUFFLEdBQ2Q7O0FJdkNMLFdBQVcsQ0p5Q1AsQ0FBQyxFSXpDTCxXQUFXLENKeUNQLENBQUMsQUQ3Q0EsS0FBSyxFS0lWLFdBQVcsQ0p5Q1AsQ0FBQyxBRDVDQSxRQUFRLEVLR2IsV0FBVyxDSnlDUCxDQUFDLEFEM0NBLE1BQU0sRUtFWCxXQUFXLENKeUNQLENBQUMsQUQxQ0EsT0FBTyxDQUFDO0VBQ0wsYUFBYSxFQU51RCxDQUFDLENBQUMsSUFBSTtFQU8xRSxLQUFLLEVBUGMsT0FBTztFQVExQixlQUFlLEVBUitCLElBQUksR0FTckQ7O0FPVkwscUJBQXFCLENMRVA7RUFDVixPQUFPLEVBQUUsS0FBTTtFQUNmLE1BQU0sRUFBRSxDQUFFO0VBQ1YsVUFBVSxFTkhFLEdBQUc7RU1JZixPQUFPLEVBQUUsR0FBYyxDQUFHLEtBQWMsR0FDM0M7O0FDTEQsaUJBQWlCLENBQUM7RUFDZCxnQkFBZ0IsRUFBRSxXQUFZO0VBQzlCLE1BQU0sRUFBRSxDQUFFO0VBQ1YsS0FBSyxFQUFFLE9BQVE7RUFDZixNQUFNLEVBQUUsT0FBUTtFQUNoQixXQUFXLEVBQUUsT0FBUSxHQUt4QjtFQVZELGlCQUFpQixBQU9aLE1BQU0sQ0FBQztJQUNKLE9BQU8sRUFBRSxDQUFFLEdBQ2Q7O0FDUkwsa0JBQWtCLENBQUM7RUFDZixNQUFNLEVBQUUsQ0FBRTtFQUNWLElBQUksRUFBRSxhQUFJO0VBQ1YsTUFBTSxFQUFFLEdBQUk7RUFDWixNQUFNLEVBQUUsSUFBSztFQUNiLFFBQVEsRUFBRSxNQUFPO0VBQ2pCLE9BQU8sRUFBRSxDQUFFO0VBQ1gsUUFBUSxFQUFFLFFBQVM7RUFDbkIsS0FBSyxFQUFFLEdBQUksR0FDZDs7QUNMRCxXQUFXLENBQVg7RUFHSSxzQkFBc0IsRUFBRSxXQUFZO0VBQ3BDLFVBQVUsRUFBRSxVQUFXO0VBQ3ZCLFdBQVcsRUFBRSxpQkFBa0I7RUFDL0IsTUFBTSxFQUFFLElBQUs7RUFDYixJQUFJLEVBQUUsQ0FBRTtFQUNSLFFBQVEsRUFBRSxNQUFPO0VBQ2pCLEdBQUcsRUFBRSxDQUFFO0VBQ1AsS0FBSyxFQUFFLElBQUs7RUFDWixPQUFPLEVOYkEsSUFBSSxHTWNkOztBQ2hCRCx3QkFBd0IsQ0FBQztFQUNyQixnQkFBZ0IsRVRTTSxLQUFHO0VTUnpCLFdBQVcsRUFBRSxHQUFHLENBQUMsS0FBSyxDVE9BLEtBQUc7RVNOekIsU0FBUyxFQUFFLE1BQU87RUFDbEIsV0FBVyxFQUFFLEdBQUk7RUFDakIsTUFBTSxFQUFFLENBQUU7RUFDVixPQUFPLEVBQUUsTUFBTztFQUNoQixRQUFRLEVBQUUsUUFBUztFQUNuQixLQUFLLEVBQUUsQ0FBRTtFQUNULEdBQUcsRUFBRSxDQUFFLEdBQ1Y7O0FDYkQscUJBQXFCLENBQUM7RUFHbEIsVUFBVSxFQUFFLElBQUs7RUFDakIsTUFBTSxFQUFFLENBQUU7RUFDVixNQUFNLEVBQUUsT0FBUTtFQUNoQixJQUFJLEVBQUUsSUFBSztFQUNYLFNBQVMsRVpLTyxJQUFJO0VZSnBCLFVBQVUsRUFBRSxDQUFFO0VBQ2QsUUFBUSxFQUFFLE1BQU87RUFDakIsT0FBTyxFQUFFLENBQUU7RUFDWCxXQUFXLEVBQUUsTUFBTztFQUNwQixLQUFLLEVBQUUsSUFBSztFQUNaLE9BQU8sRUFBRSxJQUFTLEdBOEVyQjtFQTNGRCxxQkFBcUIsQ0FlakIsbUJBQW1CLENBQUM7SUFDaEIsZ0JBQWdCLEVUWUcsS0FBSztJU1h4QixLQUFLLEVUVkcsT0FBRztJU1dYLE9BQU8sRUFBRSxLQUFNO0lBQ2YsU0FBUyxFQUFFLE9BQVE7SUFDbkIsV0FBVyxFQUFFLEdBQUk7SUFDakIsV0FBVyxFQUFFLEtBQU07SUFDbkIsTUFBTSxFQUFFLGlCQUFrQjtJQUMxQixTQUFTLEVBQUUsR0FBSTtJQUNmLE9BQU8sRUFBRSxDQUFFLEdBQ2Q7RUF6QkwscUJBQXFCLENBMkJqQixnQkFBZ0I7RUEzQnBCLHFCQUFxQixDQTRCakIsa0JBQWtCLENBQUM7SUFDZixPQUFPLEVBQUUsS0FBTTtJQUNmLFdBQVcsRUFBRSxHQUFJLEdBQ3BCO0VBL0JMLHFCQUFxQixDQWlDakIsZ0JBQWdCLEVBakNwQixxQkFBcUIsQ0FpQ2pCLGdCQUFnQixBUDlCZixLQUFLLEVPSFYscUJBQXFCLENBaUNqQixnQkFBZ0IsQVA3QmYsUUFBUSxFT0piLHFCQUFxQixDQWlDakIsZ0JBQWdCLEFQNUJmLE1BQU0sRU9MWCxxQkFBcUIsQ0FpQ2pCLGdCQUFnQixBUDNCZixPQUFPLENBQUM7SUFDTCxhQUFhLEVBTnVELENBQUMsQ0FBQyxJQUFJO0lBTzFFLEtBQUssRUhnQlMsT0FBRztJR2ZqQixlQUFlLEVBUitCLElBQUksR0FTckQ7RU9WTCxxQkFBcUIsQ0FxQ2pCLGtCQUFrQixDQUFDO0lBQ2YsVUFBVSxFVFZTLEtBQUs7SVNXeEIsS0FBSyxFVmZTLE9BQUc7SVVnQmpCLE1BQU0sRUFBRSxRQUFTO0lBQ2pCLFFBQVEsRUFBRSxRQUFTLEdBQ3RCO0VBMUNMLHFCQUFxQixDQTRDakIsa0JBQWtCLENBQUM7SUFHZixNQUFNLEVBRkcsR0FBRyxDQUFDLEtBQUssQ1ZwQkosT0FBRztJVXVCakIsYUFBYSxFQUFFLEdBQUk7SUFDbkIsS0FBSyxFVnpCUyxPQUFHO0lVMEJqQixPQUFPLEVBQUUsS0FBTTtJQUNmLFdBQVcsRUFBRSxHQUFJO0lBQ2pCLE1BQU0sRUFBRSxDQUFFO0lBQ1YsT0FBTyxFQUFFLFVBQVc7SUFDcEIsY0FBYyxFQUFFLElBQUssR0FjeEI7SUFwRUwscUJBQXFCLENBNENqQixrQkFBa0IsRUE1Q3RCLHFCQUFxQixDQTRDakIsa0JBQWtCLEFQekNqQixLQUFLLEVPSFYscUJBQXFCLENBNENqQixrQkFBa0IsQVB4Q2pCLFFBQVEsRU9KYixxQkFBcUIsQ0E0Q2pCLGtCQUFrQixBUHZDakIsTUFBTSxFT0xYLHFCQUFxQixDQTRDakIsa0JBQWtCLEFQdENqQixPQUFPLENBQUM7TUFDTCxhQUFhLEVPc0NKLEdBQUcsQ0FBQyxLQUFLLENWcEJKLE9BQUcsR0dmcEI7SU9WTCxxQkFBcUIsQ0E0Q2pCLGtCQUFrQixBQWViLE1BQU0sRUEzRGYscUJBQXFCLENBNENqQixrQkFBa0IsQUFnQmIsT0FBTyxDQUFDO01BQ0wsZ0JBQWdCLEVBQUUsT0FBTztNQUN6QixLQUFLLEVBQUUsT0FBTyxHQUNqQjtJQS9EVCxxQkFBcUIsQ0E0Q2pCLGtCQUFrQixDQXFCZCx3QkFBd0IsQ0FBQztNQUNyQixPQUFPLEVBQUUsSUFBSyxHQUNqQjtFQW5FVCxxQkFBcUIsQ0FzRWpCLHVCQUF1QixDQUFDO0lBQ3BCLE1BQU0sRUFBRSxHQUFHLENBQUMsS0FBSyxDVjlDSCxPQUFHO0lVK0NqQixhQUFhLEVBQUUsR0FBSTtJQUNuQixLQUFLLEVWakRTLE9BQUc7SVVrRGpCLE9BQU8sRUFBRSxLQUFNO0lBQ2YsV0FBVyxFQUFFLEdBQUk7SUFDakIsTUFBTSxFQUFFLENBQUU7SUFDVixTQUFTLEVBQUUsR0FBSTtJQUNmLE9BQU8sRUFBRSxVQUFXLEdBQ3ZCO0VBL0VMLHFCQUFxQixDQWlGakIsZUFBZSxDQUFDO0lBQ1osSUFBSSxFQUFFLElBQUs7SUFDWCxZQUFZLEVBQUUsS0FBTTtJQUNwQixRQUFRLEVBQUUsUUFBUztJQUNuQixjQUFjLEVBQUUsUUFBUyxHQUM1QjtFQXRGTCxxQkFBcUIsQ0F3RmpCLG1CQUFtQixDQUFDO0lBQ2hCLFdBQVcsRUFBRSxPQUFRLEdBQ3hCOztBQUdMLGdCQUFnQixDQUFDO0VBQ2IsT0FBTyxFQUFFLFlBQWE7RUFDdEIsU0FBUyxFVjdESCxRQUFPO0VVOERiLFNBQVMsRUFBRSxHQUFJO0VBQ2YsUUFBUSxFQUFFLE1BQU87RUFDakIsYUFBYSxFQUFFLFFBQVM7RUFDeEIsY0FBYyxFQUFFLE1BQU87RUFDdkIsV0FBVyxFQUFFLE1BQU8sR0FDdkI7O0FBRUQsd0JBQXdCLENBQUM7RUFDckIsZ0JBQWdCLEVBQUUsV0FBWTtFQUM5QixXQUFXLEVBQUUsQ0FBRTtFQUNmLEtBQUssRVQ5Rk8sT0FBRztFUytGZixLQUFLLEVBQUUsS0FBTTtFQUNiLFNBQVMsRUFBRSxJQUFLO0VBQ2hCLE9BQU8sRUFBRSxDQUFFO0VBQ1gsUUFBUSxFQUFFLFFBQVMsR0FDdEI7O0FBRUQsaUJBQWlCLENBQUM7RUFDZCxZQUFZLEVBQUUsSUFBSztFQUNuQixVQUFVLEVBQUUsU0FBUyxDQUFDLEtBQTBCLENBQUssTUFBTSxHQU05RDtHQUpHLEFBQUEsWUFBQyxDQUFhLE1BQU0sQUFBbkIsRUFKTCxpQkFBaUI7RUFLYixxQkFBcUIsQUFBQSxLQUFLLENBTDlCLGlCQUFpQixDQUtnQjtJQUN6QixTQUFTLEVBQUUsZUFBTSxDQUFVLHVCQUFTLEdBQ3ZDOztBQUdMLDBCQUEwQixDQUFDO0VBRXZCLGdCQUFnQixFQUFFLDhnRkFBRztFQUNyQixpQkFBaUIsRUFBRSxTQUFVO0VBQzdCLGVBQWUsRUFBRSxPQUFRO0VBQ3pCLE9BQU8sRUFBRSxZQUFhO0VBQ3RCLE1BQU0sRUFBRSxJQUFLO0VBQ2IsWUFBWSxFQUFFLElBQUs7RUFDbkIsY0FBYyxFQUFFLE1BQU87RUFDdkIsS0FBSyxFQUFFLElBQUssR0FDZjs7QUFFRCxrQkFBa0IsQ0FBQztFQUNmLE1BQU0sRUFBRSxJQUFLO0VBQ2IsS0FBSyxFQUFFLElBQUssR0FDZjs7QUFFRCx3QkFBd0IsQ0FBQztFQUNyQixnQkFBZ0IsRVQ5SEosT0FBRztFUytIZixhQUFhLEVBQUUsSUFBSztFQUNwQixLQUFLLEVUbklPLE9BQUc7RVNvSWYsT0FBTyxFQUFFLFlBQWE7RUFDdEIsU0FBUyxFQUFFLElBQUs7RUFDaEIsV0FBVyxFQUFFLEdBQUk7RUFDakIsV0FBVyxFQUFFLEtBQU07RUFDbkIsTUFBTSxFQUFFLFNBQVU7RUFDbEIsT0FBTyxFQUFFLE1BQU8sR0FLbkI7RUFkRCx3QkFBd0IsQUFXbkIsTUFBTSxDQUFDO0lBQ0osT0FBTyxFQUFFLElBQUssR0FDakI7O0FBR0wsZ0JBQWdCLENBQUM7RUFDYixnQkFBZ0IsRVZsSk0sSUFBSTtFVW1KMUIsVUFBVSxFQUFFLFVBQVc7RUFDdkIsV0FBVyxFQUFFLEdBQUk7RUFDakIsZUFBZSxFQUFFLElBQUs7RUFDdEIsTUFBTSxFQUFFLENBQUU7RUFDVixVQUFVLEVBQUUsQ0FBRTtFQUNkLFFBQVEsRUFBRSxNQUFPO0VBQ2pCLE9BQU8sRUFBRSxDQUFFO0VBQ1gsUUFBUSxFQUFFLFFBQVM7RUFDbkIsVUFBVSxFQUNWLFVBQVUsQ1psS2MsSUFBRyxDQUNJLE1BQU07RVlzS3JDLE9BQU8sRVJ0S0EsSUFBUyxHUWtObkI7R0ExQ0csQUFBQSxZQUFDLENBQWEsTUFBTSxBQUFuQixFQWxCTCxnQkFBZ0I7RUFtQloscUJBQXFCLEFBQUEsS0FBSyxDQW5COUIsZ0JBQWdCLENBbUJpQjtJQUN6QixVQUFVLEVBQUUsQ0FBRTtJQUNkLFVBQVUsRUFBRSxJQUFLLEdBQ3BCO0VBRUQsV0FBVyxDQXhCZixnQkFBZ0IsQ0F3Qlo7SUFDSSxnQkFBZ0IsRVR6SkcsS0FBSyxHUzBKM0I7RUExQkwsZ0JBQWdCLENBNkJaLEVBQUUsQUFDRyxZQUFZLENBQUM7SUFDVixXQUFXLEVBQUUsSUFBSyxHQUNyQjtFQWhDVCxnQkFBZ0IsQ0E2QlosRUFBRSxBQUtHLFdBQVcsQ0FBQztJQUNULGNBQWMsRUFBRSxJQUFLLEdBQ3hCO0VBcENULGdCQUFnQixDQXVDWixFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ0QsT0FBTyxFQUFFLEtBQU07SUFDZixTQUFTLEVWbktQLFFBQU87SVVvS1QsT0FBTyxFQUFFLGVBQWdCLEdBUzVCO0lBbkRMLGdCQUFnQixDQXVDWixFQUFFLENBQUMsQ0FBQyxBQUtDLE1BQU0sQ0FBQztNQUNKLFVBQVUsRVY3TEksS0FBRyxHVWtNcEI7TUFIRyxXQUFXLENBL0N2QixnQkFBZ0IsQ0F1Q1osRUFBRSxDQUFDLENBQUMsQUFLQyxNQUFNLENBR0g7UUFDSSxnQkFBZ0IsRVZuTFYsT0FBRyxHVW9MWjtFQWpEYixnQkFBZ0IsQ0FxRFosRUFBRSxFQXJETixnQkFBZ0IsQ0FxRFIsQ0FBQyxDQUFDO0lBQ0YsV0FBVyxFQUFFLE9BQVEsR0FDeEI7RUFFRCxxQkFBcUIsQ0F6RHpCLGdCQUFnQixDQXlEWSxFQUFFLEFBQUEsWUFBWSxDQUFDO0lBQ25DLFVBQVUsRUFBRSxDQUFFLEdBQ2pCOztDQUlELEFBQUEsWUFBQyxDQUFhLE1BQU0sQUFBbkIsRUFETCxXQUFXLENBQ2lCO0VBSXBCLFVBQVUsRUFBRSxPQUFRLEdBQ3ZCOztDQUVELEFBQUEsaUJBQUMsQUFBQSxFQVJMLFdBQVcsQ0FRZTtFQUNsQixVQUFVLEVBQUUsQ0FBRSxHQUNqQjs7QUFHTCwwQkFBMEIsQ0FBQztFQUN2QixnQkFBZ0IsRUFBRSxPQUFRO0VBQzFCLGFBQWEsRUFBRSxJQUFLO0VBQ3BCLEtBQUssRUFBRSxJQUFLO0VBQ1osT0FBTyxFQUFFLFlBQWE7RUFDdEIsV0FBVyxFQUFFLEtBQU07RUFDbkIsTUFBTSxFQUFFLE1BQU87RUFDZixPQUFPLEVBQUUsTUFBTyxHQUtuQjtFQVpELDBCQUEwQixBQVNyQixPQUFPLENBQUM7SUFDTCxPQUFPLEVBQUUsSUFBSyxHQUNqQjs7QUNsUEwsa0JBQWtCLEVBUWxCLGtCQUFrQixDQVJDO0VBQ2YsSUFBSSxFQUFFLElBQUs7RUFDWCxPQUFPLEVBQUUsRUFBRztFQUNaLE1BQU0sRUFBRSxZQUFhO0VBQ3JCLGNBQWMsRUFBRSxLQUFNO0VBQ3RCLFlBQVksRUFBRSxFQUFHLEdBQ3BCOztBQUVELGtCQUFrQixDQUFDO0VBR2YsU0FBUyxFQUFFLDJDQUE0QztFQUN2RCxPQUFPLEVBQUUsQ0FBRTtFQUNYLGdCQUFnQixFQUFFLGFBQWM7RUFDaEMsaUJBQWlCLEVBQUUsQ0FBRSxHQUN4Qjs7QUFFRCxVQUFVLENBQUMsd0JBQXdCO0VBQy9CLEVBQUU7SUFDRSxpQkFBaUIsRUFBRSxJQUFLOztBQ1Y1QixxQkFBcUIsQ0FBckI7RUFDSSxnQkFBZ0IsRVhnQkcsS0FBSyxHV2YzQjs7QUFGRCw0QkFBNEIsQ0FBNUI7RUFDSSxnQkFBZ0IsRVhnQkcsS0FBSyxHV2YzQjs7QUFGRCx1QkFBdUIsQ0FBdkI7RUFDSSxnQkFBZ0IsRVhnQkcsS0FBSyxHV2YzQjs7QUVYTCxTQUFTLENBQUM7RUFDTixnQkFBZ0IsRWRPTSxPQUFHO0VjTnpCLGFBQWEsRUFBRSxJQUFLO0VBQ3BCLEtBQUssRWRlaUIsSUFBSTtFY2QxQixPQUFPLEVBQUUsWUFBYTtFQUN0QixTQUFTLEVkOEJILEtBQUk7RWM3QlYsV0FBVyxFQUFFLEdBQUk7RUFDakIsV0FBVyxFQUFFLEtBQU07RUFDbkIsTUFBTSxFQUFFLGFBQWM7RUFDdEIsT0FBTyxFQUFFLE9BQVEsR0FNcEI7RUFKRyxnQkFBZ0IsQ0FYcEIsU0FBUyxDQVdjO0lBQ2YsTUFBTSxFQUFFLGVBQWdCO0lBQ3hCLFFBQVEsRUFBRSxNQUFPLEdBQ3BCOztBQ05ELGlCQUFpQixDQUFqQjtFQUNJLEtBQUssRWRHRyxPQUFHLEdjRWQ7RUFORCxpQkFBaUIsQ0FHYixDQUFDLENBQUM7SUFDRSxLQUFLLEVkQUQsT0FBRyxHY0NWOztBQUxMLG1CQUFtQixDQUFuQjtFQUNJLEtBQUssRWRJRyxPQUFHLEdjQ2Q7RUFORCxtQkFBbUIsQ0FHZixDQUFDLENBQUM7SUFDRSxLQUFLLEVkQ0QsT0FBRyxHY0FWIiwKCSJuYW1lcyI6IFtdCn0= */");
},{sassify:11}],2:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}var e=a("react"),f=d(e),g=a("react-dom"),h=d(g),i=a("./member"),j=d(i),k=document.getElementsByClassName("NGS_regpkg");if(k.length<1)throw new Error("There is no element on the page to render Registration Package");[].map.call(k,function(a){return h.default.render(f.default.createElement(j.default,null),a)})},{"./member":4,react:"react","react-dom":"react-dom"}],3:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0}),c.notificationsKey=c.endpoints=void 0;var e=a("lodash/merge"),f=d(e);window.NGS=(0,f.default)({modules:{rp:{pageConfig:{endpoints:{members:"https://members.nationalgeographic.com",mmdb:"https://mmdb.nationalgeographic.com",notifications:"https://notifications.nationalgeographic.com"},notificationsKey:"e6c4b4af844c454fc2110a4d09828559489837313bd2e519cf"}}}},window.NGS);c.endpoints=window.NGS.modules.rp.pageConfig.endpoints,c.notificationsKey=window.NGS.modules.rp.pageConfig.notificationsKey},{"lodash/merge":"lodash/merge"}],4:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("react"),f=d(e),g=a("./menu"),h=d(g),i=(a("es6-promise"),a("./defaults")),j=a("./request"),k=a("./storage"),l=d(k),m=a("./polyfills"),n=d(m),o=new n.default("ngsLoggedIn"),p=new n.default("ngsLoggedOut"),q="memFrag/User/",r=(a("./_scss/main.scss"),f.default.createClass({displayName:"Member",propTypes:{originUrl:f.default.PropTypes.string},getDefaultProps:function(){return{originUrl:document.URL}},getInitialState:function(){var a={status:"true"===l.default.getStorage(q+"status"),display_name:l.default.getStorage(q+"display_name"),avatar_in_use:l.default.getStorage(q+"avatar_in_use"),social_avatar:{url:l.default.getStorage(q+"social_avatar/url")},custom_avatar:{url:l.default.getStorage(q+"custom_avatar/url")},public_profile_url:l.default.getStorage(q+"public_profile_url")};return{onGettingUser:!a.status,user:a,signedIn:a.status}},componentWillMount:function(){var a=this;l.default.setStorage({originUrl:this.props.originUrl}),this.state.signedIn?window.dispatchEvent(o):(this.setState({onGettingUser:!0}),(0,j.requestMMDB)("getUser").then(function(b){return b&&200===b.status&&b.user?(l.default.setStorage(b.user),a.setState({signedIn:!0,user:b.user,onGettingUser:!1})):void a.setState({onGettingUser:!1,signedIn:!1})},function(b){a.setState({onGettingUser:!1,signedIn:!1})}))},componentDidUpdate:function(a,b){this.state.onGettingUser||(this.state.signedIn?(l.default.setStorage({status:"true"}),window.dispatchEvent(o)):b.signedIn&&(l.default.setStorage({status:"false"}),window.dispatchEvent(p)))},handleLogoutClick:function(){(0,j.requestMMDB)("logout"),l.default.clearStorage(),this.setState({signedIn:!1})},render:function(){return f.default.createElement("div",{className:"rp_userbox-container","data-userbox":"closed"},this.state.signedIn?null:f.default.createElement("a",{href:i.endpoints.members+"/account/?url="+this.props.originUrl,className:"rp_userbox-wrapper NGS_regpkg-button "+(this.state.onGettingUser?"NGS_regpkg--loading":"")},"Sign In or Join"),this.state.signedIn?f.default.createElement(h.default,{logoutClick:this.handleLogoutClick,user:this.state.user}):null)}}));c.default=r,b.exports=c.default},{"./_scss/main.scss":1,"./defaults":3,"./menu":5,"./polyfills":7,"./request":8,"./storage":9,"es6-promise":"es6-promise",react:"react"}],5:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("./defaults"),f=a("react"),g=d(f),h=a("./request"),i=a("./notifications"),j=d(i),k=a("./storage"),l=(d(k),void 0),m=g.default.createClass({displayName:"Menu",propTypes:{user:g.default.PropTypes.object,logoutClick:g.default.PropTypes.func.isRequired},getInitialState:function(){return{notifications:0}},componentDidMount:function(){this.updateNotifications(),l=setInterval(this.updateNotifications,5e4)},componentWillUnmount:function(){window.clearInterval(l)},handleMenuClick:function(){var a=document.querySelector(".rp_userbox-container");a.setAttribute("data-userbox","closed"===a.getAttribute("data-userbox")?"open":"closed")},render:function(){var a=this.props.user,b=null,c=null;return b="social"===a.avatar_in_use?a.social_avatar.url:a.custom_avatar.url,null!==b&&""!==b&&(c=g.default.createElement("img",{className:"rp_userbox-avatar",src:e.endpoints.members.replace(/^(https?):\/\//,"//")+"/exposure/transcode/30/30/?url="+b})),g.default.createElement("div",null,g.default.createElement("div",{className:"rp_userbox-button",onClick:this.handleMenuClick},g.default.createElement("div",{className:"rp_userbox-avatar-wrapper"},c),g.default.createElement("span",{className:"rp_userbox-name"},a.display_name),g.default.createElement(j.default,{number:this.state.notifications}),g.default.createElement("button",{className:"rp_navlist-subnavbutton rp_userbox-subnavbutton rp_button--naked"},g.default.createElement("i",{className:"icongs icongs-directiondown rp_userbox-arrow"}))),g.default.createElement("ul",{className:"rp_userbox-menu"},g.default.createElement("li",null,g.default.createElement("a",{href:a.public_profile_url},"Public Profile")),g.default.createElement("li",null,g.default.createElement("a",{className:"rp_userbox-link",href:e.endpoints.members+"/inbox/"},"Inbox",g.default.createElement("span",{className:"rp_JS_notifications rp_userbox-notification visuallyhidden"}),g.default.createElement(j.default,{number:this.state.notifications}))),g.default.createElement("li",null,g.default.createElement("a",{className:"rp_userbox-link",href:e.endpoints.members+"/settings/account/"},"Account Settings")),g.default.createElement("li",null,g.default.createElement("a",{className:"rp_userbox-link",href:e.endpoints.members+"/settings/public-profile/"},"Profile Settings")),g.default.createElement("li",null,g.default.createElement("a",{className:"rp_userbox-link",href:e.endpoints.members+"/settings/interests/"},"Interests")),g.default.createElement("li",null,g.default.createElement("a",{className:"rp_userbox-link",href:e.endpoints.members+"/settings/notifications/"},"Notifications")),g.default.createElement("li",null,g.default.createElement("a",{className:"rp_userbox-link",href:e.endpoints.members+"/settings/benefits/"},"Benefits")),g.default.createElement("li",null,g.default.createElement("a",{className:"rp_userbox-link",href:"http://help.nationalgeographic.com/",target:"_blank"},"Help")),g.default.createElement("li",null,g.default.createElement("a",{className:"rp_userbox-link rp_userbox-logout",onClick:this.props.logoutClick},"Log Out"))))},updateNotifications:function(){var a=this,b=(0,h.requestMMDB)("getNotifications");b.then(function(b){a.setState({notifications:b})})}});c.default=m,b.exports=c.default},{"./defaults":3,"./notifications":6,"./request":8,"./storage":9,react:"react"}],6:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("react"),f=d(e),g=f.default.createClass({displayName:"Notification",propTypes:{number:f.default.PropTypes.number},render:function(){return this.props.number>0?f.default.createElement("span",{className:"rp_jewel"},this.props.number):f.default.createElement("span",null)}});c.default=g,b.exports=c.default},{react:"react"}],7:[function(a,b,c){"use strict";function d(a,b){var c=b||{bubbles:!1,cancelable:!1,detail:void 0},d=document.createEvent("CustomEvent");return d.initCustomEvent(a,c.bubbles,c.cancelable,c.detail),d}Object.defineProperty(c,"__esModule",{value:!0}),d.prototype=window.Event.prototype,c.default=d,b.exports=c.default},{}],8:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){if(d=a.status,d>=200&&300>d||403===d)return a.json();var b=new Error(a.statusText);throw b.response=a,b}var b=arguments.length<=0||void 0===arguments[0]?"getUser":arguments[0],c={logout:function(){return fetch(f.endpoints.mmdb+"/api/v1/auth/logout/",{method:"post",headers:{"Content-Type":"application/json,charset=utf-8"},credentials:"include"})},getUser:function(){return fetch(f.endpoints.mmdb+"/api/v1/session/?format=json",{credentials:"include"})},getNotifications:function(){return fetch(f.endpoints.notifications+"/api/1.0/inbox/"+h.default.getStorage("memFrag/User/id")+("/unread/?api_key="+f.notificationsKey))}},d=void 0,e=b in c?c[b]:fetch;return e().then(a).then(function(a){return a.status=d,"getNotifications"===b?a.count:a}).catch(function(a){console.log("Request failed",a);var b=new Error(a);return b.status=d,b})}Object.defineProperty(c,"__esModule",{value:!0}),c.requestMMDB=e;var f=a("./defaults");a("whatwg-fetch");var g=a("./storage"),h=d(g)},{"./defaults":3,"./storage":9,"whatwg-fetch":"whatwg-fetch"}],9:[function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},e="function"==typeof Symbol&&"symbol"===d(Symbol.iterator)?function(a){return"undefined"==typeof a?"undefined":d(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":"undefined"==typeof a?"undefined":d(a)};Object.defineProperty(c,"__esModule",{value:!0});var f=localStorage,g="memFrag/User/",h={setStorage:function(a){if("object"===("undefined"==typeof a?"undefined":e(a))||"null"===a){var b=function(b){if(a.hasOwnProperty(b)){var c=a[b];if(c instanceof Array)c[0]instanceof Object?!function(){var a=[];c.reduce(function(c){for(var d in c)c.hasOwnProperty(d)&&a.push(c[d]);f.setItem(""+g+b,a)})}():f.setItem(""+g+b,c);else if(c instanceof Object)for(var d in c)c.hasOwnProperty(d)&&f.setItem(""+g+b+"/"+d,c[d]);else f.setItem(""+g+b,c)}};for(var c in a)b(c)}},getStorage:function(a){return f.getItem(a)?f.getItem(a):f.getItem(a.replace(/_\w/g,function(a){return a[1].toUpperCase()}))},clearStorage:function(){for(var a in localStorage)localStorage.hasOwnProperty(a)&&-1!==a.indexOf(""+g)&&a!==g+"/status"&&f.removeItem(a)}};c.default=h,b.exports=c.default},{}],10:[function(a,b,c){b.exports=function(a,b){var c=b||document;if(c.createStyleSheet){var d=c.createStyleSheet();return d.cssText=a,d.ownerNode}var e=c.getElementsByTagName("head")[0],f=c.createElement("style");return f.type="text/css",f.styleSheet?f.styleSheet.cssText=a:f.appendChild(c.createTextNode(a)),e.appendChild(f),f},b.exports.byUrl=function(a){if(document.createStyleSheet)return document.createStyleSheet(a).ownerNode;var b=document.getElementsByTagName("head")[0],c=document.createElement("link");return c.rel="stylesheet",c.href=a,b.appendChild(c),c}},{}],11:[function(a,b,c){b.exports=a("cssify")},{cssify:10}]},{},[2])(2)})}).call(this,"undefined"!=typeof d?d:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[3])(3)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],150:[function(a,b,c){function d(){k=!1,h.length?j=h.concat(j):l=-1,j.length&&e()}function e(){if(!k){var a=setTimeout(d);k=!0;for(var b=j.length;b;){for(h=j,j=[];++l<b;)h&&h[l].run();l=-1,b=j.length}h=null,k=!1,clearTimeout(a)}}function f(a,b){this.fun=a,this.array=b}function g(){}var h,i=b.exports={},j=[],k=!1,l=-1;i.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];j.push(new f(a,b)),1!==j.length||k||setTimeout(e,0)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.binding=function(a){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(a){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],151:[function(a,b,c){"use strict";function d(a,b){if(a===b)return!0;if("object"!=typeof a||null===a||"object"!=typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(var f=e.bind(b),g=0;g<c.length;g++)if(!f(c[g])||a[c[g]]!==b[c[g]])return!1;return!0}var e=Object.prototype.hasOwnProperty;b.exports=d},{}],152:[function(a,b,c){(function(c){("function"==typeof define&&define.amd&&function(a){define("formatio",["samsam"],a)}||"object"==typeof b&&function(c){b.exports=c(a("samsam"))}||function(a){this.formatio=a(this.samsam)})(function(a){"use strict";function b(a){if(!a)return"";if(a.displayName)return a.displayName;if(a.name)return a.name;var b=a.toString().match(/function\s+([^\(]+)/m);return b&&b[1]||""}function d(a,c){var d,e,f=b(c&&c.constructor),g=a.excludeConstructors||h.excludeConstructors||[];for(d=0,e=g.length;e>d;++d){if("string"==typeof g[d]&&g[d]===f)return"";if(g[d].test&&g[d].test(f))return""}return f}function e(a,b){if("object"!=typeof a)return!1;var c,d;for(c=0,d=b.length;d>c;++c)if(b[c]===a)return!0;return!1}function f(b,c,d,g){if("string"==typeof c){var h=b.quoteStrings,j="boolean"!=typeof h||h;return d||j?'"'+c+'"':c}if("function"==typeof c&&!(c instanceof RegExp))return f.func(c);if(d=d||[],e(c,d))return"[Circular]";if("[object Array]"===Object.prototype.toString.call(c))return f.array.call(b,c,d);if(!c)return String(1/c===-(1/0)?"-0":c);if(a.isElement(c))return f.element(c);if("function"==typeof c.toString&&c.toString!==Object.prototype.toString)return c.toString();var k,l;for(k=0,l=i.length;l>k;k++)if(c===i[k].object)return i[k].value;return f.object.call(b,c,d,g)}function g(a){for(var b in a)this[b]=a[b]}var h={excludeConstructors:["Object",/^.$/],quoteStrings:!0,limitChildrenCount:0},i=(Object.prototype.hasOwnProperty,[]);return"undefined"!=typeof c&&i.push({object:c,value:"[object global]"}),"undefined"!=typeof document&&i.push({object:document,value:"[object HTMLDocument]"}),"undefined"!=typeof window&&i.push({object:window,value:"[object Window]"}),f.func=function(a){return"function "+b(a)+"() {}"},f.array=function(a,b){b=b||[],b.push(a);var c,d,e=[];for(d=this.limitChildrenCount>0?Math.min(this.limitChildrenCount,a.length):a.length,c=0;d>c;++c)e.push(f(this,a[c],b));return d<a.length&&e.push("[... "+(a.length-d)+" more elements]"),"["+e.join(", ")+"]"},f.object=function(b,c,g){c=c||[],c.push(b),g=g||0;var h,i,j,k,l,m,n=[],o=a.keys(b).sort(),p=3;for(m=this.limitChildrenCount>0?Math.min(this.limitChildrenCount,o.length):o.length,k=0;m>k;++k)h=o[k],j=b[h],i=e(j,c)?"[Circular]":f(this,j,c,g+2),i=(/\s/.test(h)?'"'+h+'"':h)+": "+i,p+=i.length,n.push(i);var q=d(this,b),r=q?"["+q+"] ":"",s="";for(k=0,l=g;l>k;++k)s+=" ";return m<o.length&&n.push("[... "+(o.length-m)+" more elements]"),p+g>80?r+"{\n  "+s+n.join(",\n  "+s)+"\n"+s+"}":r+"{ "+n.join(", ")+" }"},f.element=function(a){var b,c,d,e,f,g=a.tagName.toLowerCase(),h=a.attributes,i=[];for(d=0,e=h.length;e>d;++d)b=h.item(d),c=b.nodeName.toLowerCase().replace("html:",""),f=b.nodeValue,("contenteditable"!==c||"inherit"!==f)&&f&&i.push(c+'="'+f+'"');var j="<"+g+(i.length>0?" ":""),k=a.innerHTML;k.length>20&&(k=k.substr(0,20)+"[...]");var l=j+i.join(" ")+">"+k+"</"+g+">";return l.replace(/ contentEditable="inherit"/,"")},g.prototype={functionName:b,configure:function(a){return new g(a)},constructorName:function(a){return d(this,a)},ascii:function(a,b,c){return f(this,a,b,c)}},g.prototype})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{samsam:306}],153:[function(a,b,c){"function"==typeof Object.create?b.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:b.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],154:[function(a,b,c){function d(){}var e=a("./_nativeCreate"),f=Object.prototype;d.prototype=e?e(null):f,b.exports=d},{"./_nativeCreate":249}],155:[function(a,b,c){function d(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}var e=a("./_baseCreate"),f=a("./_baseLodash"),g=4294967295;d.prototype=e(f.prototype),d.prototype.constructor=d,b.exports=d},{"./_baseCreate":180,"./_baseLodash":187}],156:[function(a,b,c){function d(a,b){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!b,this.__index__=0,this.__values__=void 0}var e=a("./_baseCreate"),f=a("./_baseLodash");d.prototype=e(f.prototype),d.prototype.constructor=d,b.exports=d},{"./_baseCreate":180,"./_baseLodash":187}],157:[function(a,b,c){var d=a("./_getNative"),e=a("./_root"),f=d(e,"Map");b.exports=f},{"./_getNative":221,"./_root":253}],158:[function(a,b,c){function d(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}var e=a("./_mapClear"),f=a("./_mapDelete"),g=a("./_mapGet"),h=a("./_mapHas"),i=a("./_mapSet");d.prototype.clear=e,d.prototype.delete=f,d.prototype.get=g,d.prototype.has=h,d.prototype.set=i,b.exports=d},{"./_mapClear":240,"./_mapDelete":241,"./_mapGet":242,"./_mapHas":243,"./_mapSet":244}],159:[function(a,b,c){var d=a("./_root"),e=d.Reflect;b.exports=e},{"./_root":253}],160:[function(a,b,c){var d=a("./_getNative"),e=a("./_root"),f=d(e,"Set");b.exports=f},{"./_getNative":221,"./_root":253}],161:[function(a,b,c){function d(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}var e=a("./_stackClear"),f=a("./_stackDelete"),g=a("./_stackGet"),h=a("./_stackHas"),i=a("./_stackSet");d.prototype.clear=e,d.prototype.delete=f,d.prototype.get=g,d.prototype.has=h,d.prototype.set=i,b.exports=d},{"./_stackClear":256,"./_stackDelete":257,"./_stackGet":258,"./_stackHas":259,"./_stackSet":260}],162:[function(a,b,c){var d=a("./_root"),e=d.Symbol;b.exports=e},{"./_root":253}],163:[function(a,b,c){var d=a("./_root"),e=d.Uint8Array;b.exports=e},{"./_root":253}],164:[function(a,b,c){var d=a("./_getNative"),e=a("./_root"),f=d(e,"WeakMap");b.exports=f},{"./_getNative":221,"./_root":253}],165:[function(a,b,c){function d(a,b){return a.set(b[0],b[1]),a}b.exports=d},{}],166:[function(a,b,c){function d(a,b){return a.add(b),a}b.exports=d},{}],167:[function(a,b,c){function d(a,b,c){var d=c.length;switch(d){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}b.exports=d},{}],168:[function(a,b,c){function d(a,b){for(var c=-1,d=a.length;++c<d&&b(a[c],c,a)!==!1;);return a}b.exports=d},{}],169:[function(a,b,c){function d(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}b.exports=d},{}],170:[function(a,b,c){function d(a,b,c,d){var e=-1,f=a.length;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}b.exports=d},{}],171:[function(a,b,c){function d(a,b,c){(void 0!==c&&!e(a[b],c)||"number"==typeof b&&void 0===c&&!(b in a))&&(a[b]=c)}var e=a("./eq");b.exports=d},{"./eq":269}],172:[function(a,b,c){function d(a,b,c){var d=a[b];g.call(a,b)&&e(d,c)&&(void 0!==c||b in a)||(a[b]=c)}var e=a("./eq"),f=Object.prototype,g=f.hasOwnProperty;b.exports=d},{"./eq":269}],173:[function(a,b,c){function d(a,b){var c=e(a,b);if(0>c)return!1;var d=a.length-1;return c==d?a.pop():g.call(a,c,1),!0}var e=a("./_assocIndexOf"),f=Array.prototype,g=f.splice;b.exports=d},{"./_assocIndexOf":176}],174:[function(a,b,c){function d(a,b){var c=e(a,b);return 0>c?void 0:a[c][1]}var e=a("./_assocIndexOf");b.exports=d},{"./_assocIndexOf":176}],175:[function(a,b,c){function d(a,b){return e(a,b)>-1}var e=a("./_assocIndexOf");b.exports=d},{"./_assocIndexOf":176}],176:[function(a,b,c){function d(a,b){for(var c=a.length;c--;)if(e(a[c][0],b))return c;return-1}var e=a("./eq");b.exports=d},{"./eq":269}],177:[function(a,b,c){function d(a,b,c){var d=e(a,b);0>d?a.push([b,c]):a[d][1]=c}var e=a("./_assocIndexOf");b.exports=d},{"./_assocIndexOf":176}],178:[function(a,b,c){function d(a,b){return a&&e(b,f(b),a)}var e=a("./_copyObject"),f=a("./keys");b.exports=d},{"./_copyObject":204,"./keys":287}],179:[function(a,b,c){function d(a,b,c,v,w,x,y){var B;if(v&&(B=x?v(a,w,x,y):v(a)),void 0!==B)return B;if(!t(a))return a;var C=q(a);if(C){if(B=n(a),!b)return k(a,B)}else{var E=m(a),F=E==z||E==A;if(r(a))return j(a,b);if(E==D||E==u||F&&!x){if(s(a))return x?a:{};if(B=p(F?{}:a),!b)return B=h(B,a),c?l(a,B):B}else{if(!T[E])return x?a:{};B=o(a,E,b)}}y||(y=new e);var G=y.get(a);return G?G:(y.set(a,B),(C?f:i)(a,function(e,f){g(B,f,d(e,b,c,v,f,a,y))}),c&&!C?l(a,B):B)}var e=a("./_Stack"),f=a("./_arrayEach"),g=a("./_assignValue"),h=a("./_baseAssign"),i=a("./_baseForOwn"),j=a("./_cloneBuffer"),k=a("./_copyArray"),l=a("./_copySymbols"),m=a("./_getTag"),n=a("./_initCloneArray"),o=a("./_initCloneByTag"),p=a("./_initCloneObject"),q=a("./isArray"),r=a("./isBuffer"),s=a("./_isHostObject"),t=a("./isObject"),u="[object Arguments]",v="[object Array]",w="[object Boolean]",x="[object Date]",y="[object Error]",z="[object Function]",A="[object GeneratorFunction]",B="[object Map]",C="[object Number]",D="[object Object]",E="[object RegExp]",F="[object Set]",G="[object String]",H="[object Symbol]",I="[object WeakMap]",J="[object ArrayBuffer]",K="[object Float32Array]",L="[object Float64Array]",M="[object Int8Array]",N="[object Int16Array]",O="[object Int32Array]",P="[object Uint8Array]",Q="[object Uint8ClampedArray]",R="[object Uint16Array]",S="[object Uint32Array]",T={};T[u]=T[v]=T[J]=T[w]=T[x]=T[K]=T[L]=T[M]=T[N]=T[O]=T[B]=T[C]=T[D]=T[E]=T[F]=T[G]=T[H]=T[P]=T[Q]=T[R]=T[S]=!0,T[y]=T[z]=T[I]=!1,b.exports=d},{"./_Stack":161,"./_arrayEach":168,"./_assignValue":172,"./_baseAssign":178,"./_baseForOwn":183,"./_cloneBuffer":195,"./_copyArray":203,"./_copySymbols":206,"./_getTag":224,"./_initCloneArray":230,"./_initCloneByTag":231,"./_initCloneObject":232,"./_isHostObject":233,"./isArray":273,"./isBuffer":276,"./isObject":281}],180:[function(a,b,c){function d(a){return e(a)?f(a):{}}var e=a("./isObject"),f=Object.create;b.exports=d},{"./isObject":281}],181:[function(a,b,c){function d(a,b,c,i){i||(i=[]);for(var j=-1,k=a.length;++j<k;){var l=a[j];b>0&&h(l)&&(c||g(l)||f(l))?b>1?d(l,b-1,c,i):e(i,l):c||(i[i.length]=l)}return i}var e=a("./_arrayPush"),f=a("./isArguments"),g=a("./isArray"),h=a("./isArrayLikeObject");b.exports=d},{"./_arrayPush":169,"./isArguments":272,"./isArray":273,"./isArrayLikeObject":275}],182:[function(a,b,c){var d=a("./_createBaseFor"),e=d();b.exports=e},{"./_createBaseFor":209}],183:[function(a,b,c){function d(a,b){return a&&e(a,b,f)}var e=a("./_baseFor"),f=a("./keys");b.exports=d},{"./_baseFor":182,"./keys":287}],184:[function(a,b,c){function d(a,b){return f.call(a,b)||"object"==typeof a&&b in a&&null===g(a)}var e=Object.prototype,f=e.hasOwnProperty,g=Object.getPrototypeOf;b.exports=d},{}],185:[function(a,b,c){function d(a){return e(Object(a))}var e=Object.keys;b.exports=d},{}],186:[function(a,b,c){function d(a){a=null==a?a:Object(a);var b=[];for(var c in a)b.push(c);return b}var e=a("./_Reflect"),f=a("./_iteratorToArray"),g=Object.prototype,h=e?e.enumerate:void 0,i=g.propertyIsEnumerable;h&&!i.call({valueOf:1},"valueOf")&&(d=function(a){return f(h(a))}),b.exports=d},{"./_Reflect":159,"./_iteratorToArray":239}],187:[function(a,b,c){function d(){}b.exports=d},{}],188:[function(a,b,c){function d(a,b,c,m,n){if(a!==b){var o=i(b)||k(b)?void 0:l(b);f(o||b,function(f,i){if(o&&(i=f,f=b[i]),j(f))n||(n=new e),h(a,b,i,c,d,m,n);else{var k=m?m(a[i],f,i+"",a,b,n):void 0;void 0===k&&(k=f),g(a,i,k)}})}}var e=a("./_Stack"),f=a("./_arrayEach"),g=a("./_assignMergeValue"),h=a("./_baseMergeDeep"),i=a("./isArray"),j=a("./isObject"),k=a("./isTypedArray"),l=a("./keysIn");b.exports=d},{"./_Stack":161,"./_arrayEach":168,"./_assignMergeValue":171,"./_baseMergeDeep":189,"./isArray":273,"./isObject":281,"./isTypedArray":286,"./keysIn":288}],189:[function(a,b,c){function d(a,b,c,d,p,q,r){var s=a[c],t=b[c],u=r.get(t);if(u)return void e(a,c,u);var v=q?q(s,t,c+"",a,b,r):void 0,w=void 0===v;w&&(v=t,i(t)||n(t)?i(s)?v=s:j(s)?v=g(s):(w=!1,v=f(t,!q)):m(t)||h(t)?h(s)?v=o(s):!l(s)||d&&k(s)?(w=!1,v=f(t,!q)):v=s:w=!1),r.set(t,v),w&&p(v,t,d,q,r),r.delete(t),e(a,c,v)}var e=a("./_assignMergeValue"),f=a("./_baseClone"),g=a("./_copyArray"),h=a("./isArguments"),i=a("./isArray"),j=a("./isArrayLikeObject"),k=a("./isFunction"),l=a("./isObject"),m=a("./isPlainObject"),n=a("./isTypedArray"),o=a("./toPlainObject");b.exports=d},{"./_assignMergeValue":171,"./_baseClone":179,"./_copyArray":203,"./isArguments":272,"./isArray":273,"./isArrayLikeObject":275,"./isFunction":277,"./isObject":281,"./isPlainObject":283,"./isTypedArray":286,"./toPlainObject":299}],190:[function(a,b,c){function d(a){return function(b){return null==b?void 0:b[a]}}b.exports=d},{}],191:[function(a,b,c){var d=a("./identity"),e=a("./_metaMap"),f=e?function(a,b){return e.set(a,b),a}:d;b.exports=f},{"./_metaMap":248,"./identity":271}],192:[function(a,b,c){function d(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d}b.exports=d},{}],193:[function(a,b,c){function d(a){return a&&a.Object===Object?a:null}b.exports=d},{}],194:[function(a,b,c){function d(a){var b=new a.constructor(a.byteLength);return new e(b).set(new e(a)),b}var e=a("./_Uint8Array");b.exports=d},{"./_Uint8Array":163}],195:[function(a,b,c){function d(a,b){if(b)return a.slice();var c=new a.constructor(a.length);return a.copy(c),c}b.exports=d},{}],196:[function(a,b,c){function d(a){return f(g(a),e,new a.constructor)}var e=a("./_addMapEntry"),f=a("./_arrayReduce"),g=a("./_mapToArray");b.exports=d},{"./_addMapEntry":165,"./_arrayReduce":170,"./_mapToArray":245}],197:[function(a,b,c){function d(a){var b=new a.constructor(a.source,e.exec(a));return b.lastIndex=a.lastIndex,b}var e=/\w*$/;b.exports=d},{}],198:[function(a,b,c){function d(a){return f(g(a),e,new a.constructor)}var e=a("./_addSetEntry"),f=a("./_arrayReduce"),g=a("./_setToArray");b.exports=d},{"./_addSetEntry":166,"./_arrayReduce":170,"./_setToArray":255}],199:[function(a,b,c){function d(a){return g?Object(g.call(a)):{}}var e=a("./_Symbol"),f=e?e.prototype:void 0,g=f?f.valueOf:void 0;b.exports=d},{"./_Symbol":162}],200:[function(a,b,c){function d(a,b){var c=b?e(a.buffer):a.buffer;return new a.constructor(c,a.byteOffset,a.length)}var e=a("./_cloneArrayBuffer");b.exports=d},{"./_cloneArrayBuffer":194}],201:[function(a,b,c){function d(a,b,c,d){for(var f=-1,g=a.length,h=c.length,i=-1,j=b.length,k=e(g-h,0),l=Array(j+k),m=!d;++i<j;)l[i]=b[i];for(;++f<h;)(m||g>f)&&(l[c[f]]=a[f]);for(;k--;)l[i++]=a[f++];return l}var e=Math.max;b.exports=d},{}],202:[function(a,b,c){function d(a,b,c,d){for(var f=-1,g=a.length,h=-1,i=c.length,j=-1,k=b.length,l=e(g-i,0),m=Array(l+k),n=!d;++f<l;)m[f]=a[f];for(var o=f;++j<k;)m[o+j]=b[j];for(;++h<i;)(n||g>f)&&(m[o+c[h]]=a[f++]);return m}var e=Math.max;b.exports=d},{}],203:[function(a,b,c){function d(a,b){var c=-1,d=a.length;for(b||(b=Array(d));++c<d;)b[c]=a[c];return b}b.exports=d},{}],204:[function(a,b,c){function d(a,b,c){return e(a,b,c)}var e=a("./_copyObjectWith");b.exports=d},{"./_copyObjectWith":205}],205:[function(a,b,c){function d(a,b,c,d){c||(c={});for(var f=-1,g=b.length;++f<g;){var h=b[f],i=d?d(c[h],a[h],h,c,a):a[h];e(c,h,i)}return c}var e=a("./_assignValue");b.exports=d},{"./_assignValue":172}],206:[function(a,b,c){function d(a,b){return e(a,f(a),b)}var e=a("./_copyObject"),f=a("./_getSymbols");b.exports=d},{"./_copyObject":204,"./_getSymbols":223}],207:[function(a,b,c){function d(a,b){for(var c=a.length,d=0;c--;)a[c]===b&&d++;return d}b.exports=d},{}],208:[function(a,b,c){function d(a){return f(function(b,c){var d=-1,f=c.length,g=f>1?c[f-1]:void 0,h=f>2?c[2]:void 0;for(g="function"==typeof g?(f--,g):void 0,h&&e(c[0],c[1],h)&&(g=3>f?void 0:g,f=1),b=Object(b);++d<f;){var i=c[d];i&&a(b,i,d,g)}return b})}var e=a("./_isIterateeCall"),f=a("./rest");b.exports=d},{"./_isIterateeCall":235,"./rest":296}],209:[function(a,b,c){function d(a){return function(b,c,d){for(var e=-1,f=Object(b),g=d(b),h=g.length;h--;){var i=g[a?h:++e];if(c(f[i],i,f)===!1)break}return b}}b.exports=d},{}],210:[function(a,b,c){function d(a,b,c){function d(){var b=this&&this!==f&&this instanceof d?i:a;return b.apply(h?c:this,arguments)}var h=b&g,i=e(a);return d}var e=a("./_createCtorWrapper"),f=a("./_root"),g=1;b.exports=d},{"./_createCtorWrapper":211,"./_root":253}],211:[function(a,b,c){function d(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var c=e(a.prototype),d=a.apply(c,b);return f(d)?d:c}}var e=a("./_baseCreate"),f=a("./isObject");b.exports=d},{"./_baseCreate":180,"./isObject":281}],212:[function(a,b,c){function d(a,b,c){function d(){for(var f=arguments.length,m=Array(f),n=f,o=i(d);n--;)m[n]=arguments[n];var p=3>f&&m[0]!==o&&m[f-1]!==o?[]:j(m,o);if(f-=p.length,c>f)return h(a,b,g,d.placeholder,void 0,m,p,void 0,void 0,c-f);var q=this&&this!==k&&this instanceof d?l:a;return e(q,this,m)}var l=f(a);return d}var e=a("./_apply"),f=a("./_createCtorWrapper"),g=a("./_createHybridWrapper"),h=a("./_createRecurryWrapper"),i=a("./_getPlaceholder"),j=a("./_replaceHolders"),k=a("./_root");b.exports=d},{"./_apply":167,"./_createCtorWrapper":211,"./_createHybridWrapper":213,"./_createRecurryWrapper":216,"./_getPlaceholder":222,"./_replaceHolders":252,"./_root":253}],213:[function(a,b,c){function d(a,b,c,t,u,v,w,x,y,z){function A(){for(var n=arguments.length,o=n,p=Array(n);o--;)p[o]=arguments[o];if(E)var q=j(A),r=g(p,q);if(t&&(p=e(p,t,u,E)),v&&(p=f(p,v,w,E)),n-=r,E&&z>n){var s=l(p,q);return i(a,b,d,A.placeholder,c,p,s,x,y,z-n)}var H=C?c:this,I=D?H[a]:a;return n=p.length,x?p=k(p,x):F&&n>1&&p.reverse(),B&&n>y&&(p.length=y),this&&this!==m&&this instanceof A&&(I=G||h(I)),I.apply(H,p)}var B=b&r,C=b&n,D=b&o,E=b&(p|q),F=b&s,G=D?void 0:h(a);return A}var e=a("./_composeArgs"),f=a("./_composeArgsRight"),g=a("./_countHolders"),h=a("./_createCtorWrapper"),i=a("./_createRecurryWrapper"),j=a("./_getPlaceholder"),k=a("./_reorder"),l=a("./_replaceHolders"),m=a("./_root"),n=1,o=2,p=8,q=16,r=128,s=512;b.exports=d},{"./_composeArgs":201,"./_composeArgsRight":202,"./_countHolders":207,"./_createCtorWrapper":211,"./_createRecurryWrapper":216,"./_getPlaceholder":222,"./_reorder":251,"./_replaceHolders":252,"./_root":253}],214:[function(a,b,c){function d(a,b,c){b=h(b);var d=f(a);if(!b||d>=b)return"";var i=b-d;c=void 0===c?" ":c+"";var j=e(c,o(i/f(c)));return n.test(c)?g(j).slice(0,i).join(""):j.slice(0,i)}var e=a("./repeat"),f=a("./_stringSize"),g=a("./_stringToArray"),h=a("./toInteger"),i="\\ud800-\\udfff",j="\\u0300-\\u036f\\ufe20-\\ufe23",k="\\u20d0-\\u20f0",l="\\ufe0e\\ufe0f",m="\\u200d",n=RegExp("["+m+i+j+k+l+"]"),o=Math.ceil;b.exports=d},{"./_stringSize":261,"./_stringToArray":262,"./repeat":295,"./toInteger":297}],215:[function(a,b,c){function d(a,b,c,d){function i(){for(var b=-1,f=arguments.length,h=-1,l=d.length,m=Array(l+f),n=this&&this!==g&&this instanceof i?k:a;++h<l;)m[h]=d[h];for(;f--;)m[h++]=arguments[++b];return e(n,j?c:this,m)}var j=b&h,k=f(a);return i}var e=a("./_apply"),f=a("./_createCtorWrapper"),g=a("./_root"),h=1;b.exports=d},{"./_apply":167,"./_createCtorWrapper":211,"./_root":253}],216:[function(a,b,c){function d(a,b,c,d,n,o,p,q,r,s){var t=b&k,u=q?e(q):void 0,v=t?p:void 0,w=t?void 0:p,x=t?o:void 0,y=t?void 0:o;b|=t?l:m,b&=~(t?m:l),b&j||(b&=~(h|i));var z=[a,b,n,x,v,y,w,u,r,s],A=c.apply(void 0,z);return f(a)&&g(A,z),A.placeholder=d,A}var e=a("./_copyArray"),f=a("./_isLaziable"),g=a("./_setData"),h=1,i=2,j=4,k=8,l=32,m=64;b.exports=d},{"./_copyArray":203,"./_isLaziable":237,"./_setData":254}],217:[function(a,b,c){function d(a,b,c,d,v,w,x,y){var z=b&p;if(!z&&"function"!=typeof a)throw new TypeError(n);var A=d?d.length:0;
if(A||(b&=~(s|t),d=v=void 0),x=void 0===x?x:u(m(x),0),y=void 0===y?y:m(y),A-=v?v.length:0,b&t){var B=d,C=v;d=v=void 0}var D=z?void 0:j(a),E=[a,b,c,d,v,B,C,w,x,y];if(D&&k(E,D),a=E[0],b=E[1],c=E[2],d=E[3],v=E[4],y=E[9]=null==E[9]?z?0:a.length:u(E[9]-A,0),!y&&b&(q|r)&&(b&=~(q|r)),b&&b!=o)F=b==q||b==r?g(a,b,y):b!=s&&b!=(o|s)||v.length?h.apply(void 0,E):i(a,b,c,d);else var F=f(a,b,c);var G=D?e:l;return G(F,E)}var e=a("./_baseSetData"),f=a("./_createBaseWrapper"),g=a("./_createCurryWrapper"),h=a("./_createHybridWrapper"),i=a("./_createPartialWrapper"),j=a("./_getData"),k=a("./_mergeData"),l=a("./_setData"),m=a("./toInteger"),n="Expected a function",o=1,p=2,q=8,r=16,s=32,t=64,u=Math.max;b.exports=d},{"./_baseSetData":191,"./_createBaseWrapper":210,"./_createCurryWrapper":212,"./_createHybridWrapper":213,"./_createPartialWrapper":215,"./_getData":218,"./_mergeData":246,"./_setData":254,"./toInteger":297}],218:[function(a,b,c){var d=a("./_metaMap"),e=a("./noop"),f=d?function(a){return d.get(a)}:e;b.exports=f},{"./_metaMap":248,"./noop":290}],219:[function(a,b,c){function d(a){for(var b=a.name+"",c=e[b],d=g.call(e,b)?c.length:0;d--;){var f=c[d],h=f.func;if(null==h||h==a)return f.name}return b}var e=a("./_realNames"),f=Object.prototype,g=f.hasOwnProperty;b.exports=d},{"./_realNames":250}],220:[function(a,b,c){var d=a("./_baseProperty"),e=d("length");b.exports=e},{"./_baseProperty":190}],221:[function(a,b,c){function d(a,b){var c=a[b];return e(c)?c:void 0}var e=a("./isNative");b.exports=d},{"./isNative":279}],222:[function(a,b,c){function d(a){var b=a;return b.placeholder}b.exports=d},{}],223:[function(a,b,c){var d=Object.getOwnPropertySymbols,e=d||function(){return[]};b.exports=e},{}],224:[function(a,b,c){function d(a){return n.call(a)}var e=a("./_Map"),f=a("./_Set"),g=a("./_WeakMap"),h="[object Map]",i="[object Object]",j="[object Set]",k="[object WeakMap]",l=Object.prototype,m=Function.prototype.toString,n=l.toString,o=e?m.call(e):"",p=f?m.call(f):"",q=g?m.call(g):"";(e&&d(new e)!=h||f&&d(new f)!=j||g&&d(new g)!=k)&&(d=function(a){var b=n.call(a),c=b==i?a.constructor:null,d="function"==typeof c?m.call(c):"";if(d)switch(d){case o:return h;case p:return j;case q:return k}return b}),b.exports=d},{"./_Map":157,"./_Set":160,"./_WeakMap":164}],225:[function(a,b,c){function d(a,b){return e(a,b)&&delete a[b]}var e=a("./_hashHas");b.exports=d},{"./_hashHas":227}],226:[function(a,b,c){function d(a,b){if(e){var c=a[b];return c===f?void 0:c}return h.call(a,b)?a[b]:void 0}var e=a("./_nativeCreate"),f="__lodash_hash_undefined__",g=Object.prototype,h=g.hasOwnProperty;b.exports=d},{"./_nativeCreate":249}],227:[function(a,b,c){function d(a,b){return e?void 0!==a[b]:g.call(a,b)}var e=a("./_nativeCreate"),f=Object.prototype,g=f.hasOwnProperty;b.exports=d},{"./_nativeCreate":249}],228:[function(a,b,c){function d(a,b,c){a[b]=e&&void 0===c?f:c}var e=a("./_nativeCreate"),f="__lodash_hash_undefined__";b.exports=d},{"./_nativeCreate":249}],229:[function(a,b,c){function d(a){var b=a?a.length:void 0;return h(b)&&(g(a)||i(a)||f(a))?e(b,String):null}var e=a("./_baseTimes"),f=a("./isArguments"),g=a("./isArray"),h=a("./isLength"),i=a("./isString");b.exports=d},{"./_baseTimes":192,"./isArguments":272,"./isArray":273,"./isLength":278,"./isString":284}],230:[function(a,b,c){function d(a){var b=a.length,c=a.constructor(b);return b&&"string"==typeof a[0]&&f.call(a,"index")&&(c.index=a.index,c.input=a.input),c}var e=Object.prototype,f=e.hasOwnProperty;b.exports=d},{}],231:[function(a,b,c){function d(a,b,c){var d=a.constructor;switch(b){case s:return e(a);case k:case l:return new d(+a);case t:case u:case v:case w:case x:case y:case z:case A:case B:return j(a,c);case m:return f(a);case n:case q:return new d(a);case o:return g(a);case p:return h(a);case r:return i(a)}}var e=a("./_cloneArrayBuffer"),f=a("./_cloneMap"),g=a("./_cloneRegExp"),h=a("./_cloneSet"),i=a("./_cloneSymbol"),j=a("./_cloneTypedArray"),k="[object Boolean]",l="[object Date]",m="[object Map]",n="[object Number]",o="[object RegExp]",p="[object Set]",q="[object String]",r="[object Symbol]",s="[object ArrayBuffer]",t="[object Float32Array]",u="[object Float64Array]",v="[object Int8Array]",w="[object Int16Array]",x="[object Int32Array]",y="[object Uint8Array]",z="[object Uint8ClampedArray]",A="[object Uint16Array]",B="[object Uint32Array]";b.exports=d},{"./_cloneArrayBuffer":194,"./_cloneMap":196,"./_cloneRegExp":197,"./_cloneSet":198,"./_cloneSymbol":199,"./_cloneTypedArray":200}],232:[function(a,b,c){function d(a){return"function"!=typeof a.constructor||f(a)?{}:e(g(a))}var e=a("./_baseCreate"),f=a("./_isPrototype"),g=Object.getPrototypeOf;b.exports=d},{"./_baseCreate":180,"./_isPrototype":238}],233:[function(a,b,c){function d(a){var b=!1;if(null!=a&&"function"!=typeof a.toString)try{b=!!(a+"")}catch(a){}return b}b.exports=d},{}],234:[function(a,b,c){function d(a,b){return a="number"==typeof a||f.test(a)?+a:-1,b=null==b?e:b,a>-1&&a%1==0&&b>a}var e=9007199254740991,f=/^(?:0|[1-9]\d*)$/;b.exports=d},{}],235:[function(a,b,c){function d(a,b,c){if(!h(c))return!1;var d=typeof b;return("number"==d?f(c)&&g(b,c.length):"string"==d&&b in c)?e(c[b],a):!1}var e=a("./eq"),f=a("./isArrayLike"),g=a("./_isIndex"),h=a("./isObject");b.exports=d},{"./_isIndex":234,"./eq":269,"./isArrayLike":274,"./isObject":281}],236:[function(a,b,c){function d(a){var b=typeof a;return"number"==b||"boolean"==b||"string"==b&&"__proto__"!=a||null==a}b.exports=d},{}],237:[function(a,b,c){function d(a){var b=g(a),c=h[b];if("function"!=typeof c||!(b in e.prototype))return!1;if(a===c)return!0;var d=f(c);return!!d&&a===d[0]}var e=a("./_LazyWrapper"),f=a("./_getData"),g=a("./_getFuncName"),h=a("./wrapperLodash");b.exports=d},{"./_LazyWrapper":155,"./_getData":218,"./_getFuncName":219,"./wrapperLodash":301}],238:[function(a,b,c){function d(a){var b=a&&a.constructor,c="function"==typeof b&&b.prototype||e;return a===c}var e=Object.prototype;b.exports=d},{}],239:[function(a,b,c){function d(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c}b.exports=d},{}],240:[function(a,b,c){function d(){this.__data__={hash:new e,map:f?new f:[],string:new e}}var e=a("./_Hash"),f=a("./_Map");b.exports=d},{"./_Hash":154,"./_Map":157}],241:[function(a,b,c){function d(a){var b=this.__data__;return h(a)?g("string"==typeof a?b.string:b.hash,a):e?b.map.delete(a):f(b.map,a)}var e=a("./_Map"),f=a("./_assocDelete"),g=a("./_hashDelete"),h=a("./_isKeyable");b.exports=d},{"./_Map":157,"./_assocDelete":173,"./_hashDelete":225,"./_isKeyable":236}],242:[function(a,b,c){function d(a){var b=this.__data__;return h(a)?g("string"==typeof a?b.string:b.hash,a):e?b.map.get(a):f(b.map,a)}var e=a("./_Map"),f=a("./_assocGet"),g=a("./_hashGet"),h=a("./_isKeyable");b.exports=d},{"./_Map":157,"./_assocGet":174,"./_hashGet":226,"./_isKeyable":236}],243:[function(a,b,c){function d(a){var b=this.__data__;return h(a)?g("string"==typeof a?b.string:b.hash,a):e?b.map.has(a):f(b.map,a)}var e=a("./_Map"),f=a("./_assocHas"),g=a("./_hashHas"),h=a("./_isKeyable");b.exports=d},{"./_Map":157,"./_assocHas":175,"./_hashHas":227,"./_isKeyable":236}],244:[function(a,b,c){function d(a,b){var c=this.__data__;return h(a)?g("string"==typeof a?c.string:c.hash,a,b):e?c.map.set(a,b):f(c.map,a,b),this}var e=a("./_Map"),f=a("./_assocSet"),g=a("./_hashSet"),h=a("./_isKeyable");b.exports=d},{"./_Map":157,"./_assocSet":177,"./_hashSet":228,"./_isKeyable":236}],245:[function(a,b,c){function d(a){var b=-1,c=Array(a.size);return a.forEach(function(a,d){c[++b]=[d,a]}),c}b.exports=d},{}],246:[function(a,b,c){function d(a,b){var c=a[1],d=b[1],q=c|d,r=(j|k|n)>q,s=d==n&&c==m||d==n&&c==o&&a[7].length<=b[8]||d==(n|o)&&b[7].length<=b[8]&&c==m;if(!r&&!s)return a;d&j&&(a[2]=b[2],q|=c&j?0:l);var t=b[3];if(t){var u=a[3];a[3]=u?e(u,t,b[4]):g(t),a[4]=u?h(a[3],i):g(b[4])}return t=b[5],t&&(u=a[5],a[5]=u?f(u,t,b[6]):g(t),a[6]=u?h(a[5],i):g(b[6])),t=b[7],t&&(a[7]=g(t)),d&n&&(a[8]=null==a[8]?b[8]:p(a[8],b[8])),null==a[9]&&(a[9]=b[9]),a[0]=b[0],a[1]=q,a}var e=a("./_composeArgs"),f=a("./_composeArgsRight"),g=a("./_copyArray"),h=a("./_replaceHolders"),i="__lodash_placeholder__",j=1,k=2,l=4,m=8,n=128,o=256,p=Math.min;b.exports=d},{"./_composeArgs":201,"./_composeArgsRight":202,"./_copyArray":203,"./_replaceHolders":252}],247:[function(a,b,c){function d(a,b,c,g,h,i){return f(a)&&f(b)&&e(a,b,void 0,d,i.set(b,a)),a}var e=a("./_baseMerge"),f=a("./isObject");b.exports=d},{"./_baseMerge":188,"./isObject":281}],248:[function(a,b,c){var d=a("./_WeakMap"),e=d&&new d;b.exports=e},{"./_WeakMap":164}],249:[function(a,b,c){var d=a("./_getNative"),e=d(Object,"create");b.exports=e},{"./_getNative":221}],250:[function(a,b,c){var d={};b.exports=d},{}],251:[function(a,b,c){function d(a,b){for(var c=a.length,d=g(b.length,c),h=e(a);d--;){var i=b[d];a[d]=f(i,c)?h[i]:void 0}return a}var e=a("./_copyArray"),f=a("./_isIndex"),g=Math.min;b.exports=d},{"./_copyArray":203,"./_isIndex":234}],252:[function(a,b,c){function d(a,b){for(var c=-1,d=a.length,f=0,g=[];++c<d;){var h=a[c];(h===b||h===e)&&(a[c]=e,g[f++]=c)}return g}var e="__lodash_placeholder__";b.exports=d},{}],253:[function(a,b,c){(function(d){var e=a("./_checkGlobal"),f={function:!0,object:!0},g=f[typeof c]&&c&&!c.nodeType?c:void 0,h=f[typeof b]&&b&&!b.nodeType?b:void 0,i=e(g&&h&&"object"==typeof d&&d),j=e(f[typeof self]&&self),k=e(f[typeof window]&&window),l=e(f[typeof this]&&this),m=i||k!==(l&&l.window)&&k||j||l||Function("return this")();b.exports=m}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_checkGlobal":193}],254:[function(a,b,c){var d=a("./_baseSetData"),e=a("./now"),f=150,g=16,h=function(){var a=0,b=0;return function(c,h){var i=e(),j=g-(i-b);if(b=i,j>0){if(++a>=f)return c}else a=0;return d(c,h)}}();b.exports=h},{"./_baseSetData":191,"./now":291}],255:[function(a,b,c){function d(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=a}),c}b.exports=d},{}],256:[function(a,b,c){function d(){this.__data__={array:[],map:null}}b.exports=d},{}],257:[function(a,b,c){function d(a){var b=this.__data__,c=b.array;return c?e(c,a):b.map.delete(a)}var e=a("./_assocDelete");b.exports=d},{"./_assocDelete":173}],258:[function(a,b,c){function d(a){var b=this.__data__,c=b.array;return c?e(c,a):b.map.get(a)}var e=a("./_assocGet");b.exports=d},{"./_assocGet":174}],259:[function(a,b,c){function d(a){var b=this.__data__,c=b.array;return c?e(c,a):b.map.has(a)}var e=a("./_assocHas");b.exports=d},{"./_assocHas":175}],260:[function(a,b,c){function d(a,b){var c=this.__data__,d=c.array;d&&(d.length<g-1?f(d,a,b):(c.array=null,c.map=new e(d)));var h=c.map;return h&&h.set(a,b),this}var e=a("./_MapCache"),f=a("./_assocSet"),g=200;b.exports=d},{"./_MapCache":158,"./_assocSet":177}],261:[function(a,b,c){function d(a){if(!a||!w.test(a))return a.length;for(var b=v.lastIndex=0;v.test(a);)b++;return b}var e="\\ud800-\\udfff",f="\\u0300-\\u036f\\ufe20-\\ufe23",g="\\u20d0-\\u20f0",h="\\ufe0e\\ufe0f",i="["+e+"]",j="["+f+g+"]",k="\\ud83c[\\udffb-\\udfff]",l="(?:"+j+"|"+k+")",m="[^"+e+"]",n="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",q=l+"?",r="["+h+"]?",s="(?:"+p+"(?:"+[m,n,o].join("|")+")"+r+q+")*",t=r+q+s,u="(?:"+[m+j+"?",j,n,o,i].join("|")+")",v=RegExp(k+"(?="+k+")|"+u+t,"g"),w=RegExp("["+p+e+f+g+h+"]");b.exports=d},{}],262:[function(a,b,c){function d(a){return a.match(v)}var e="\\ud800-\\udfff",f="\\u0300-\\u036f\\ufe20-\\ufe23",g="\\u20d0-\\u20f0",h="\\ufe0e\\ufe0f",i="["+e+"]",j="["+f+g+"]",k="\\ud83c[\\udffb-\\udfff]",l="(?:"+j+"|"+k+")",m="[^"+e+"]",n="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",q=l+"?",r="["+h+"]?",s="(?:"+p+"(?:"+[m,n,o].join("|")+")"+r+q+")*",t=r+q+s,u="(?:"+[m+j+"?",j,n,o,i].join("|")+")",v=RegExp(k+"(?="+k+")|"+u+t,"g");b.exports=d},{}],263:[function(a,b,c){function d(a){if(a instanceof e)return a.clone();var b=new f(a.__wrapped__,a.__chain__);return b.__actions__=g(a.__actions__),b.__index__=a.__index__,b.__values__=a.__values__,b}var e=a("./_LazyWrapper"),f=a("./_LodashWrapper"),g=a("./_copyArray");b.exports=d},{"./_LazyWrapper":155,"./_LodashWrapper":156,"./_copyArray":203}],264:[function(a,b,c){var d=a("./_assignValue"),e=a("./_copyObject"),f=a("./_createAssigner"),g=a("./isArrayLike"),h=a("./_isPrototype"),i=a("./keys"),j=Object.prototype,k=j.hasOwnProperty,l=j.propertyIsEnumerable,m=!l.call({valueOf:1},"valueOf"),n=f(function(a,b){if(m||h(b)||g(b))return void e(b,i(b),a);for(var c in b)k.call(b,c)&&d(a,c,b[c])});b.exports=n},{"./_assignValue":172,"./_copyObject":204,"./_createAssigner":208,"./_isPrototype":238,"./isArrayLike":274,"./keys":287}],265:[function(a,b,c){function d(a,b){var c;if("function"!=typeof b)throw new TypeError(f);return a=e(a),function(){return--a>0&&(c=b.apply(this,arguments)),1>=a&&(b=void 0),c}}var e=a("./toInteger"),f="Expected a function";b.exports=d},{"./toInteger":297}],266:[function(a,b,c){var d=a("./_createWrapper"),e=a("./_getPlaceholder"),f=a("./_replaceHolders"),g=a("./rest"),h=1,i=32,j=g(function(a,b,c){var g=h;if(c.length){var k=f(c,e(j));g|=i}return d(a,g,b,c,k)});j.placeholder={},b.exports=j},{"./_createWrapper":217,"./_getPlaceholder":222,"./_replaceHolders":252,"./rest":296}],267:[function(a,b,c){function d(a){return function(){return a}}b.exports=d},{}],268:[function(a,b,c){var d=a("./_apply"),e=a("./_mergeDefaults"),f=a("./mergeWith"),g=a("./rest"),h=g(function(a){return a.push(void 0,e),d(f,void 0,a)});b.exports=h},{"./_apply":167,"./_mergeDefaults":247,"./mergeWith":289,"./rest":296}],269:[function(a,b,c){function d(a,b){return a===b||a!==a&&b!==b}b.exports=d},{}],270:[function(a,b,c){function d(a){var b=a?a.length:0;return b?e(a,1):[]}var e=a("./_baseFlatten");b.exports=d},{"./_baseFlatten":181}],271:[function(a,b,c){function d(a){return a}b.exports=d},{}],272:[function(a,b,c){function d(a){return e(a)&&h.call(a,"callee")&&(!j.call(a,"callee")||i.call(a)==f)}var e=a("./isArrayLikeObject"),f="[object Arguments]",g=Object.prototype,h=g.hasOwnProperty,i=g.toString,j=g.propertyIsEnumerable;b.exports=d},{"./isArrayLikeObject":275}],273:[function(a,b,c){var d=Array.isArray;b.exports=d},{}],274:[function(a,b,c){function d(a){return null!=a&&g(e(a))&&!f(a)}var e=a("./_getLength"),f=a("./isFunction"),g=a("./isLength");b.exports=d},{"./_getLength":220,"./isFunction":277,"./isLength":278}],275:[function(a,b,c){function d(a){return f(a)&&e(a)}var e=a("./isArrayLike"),f=a("./isObjectLike");b.exports=d},{"./isArrayLike":274,"./isObjectLike":282}],276:[function(a,b,c){var d=a("./constant"),e=a("./_root"),f={function:!0,object:!0},g=f[typeof c]&&c&&!c.nodeType?c:void 0,h=f[typeof b]&&b&&!b.nodeType?b:void 0,i=h&&h.exports===g?g:void 0,j=i?e.Buffer:void 0,k=j?function(a){return a instanceof j}:d(!1);b.exports=k},{"./_root":253,"./constant":267}],277:[function(a,b,c){function d(a){var b=e(a)?i.call(a):"";return b==f||b==g}var e=a("./isObject"),f="[object Function]",g="[object GeneratorFunction]",h=Object.prototype,i=h.toString;b.exports=d},{"./isObject":281}],278:[function(a,b,c){function d(a){return"number"==typeof a&&a>-1&&a%1==0&&e>=a}var e=9007199254740991;b.exports=d},{}],279:[function(a,b,c){function d(a){return null==a?!1:e(a)?m.test(k.call(a)):g(a)&&(f(a)?m:i).test(a)}var e=a("./isFunction"),f=a("./_isHostObject"),g=a("./isObjectLike"),h=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,j=Object.prototype,k=Function.prototype.toString,l=j.hasOwnProperty,m=RegExp("^"+k.call(l).replace(h,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");b.exports=d},{"./_isHostObject":233,"./isFunction":277,"./isObjectLike":282}],280:[function(a,b,c){function d(a){return"number"==typeof a||e(a)&&h.call(a)==f}var e=a("./isObjectLike"),f="[object Number]",g=Object.prototype,h=g.toString;b.exports=d},{"./isObjectLike":282}],281:[function(a,b,c){function d(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}b.exports=d},{}],282:[function(a,b,c){function d(a){return!!a&&"object"==typeof a}b.exports=d},{}],283:[function(a,b,c){function d(a){if(!f(a)||k.call(a)!=g||e(a))return!1;var b=l(a);if(null===b)return!0;var c=b.constructor;return"function"==typeof c&&c instanceof c&&i.call(c)==j}var e=a("./_isHostObject"),f=a("./isObjectLike"),g="[object Object]",h=Object.prototype,i=Function.prototype.toString,j=i.call(Object),k=h.toString,l=Object.getPrototypeOf;b.exports=d},{"./_isHostObject":233,"./isObjectLike":282}],284:[function(a,b,c){function d(a){return"string"==typeof a||!e(a)&&f(a)&&i.call(a)==g}var e=a("./isArray"),f=a("./isObjectLike"),g="[object String]",h=Object.prototype,i=h.toString;b.exports=d},{"./isArray":273,"./isObjectLike":282}],285:[function(a,b,c){function d(a){return"symbol"==typeof a||e(a)&&h.call(a)==f}var e=a("./isObjectLike"),f="[object Symbol]",g=Object.prototype,h=g.toString;b.exports=d},{"./isObjectLike":282}],286:[function(a,b,c){function d(a){return f(a)&&e(a.length)&&!!D[F.call(a)]}var e=a("./isLength"),f=a("./isObjectLike"),g="[object Arguments]",h="[object Array]",i="[object Boolean]",j="[object Date]",k="[object Error]",l="[object Function]",m="[object Map]",n="[object Number]",o="[object Object]",p="[object RegExp]",q="[object Set]",r="[object String]",s="[object WeakMap]",t="[object ArrayBuffer]",u="[object Float32Array]",v="[object Float64Array]",w="[object Int8Array]",x="[object Int16Array]",y="[object Int32Array]",z="[object Uint8Array]",A="[object Uint8ClampedArray]",B="[object Uint16Array]",C="[object Uint32Array]",D={};D[u]=D[v]=D[w]=D[x]=D[y]=D[z]=D[A]=D[B]=D[C]=!0,D[g]=D[h]=D[t]=D[i]=D[j]=D[k]=D[l]=D[m]=D[n]=D[o]=D[p]=D[q]=D[r]=D[s]=!1;var E=Object.prototype,F=E.toString;b.exports=d},{"./isLength":278,"./isObjectLike":282}],287:[function(a,b,c){function d(a){var b=j(a);if(!b&&!h(a))return f(a);var c=g(a),d=!!c,k=c||[],l=k.length;for(var m in a)!e(a,m)||d&&("length"==m||i(m,l))||b&&"constructor"==m||k.push(m);return k}var e=a("./_baseHas"),f=a("./_baseKeys"),g=a("./_indexKeys"),h=a("./isArrayLike"),i=a("./_isIndex"),j=a("./_isPrototype");b.exports=d},{"./_baseHas":184,"./_baseKeys":185,"./_indexKeys":229,"./_isIndex":234,"./_isPrototype":238,"./isArrayLike":274}],288:[function(a,b,c){function d(a){for(var b=-1,c=h(a),d=e(a),i=d.length,k=f(a),l=!!k,m=k||[],n=m.length;++b<i;){var o=d[b];l&&("length"==o||g(o,n))||"constructor"==o&&(c||!j.call(a,o))||m.push(o)}return m}var e=a("./_baseKeysIn"),f=a("./_indexKeys"),g=a("./_isIndex"),h=a("./_isPrototype"),i=Object.prototype,j=i.hasOwnProperty;b.exports=d},{"./_baseKeysIn":186,"./_indexKeys":229,"./_isIndex":234,"./_isPrototype":238}],289:[function(a,b,c){var d=a("./_baseMerge"),e=a("./_createAssigner"),f=e(function(a,b,c,e){d(a,b,c,e)});b.exports=f},{"./_baseMerge":188,"./_createAssigner":208}],290:[function(a,b,c){function d(){}b.exports=d},{}],291:[function(a,b,c){var d=Date.now;b.exports=d},{}],292:[function(a,b,c){function d(a){return e(2,a)}var e=a("./before");b.exports=d},{"./before":265}],293:[function(a,b,c){function d(a,b,c){return a=f(a),e(a,b,c)+a}var e=a("./_createPadding"),f=a("./toString");b.exports=d},{"./_createPadding":214,"./toString":300}],294:[function(a,b,c){var d=a("./_createWrapper"),e=a("./_getPlaceholder"),f=a("./_replaceHolders"),g=a("./rest"),h=32,i=g(function(a,b){var c=f(b,e(i));return d(a,h,void 0,b,c)});i.placeholder={},b.exports=i},{"./_createWrapper":217,"./_getPlaceholder":222,"./_replaceHolders":252,"./rest":296}],295:[function(a,b,c){function d(a,b){a=f(a),b=e(b);var c="";if(!a||1>b||b>g)return c;do b%2&&(c+=a),b=h(b/2),a+=a;while(b);return c}var e=a("./toInteger"),f=a("./toString"),g=9007199254740991,h=Math.floor;b.exports=d},{"./toInteger":297,"./toString":300}],296:[function(a,b,c){function d(a,b){if("function"!=typeof a)throw new TypeError(g);return b=h(void 0===b?a.length-1:f(b),0),function(){for(var c=arguments,d=-1,f=h(c.length-b,0),g=Array(f);++d<f;)g[d]=c[b+d];switch(b){case 0:return a.call(this,g);case 1:return a.call(this,c[0],g);case 2:return a.call(this,c[0],c[1],g)}var i=Array(b+1);for(d=-1;++d<b;)i[d]=c[d];return i[b]=g,e(a,this,i)}}var e=a("./_apply"),f=a("./toInteger"),g="Expected a function",h=Math.max;b.exports=d},{"./_apply":167,"./toInteger":297}],297:[function(a,b,c){function d(a){if(!a)return 0===a?a:0;if(a=e(a),a===f||a===-f){var b=0>a?-1:1;return b*g}var c=a%1;return a===a?c?a-c:a:0}var e=a("./toNumber"),f=1/0,g=1.7976931348623157e308;b.exports=d},{"./toNumber":298}],298:[function(a,b,c){function d(a){if(f(a)){var b=e(a.valueOf)?a.valueOf():a;a=f(b)?b+"":b}if("string"!=typeof a)return 0===a?a:+a;a=a.replace(h,"");var c=j.test(a);return c||k.test(a)?l(a.slice(2),c?2:8):i.test(a)?g:+a}var e=a("./isFunction"),f=a("./isObject"),g=NaN,h=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,j=/^0b[01]+$/i,k=/^0o[0-7]+$/i,l=parseInt;b.exports=d},{"./isFunction":277,"./isObject":281}],299:[function(a,b,c){function d(a){return e(a,f(a))}var e=a("./_copyObject"),f=a("./keysIn");b.exports=d},{"./_copyObject":204,"./keysIn":288}],300:[function(a,b,c){function d(a){if("string"==typeof a)return a;if(null==a)return"";if(f(a))return i?i.call(a):"";var b=a+"";return"0"==b&&1/a==-g?"-0":b}var e=a("./_Symbol"),f=a("./isSymbol"),g=1/0,h=e?e.prototype:void 0,i=h?h.toString:void 0;b.exports=d},{"./_Symbol":162,"./isSymbol":285}],301:[function(a,b,c){function d(a){if(i(a)&&!h(a)&&!(a instanceof e)){if(a instanceof f)return a;if(l.call(a,"__wrapped__"))return j(a)}return new f(a)}var e=a("./_LazyWrapper"),f=a("./_LodashWrapper"),g=a("./_baseLodash"),h=a("./isArray"),i=a("./isObjectLike"),j=a("./_wrapperClone"),k=Object.prototype,l=k.hasOwnProperty;d.prototype=g.prototype,d.prototype.constructor=d,b.exports=d},{"./_LazyWrapper":155,"./_LodashWrapper":156,"./_baseLodash":187,"./_wrapperClone":263,"./isArray":273,"./isObjectLike":282}],302:[function(require,module,exports){(function(global){!function(global){"use strict";function parseTime(a){if(!a)return 0;var b,c=a.split(":"),d=c.length,e=d,f=0;if(d>3||!/^(\d\d:){0,2}\d\d?$/.test(a))throw new Error("tick only understands numbers and 'h:m:s'");for(;e--;){if(b=parseInt(c[e],10),b>=60)throw new Error("Invalid time "+a);f+=b*Math.pow(60,d-e-1)}return 1e3*f}function getEpoch(a){if(!a)return 0;if("function"==typeof a.getTime)return a.getTime();if("number"==typeof a)return a;throw new TypeError("now should be milliseconds since UNIX epoch")}function inRange(a,b,c){return c&&c.callAt>=a&&c.callAt<=b}function mirrorDateProperties(a,b){var c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return b.now?a.now=function(){return a.clock.now}:delete a.now,b.toSource?a.toSource=function(){return b.toSource()}:delete a.toSource,a.toString=function(){return b.toString()},a.prototype=b.prototype,a.parse=b.parse,a.UTC=b.UTC,a.prototype.toUTCString=b.prototype.toUTCString,a}function createDate(){function a(b,c,d,e,f,g,h){switch(arguments.length){case 0:return new NativeDate(a.clock.now);case 1:return new NativeDate(b);case 2:return new NativeDate(b,c);case 3:return new NativeDate(b,c,d);case 4:return new NativeDate(b,c,d,e);case 5:return new NativeDate(b,c,d,e,f);case 6:return new NativeDate(b,c,d,e,f,g);default:return new NativeDate(b,c,d,e,f,g,h)}}return mirrorDateProperties(a,NativeDate)}function addTimer(a,b){if(void 0===b.func)throw new Error("Callback must be provided to timer calls");return a.timers||(a.timers={}),b.id=uniqueTimerId++,b.createdAt=a.now,b.callAt=a.now+(b.delay||(a.duringTick?1:0)),a.timers[b.id]=b,addTimerReturnsObject?{id:b.id,ref:NOOP,unref:NOOP}:b.id}function compareTimers(a,b){return a.callAt<b.callAt?-1:a.callAt>b.callAt?1:a.immediate&&!b.immediate?-1:!a.immediate&&b.immediate?1:a.createdAt<b.createdAt?-1:a.createdAt>b.createdAt?1:a.id<b.id?-1:a.id>b.id?1:void 0}function firstTimerInRange(a,b,c){var d,e,f=a.timers,g=null;for(d in f)f.hasOwnProperty(d)&&(e=inRange(b,c,f[d]),!e||g&&1!==compareTimers(g,f[d])||(g=f[d]));return g}function callTimer(clock,timer){var exception;"number"==typeof timer.interval?clock.timers[timer.id].callAt+=timer.interval:delete clock.timers[timer.id];try{"function"==typeof timer.func?timer.func.apply(null,timer.args):eval(timer.func)}catch(a){exception=a}if(clock.timers[timer.id]){if(exception)throw exception}else if(exception)throw exception}function timerType(a){return a.immediate?"Immediate":"undefined"!=typeof a.interval?"Interval":"Timeout"}function clearTimer(a,b,c){if(b&&(a.timers||(a.timers=[]),"object"==typeof b&&(b=b.id),a.timers.hasOwnProperty(b))){var d=a.timers[b];if(timerType(d)!==c)throw new Error("Cannot clear timer: timer created with set"+c+"() but cleared with clear"+timerType(d)+"()");delete a.timers[b]}}function uninstall(a,b){var c,d,e;for(d=0,e=a.methods.length;e>d;d++)if(c=a.methods[d],b[c].hadOwnProperty)b[c]=a["_"+c];else try{delete b[c]}catch(a){}a.methods=[]}function hijackMethod(a,b,c){var d;if(c[b].hadOwnProperty=Object.prototype.hasOwnProperty.call(a,b),c["_"+b]=a[b],"Date"===b){var e=mirrorDateProperties(c[b],a[b]);a[b]=e}else{a[b]=function(){return c[b].apply(c,arguments)};for(d in c[b])c[b].hasOwnProperty(d)&&(a[b][d]=c[b][d])}a[b].clock=c}function createClock(a){var b={now:getEpoch(a),timeouts:{},Date:createDate()};return b.Date.clock=b,b.setTimeout=function(a,c){return addTimer(b,{func:a,args:Array.prototype.slice.call(arguments,2),delay:c})},b.clearTimeout=function(a){return clearTimer(b,a,"Timeout")},b.setInterval=function(a,c){return addTimer(b,{func:a,args:Array.prototype.slice.call(arguments,2),delay:c,interval:c})},b.clearInterval=function(a){return clearTimer(b,a,"Interval")},b.setImmediate=function(a){return addTimer(b,{func:a,args:Array.prototype.slice.call(arguments,1),immediate:!0})},b.clearImmediate=function(a){return clearTimer(b,a,"Immediate")},b.tick=function(a){a="number"==typeof a?a:parseTime(a);var c,d=b.now,e=b.now+a,f=b.now,g=firstTimerInRange(b,d,e);b.duringTick=!0;for(var h;g&&e>=d;){if(b.timers[g.id]){d=b.now=g.callAt;try{c=b.now,callTimer(b,g),c!==b.now&&(d+=b.now-c,e+=b.now-c,f+=b.now-c)}catch(a){h=h||a}}g=firstTimerInRange(b,f,e),f=d}if(b.duringTick=!1,b.now=e,h)throw h;return b.now},b.reset=function(){b.timers={}},b.setSystemTime=function(a){var c=getEpoch(a),d=c-b.now;b.now=c;for(var e in b.timers)if(b.timers.hasOwnProperty(e)){var f=b.timers[e];f.createdAt+=d,f.callAt+=d}},b}var glbl=global;global.setTimeout=glbl.setTimeout,global.clearTimeout=glbl.clearTimeout,global.setInterval=glbl.setInterval,global.clearInterval=glbl.clearInterval,global.Date=glbl.Date,"setImmediate"in global&&(global.setImmediate=glbl.setImmediate,global.clearImmediate=glbl.clearImmediate);var NOOP=function(){return void 0},timeoutResult=setTimeout(NOOP,0),addTimerReturnsObject="object"==typeof timeoutResult;clearTimeout(timeoutResult);var NativeDate=Date,uniqueTimerId=1,timers={setTimeout:setTimeout,clearTimeout:clearTimeout,setImmediate:global.setImmediate,clearImmediate:global.clearImmediate,setInterval:setInterval,clearInterval:clearInterval,Date:Date},keys=Object.keys||function(a){var b,c=[];for(b in a)a.hasOwnProperty(b)&&c.push(b);return c};exports.timers=timers,exports.createClock=createClock,exports.install=function(a,b,c){var d,e;"number"==typeof a&&(c=b,b=a,a=null),a||(a=global);var f=createClock(b);for(f.uninstall=function(){uninstall(f,a)},f.methods=c||[],0===f.methods.length&&(f.methods=keys(timers)),d=0,e=f.methods.length;e>d;d++)hijackMethod(a,f.methods[d],f);return f}}(global||this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],303:[function(a,b,c){b.exports=a("react/lib/ReactComponentWithPureRenderMixin")},{"react/lib/ReactComponentWithPureRenderMixin":304}],304:[function(a,b,c){"use strict";var d=a("./shallowCompare"),e={shouldComponentUpdate:function(a,b){return d(this,a,b)}};b.exports=e},{"./shallowCompare":305}],305:[function(a,b,c){"use strict";function d(a,b,c){return!e(a.props,b)||!e(a.state,c)}var e=a("fbjs/lib/shallowEqual");b.exports=d},{"fbjs/lib/shallowEqual":151}],306:[function(a,b,c){("function"==typeof define&&define.amd&&function(a){define("samsam",a)}||"object"==typeof b&&function(a){b.exports=a()}||function(a){this.samsam=a()})(function(){function a(a){var b=a;return"number"==typeof a&&a!==b}function b(a){return l.toString.call(a).split(/[ \]]/)[1]}function c(a){if("Arguments"===b(a))return!0;if("object"!=typeof a||"number"!=typeof a.length||"Array"===b(a))return!1;if("function"==typeof a.callee)return!0;try{a[a.length]=6,delete a[a.length]}catch(a){return!0}return!1}function d(a){if(!a||1!==a.nodeType||!m)return!1;try{a.appendChild(m),a.removeChild(m)}catch(a){return!1}return!0}function e(a){var b,c=[];for(b in a)l.hasOwnProperty.call(a,b)&&c.push(b);return c}function f(a){return"function"==typeof a.getTime&&a.getTime()==a.valueOf()}function g(a){return 0===a&&1/a===-(1/0)}function h(b,c){return b===c||a(b)&&a(c)?0!==b||g(b)===g(c):void 0}function i(g,i){function j(a){return"object"!=typeof a||null===a||a instanceof Boolean||a instanceof Date||a instanceof Number||a instanceof RegExp||a instanceof String?!1:!0}function k(a,b){var c;for(c=0;c<a.length;c++)if(a[c]===b)return c;return-1}var m=[],n=[],o=[],p=[],q={};return function g(i,r,s,t){var u=typeof i,v=typeof r;if(i===r||a(i)||a(r)||null==i||null==r||"object"!==u||"object"!==v)return h(i,r);if(d(i)||d(r))return!1;var w=f(i),x=f(r);if((w||x)&&(!w||!x||i.getTime()!==r.getTime()))return!1;if(i instanceof RegExp&&r instanceof RegExp&&i.toString()!==r.toString())return!1;var y=b(i),z=b(r),A=e(i),B=e(r);if(c(i)||c(r)){if(i.length!==r.length)return!1}else if(u!==v||y!==z||A.length!==B.length)return!1;var C,D,E,F,G,H,I,J,K,L,M;for(D=0,E=A.length;E>D;D++){if(C=A[D],!l.hasOwnProperty.call(r,C))return!1;if(F=i[C],G=r[C],H=j(F),I=j(G),J=H?k(m,F):-1,K=I?k(n,G):-1,L=-1!==J?o[J]:s+"["+JSON.stringify(C)+"]",M=-1!==K?p[K]:t+"["+JSON.stringify(C)+"]",q[L+M])return!0;if(-1===J&&H&&(m.push(F),o.push(L)),-1===K&&I&&(n.push(G),p.push(M)),H&&I&&(q[L+M]=!0),!g(F,G,L,M))return!1}return!0}(g,i,"$1","$2")}function j(a,b){if(0===b.length)return!0;var c,d,e,f;for(c=0,d=a.length;d>c;++c)if(k(a[c],b[0])){for(e=0,f=b.length;f>e;++e)if(!k(a[c+e],b[e]))return!1;return!0}return!1}var k,l=Object.prototype,m="undefined"!=typeof document&&document.createElement("div");return k=function a(c,d){if(d&&"function"==typeof d.test)return d.test(c);if("function"==typeof d)return d(c)===!0;if("string"==typeof d){d=d.toLowerCase();var e="string"==typeof c||!!c;return e&&String(c).toLowerCase().indexOf(d)>=0}if("number"==typeof d)return d===c;if("boolean"==typeof d)return d===c;if("undefined"==typeof d)return"undefined"==typeof c;if(null===d)return null===c;if("Array"===b(c)&&"Array"===b(d))return j(c,d);if(d&&"object"==typeof d){if(d===c)return!0;var f;for(f in d){var g=c[f];if("undefined"==typeof g&&"function"==typeof c.getAttribute&&(g=c.getAttribute(f)),null===d[f]||"undefined"==typeof d[f]){if(g!==d[f])return!1}else if("undefined"==typeof g||!a(g,d[f]))return!1}return!0}throw new Error("Matcher was not a string, a number, a function, a boolean or an object")},{isArguments:c,isElement:d,isDate:f,isNegZero:g,identical:h,deepEqual:i,match:k,keys:e}})},{}],307:[function(a,b,c){(function(){"use strict";function c(a,b,c){d=c.exports=a("./sinon/util/core"),a("./sinon/extend"),a("./sinon/walk"),a("./sinon/typeOf"),a("./sinon/times_in_words"),a("./sinon/spy"),a("./sinon/call"),a("./sinon/behavior"),a("./sinon/stub"),a("./sinon/mock"),a("./sinon/collection"),a("./sinon/assert"),a("./sinon/sandbox"),a("./sinon/test"),a("./sinon/test_case"),a("./sinon/match"),a("./sinon/format"),a("./sinon/log_error")}var d,e="undefined"!=typeof b&&b.exports&&"function"==typeof a,f="function"==typeof define&&"object"==typeof define.amd&&define.amd;return f?define(c):e?(c(a,b.exports,b),d=b.exports):d={},d})()},{"./sinon/assert":308,"./sinon/behavior":309,"./sinon/call":310,"./sinon/collection":311,"./sinon/extend":312,"./sinon/format":313,"./sinon/log_error":314,"./sinon/match":315,"./sinon/mock":316,"./sinon/sandbox":317,"./sinon/spy":318,"./sinon/stub":319,
"./sinon/test":320,"./sinon/test_case":321,"./sinon/times_in_words":322,"./sinon/typeOf":323,"./sinon/util/core":324,"./sinon/walk":331}],308:[function(a,b,c){(function(c){!function(c,d){"use strict";function e(a){function b(){for(var a,c=0,d=arguments.length;d>c;++c)a=arguments[c],a||h.fail("fake is not a spy"),a.proxy&&a.proxy.isSinonProxy?b(a.proxy):("function"!=typeof a&&h.fail(a+" is not a function"),"function"!=typeof a.getCall&&h.fail(a+" is not stubbed"))}function c(a,b){a=a||d;var c=a.fail||h.fail;c.call(a,b)}function e(a,d,e){2===arguments.length&&(e=d,d=a),h[a]=function(f){b(f);var i=g.call(arguments,1),j=!1;j="function"==typeof d?!d(f):"function"==typeof f[d]?!f[d].apply(f,i):!f[d],j?c(this,(f.printf||f.proxy.printf).apply(f,[e].concat(i))):h.pass(a)}}function f(a,b){return!a||/^fail/.test(b)?b:a+b.slice(0,1).toUpperCase()+b.slice(1)}var h;return h={failException:"AssertError",fail:function(a){var b=new Error(a);throw b.name=this.failException||h.failException,b},pass:function(){},callOrder:function(){b.apply(null,arguments);var d="",e="";if(a.calledInOrder(arguments))h.pass("callOrder");else{try{d=[].join.call(arguments,", ");for(var f=g.call(arguments),i=f.length;i;)f[--i].called||f.splice(i,1);e=a.orderByFirstCall(f).join(", ")}catch(a){}c(this,"expected "+d+" to be called in order but were called as "+e)}},callCount:function(d,e){if(b(d),d.callCount!==e){var f="expected %n to be called "+a.timesInWords(e)+" but was called %c%C";c(this,d.printf(f))}else h.pass("callCount")},expose:function(a,b){if(!a)throw new TypeError("target is null or undefined");var c=b||{},d="undefined"==typeof c.prefix&&"assert"||c.prefix,e="undefined"==typeof c.includeFail||!!c.includeFail;for(var g in this)"expose"===g||!e&&/^(fail)/.test(g)||(a[f(d,g)]=this[g]);return a},match:function(b,d){var e=a.match(d);if(e.test(b))h.pass("match");else{var f=["expected value to match","    expected = "+a.format(d),"    actual = "+a.format(b)];c(this,f.join("\n"))}}},e("called","expected %n to have been called at least once but was never called"),e("notCalled",function(a){return!a.called},"expected %n to not have been called but was called %c%C"),e("calledOnce","expected %n to be called once but was called %c%C"),e("calledTwice","expected %n to be called twice but was called %c%C"),e("calledThrice","expected %n to be called thrice but was called %c%C"),e("calledOn","expected %n to be called with %1 as this but was called with %t"),e("alwaysCalledOn","expected %n to always be called with %1 as this but was called with %t"),e("calledWithNew","expected %n to be called with new"),e("alwaysCalledWithNew","expected %n to always be called with new"),e("calledWith","expected %n to be called with arguments %*%C"),e("calledWithMatch","expected %n to be called with match %*%C"),e("alwaysCalledWith","expected %n to always be called with arguments %*%C"),e("alwaysCalledWithMatch","expected %n to always be called with match %*%C"),e("calledWithExactly","expected %n to be called with exact arguments %*%C"),e("alwaysCalledWithExactly","expected %n to always be called with exact arguments %*%C"),e("neverCalledWith","expected %n to never be called with arguments %*%C"),e("neverCalledWithMatch","expected %n to never be called with match %*%C"),e("threw","%n did not throw exception%C"),e("alwaysThrew","%n did not always throw exception%C"),a.assert=h,h}function f(a,b,c){var d=a("./util/core");a("./match"),a("./format"),c.exports=e(d)}var g=Array.prototype.slice,h="undefined"!=typeof b&&b.exports&&"function"==typeof a,i="function"==typeof define&&"object"==typeof define.amd&&define.amd;return i?void define(f):h?void f(a,b.exports,b):void(c&&e(c))}("object"==typeof sinon&&sinon,"undefined"!=typeof c?c:self)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./format":313,"./match":315,"./util/core":324}],309:[function(a,b,c){(function(c){!function(d){"use strict";function e(a,b){return"string"==typeof a?(this.exception=new Error(b||""),this.exception.name=a):a?this.exception=a:this.exception=new Error("Error"),this}function f(a,b){var c=a.callArgAt;if(c>=0)return b[c];var d;c===k&&(d=b),c===l&&(d=i.call(b).reverse());for(var e=a.callArgProp,f=0,g=d.length;g>f;++f){if(!e&&"function"==typeof d[f])return d[f];if(e&&d[f]&&"function"==typeof d[f][e])return d[f][e]}return null}function g(a){function b(b,c,d){if(b.callArgAt<0){var e;return e=b.callArgProp?a.functionName(b.stub)+" expected to yield to '"+b.callArgProp+"', but no object with such a property was passed.":a.functionName(b.stub)+" expected to yield, but no callback was passed.",d.length>0&&(e+=" Received ["+j.call(d,", ")+"]"),e}return"argument at index "+b.callArgAt+" is not a function: "+c}function c(a,c){if("number"==typeof a.callArgAt){var d=f(a,c);if("function"!=typeof d)throw new TypeError(b(a,d,c));a.callbackAsync?m(function(){d.apply(a.callbackContext,a.callbackArguments)}):d.apply(a.callbackContext,a.callbackArguments)}}function d(a){return function(){var b=this[a].apply(this,arguments);return this.callbackAsync=!0,b}}var g={create:function(b){var c=a.extend({},a.behavior);return delete c.create,c.stub=b,c},isPresent:function(){return"number"==typeof this.callArgAt||this.exception||"number"==typeof this.returnArgAt||this.returnThis||this.returnValueDefined},invoke:function(a,b){if(c(this,b),this.exception)throw this.exception;return"number"==typeof this.returnArgAt?b[this.returnArgAt]:this.returnThis?a:this.returnValue},onCall:function(a){return this.stub.onCall(a)},onFirstCall:function(){return this.stub.onFirstCall()},onSecondCall:function(){return this.stub.onSecondCall()},onThirdCall:function(){return this.stub.onThirdCall()},withArgs:function(){throw new Error('Defining a stub by invoking "stub.onCall(...).withArgs(...)" is not supported. Use "stub.withArgs(...).onCall(...)" to define sequential behavior for calls with certain arguments.')},callsArg:function(a){if("number"!=typeof a)throw new TypeError("argument index is not number");return this.callArgAt=a,this.callbackArguments=[],this.callbackContext=void 0,this.callArgProp=void 0,this.callbackAsync=!1,this},callsArgOn:function(a,b){if("number"!=typeof a)throw new TypeError("argument index is not number");if("object"!=typeof b)throw new TypeError("argument context is not an object");return this.callArgAt=a,this.callbackArguments=[],this.callbackContext=b,this.callArgProp=void 0,this.callbackAsync=!1,this},callsArgWith:function(a){if("number"!=typeof a)throw new TypeError("argument index is not number");return this.callArgAt=a,this.callbackArguments=i.call(arguments,1),this.callbackContext=void 0,this.callArgProp=void 0,this.callbackAsync=!1,this},callsArgOnWith:function(a,b){if("number"!=typeof a)throw new TypeError("argument index is not number");if("object"!=typeof b)throw new TypeError("argument context is not an object");return this.callArgAt=a,this.callbackArguments=i.call(arguments,2),this.callbackContext=b,this.callArgProp=void 0,this.callbackAsync=!1,this},yields:function(){return this.callArgAt=k,this.callbackArguments=i.call(arguments,0),this.callbackContext=void 0,this.callArgProp=void 0,this.callbackAsync=!1,this},yieldsRight:function(){return this.callArgAt=l,this.callbackArguments=i.call(arguments,0),this.callbackContext=void 0,this.callArgProp=void 0,this.callbackAsync=!1,this},yieldsOn:function(a){if("object"!=typeof a)throw new TypeError("argument context is not an object");return this.callArgAt=k,this.callbackArguments=i.call(arguments,1),this.callbackContext=a,this.callArgProp=void 0,this.callbackAsync=!1,this},yieldsTo:function(a){return this.callArgAt=k,this.callbackArguments=i.call(arguments,1),this.callbackContext=void 0,this.callArgProp=a,this.callbackAsync=!1,this},yieldsToOn:function(a,b){if("object"!=typeof b)throw new TypeError("argument context is not an object");return this.callArgAt=k,this.callbackArguments=i.call(arguments,2),this.callbackContext=b,this.callArgProp=a,this.callbackAsync=!1,this},throws:e,throwsException:e,returns:function(a){return this.returnValue=a,this.returnValueDefined=!0,this.exception=void 0,this},returnsArg:function(a){if("number"!=typeof a)throw new TypeError("argument index is not number");return this.returnArgAt=a,this},returnsThis:function(){return this.returnThis=!0,this}};for(var h in g)g.hasOwnProperty(h)&&h.match(/^(callsArg|yields)/)&&!h.match(/Async/)&&(g[h+"Async"]=d(h));return a.behavior=g,g}function h(a,b,c){var d=a("./util/core");a("./extend"),c.exports=g(d)}var i=Array.prototype.slice,j=Array.prototype.join,k=-1,l=-2,m=function(){return"object"==typeof c&&"function"==typeof c.nextTick?c.nextTick:"function"==typeof setImmediate?setImmediate:function(a){setTimeout(a,0)}}(),n="undefined"!=typeof b&&b.exports&&"function"==typeof a,o="function"==typeof define&&"object"==typeof define.amd&&define.amd;return o?void define(h):n?void h(a,b.exports,b):void(d&&g(d))}("object"==typeof sinon&&sinon)}).call(this,a("_process"))},{"./extend":312,"./util/core":324,_process:150}],310:[function(a,b,c){!function(c){"use strict";function d(a){function b(b,c,d){var e=a.functionName(b)+c;throw d.length&&(e+=" Received ["+f.call(d).join(", ")+"]"),new Error(e)}function c(b,c,e,f,g,h,i){if("number"!=typeof h)throw new TypeError("Call id is not a number");var j=a.create(d);return j.proxy=b,j.thisValue=c,j.args=e,j.returnValue=f,j.exception=g,j.callId=h,j.stack=i,j}var d={calledOn:function(b){return a.match&&a.match.isMatcher(b)?b.test(this.thisValue):this.thisValue===b},calledWith:function(){var b=arguments.length;if(b>this.args.length)return!1;for(var c=0;b>c;c+=1)if(!a.deepEqual(arguments[c],this.args[c]))return!1;return!0},calledWithMatch:function(){var b=arguments.length;if(b>this.args.length)return!1;for(var c=0;b>c;c+=1){var d=this.args[c],e=arguments[c];if(!a.match||!a.match(e).test(d))return!1}return!0},calledWithExactly:function(){return arguments.length===this.args.length&&this.calledWith.apply(this,arguments)},notCalledWith:function(){return!this.calledWith.apply(this,arguments)},notCalledWithMatch:function(){return!this.calledWithMatch.apply(this,arguments)},returned:function(b){return a.deepEqual(b,this.returnValue)},threw:function(a){return"undefined"!=typeof a&&this.exception?this.exception===a||this.exception.name===a:!!this.exception},calledWithNew:function(){return this.proxy.prototype&&this.thisValue instanceof this.proxy},calledBefore:function(a){return this.callId<a.callId},calledAfter:function(a){return this.callId>a.callId},callArg:function(a){this.args[a]()},callArgOn:function(a,b){this.args[a].apply(b)},callArgWith:function(a){this.callArgOnWith.apply(this,[a,null].concat(f.call(arguments,1)))},callArgOnWith:function(a,b){var c=f.call(arguments,2);this.args[a].apply(b,c)},yield:function(){this.yieldOn.apply(this,[null].concat(f.call(arguments,0)))},yieldOn:function(a){for(var c=this.args,d=0,e=c.length;e>d;++d)if("function"==typeof c[d])return void c[d].apply(a,f.call(arguments,1));b(this.proxy," cannot yield since no callback was passed.",c)},yieldTo:function(a){this.yieldToOn.apply(this,[a,null].concat(f.call(arguments,1)))},yieldToOn:function(a,c){for(var d=this.args,e=0,g=d.length;g>e;++e)if(d[e]&&"function"==typeof d[e][a])return void d[e][a].apply(c,f.call(arguments,2));b(this.proxy," cannot yield to '"+a+"' since no callback was passed.",d)},getStackFrames:function(){return this.stack&&this.stack.split("\n").slice(3)},toString:function(){var b=this.proxy?this.proxy.toString()+"(":"",c=[];if(!this.args)return":(";for(var d=0,e=this.args.length;e>d;++d)c.push(a.format(this.args[d]));return b=b+c.join(", ")+")","undefined"!=typeof this.returnValue&&(b+=" => "+a.format(this.returnValue)),this.exception&&(b+=" !"+this.exception.name,this.exception.message&&(b+="("+this.exception.message+")")),this.stack&&(b+=this.getStackFrames()[0].replace(/^\s*(?:at\s+|@)?/," at ")),b}};return d.invokeCallback=d.yield,c.toString=d.toString,a.spyCall=c,c}function e(a,b,c){var e=a("./util/core");a("./match"),a("./format"),c.exports=d(e)}var f=Array.prototype.slice,g="undefined"!=typeof b&&b.exports&&"function"==typeof a,h="function"==typeof define&&"object"==typeof define.amd&&define.amd;return h?void define(e):g?void e(a,b.exports,b):void(c&&d(c))}("object"==typeof sinon&&sinon)},{"./format":313,"./match":315,"./util/core":324}],311:[function(a,b,c){!function(c){"use strict";function d(a){return a.fakes||(a.fakes=[]),a.fakes}function e(a,b){for(var c=d(a),e=0,f=c.length;f>e;e+=1)"function"==typeof c[e][b]&&c[e][b]()}function f(a){for(var b=d(a),c=0;c<b.length;)b.splice(c,1)}function g(a){var b={verify:function(){e(this,"verify")},restore:function(){e(this,"restore"),f(this)},reset:function(){e(this,"reset")},verifyAndRestore:function(){var a;try{this.verify()}catch(b){a=b}if(this.restore(),a)throw a},add:function(a){return i.call(d(this),a),a},spy:function(){return this.add(a.spy.apply(a,arguments))},stub:function(b,c,d){if(c){var e=b[c];if("function"!=typeof e){if(!j.call(b,c))throw new TypeError("Cannot stub non-existent own property "+c);return b[c]=d,this.add({restore:function(){b[c]=e}})}}if(!c&&b&&"object"==typeof b){var f=a.stub.apply(a,arguments);for(var g in f)"function"==typeof f[g]&&this.add(f[g]);return f}return this.add(a.stub.apply(a,arguments))},mock:function(){return this.add(a.mock.apply(a,arguments))},inject:function(a){var b=this;return a.spy=function(){return b.spy.apply(b,arguments)},a.stub=function(){return b.stub.apply(b,arguments)},a.mock=function(){return b.mock.apply(b,arguments)},a}};return a.collection=b,b}function h(a,b,c){var d=a("./util/core");a("./mock"),a("./spy"),a("./stub"),c.exports=g(d)}var i=[].push,j=Object.prototype.hasOwnProperty,k="undefined"!=typeof b&&b.exports&&"function"==typeof a,l="function"==typeof define&&"object"==typeof define.amd&&define.amd;return l?void define(h):k?void h(a,b.exports,b):void(c&&g(c))}("object"==typeof sinon&&sinon)},{"./mock":316,"./spy":318,"./stub":319,"./util/core":324}],312:[function(a,b,c){!function(c){"use strict";function d(a){function b(a){var b,d,e,f=Array.prototype.slice.call(arguments,1);for(d=0;d<f.length;d++){b=f[d];for(e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);c&&b.hasOwnProperty("toString")&&b.toString!==a.toString&&(a.toString=b.toString)}return a}var c=function(){var a={constructor:function(){return"0"},toString:function(){return"1"},valueOf:function(){return"2"},toLocaleString:function(){return"3"},prototype:function(){return"4"},isPrototypeOf:function(){return"5"},propertyIsEnumerable:function(){return"6"},hasOwnProperty:function(){return"7"},length:function(){return"8"},unique:function(){return"9"}},b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(a[c]());return"0123456789"!==b.join("")}();return a.extend=b,a.extend}function e(a,b,c){var e=a("./util/core");c.exports=d(e)}var f="undefined"!=typeof b&&b.exports&&"function"==typeof a,g="function"==typeof define&&"object"==typeof define.amd&&define.amd;return g?void define(e):f?void e(a,b.exports,b):void(c&&d(c))}("object"==typeof sinon&&sinon)},{"./util/core":324}],313:[function(a,b,c){!function(c,d){"use strict";function e(c){function e(a){return""+a}function f(){function a(){return b.ascii.apply(b,arguments)}var b=d.configure({quoteStrings:!1,limitChildrenCount:250});return a}function g(){function b(a){var b="object"==typeof a&&a.toString===Object.prototype.toString;return b?c.inspect(a):a}try{var c=a("util")}catch(a){}return c?b:e}var h,i="undefined"!=typeof b&&b.exports&&"function"==typeof a;if(i)try{d=a("formatio")}catch(a){}return h=d?f():i?g():e,c.format=h,c.format}function f(a,b,c){var d=a("./util/core");c.exports=e(d)}var g="undefined"!=typeof b&&b.exports&&"function"==typeof a,h="function"==typeof define&&"object"==typeof define.amd&&define.amd;return h?void define(f):g?void f(a,b.exports,b):void(c&&e(c))}("object"==typeof sinon&&sinon,"object"==typeof formatio&&formatio)},{"./util/core":324,formatio:152,util:333}],314:[function(a,b,c){!function(c){"use strict";function d(a){function b(){}function c(b,d){function e(){throw d.message=f+d.message,d}var f=b+" threw exception: ";a.log(f+"["+d.name+"] "+d.message),d.stack&&a.log(d.stack),c.useImmediateExceptions?e():c.setTimeout(e,0)}c.useImmediateExceptions=!1,c.setTimeout=function(a,b){f(a,b)};var d={};return d.log=a.log=b,d.logError=a.logError=c,d}function e(a,b,c){var e=a("./util/core");c.exports=d(e)}var f=setTimeout,g="undefined"!=typeof b&&b.exports&&"function"==typeof a,h="function"==typeof define&&"object"==typeof define.amd&&define.amd;return h?void define(e):g?void e(a,b.exports,b):void(c&&d(c))}("object"==typeof sinon&&sinon)},{"./util/core":324}],315:[function(a,b,c){!function(c){"use strict";function d(a){function b(b,c,d){var e=a.typeOf(b);if(e!==c)throw new TypeError("Expected type of "+d+" to be "+c+", but was "+e)}function c(a){return g.isPrototypeOf(a)}function d(b,e){if(null===e||void 0===e)return!1;for(var f in b)if(b.hasOwnProperty(f)){var g=b[f],h=e[f];if(c(g)){if(!g.test(h))return!1}else if("object"===a.typeOf(g)){if(!d(g,h))return!1}else if(!a.deepEqual(g,h))return!1}return!0}function e(b,c){var e=a.create(g),f=a.typeOf(b);switch(f){case"object":if("function"==typeof b.test)return e.test=function(a){return b.test(a)===!0},e.message="match("+a.functionName(b.test)+")",e;var h=[];for(var i in b)b.hasOwnProperty(i)&&h.push(i+": "+b[i]);e.test=function(a){return d(b,a)},e.message="match("+h.join(", ")+")";break;case"number":e.test=function(a){return b==a};break;case"string":e.test=function(a){return"string"!=typeof a?!1:-1!==a.indexOf(b)},e.message='match("'+b+'")';break;case"regexp":e.test=function(a){return"string"!=typeof a?!1:b.test(a)};break;case"function":e.test=b,c?e.message=c:e.message="match("+a.functionName(b)+")";break;default:e.test=function(c){return a.deepEqual(b,c)}}return e.message||(e.message="match("+b+")"),e}function f(c,d){return function(f,g){b(f,"string","property");var h=1===arguments.length,i=d+'("'+f+'"';return h||(i+=", "+g),i+=")",e(function(b){return void 0!==b&&null!==b&&c(b,f)?h||a.deepEqual(g,b[f]):!1},i)}}var g={toString:function(){return this.message}};return g.or=function(b){if(!arguments.length)throw new TypeError("Matcher expected");c(b)||(b=e(b));var d=this,f=a.create(g);return f.test=function(a){return d.test(a)||b.test(a)},f.message=d.message+".or("+b.message+")",f},g.and=function(b){if(!arguments.length)throw new TypeError("Matcher expected");c(b)||(b=e(b));var d=this,f=a.create(g);return f.test=function(a){return d.test(a)&&b.test(a)},f.message=d.message+".and("+b.message+")",f},e.isMatcher=c,e.any=e(function(){return!0},"any"),e.defined=e(function(a){return null!==a&&void 0!==a},"defined"),e.truthy=e(function(a){return!!a},"truthy"),e.falsy=e(function(a){return!a},"falsy"),e.same=function(a){return e(function(b){return a===b},"same("+a+")")},e.typeOf=function(c){return b(c,"string","type"),e(function(b){return a.typeOf(b)===c},'typeOf("'+c+'")')},e.instanceOf=function(c){return b(c,"function","type"),e(function(a){return a instanceof c},"instanceOf("+a.functionName(c)+")")},e.has=f(function(a,b){return"object"==typeof a?b in a:void 0!==a[b]},"has"),e.hasOwn=f(function(a,b){return a.hasOwnProperty(b)},"hasOwn"),e.bool=e.typeOf("boolean"),e.number=e.typeOf("number"),e.string=e.typeOf("string"),e.object=e.typeOf("object"),e.func=e.typeOf("function"),e.array=e.typeOf("array"),e.regexp=e.typeOf("regexp"),e.date=e.typeOf("date"),a.match=e,e}function e(a,b,c){var e=a("./util/core");a("./typeOf"),c.exports=d(e)}var f="undefined"!=typeof b&&b.exports&&"function"==typeof a,g="function"==typeof define&&"object"==typeof define.amd&&define.amd;return g?void define(e):f?void e(a,b.exports,b):void(c&&d(c))}("object"==typeof sinon&&sinon)},{"./typeOf":323,"./util/core":324}],316:[function(a,b,c){!function(c){"use strict";function d(a){function b(c){return c?b.create(c):a.expectation.create("Anonymous mock")}function c(a,b){if(a)for(var c=0,d=a.length;d>c;c+=1)b(a[c])}function d(b,c,d){if(d&&b.length!==c.length)return!1;for(var e=0,f=b.length;f>e;e++)if(!a.deepEqual(b[e],c[e]))return!1;return!0}function e(a){return 0===a?"never called":"called "+l(a)}function f(a){var b=a.minCalls,c=a.maxCalls;if("number"==typeof b&&"number"==typeof c){var d=l(b);return b!==c&&(d="at least "+d+" and at most "+l(c)),d}return"number"==typeof b?"at least "+l(b):"at most "+l(c)}function g(a){var b="number"==typeof a.minCalls;return!b||a.callCount>=a.minCalls}function h(a){return"number"!=typeof a.maxCalls?!1:a.callCount===a.maxCalls}function i(a,b){var c=k&&k.isMatcher(a);return c&&a.test(b)||!0}var j=[].push,k=a.match;a.extend(b,{create:function(c){if(!c)throw new TypeError("object is null");var d=a.extend({},b);return d.object=c,delete d.create,d},expects:function(b){if(!b)throw new TypeError("method is falsy");if(this.expectations||(this.expectations={},this.proxies=[]),!this.expectations[b]){this.expectations[b]=[];var c=this;a.wrapMethod(this.object,b,function(){return c.invokeMethod(b,this,arguments)}),j.call(this.proxies,b)}var d=a.expectation.create(b);return j.call(this.expectations[b],d),d},restore:function(){var a=this.object;c(this.proxies,function(b){"function"==typeof a[b].restore&&a[b].restore()})},verify:function(){var b=this.expectations||{},d=[],e=[];return c(this.proxies,function(a){c(b[a],function(a){a.met()?j.call(e,a.toString()):j.call(d,a.toString())})}),this.restore(),d.length>0?a.expectation.fail(d.concat(e).join("\n")):e.length>0&&a.expectation.pass(d.concat(e).join("\n")),!0},invokeMethod:function(b,c,e){var f,g,h=this.expectations&&this.expectations[b]?this.expectations[b]:[],i=[],k=e||[];for(f=0;f<h.length;f+=1){var l=h[f].expectedArguments||[];d(l,k,h[f].expectsExactArgCount)&&i.push(h[f])}for(f=0;f<i.length;f+=1)if(!i[f].met()&&i[f].allowsCall(c,e))return i[f].apply(c,e);var m=[],n=0;for(f=0;f<i.length;f+=1)i[f].allowsCall(c,e)?g=g||i[f]:n+=1;if(g&&0===n)return g.apply(c,e);for(f=0;f<h.length;f+=1)j.call(m,"    "+h[f].toString());m.unshift("Unexpected call: "+a.spyCall.toString.call({proxy:b,args:e})),a.expectation.fail(m.join("\n"))}});var l=a.timesInWords,m=Array.prototype.slice;return a.expectation={minCalls:1,maxCalls:1,create:function(b){var c=a.extend(a.stub.create(),a.expectation);return delete c.create,c.method=b,c},invoke:function(b,c,d){return this.verifyCallAllowed(c,d),a.spy.invoke.apply(this,arguments)},atLeast:function(a){if("number"!=typeof a)throw new TypeError("'"+a+"' is not number");return this.limitsSet||(this.maxCalls=null,this.limitsSet=!0),this.minCalls=a,this},atMost:function(a){if("number"!=typeof a)throw new TypeError("'"+a+"' is not number");return this.limitsSet||(this.minCalls=null,this.limitsSet=!0),this.maxCalls=a,this},never:function(){return this.exactly(0)},once:function(){return this.exactly(1)},twice:function(){return this.exactly(2)},thrice:function(){return this.exactly(3)},exactly:function(a){if("number"!=typeof a)throw new TypeError("'"+a+"' is not a number");return this.atLeast(a),this.atMost(a)},met:function(){return!this.failed&&g(this)},verifyCallAllowed:function(b,c){if(h(this)&&(this.failed=!0,a.expectation.fail(this.method+" already called "+l(this.maxCalls))),"expectedThis"in this&&this.expectedThis!==b&&a.expectation.fail(this.method+" called with "+b+" as thisValue, expected "+this.expectedThis),"expectedArguments"in this){c||a.expectation.fail(this.method+" received no arguments, expected "+a.format(this.expectedArguments)),c.length<this.expectedArguments.length&&a.expectation.fail(this.method+" received too few arguments ("+a.format(c)+"), expected "+a.format(this.expectedArguments)),this.expectsExactArgCount&&c.length!==this.expectedArguments.length&&a.expectation.fail(this.method+" received too many arguments ("+a.format(c)+"), expected "+a.format(this.expectedArguments));for(var d=0,e=this.expectedArguments.length;e>d;d+=1)i(this.expectedArguments[d],c[d])||a.expectation.fail(this.method+" received wrong arguments "+a.format(c)+", didn't match "+this.expectedArguments.toString()),a.deepEqual(this.expectedArguments[d],c[d])||a.expectation.fail(this.method+" received wrong arguments "+a.format(c)+", expected "+a.format(this.expectedArguments))}},allowsCall:function(b,c){if(this.met()&&h(this))return!1;if("expectedThis"in this&&this.expectedThis!==b)return!1;if(!("expectedArguments"in this))return!0;if(c=c||[],c.length<this.expectedArguments.length)return!1;if(this.expectsExactArgCount&&c.length!==this.expectedArguments.length)return!1;for(var d=0,e=this.expectedArguments.length;e>d;d+=1){if(!i(this.expectedArguments[d],c[d]))return!1;if(!a.deepEqual(this.expectedArguments[d],c[d]))return!1}return!0},withArgs:function(){return this.expectedArguments=m.call(arguments),this},withExactArgs:function(){return this.withArgs.apply(this,arguments),this.expectsExactArgCount=!0,this},on:function(a){return this.expectedThis=a,this},toString:function(){var b=(this.expectedArguments||[]).slice();this.expectsExactArgCount||j.call(b,"[...]");var c=a.spyCall.toString.call({proxy:this.method||"anonymous mock expectation",args:b}),d=c.replace(", [...","[, ...")+" "+f(this);return this.met()?"Expectation met: "+d:"Expected "+d+" ("+e(this.callCount)+")"},verify:function(){return this.met()?a.expectation.pass(this.toString()):a.expectation.fail(this.toString()),!0},pass:function(b){a.assert.pass(b)},fail:function(a){var b=new Error(a);throw b.name="ExpectationError",b}},a.mock=b,b}function e(a,b,c){var e=a("./util/core");a("./times_in_words"),a("./call"),a("./extend"),a("./match"),a("./spy"),a("./stub"),a("./format"),c.exports=d(e)}var f="undefined"!=typeof b&&b.exports&&"function"==typeof a,g="function"==typeof define&&"object"==typeof define.amd&&define.amd;return g?void define(e):f?void e(a,b.exports,b):void(c&&d(c))}("object"==typeof sinon&&sinon)},{"./call":310,"./extend":312,"./format":313,"./match":315,"./spy":318,"./stub":319,"./times_in_words":322,"./util/core":324}],317:[function(a,b,c){!function(c){"use strict";function d(a){function b(a,b,c,e){e&&(!b.injectInto||c in b.injectInto?d.call(a.args,e):(b.injectInto[c]=e,a.injectedKeys.push(c)))}function c(b){var c=a.create(a.sandbox);return b.useFakeServer&&("object"==typeof b.useFakeServer&&(c.serverPrototype=b.useFakeServer),c.useFakeServer()),b.useFakeTimers&&("object"==typeof b.useFakeTimers?c.useFakeTimers.apply(c,b.useFakeTimers):c.useFakeTimers()),c}var d=[].push;return a.sandbox=a.extend(a.create(a.collection),{useFakeTimers:function(){return this.clock=a.useFakeTimers.apply(a,arguments),this.add(this.clock)},serverPrototype:a.fakeServer,useFakeServer:function(){var b=this.serverPrototype||a.fakeServer;return b&&b.create?(this.server=b.create(),this.add(this.server)):null},inject:function(b){return a.collection.inject.call(this,b),this.clock&&(b.clock=this.clock),this.server&&(b.server=this.server,b.requests=this.server.requests),b.match=a.match,b},restore:function(){a.collection.restore.apply(this,arguments),this.restoreContext()},restoreContext:function(){if(this.injectedKeys){for(var a=0,b=this.injectedKeys.length;b>a;a++)delete this.injectInto[this.injectedKeys[a]];this.injectedKeys=[]}},create:function(d){if(!d)return a.create(a.sandbox);var e=c(d);e.args=e.args||[],e.injectedKeys=[],e.injectInto=d.injectInto;var f,g,h=e.inject({});if(d.properties)for(var i=0,j=d.properties.length;j>i;i++)f=d.properties[i],g=h[f]||"sandbox"===f&&e,b(e,d,f,g);else b(e,d,"sandbox",g);return e},match:a.match}),a.sandbox.useFakeXMLHttpRequest=a.sandbox.useFakeServer,a.sandbox}function e(a,b,c){var e=a("./util/core");a("./extend"),a("./util/fake_server_with_clock"),a("./util/fake_timers"),a("./collection"),c.exports=d(e)}var f="undefined"!=typeof b&&b.exports&&"function"==typeof a,g="function"==typeof define&&"object"==typeof define.amd&&define.amd;return g?void define(e):f?void e(a,b.exports,b):void(c&&d(c))}("object"==typeof sinon&&sinon)},{"./collection":311,"./extend":312,"./util/core":324,"./util/fake_server_with_clock":327,"./util/fake_timers":328}],318:[function(require,module,exports){!function(sinonGlobal){"use strict";function makeApi(sinon){function spy(a,b,c){if(!b&&"function"==typeof a)return spy.create(a);if(!a&&!b)return spy.create(function(){});if(c){for(var d=sinon.getPropertyDescriptor(a,b),e=0;e<c.length;e++)d[c[e]]=spy.create(d[c[e]]);return sinon.wrapMethod(a,b,d)}return sinon.wrapMethod(a,b,spy.create(a[b]))}function matchingFake(a,b,c){if(!a)return void 0;for(var d=0,e=a.length;e>d;d++)if(a[d].matches(b,c))return a[d]}function incrementCallCount(){this.called=!0,this.callCount+=1,this.notCalled=!1,this.calledOnce=1===this.callCount,this.calledTwice=2===this.callCount,this.calledThrice=3===this.callCount}function createCallProperties(){this.firstCall=this.getCall(0),this.secondCall=this.getCall(1),this.thirdCall=this.getCall(2),this.lastCall=this.getCall(this.callCount-1)}function createProxy(func,proxyLength){var p;return proxyLength?eval("p = (function proxy("+vars.substring(0,2*proxyLength-1)+") { return p.invoke(func, this, slice.call(arguments)); });"):p=function(){return p.invoke(func,this,slice.call(arguments))},p.isSinonProxy=!0,p}function delegateToCalls(a,b,c,d){spyApi[a]=function(){if(!this.called)return d?d.apply(this,arguments):!1;for(var e,f=0,g=0,h=this.callCount;h>g;g+=1)if(e=this.getCall(g),e[c||a].apply(e,arguments)&&(f+=1,b))return!0;return f===this.callCount}}var push=Array.prototype.push,slice=Array.prototype.slice,callId=0,vars="a,b,c,d,e,f,g,h,i,j,k,l",uuid=0,spyApi={reset:function(){if(this.invoking){var a=new Error("Cannot reset Sinon function while invoking it. Move the call to .reset outside of the callback.");throw a.name="InvalidResetException",a}if(this.called=!1,this.notCalled=!0,this.calledOnce=!1,this.calledTwice=!1,this.calledThrice=!1,this.callCount=0,this.firstCall=null,this.secondCall=null,this.thirdCall=null,this.lastCall=null,this.args=[],this.returnValues=[],this.thisValues=[],this.exceptions=[],this.callIds=[],this.stacks=[],this.fakes)for(var b=0;b<this.fakes.length;b++)this.fakes[b].reset();return this},create:function(a,b){var c;"function"!=typeof a?a=function(){}:c=sinon.functionName(a),b||(b=a.length);var d=createProxy(a,b);return sinon.extend(d,spy),delete d.create,sinon.extend(d,a),d.reset(),d.prototype=a.prototype,d.displayName=c||"spy",d.toString=sinon.functionToString,d.instantiateFake=sinon.spy.create,d.id="spy#"+uuid++,d},invoke:function(a,b,c){var d,e,f=matchingFake(this.fakes,c);incrementCallCount.call(this),push.call(this.thisValues,b),push.call(this.args,c),push.call(this.callIds,callId++),createCallProperties.call(this);try{this.invoking=!0,e=f?f.invoke(a,b,c):(this.func||a).apply(b,c);var g=this.getCall(this.callCount-1);g.calledWithNew()&&"object"!=typeof e&&(e=b)}catch(a){d=a}finally{delete this.invoking}if(push.call(this.exceptions,d),push.call(this.returnValues,e),push.call(this.stacks,(new Error).stack),createCallProperties.call(this),void 0!==d)throw d;return e},named:function(a){return this.displayName=a,this},getCall:function(a){return 0>a||a>=this.callCount?null:sinon.spyCall(this,this.thisValues[a],this.args[a],this.returnValues[a],this.exceptions[a],this.callIds[a],this.stacks[a])},getCalls:function(){var a,b=[];for(a=0;a<this.callCount;a++)b.push(this.getCall(a));return b},calledBefore:function(a){return this.called?a.called?this.callIds[0]<a.callIds[a.callIds.length-1]:!0:!1},calledAfter:function(a){return this.called&&a.called?this.callIds[this.callCount-1]>a.callIds[a.callCount-1]:!1},withArgs:function(){var a=slice.call(arguments);if(this.fakes){var b=matchingFake(this.fakes,a,!0);if(b)return b}else this.fakes=[];var c=this,d=this.instantiateFake();d.matchingAguments=a,d.parent=this,push.call(this.fakes,d),d.withArgs=function(){return c.withArgs.apply(c,arguments)};for(var e=0;e<this.args.length;e++)d.matches(this.args[e])&&(incrementCallCount.call(d),push.call(d.thisValues,this.thisValues[e]),push.call(d.args,this.args[e]),push.call(d.returnValues,this.returnValues[e]),
push.call(d.exceptions,this.exceptions[e]),push.call(d.callIds,this.callIds[e]));return createCallProperties.call(d),d},matches:function(a,b){var c=this.matchingAguments;return c.length<=a.length&&sinon.deepEqual(c,a.slice(0,c.length))?!b||c.length===a.length:void 0},printf:function(a){var b,c=this,d=slice.call(arguments,1);return(a||"").replace(/%(.)/g,function(a,e){return b=spyApi.formatters[e],"function"==typeof b?b.call(null,c,d):isNaN(parseInt(e,10))?"%"+e:sinon.format(d[e-1])})}};return delegateToCalls("calledOn",!0),delegateToCalls("alwaysCalledOn",!1,"calledOn"),delegateToCalls("calledWith",!0),delegateToCalls("calledWithMatch",!0),delegateToCalls("alwaysCalledWith",!1,"calledWith"),delegateToCalls("alwaysCalledWithMatch",!1,"calledWithMatch"),delegateToCalls("calledWithExactly",!0),delegateToCalls("alwaysCalledWithExactly",!1,"calledWithExactly"),delegateToCalls("neverCalledWith",!1,"notCalledWith",function(){return!0}),delegateToCalls("neverCalledWithMatch",!1,"notCalledWithMatch",function(){return!0}),delegateToCalls("threw",!0),delegateToCalls("alwaysThrew",!1,"threw"),delegateToCalls("returned",!0),delegateToCalls("alwaysReturned",!1,"returned"),delegateToCalls("calledWithNew",!0),delegateToCalls("alwaysCalledWithNew",!1,"calledWithNew"),delegateToCalls("callArg",!1,"callArgWith",function(){throw new Error(this.toString()+" cannot call arg since it was not yet invoked.")}),spyApi.callArgWith=spyApi.callArg,delegateToCalls("callArgOn",!1,"callArgOnWith",function(){throw new Error(this.toString()+" cannot call arg since it was not yet invoked.")}),spyApi.callArgOnWith=spyApi.callArgOn,delegateToCalls("yield",!1,"yield",function(){throw new Error(this.toString()+" cannot yield since it was not yet invoked.")}),spyApi.invokeCallback=spyApi.yield,delegateToCalls("yieldOn",!1,"yieldOn",function(){throw new Error(this.toString()+" cannot yield since it was not yet invoked.")}),delegateToCalls("yieldTo",!1,"yieldTo",function(a){throw new Error(this.toString()+" cannot yield to '"+a+"' since it was not yet invoked.")}),delegateToCalls("yieldToOn",!1,"yieldToOn",function(a){throw new Error(this.toString()+" cannot yield to '"+a+"' since it was not yet invoked.")}),spyApi.formatters={c:function(a){return sinon.timesInWords(a.callCount)},n:function(a){return a.toString()},C:function(a){for(var b=[],c=0,d=a.callCount;d>c;++c){var e="    "+a.getCall(c).toString();/\n/.test(b[c-1])&&(e="\n"+e),push.call(b,e)}return b.length>0?"\n"+b.join("\n"):""},t:function(a){for(var b=[],c=0,d=a.callCount;d>c;++c)push.call(b,sinon.format(a.thisValues[c]));return b.join(", ")},"*":function(a,b){for(var c=[],d=0,e=b.length;e>d;++d)push.call(c,sinon.format(b[d]));return c.join(", ")}},sinon.extend(spy,spyApi),spy.spyCall=sinon.spyCall,sinon.spy=spy,spy}function loadDependencies(a,b,c){var d=a("./util/core");a("./call"),a("./extend"),a("./times_in_words"),a("./format"),c.exports=makeApi(d)}var isNode="undefined"!=typeof module&&module.exports&&"function"==typeof require,isAMD="function"==typeof define&&"object"==typeof define.amd&&define.amd;return isAMD?void define(loadDependencies):isNode?void loadDependencies(require,module.exports,module):void(sinonGlobal&&makeApi(sinonGlobal))}("object"==typeof sinon&&sinon)},{"./call":310,"./extend":312,"./format":313,"./times_in_words":322,"./util/core":324}],319:[function(a,b,c){!function(c){"use strict";function d(a){function b(c,d,e){if(e&&"function"!=typeof e&&"object"!=typeof e)throw new TypeError("Custom stub should be a function or a property descriptor");var f;if(e){if("function"==typeof e)f=a.spy&&a.spy.create?a.spy.create(e):e;else if(f=e,a.spy&&a.spy.create)for(var g=a.objectKeys(f),h=0;h<g.length;h++)f[g[h]]=a.spy.create(f[g[h]])}else{var i=0;"object"==typeof c&&"function"==typeof c[d]&&(i=c[d].length),f=b.create(i)}return c||"undefined"!=typeof d?"undefined"==typeof d&&"object"==typeof c?(a.walk(c||{},function(d,e,f){f!==Object.prototype&&"constructor"!==e&&"function"==typeof a.getPropertyDescriptor(f,e).value&&b(c,e)}),c):a.wrapMethod(c,d,f):a.stub.create()}function c(a){return a.parent&&e(a.parent)}function d(b){return b.defaultBehavior||c(b)||a.behavior.create(b)}function e(a){var b=a.behaviors[a.callCount-1];return b&&b.isPresent()?b:d(a)}function f(b){return function(){return this.defaultBehavior=this.defaultBehavior||a.behavior.create(this),this.defaultBehavior[b].apply(this.defaultBehavior,arguments),this}}var g=0,h={create:function(c){var d=function(){return e(d).invoke(this,arguments)};d.id="stub#"+g++;var f=d;return d=a.spy.create(d,c),d.func=f,a.extend(d,b),d.instantiateFake=a.stub.create,d.displayName="stub",d.toString=a.functionToString,d.defaultBehavior=null,d.behaviors=[],d},resetBehavior:function(){var a;if(this.defaultBehavior=null,this.behaviors=[],delete this.returnValue,delete this.returnArgAt,this.returnThis=!1,this.fakes)for(a=0;a<this.fakes.length;a++)this.fakes[a].resetBehavior()},onCall:function(b){return this.behaviors[b]||(this.behaviors[b]=a.behavior.create(this)),this.behaviors[b]},onFirstCall:function(){return this.onCall(0)},onSecondCall:function(){return this.onCall(1)},onThirdCall:function(){return this.onCall(2)}};for(var i in a.behavior)a.behavior.hasOwnProperty(i)&&!h.hasOwnProperty(i)&&"create"!==i&&"withArgs"!==i&&"invoke"!==i&&(h[i]=f(i));return a.extend(b,h),a.stub=b,b}function e(a,b,c){var e=a("./util/core");a("./behavior"),a("./spy"),a("./extend"),c.exports=d(e)}var f="undefined"!=typeof b&&b.exports&&"function"==typeof a,g="function"==typeof define&&"object"==typeof define.amd&&define.amd;return g?void define(e):f?void e(a,b.exports,b):void(c&&d(c))}("object"==typeof sinon&&sinon)},{"./behavior":309,"./extend":312,"./spy":318,"./util/core":324}],320:[function(a,b,c){!function(c){"use strict";function d(a){function b(b){function d(){var d=a.getConfig(a.config);d.injectInto=d.injectIntoThis&&this||d.injectInto;var e,f,g=a.sandbox.create(d),h=c.call(arguments),i=h.length&&h[h.length-1];"function"==typeof i&&(h[h.length-1]=function(a){a?g.restore():g.verifyAndRestore(),i(a)});try{f=b.apply(this,h.concat(g.args))}catch(a){e=a}if("function"!=typeof i){if("undefined"!=typeof e)throw g.restore(),e;g.verifyAndRestore()}return f}var e=typeof b;if("function"!==e)throw new TypeError("sinon.test needs to wrap a test function, got "+e);return b.length?function(a){return d.apply(this,arguments)}:d}var c=Array.prototype.slice;return b.config={injectIntoThis:!0,injectInto:null,properties:["spy","stub","mock","clock","server","requests"],useFakeTimers:!0,useFakeServer:!0},a.test=b,b}function e(a,b,c){var e=a("./util/core");a("./sandbox"),c.exports=d(e)}var f="undefined"!=typeof b&&b.exports&&"function"==typeof a,g="function"==typeof define&&"object"==typeof define.amd&&define.amd;g?define(e):f?e(a,b.exports,b):c&&d(c)}("object"==typeof sinon&&sinon||null)},{"./sandbox":317,"./util/core":324}],321:[function(a,b,c){!function(c){"use strict";function d(a,b,c){return function(){b&&b.apply(this,arguments);var d,e;try{e=a.apply(this,arguments)}catch(a){d=a}if(c&&c.apply(this,arguments),d)throw d;return e}}function e(a){function b(b,c){if(!b||"object"!=typeof b)throw new TypeError("sinon.testCase needs an object with test functions");c=c||"test";var e,f,g,h=new RegExp("^"+c),i={},j=b.setUp,k=b.tearDown;for(e in b)b.hasOwnProperty(e)&&!/^(setUp|tearDown)$/.test(e)&&(f=b[e],"function"==typeof f&&h.test(e)?(g=f,(j||k)&&(g=d(f,j,k)),i[e]=a.test(g)):i[e]=b[e]);return i}return a.testCase=b,b}function f(a,b,c){var d=a("./util/core");a("./test"),c.exports=e(d)}var g="undefined"!=typeof b&&b.exports&&"function"==typeof a,h="function"==typeof define&&"object"==typeof define.amd&&define.amd;return h?void define(f):g?void f(a,b.exports,b):void(c&&e(c))}("object"==typeof sinon&&sinon)},{"./test":320,"./util/core":324}],322:[function(a,b,c){!function(c){"use strict";function d(a){function b(a){switch(a){case 1:return"once";case 2:return"twice";case 3:return"thrice";default:return(a||0)+" times"}}return a.timesInWords=b,a.timesInWords}function e(a,b,c){var e=a("./util/core");c.exports=d(e)}var f="undefined"!=typeof b&&b.exports&&"function"==typeof a,g="function"==typeof define&&"object"==typeof define.amd&&define.amd;return g?void define(e):f?void e(a,b.exports,b):void(c&&d(c))}("object"==typeof sinon&&sinon)},{"./util/core":324}],323:[function(a,b,c){!function(c){"use strict";function d(a){function b(a){if(null===a)return"null";if(void 0===a)return"undefined";var b=Object.prototype.toString.call(a);return b.substring(8,b.length-1).toLowerCase()}return a.typeOf=b,a.typeOf}function e(a,b,c){var e=a("./util/core");c.exports=d(e)}var f="undefined"!=typeof b&&b.exports&&"function"==typeof a,g="function"==typeof define&&"object"==typeof define.amd&&define.amd;return g?void define(e):f?void e(a,b.exports,b):void(c&&d(c))}("object"==typeof sinon&&sinon)},{"./util/core":324}],324:[function(a,b,c){!function(c){"use strict";function d(a){var b=!1;try{a.appendChild(l),b=l.parentNode===a}catch(a){return!1}finally{try{a.removeChild(l)}catch(a){}}return b}function e(a){return l&&a&&1===a.nodeType&&d(a)}function f(a){return"function"==typeof a||!!(a&&a.constructor&&a.call&&a.apply)}function g(a){return"number"==typeof a&&isNaN(a)}function h(a,b){for(var c in b)m.call(a,c)||(a[c]=b[c])}function i(a){return"function"==typeof a&&"function"==typeof a.restore&&a.restore.sinon}function j(a){return a.wrapMethod=function(b,c,d){function e(a){var b;if(f(a)){if(a.restore&&a.restore.sinon)b=new TypeError("Attempted to wrap "+c+" which is already wrapped");else if(a.calledBefore){var d=a.returns?"stubbed":"spied on";b=new TypeError("Attempted to wrap "+c+" which is already "+d)}}else b=new TypeError("Attempted to wrap "+typeof a+" property "+c+" as function");if(b)throw a&&a.stackTrace&&(b.stack+="\n--------------\n"+a.stackTrace),b}if(!b)throw new TypeError("Should wrap property of object");if("function"!=typeof d&&"object"!=typeof d)throw new TypeError("Method wrapper should be a function or a property descriptor");var g,i,j,k=b.hasOwnProperty?b.hasOwnProperty(c):m.call(b,c);if(n){var l="function"==typeof d?{value:d}:d,o=a.getPropertyDescriptor(b,c);if(o?o.restore&&o.restore.sinon&&(g=new TypeError("Attempted to wrap "+c+" which is already wrapped")):g=new TypeError("Attempted to wrap "+typeof i+" property "+c+" as function"),g)throw o&&o.stackTrace&&(g.stack+="\n--------------\n"+o.stackTrace),g;var p=a.objectKeys(l);for(j=0;j<p.length;j++)i=o[p[j]],e(i);for(h(l,o),j=0;j<p.length;j++)h(l[p[j]],o[p[j]]);Object.defineProperty(b,c,l)}else i=b[c],e(i),b[c]=d,d.displayName=c;return d.displayName=c,d.stackTrace=new Error("Stack Trace for original").stack,d.restore=function(){if(k)n&&Object.defineProperty(b,c,o);else try{delete b[c]}catch(a){}b[c]===d&&(b[c]=i)},d.restore.sinon=!0,n||h(d,i),d},a.create=function(a){var b=function(){};return b.prototype=a,new b},a.deepEqual=function b(c,d){if(a.match&&a.match.isMatcher(c))return c.test(d);if("object"!=typeof c||"object"!=typeof d)return g(c)&&g(d)||c===d;if(e(c)||e(d))return c===d;if(c===d)return!0;if(null===c&&null!==d||null!==c&&null===d)return!1;if(c instanceof RegExp&&d instanceof RegExp)return c.source===d.source&&c.global===d.global&&c.ignoreCase===d.ignoreCase&&c.multiline===d.multiline;var f=Object.prototype.toString.call(c);if(f!==Object.prototype.toString.call(d))return!1;if("[object Date]"===f)return c.valueOf()===d.valueOf();var h,i=0,j=0;if("[object Array]"===f&&c.length!==d.length)return!1;for(h in c)if(c.hasOwnProperty(h)){if(i+=1,!(h in d))return!1;if(!b(c[h],d[h]))return!1}for(h in d)d.hasOwnProperty(h)&&(j+=1);return i===j},a.functionName=function(a){var b=a.displayName||a.name;if(!b){var c=a.toString().match(/function ([^\s\(]+)/);b=c&&c[1]}return b},a.functionToString=function(){if(this.getCall&&this.callCount)for(var a,b,c=this.callCount;c--;){a=this.getCall(c).thisValue;for(b in a)if(a[b]===this)return b}return this.displayName||"sinon fake"},a.objectKeys=function(a){if(a!==Object(a))throw new TypeError("sinon.objectKeys called on a non-object");var b,c=[];for(b in a)m.call(a,b)&&c.push(b);return c},a.getPropertyDescriptor=function(a,b){for(var c,d=a;d&&!(c=Object.getOwnPropertyDescriptor(d,b));)d=Object.getPrototypeOf(d);return c},a.getConfig=function(b){var c={};b=b||{};var d=a.defaultConfig;for(var e in d)d.hasOwnProperty(e)&&(c[e]=b.hasOwnProperty(e)?b[e]:d[e]);return c},a.defaultConfig={injectIntoThis:!0,injectInto:null,properties:["spy","stub","mock","clock","server","requests"],useFakeTimers:!0,useFakeServer:!0},a.timesInWords=function(a){return 1===a&&"once"||2===a&&"twice"||3===a&&"thrice"||(a||0)+" times"},a.calledInOrder=function(a){for(var b=1,c=a.length;c>b;b++)if(!a[b-1].calledBefore(a[b])||!a[b].called)return!1;return!0},a.orderByFirstCall=function(a){return a.sort(function(a,b){var c=a.getCall(0),d=b.getCall(0),e=c&&c.callId||-1,f=d&&d.callId||-1;return f>e?-1:1})},a.createStubInstance=function(b){if("function"!=typeof b)throw new TypeError("The constructor should be a function.");return a.stub(a.create(b.prototype))},a.restore=function(a){if(null!==a&&"object"==typeof a)for(var b in a)i(a[b])&&a[b].restore();else i(a)&&a.restore()},a}function k(a,b){j(b)}var l="undefined"!=typeof document&&document.createElement("div"),m=Object.prototype.hasOwnProperty,n="keys"in Object,o="undefined"!=typeof b&&b.exports&&"function"==typeof a,p="function"==typeof define&&"object"==typeof define.amd&&define.amd;return p?void define(k):o?void k(a,b.exports,b):void(c&&j(c))}("object"==typeof sinon&&sinon)},{}],325:[function(a,b,c){"undefined"==typeof sinon&&(this.sinon={}),function(){"use strict";function c(a){a.Event=function(a,b,c,d){this.initEvent(a,b,c,d)},a.Event.prototype={initEvent:function(a,b,c,d){this.type=a,this.bubbles=b,this.cancelable=c,this.target=d},stopPropagation:function(){},preventDefault:function(){this.defaultPrevented=!0}},a.ProgressEvent=function(a,b,c){this.initEvent(a,!1,!1,c),this.loaded=b.loaded||null,this.total=b.total||null,this.lengthComputable=!!b.total},a.ProgressEvent.prototype=new a.Event,a.ProgressEvent.prototype.constructor=a.ProgressEvent,a.CustomEvent=function(a,b,c){this.initEvent(a,!1,!1,c),this.detail=b.detail||null},a.CustomEvent.prototype=new a.Event,a.CustomEvent.prototype.constructor=a.CustomEvent,a.EventTarget={addEventListener:function(a,b){this.eventListeners=this.eventListeners||{},this.eventListeners[a]=this.eventListeners[a]||[],e.call(this.eventListeners[a],b)},removeEventListener:function(a,b){for(var c=this.eventListeners&&this.eventListeners[a]||[],d=0,e=c.length;e>d;++d)if(c[d]===b)return c.splice(d,1)},dispatchEvent:function(a){for(var b=a.type,c=this.eventListeners&&this.eventListeners[b]||[],d=0;d<c.length;d++)"function"==typeof c[d]?c[d].call(this,a):c[d].handleEvent(a);return!!a.defaultPrevented}}}function d(a){var b=a("./core");c(b)}var e=[].push,f="undefined"!=typeof b&&b.exports&&"function"==typeof a,g="function"==typeof define&&"object"==typeof define.amd&&define.amd;g?define(d):f?d(a):c(sinon)}()},{"./core":324}],326:[function(a,b,c){!function(){"use strict";function c(a){var b=a;if("[object Array]"!==Object.prototype.toString.call(a)&&(b=[200,{},a]),"string"!=typeof b[2])throw new TypeError("Fake server response body should be string, but was "+typeof b[2]);return b}function d(a,b,c){var d=a.method,e=!d||d.toLowerCase()===b.toLowerCase(),f=a.url,g=!f||f===c||"function"==typeof f.test&&f.test(c);return e&&g}function e(a,b){var c=b.url;if((!/^https?:\/\//.test(c)||j.test(c))&&(c=c.replace(j,"")),d(a,this.getHTTPMethod(b),c)){if("function"==typeof a.response){var e=a.url,f=[b].concat(e&&"function"==typeof e.exec?e.exec(c).slice(1):[]);return a.response.apply(a,f)}return!0}return!1}function f(a){a.fakeServer={create:function(b){var c=a.create(this);return c.configure(b),a.xhr.supportsCORS?this.xhr=a.useFakeXMLHttpRequest():this.xhr=a.useFakeXDomainRequest(),c.requests=[],this.xhr.onCreate=function(a){c.addRequest(a)},c},configure:function(a){var b,c={autoRespond:!0,autoRespondAfter:!0,respondImmediately:!0,fakeHTTPMethods:!0};a=a||{};for(b in a)c.hasOwnProperty(b)&&a.hasOwnProperty(b)&&(this[b]=a[b])},addRequest:function(a){var b=this;h.call(this.requests,a),a.onSend=function(){b.handleRequest(this),b.respondImmediately?b.respond():b.autoRespond&&!b.responding&&(setTimeout(function(){b.responding=!1,b.respond()},b.autoRespondAfter||10),b.responding=!0)}},getHTTPMethod:function(a){if(this.fakeHTTPMethods&&/post/i.test(a.method)){var b=(a.requestBody||"").match(/_method=([^\b;]+)/);return b?b[1]:a.method}return a.method},handleRequest:function(a){a.async?(this.queue||(this.queue=[]),h.call(this.queue,a)):this.processRequest(a)},log:function(b,c){var d;d="Request:\n"+a.format(c)+"\n\n",d+="Response:\n"+a.format(b)+"\n\n",a.log(d)},respondWith:function(a,b,d){return 1===arguments.length&&"function"!=typeof a?void(this.response=c(a)):(this.responses||(this.responses=[]),1===arguments.length&&(d=a,b=a=null),2===arguments.length&&(d=b,b=a,a=null),void h.call(this.responses,{method:a,url:b,response:"function"==typeof d?d:c(d)}))},respond:function(){arguments.length>0&&this.respondWith.apply(this,arguments);for(var a=this.queue||[],b=a.splice(0,a.length),c=0;c<b.length;c++)this.processRequest(b[c])},processRequest:function(b){try{if(b.aborted)return;var c=this.response||[404,{},""];if(this.responses)for(var d=this.responses.length,f=d-1;f>=0;f--)if(e.call(this,this.responses[f],b)){c=this.responses[f].response;break}4!==b.readyState&&(this.log(c,b),b.respond(c[0],c[1],c[2]))}catch(b){a.logError("Fake server request processing",b)}},restore:function(){return this.xhr.restore&&this.xhr.restore.apply(this.xhr,arguments)}}}function g(a,b,c){var d=a("./core");a("./fake_xdomain_request"),a("./fake_xml_http_request"),a("../format"),f(d),c.exports=d}var h=[].push,i="undefined"!=typeof window?window.location:{},j=new RegExp("^"+i.protocol+"//"+i.host),k="undefined"!=typeof b&&b.exports&&"function"==typeof a,l="function"==typeof define&&"object"==typeof define.amd&&define.amd;l?define(g):k?g(a,b.exports,b):f(sinon)}()},{"../format":313,"./core":324,"./fake_xdomain_request":329,"./fake_xml_http_request":330}],327:[function(a,b,c){!function(){"use strict";function c(a){function b(){}b.prototype=a.fakeServer,a.fakeServerWithClock=new b,a.fakeServerWithClock.addRequest=function(b){if(b.async&&("object"==typeof setTimeout.clock?this.clock=setTimeout.clock:(this.clock=a.useFakeTimers(),this.resetClock=!0),!this.longestTimeout)){var c=this.clock.setTimeout,d=this.clock.setInterval,e=this;this.clock.setTimeout=function(a,b){return e.longestTimeout=Math.max(b,e.longestTimeout||0),c.apply(this,arguments)},this.clock.setInterval=function(a,b){return e.longestTimeout=Math.max(b,e.longestTimeout||0),d.apply(this,arguments)}}return a.fakeServer.addRequest.call(this,b)},a.fakeServerWithClock.respond=function(){var b=a.fakeServer.respond.apply(this,arguments);return this.clock&&(this.clock.tick(this.longestTimeout||0),this.longestTimeout=0,this.resetClock&&(this.clock.restore(),this.resetClock=!1)),b},a.fakeServerWithClock.restore=function(){return this.clock&&this.clock.restore(),a.fakeServer.restore.apply(this,arguments)}}function d(a){var b=a("./core");a("./fake_server"),a("./fake_timers"),c(b)}var e="undefined"!=typeof b&&b.exports&&"function"==typeof a,f="function"==typeof define&&"object"==typeof define.amd&&define.amd;f?define(d):e?d(a):c(sinon)}()},{"./core":324,"./fake_server":326,"./fake_timers":328}],328:[function(a,b,c){!function(){"use strict";function c(a,b){var c="undefined"!=typeof lolex?lolex:b;a.useFakeTimers=function(){var a,b=Array.prototype.slice.call(arguments);a="string"==typeof b[0]?0:b.shift();var d=c.install(a||0,b);return d.restore=d.uninstall,d},a.clock={create:function(a){return c.createClock(a)}},a.timers={setTimeout:setTimeout,clearTimeout:clearTimeout,setImmediate:"undefined"!=typeof setImmediate?setImmediate:void 0,clearImmediate:"undefined"!=typeof clearImmediate?clearImmediate:void 0,setInterval:setInterval,clearInterval:clearInterval,Date:Date}}function d(a,b,d,e){var f=a("./core");c(f,e),d.exports=f}var e="undefined"!=typeof b&&b.exports&&"function"==typeof a,f="function"==typeof define&&"object"==typeof define.amd&&define.amd;f?define(d):e?d(a,b.exports,b,a("lolex")):c(sinon)}()},{"./core":324,lolex:302}],329:[function(a,b,c){(function(c){function d(){"use strict";return"undefined"!=typeof window?window:c}"undefined"==typeof sinon&&("undefined"==typeof this?d().sinon={}:this.sinon={}),function(c){"use strict";function d(a){function b(){this.readyState=b.UNSENT,this.requestBody=null,this.requestHeaders={},this.status=0,this.timeout=null,"function"==typeof b.onCreate&&b.onCreate(this)}function d(a){if(a.readyState!==b.OPENED)throw new Error("INVALID_STATE_ERR");if(a.sendFlag)throw new Error("INVALID_STATE_ERR")}function e(a){if(a.readyState===b.UNSENT)throw new Error("Request not sent");if(a.readyState===b.DONE)throw new Error("Request done")}function g(a){if("string"!=typeof a){var b=new Error("Attempted to respond to fake XDomainRequest with "+a+", which is not a string.");throw b.name="InvalidBodyException",b}}a.xdr=f,a.extend(b.prototype,a.EventTarget,{open:function(a,c){this.method=a,this.url=c,this.responseText=null,this.sendFlag=!1,this.readyStateChange(b.OPENED)},readyStateChange:function(c){this.readyState=c;var d="";switch(this.readyState){case b.UNSENT:break;case b.OPENED:break;case b.LOADING:this.sendFlag&&(d="onprogress");break;case b.DONE:d=this.isTimeout?"ontimeout":this.errorFlag||this.status<200||this.status>299?"onerror":"onload"}if(d&&"function"==typeof this[d])try{this[d]()}catch(b){a.logError("Fake XHR "+d+" handler",b)}},send:function(a){d(this),/^(get|head)$/i.test(this.method)||(this.requestBody=a),this.requestHeaders["Content-Type"]="text/plain;charset=utf-8",this.errorFlag=!1,this.sendFlag=!0,this.readyStateChange(b.OPENED),"function"==typeof this.onSend&&this.onSend(this)},abort:function(){this.aborted=!0,this.responseText=null,this.errorFlag=!0,this.readyState>a.FakeXDomainRequest.UNSENT&&this.sendFlag&&(this.readyStateChange(a.FakeXDomainRequest.DONE),this.sendFlag=!1)},setResponseBody:function(a){e(this),g(a);var c=this.chunkSize||10,d=0;this.responseText="";do this.readyStateChange(b.LOADING),this.responseText+=a.substring(d,d+c),d+=c;while(d<a.length);this.readyStateChange(b.DONE)},respond:function(a,b,c){this.status="number"==typeof a?a:200,this.setResponseBody(c||"")},simulatetimeout:function(){this.status=0,this.isTimeout=!0,this.responseText=void 0,this.readyStateChange(b.DONE)}}),a.extend(b,{UNSENT:0,OPENED:1,LOADING:3,DONE:4}),a.useFakeXDomainRequest=function(){return a.FakeXDomainRequest.restore=function(b){f.supportsXDR&&(c.XDomainRequest=f.GlobalXDomainRequest),delete a.FakeXDomainRequest.restore,b!==!0&&delete a.FakeXDomainRequest.onCreate},f.supportsXDR&&(c.XDomainRequest=a.FakeXDomainRequest),a.FakeXDomainRequest},a.FakeXDomainRequest=b}function e(a,b,c){var e=a("./core");a("../extend"),a("./event"),a("../log_error"),d(e),c.exports=e}var f={XDomainRequest:c.XDomainRequest};f.GlobalXDomainRequest=c.XDomainRequest,f.supportsXDR="undefined"!=typeof f.GlobalXDomainRequest,f.workingXDR=f.supportsXDR?f.GlobalXDomainRequest:!1;var g="undefined"!=typeof b&&b.exports&&"function"==typeof a,h="function"==typeof define&&"object"==typeof define.amd&&define.amd;h?define(e):g?e(a,b.exports,b):d(sinon)}("undefined"!=typeof c?c:self)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../extend":312,"../log_error":314,"./core":324,"./event":325}],330:[function(a,b,c){(function(c){!function(c,d){"use strict";function e(a){var b="undefined"!=typeof a.XMLHttpRequest;if(b)return a.XMLHttpRequest;var c="undefined"!=typeof a.ActiveXObject;return c?function(){return new a.ActiveXObject("MSXML2.XMLHTTP.3.0")}:!1}function f(){this.eventListeners={progress:[],load:[],abort:[],error:[]}}function g(){function a(a){b.addEventListener(a,function(c){var d=b["on"+a];d&&"function"==typeof d&&d.call(this,c)})}this.readyState=g.UNSENT,this.requestHeaders={},this.requestBody=null,this.status=0,this.statusText="",this.upload=new f,this.responseType="",this.response="",A.supportsCORS&&(this.withCredentials=!1);for(var b=this,c=["loadstart","load","abort","loadend"],d=c.length-1;d>=0;d--)a(c[d]);"function"==typeof g.onCreate&&g.onCreate(this)}function h(a){if(a.readyState!==g.OPENED)throw new Error("INVALID_STATE_ERR");if(a.sendFlag)throw new Error("INVALID_STATE_ERR")}function i(a,b){b=b.toLowerCase();for(var c in a)if(c.toLowerCase()===b)return c;return null}function j(a,b){if(a)for(var c=0,d=a.length;d>c;c+=1)b(a[c])}function k(a,b){for(var c=0;c<a.length;c++)if(b(a[c])===!0)return!0;return!1}function l(a){if(a.readyState!==g.OPENED)throw new Error("INVALID_STATE_ERR - "+a.readyState)}function m(a){if(a.readyState===g.DONE)throw new Error("Request done")}function n(a){if(a.async&&a.readyState!==g.HEADERS_RECEIVED)throw new Error("No headers received")}function o(a){if("string"!=typeof a){var b=new Error("Attempted to respond to fake XMLHttpRequest with "+a+", which is not a string.");throw b.name="InvalidBodyException",b}}function p(a){for(var b=new ArrayBuffer(a.length),c=new Uint8Array(b),d=0;d<a.length;d++){var e=a.charCodeAt(d);if(e>=256)throw new TypeError("arraybuffer or blob responseTypes require binary string, invalid character "+a[d]+" found.");c[d]=e}return b}function q(a){return!a||/(text\/xml)|(application\/xml)|(\+xml)/.test(a)}function r(a,b,c){if(""===a||"text"===a)return c;if(y&&"arraybuffer"===a)return p(c);if("json"===a)try{return JSON.parse(c)}catch(a){return null}else{if(z&&"blob"===a){var d={};return b&&(d.type=b),new Blob([p(c)],d)}if("document"===a)return q(b)?g.parseXML(c):null}throw new Error("Invalid responseType "+a)}function s(a){""===a.responseType||"text"===a.responseType?a.response=a.responseText="":a.response=a.responseText=null,a.responseXML=null}function t(a){a.xhr=A,a.extend(g.prototype,a.EventTarget,{async:!0,open:function(a,b,c,d,e){if(this.method=a,this.url=b,this.async="boolean"==typeof c?c:!0,this.username=d,this.password=e,s(this),this.requestHeaders={},this.sendFlag=!1,g.useFilters===!0){var f=arguments,h=k(g.filters,function(a){return a.apply(this,f)});if(h)return g.defake(this,arguments)}this.readyStateChange(g.OPENED)},readyStateChange:function(b){this.readyState=b;var c=new a.Event("readystatechange",!1,!1,this);if("function"==typeof this.onreadystatechange)try{this.onreadystatechange(c)}catch(b){a.logError("Fake XHR onreadystatechange handler",b)}switch(this.readyState){case g.DONE:v&&(this.upload.dispatchEvent(new a.ProgressEvent("progress",{loaded:100,total:100})),this.dispatchEvent(new a.ProgressEvent("progress",{loaded:100,total:100}))),this.upload.dispatchEvent(new a.Event("load",!1,!1,this)),this.dispatchEvent(new a.Event("load",!1,!1,this)),this.dispatchEvent(new a.Event("loadend",!1,!1,this))}this.dispatchEvent(c)},setRequestHeader:function(a,b){if(h(this),B[a]||/^(Sec-|Proxy-)/.test(a))throw new Error('Refused to set unsafe header "'+a+'"');this.requestHeaders[a]?this.requestHeaders[a]+=","+b:this.requestHeaders[a]=b},setResponseHeaders:function(a){l(this),this.responseHeaders={};for(var b in a)a.hasOwnProperty(b)&&(this.responseHeaders[b]=a[b]);this.async?this.readyStateChange(g.HEADERS_RECEIVED):this.readyState=g.HEADERS_RECEIVED},send:function(b){if(h(this),!/^(get|head)$/i.test(this.method)){var c=i(this.requestHeaders,"Content-Type");if(this.requestHeaders[c]){var d=this.requestHeaders[c].split(";");this.requestHeaders[c]=d[0]+";charset=utf-8"}else!x||b instanceof FormData||(this.requestHeaders["Content-Type"]="text/plain;charset=utf-8");this.requestBody=b}this.errorFlag=!1,this.sendFlag=this.async,s(this),this.readyStateChange(g.OPENED),"function"==typeof this.onSend&&this.onSend(this),this.dispatchEvent(new a.Event("loadstart",!1,!1,this))},abort:function(){this.aborted=!0,s(this),this.errorFlag=!0,this.requestHeaders={},this.responseHeaders={},this.readyState>g.UNSENT&&this.sendFlag&&(this.readyStateChange(g.DONE),this.sendFlag=!1),this.readyState=g.UNSENT,this.dispatchEvent(new a.Event("abort",!1,!1,this)),this.upload.dispatchEvent(new a.Event("abort",!1,!1,this)),"function"==typeof this.onerror&&this.onerror()},getResponseHeader:function(a){return this.readyState<g.HEADERS_RECEIVED?null:/^Set-Cookie2?$/i.test(a)?null:(a=i(this.responseHeaders,a),this.responseHeaders[a]||null)},getAllResponseHeaders:function(){if(this.readyState<g.HEADERS_RECEIVED)return"";var a="";for(var b in this.responseHeaders)this.responseHeaders.hasOwnProperty(b)&&!/^Set-Cookie2?$/i.test(b)&&(a+=b+": "+this.responseHeaders[b]+"\r\n");return a},setResponseBody:function(a){m(this),n(this),o(a);var b=this.getResponseHeader("Content-Type"),c=""===this.responseType||"text"===this.responseType;if(s(this),this.async){var d=this.chunkSize||10,e=0;do this.readyStateChange(g.LOADING),c&&(this.responseText=this.response+=a.substring(e,e+d)),e+=d;while(e<a.length)}this.response=r(this.responseType,b,a),c&&(this.responseText=this.response),"document"===this.responseType?this.responseXML=this.response:""===this.responseType&&q(b)&&(this.responseXML=g.parseXML(this.responseText)),this.readyStateChange(g.DONE)},respond:function(a,b,c){this.status="number"==typeof a?a:200,this.statusText=g.statusCodes[this.status],this.setResponseHeaders(b||{}),this.setResponseBody(c||"")},uploadProgress:function(b){v&&this.upload.dispatchEvent(new a.ProgressEvent("progress",b))},downloadProgress:function(b){v&&this.dispatchEvent(new a.ProgressEvent("progress",b))},uploadError:function(b){w&&this.upload.dispatchEvent(new a.CustomEvent("error",{detail:b}))}}),a.extend(g,{UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4}),a.useFakeXMLHttpRequest=function(){return g.restore=function(a){A.supportsXHR&&(d.XMLHttpRequest=A.GlobalXMLHttpRequest),A.supportsActiveX&&(d.ActiveXObject=A.GlobalActiveXObject),delete g.restore,a!==!0&&delete g.onCreate},A.supportsXHR&&(d.XMLHttpRequest=g),A.supportsActiveX&&(d.ActiveXObject=function(a){return"Microsoft.XMLHTTP"===a||/^Msxml2\.XMLHTTP/i.test(a)?new g:new A.GlobalActiveXObject(a)}),g},a.FakeXMLHttpRequest=g}function u(a,b,c){var d=a("./core");a("../extend"),a("./event"),a("../log_error"),t(d),c.exports=d}var v="undefined"!=typeof ProgressEvent,w="undefined"!=typeof CustomEvent,x="undefined"!=typeof FormData,y="undefined"!=typeof ArrayBuffer,z="function"==typeof Blob,A={XMLHttpRequest:d.XMLHttpRequest};A.GlobalXMLHttpRequest=d.XMLHttpRequest,A.GlobalActiveXObject=d.ActiveXObject,A.supportsActiveX="undefined"!=typeof A.GlobalActiveXObject,A.supportsXHR="undefined"!=typeof A.GlobalXMLHttpRequest,A.workingXHR=e(d),A.supportsCORS=A.supportsXHR&&"withCredentials"in new A.GlobalXMLHttpRequest;var B={"Accept-Charset":!0,"Accept-Encoding":!0,Connection:!0,"Content-Length":!0,Cookie:!0,Cookie2:!0,"Content-Transfer-Encoding":!0,Date:!0,Expect:!0,Host:!0,"Keep-Alive":!0,Referer:!0,TE:!0,Trailer:!0,"Transfer-Encoding":!0,Upgrade:!0,"User-Agent":!0,Via:!0};f.prototype.addEventListener=function(a,b){this.eventListeners[a].push(b)},f.prototype.removeEventListener=function(a,b){for(var c=this.eventListeners[a]||[],d=0,e=c.length;e>d;++d)if(c[d]===b)return c.splice(d,1)},f.prototype.dispatchEvent=function(a){for(var b,c=this.eventListeners[a.type]||[],d=0;null!=(b=c[d]);d++)b(a)};var C=function(a,b,c){switch(c.length){case 0:return a[b]();case 1:return a[b](c[0]);case 2:return a[b](c[0],c[1]);case 3:return a[b](c[0],c[1],c[2]);case 4:return a[b](c[0],c[1],c[2],c[3]);case 5:return a[b](c[0],c[1],c[2],c[3],c[4])}};g.filters=[],g.addFilter=function(a){this.filters.push(a)};var D=/MSIE 6/;g.defake=function(a,b){var c=new A.workingXHR;j(["open","setRequestHeader","send","abort","getResponseHeader","getAllResponseHeaders","addEventListener","overrideMimeType","removeEventListener"],function(b){a[b]=function(){return C(c,b,arguments)}});var d=function(b){
j(b,function(b){try{a[b]=c[b]}catch(a){if(!D.test(navigator.userAgent))throw a}})},e=function(){a.readyState=c.readyState,c.readyState>=g.HEADERS_RECEIVED&&d(["status","statusText"]),c.readyState>=g.LOADING&&d(["responseText","response"]),c.readyState===g.DONE&&d(["responseXML"]),a.onreadystatechange&&a.onreadystatechange.call(a,{target:a})};if(c.addEventListener){for(var f in a.eventListeners)a.eventListeners.hasOwnProperty(f)&&j(a.eventListeners[f],function(a){c.addEventListener(f,a)});c.addEventListener("readystatechange",e)}else c.onreadystatechange=e;C(c,"open",b)},g.useFilters=!1,g.parseXML=function(a){if(""!==a)try{if("undefined"!=typeof DOMParser){var b=new DOMParser;return b.parseFromString(a,"text/xml")}var c=new window.ActiveXObject("Microsoft.XMLDOM");return c.async="false",c.loadXML(a),c}catch(a){}return null},g.statusCodes={100:"Continue",101:"Switching Protocols",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choice",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported"};var E="undefined"!=typeof b&&b.exports&&"function"==typeof a,F="function"==typeof define&&"object"==typeof define.amd&&define.amd;return F?void define(u):E?void u(a,b.exports,b):void(c&&t(c))}("object"==typeof sinon&&sinon,"undefined"!=typeof c?c:self)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../extend":312,"../log_error":314,"./core":324,"./event":325}],331:[function(a,b,c){!function(c){"use strict";function d(a){function b(a,c,d,e,f){var g,h;if("function"==typeof Object.getOwnPropertyNames)Object.getOwnPropertyNames(a).forEach(function(b){if(!f[b]){f[b]=!0;var g="function"==typeof Object.getOwnPropertyDescriptor(a,b).get?e:a;c.call(d,g[b],b,g)}}),g=Object.getPrototypeOf(a),g&&b(g,c,d,e,f);else for(h in a)c.call(d,a[h],h,a)}function c(a,c,d){return b(a,c,d,a,{})}return a.walk=c,a.walk}function e(a,b,c){var e=a("./util/core");c.exports=d(e)}var f="undefined"!=typeof b&&b.exports&&"function"==typeof a,g="function"==typeof define&&"object"==typeof define.amd&&define.amd;return g?void define(e):f?void e(a,b.exports,b):void(c&&d(c))}("object"==typeof sinon&&sinon)},{"./util/core":324}],332:[function(a,b,c){b.exports=function(a){return a&&"object"==typeof a&&"function"==typeof a.copy&&"function"==typeof a.fill&&"function"==typeof a.readUInt8}},{}],333:[function(a,b,c){(function(b,d){function e(a,b){var d={seen:[],stylize:g};return arguments.length>=3&&(d.depth=arguments[2]),arguments.length>=4&&(d.colors=arguments[3]),p(b)?d.showHidden=b:b&&c._extend(d,b),v(d.showHidden)&&(d.showHidden=!1),v(d.depth)&&(d.depth=2),v(d.colors)&&(d.colors=!1),v(d.customInspect)&&(d.customInspect=!0),d.colors&&(d.stylize=f),i(d,a,d.depth)}function f(a,b){var c=e.styles[b];return c?"["+e.colors[c][0]+"m"+a+"["+e.colors[c][1]+"m":a}function g(a,b){return a}function h(a){var b={};return a.forEach(function(a,c){b[a]=!0}),b}function i(a,b,d){if(a.customInspect&&b&&A(b.inspect)&&b.inspect!==c.inspect&&(!b.constructor||b.constructor.prototype!==b)){var e=b.inspect(d,a);return t(e)||(e=i(a,e,d)),e}var f=j(a,b);if(f)return f;var g=Object.keys(b),p=h(g);if(a.showHidden&&(g=Object.getOwnPropertyNames(b)),z(b)&&(g.indexOf("message")>=0||g.indexOf("description")>=0))return k(b);if(0===g.length){if(A(b)){var q=b.name?": "+b.name:"";return a.stylize("[Function"+q+"]","special")}if(w(b))return a.stylize(RegExp.prototype.toString.call(b),"regexp");if(y(b))return a.stylize(Date.prototype.toString.call(b),"date");if(z(b))return k(b)}var r="",s=!1,u=["{","}"];if(o(b)&&(s=!0,u=["[","]"]),A(b)){var v=b.name?": "+b.name:"";r=" [Function"+v+"]"}if(w(b)&&(r=" "+RegExp.prototype.toString.call(b)),y(b)&&(r=" "+Date.prototype.toUTCString.call(b)),z(b)&&(r=" "+k(b)),0===g.length&&(!s||0==b.length))return u[0]+r+u[1];if(0>d)return w(b)?a.stylize(RegExp.prototype.toString.call(b),"regexp"):a.stylize("[Object]","special");a.seen.push(b);var x;return x=s?l(a,b,d,p,g):g.map(function(c){return m(a,b,d,p,c,s)}),a.seen.pop(),n(x,r,u)}function j(a,b){if(v(b))return a.stylize("undefined","undefined");if(t(b)){var c="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(c,"string")}return s(b)?a.stylize(""+b,"number"):p(b)?a.stylize(""+b,"boolean"):q(b)?a.stylize("null","null"):void 0}function k(a){return"["+Error.prototype.toString.call(a)+"]"}function l(a,b,c,d,e){for(var f=[],g=0,h=b.length;h>g;++g)F(b,String(g))?f.push(m(a,b,c,d,String(g),!0)):f.push("");return e.forEach(function(e){e.match(/^\d+$/)||f.push(m(a,b,c,d,e,!0))}),f}function m(a,b,c,d,e,f){var g,h,j;if(j=Object.getOwnPropertyDescriptor(b,e)||{value:b[e]},j.get?h=j.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):j.set&&(h=a.stylize("[Setter]","special")),F(d,e)||(g="["+e+"]"),h||(a.seen.indexOf(j.value)<0?(h=q(c)?i(a,j.value,null):i(a,j.value,c-1),h.indexOf("\n")>-1&&(h=f?h.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+h.split("\n").map(function(a){return"   "+a}).join("\n"))):h=a.stylize("[Circular]","special")),v(g)){if(f&&e.match(/^\d+$/))return h;g=JSON.stringify(""+e),g.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(g=g.substr(1,g.length-2),g=a.stylize(g,"name")):(g=g.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),g=a.stylize(g,"string"))}return g+": "+h}function n(a,b,c){var d=0,e=a.reduce(function(a,b){return d++,b.indexOf("\n")>=0&&d++,a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0);return e>60?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1]}function o(a){return Array.isArray(a)}function p(a){return"boolean"==typeof a}function q(a){return null===a}function r(a){return null==a}function s(a){return"number"==typeof a}function t(a){return"string"==typeof a}function u(a){return"symbol"==typeof a}function v(a){return void 0===a}function w(a){return x(a)&&"[object RegExp]"===C(a)}function x(a){return"object"==typeof a&&null!==a}function y(a){return x(a)&&"[object Date]"===C(a)}function z(a){return x(a)&&("[object Error]"===C(a)||a instanceof Error)}function A(a){return"function"==typeof a}function B(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a||"undefined"==typeof a}function C(a){return Object.prototype.toString.call(a)}function D(a){return 10>a?"0"+a.toString(10):a.toString(10)}function E(){var a=new Date,b=[D(a.getHours()),D(a.getMinutes()),D(a.getSeconds())].join(":");return[a.getDate(),J[a.getMonth()],b].join(" ")}function F(a,b){return Object.prototype.hasOwnProperty.call(a,b)}var G=/%[sdj%]/g;c.format=function(a){if(!t(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(e(arguments[c]));return b.join(" ")}for(var c=1,d=arguments,f=d.length,g=String(a).replace(G,function(a){if("%%"===a)return"%";if(c>=f)return a;switch(a){case"%s":return String(d[c++]);case"%d":return Number(d[c++]);case"%j":try{return JSON.stringify(d[c++])}catch(a){return"[Circular]"}default:return a}}),h=d[c];f>c;h=d[++c])g+=q(h)||!x(h)?" "+h:" "+e(h);return g},c.deprecate=function(a,e){function f(){if(!g){if(b.throwDeprecation)throw new Error(e);b.traceDeprecation?console.trace(e):console.error(e),g=!0}return a.apply(this,arguments)}if(v(d.process))return function(){return c.deprecate(a,e).apply(this,arguments)};if(b.noDeprecation===!0)return a;var g=!1;return f};var H,I={};c.debuglog=function(a){if(v(H)&&(H=b.env.NODE_DEBUG||""),a=a.toUpperCase(),!I[a])if(new RegExp("\\b"+a+"\\b","i").test(H)){var d=b.pid;I[a]=function(){var b=c.format.apply(c,arguments);console.error("%s %d: %s",a,d,b)}}else I[a]=function(){};return I[a]},c.inspect=e,e.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},e.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},c.isArray=o,c.isBoolean=p,c.isNull=q,c.isNullOrUndefined=r,c.isNumber=s,c.isString=t,c.isSymbol=u,c.isUndefined=v,c.isRegExp=w,c.isObject=x,c.isDate=y,c.isError=z,c.isFunction=A,c.isPrimitive=B,c.isBuffer=a("./support/isBuffer");var J=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];c.log=function(){console.log("%s - %s",E(),c.format.apply(c,arguments))},c.inherits=a("inherits"),c._extend=function(a,b){if(!b||!x(b))return a;for(var c=Object.keys(b),d=c.length;d--;)a[c[d]]=b[c[d]];return a}}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":332,_process:150,inherits:153}],334:[function(a,b,c){!function(d){"function"==typeof a&&"object"==typeof c?b.exports=d():"function"==typeof define&&define.amd?define(["velocity"],d):d()}(function(){return function(a,b,c,d){function e(a,b){var c=[];return a&&b?(g.each([a,b],function(a,b){var d=[];g.each(b,function(a,b){for(;b.toString().length<5;)b="0"+b;d.push(b)}),c.push(d.join(""))}),parseFloat(c[0])>parseFloat(c[1])):!1}if(!a.Velocity||!a.Velocity.Utilities)return void(b.console&&console.log("Velocity UI Pack: Velocity must be loaded first. Aborting."));var f=a.Velocity,g=f.Utilities,h=f.version,i={major:1,minor:1,patch:0};if(e(i,h)){var j="Velocity UI Pack: You need to update Velocity (jquery.velocity.js) to a newer version. Visit http://github.com/julianshapiro/velocity.";throw alert(j),new Error(j)}f.RegisterEffect=f.RegisterUI=function(a,b){function c(a,b,c,d){var e,h=0;g.each(a.nodeType?[a]:a,function(a,b){d&&(c+=a*d),e=b.parentNode,g.each(["height","paddingTop","paddingBottom","marginTop","marginBottom"],function(a,c){h+=parseFloat(f.CSS.getPropertyValue(b,c))})}),f.animate(e,{height:("In"===b?"+":"-")+"="+h},{queue:!1,easing:"ease-in-out",duration:c*("In"===b?.6:1)})}return f.Redirects[a]=function(e,h,i,j,k,l){function m(){h.display!==d&&"none"!==h.display||!/Out$/.test(a)||g.each(k.nodeType?[k]:k,function(a,b){f.CSS.setPropertyValue(b,"display","none")}),h.complete&&h.complete.call(k,k),l&&l.resolver(k||e)}var n=i===j-1;"function"==typeof b.defaultDuration?b.defaultDuration=b.defaultDuration.call(k,k):b.defaultDuration=parseFloat(b.defaultDuration);for(var o=0;o<b.calls.length;o++){var p=b.calls[o],q=p[0],r=h.duration||b.defaultDuration||1e3,s=p[1],t=p[2]||{},u={};if(u.duration=r*(s||1),u.queue=h.queue||"",u.easing=t.easing||"ease",u.delay=parseFloat(t.delay)||0,u._cacheValues=t._cacheValues||!0,0===o){if(u.delay+=parseFloat(h.delay)||0,0===i&&(u.begin=function(){h.begin&&h.begin.call(k,k);var b=a.match(/(In|Out)$/);b&&"In"===b[0]&&q.opacity!==d&&g.each(k.nodeType?[k]:k,function(a,b){f.CSS.setPropertyValue(b,"opacity",0)}),h.animateParentHeight&&b&&c(k,b[0],r+u.delay,h.stagger)}),null!==h.display)if(h.display!==d&&"none"!==h.display)u.display=h.display;else if(/In$/.test(a)){var v=f.CSS.Values.getDisplayType(e);u.display="inline"===v?"inline-block":v}h.visibility&&"hidden"!==h.visibility&&(u.visibility=h.visibility)}o===b.calls.length-1&&(u.complete=function(){if(b.reset){for(var a in b.reset){var c=b.reset[a];f.CSS.Hooks.registered[a]!==d||"string"!=typeof c&&"number"!=typeof c||(b.reset[a]=[b.reset[a],b.reset[a]])}var g={duration:0,queue:!1};n&&(g.complete=m),f.animate(e,b.reset,g)}else n&&m()},"hidden"===h.visibility&&(u.visibility=h.visibility)),f.animate(e,q,u)}},f},f.RegisterEffect.packagedEffects={"callout.bounce":{defaultDuration:550,calls:[[{translateY:-30},.25],[{translateY:0},.125],[{translateY:-15},.125],[{translateY:0},.25]]},"callout.shake":{defaultDuration:800,calls:[[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:0},.125]]},"callout.flash":{defaultDuration:1100,calls:[[{opacity:[0,"easeInOutQuad",1]},.25],[{opacity:[1,"easeInOutQuad"]},.25],[{opacity:[0,"easeInOutQuad"]},.25],[{opacity:[1,"easeInOutQuad"]},.25]]},"callout.pulse":{defaultDuration:825,calls:[[{scaleX:1.1,scaleY:1.1},.5,{easing:"easeInExpo"}],[{scaleX:1,scaleY:1},.5]]},"callout.swing":{defaultDuration:950,calls:[[{rotateZ:15},.2],[{rotateZ:-10},.2],[{rotateZ:5},.2],[{rotateZ:-5},.2],[{rotateZ:0},.2]]},"callout.tada":{defaultDuration:1e3,calls:[[{scaleX:.9,scaleY:.9,rotateZ:-3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:-3},.1],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],[{scaleX:1,scaleY:1,rotateZ:0},.2]]},"transition.fadeIn":{defaultDuration:500,calls:[[{opacity:[1,0]}]]},"transition.fadeOut":{defaultDuration:500,calls:[[{opacity:[0,1]}]]},"transition.flipXIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateY:[0,-55]}]],reset:{transformPerspective:0}},"transition.flipXOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateY:55}]],reset:{transformPerspective:0,rotateY:0}},"transition.flipYIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateX:[0,-45]}]],reset:{transformPerspective:0}},"transition.flipYOut":{defaultDuration:800,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateX:25}]],reset:{transformPerspective:0,rotateX:0}},"transition.flipBounceXIn":{defaultDuration:900,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateY:[-10,90]},.5],[{opacity:.8,rotateY:10},.25],[{opacity:1,rotateY:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceXOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateY:-10},.5],[{opacity:0,rotateY:90},.5]],reset:{transformPerspective:0,rotateY:0}},"transition.flipBounceYIn":{defaultDuration:850,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateX:[-10,90]},.5],[{opacity:.8,rotateX:10},.25],[{opacity:1,rotateX:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceYOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateX:-15},.5],[{opacity:0,rotateX:90},.5]],reset:{transformPerspective:0,rotateX:0}},"transition.swoopIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["100%","50%"],transformOriginY:["100%","100%"],scaleX:[1,0],scaleY:[1,0],translateX:[0,-700],translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%"}},"transition.swoopOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformOriginX:["50%","100%"],transformOriginY:["100%","100%"],scaleX:0,scaleY:0,translateX:-700,translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%",scaleX:1,scaleY:1,translateX:0}},"transition.whirlIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,0],scaleY:[1,0],rotateY:[0,160]},1,{easing:"easeInOutSine"}]]},"transition.whirlOut":{defaultDuration:750,calls:[[{opacity:[0,"easeInOutQuint",1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:0,scaleY:0,rotateY:160},1,{easing:"swing"}]],reset:{scaleX:1,scaleY:1,rotateY:0}},"transition.shrinkIn":{defaultDuration:750,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,1.5],scaleY:[1,1.5],translateZ:0}]]},"transition.shrinkOut":{defaultDuration:600,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:1.3,scaleY:1.3,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.expandIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,.625],scaleY:[1,.625],translateZ:0}]]},"transition.expandOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:.5,scaleY:.5,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.bounceIn":{defaultDuration:800,calls:[[{opacity:[1,0],scaleX:[1.05,.3],scaleY:[1.05,.3]},.4],[{scaleX:.9,scaleY:.9,translateZ:0},.2],[{scaleX:1,scaleY:1},.5]]},"transition.bounceOut":{defaultDuration:800,calls:[[{scaleX:.95,scaleY:.95},.35],[{scaleX:1.1,scaleY:1.1,translateZ:0},.35],[{opacity:[0,1],scaleX:.3,scaleY:.3},.3]],reset:{scaleX:1,scaleY:1}},"transition.bounceUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[-30,1e3]},.6,{easing:"easeOutCirc"}],[{translateY:10},.2],[{translateY:0},.2]]},"transition.bounceUpOut":{defaultDuration:1e3,calls:[[{translateY:20},.2],[{opacity:[0,"easeInCirc",1],translateY:-1e3},.8]],reset:{translateY:0}},"transition.bounceDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[30,-1e3]},.6,{easing:"easeOutCirc"}],[{translateY:-10},.2],[{translateY:0},.2]]},"transition.bounceDownOut":{defaultDuration:1e3,calls:[[{translateY:-20},.2],[{opacity:[0,"easeInCirc",1],translateY:1e3},.8]],reset:{translateY:0}},"transition.bounceLeftIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[30,-1250]},.6,{easing:"easeOutCirc"}],[{translateX:-10},.2],[{translateX:0},.2]]},"transition.bounceLeftOut":{defaultDuration:750,calls:[[{translateX:30},.2],[{opacity:[0,"easeInCirc",1],translateX:-1250},.8]],reset:{translateX:0}},"transition.bounceRightIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[-30,1250]},.6,{easing:"easeOutCirc"}],[{translateX:10},.2],[{translateX:0},.2]]},"transition.bounceRightOut":{defaultDuration:750,calls:[[{translateX:-30},.2],[{opacity:[0,"easeInCirc",1],translateX:1250},.8]],reset:{translateX:0}},"transition.slideUpIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,20],translateZ:0}]]},"transition.slideUpOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:-20,translateZ:0}]],reset:{translateY:0}},"transition.slideDownIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,-20],translateZ:0}]]},"transition.slideDownOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:20,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftIn":{defaultDuration:1e3,calls:[[{opacity:[1,0],translateX:[0,-20],translateZ:0}]]},"transition.slideLeftOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:-20,translateZ:0}]],reset:{translateX:0}},"transition.slideRightIn":{defaultDuration:1e3,calls:[[{opacity:[1,0],translateX:[0,20],translateZ:0}]]},"transition.slideRightOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:20,translateZ:0}]],reset:{translateX:0}},"transition.slideUpBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,75],translateZ:0}]]},"transition.slideUpBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:-75,translateZ:0}]],reset:{translateY:0}},"transition.slideDownBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,-75],translateZ:0}]]},"transition.slideDownBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:75,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,-75],translateZ:0}]]},"transition.slideLeftBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:-75,translateZ:0}]],reset:{translateX:0}},"transition.slideRightBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,75],translateZ:0}]]},"transition.slideRightBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:75,translateZ:0}]],reset:{translateX:0}},"transition.perspectiveUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveUpOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveDownOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveLeftIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2e3,2e3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveLeftOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2e3,2e3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}},"transition.perspectiveRightIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2e3,2e3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveRightOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2e3,2e3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}}};for(var k in f.RegisterEffect.packagedEffects)f.RegisterEffect(k,f.RegisterEffect.packagedEffects[k]);f.RunSequence=function(a){var b=g.extend(!0,[],a);b.length>1&&(g.each(b.reverse(),function(a,c){var d=b[a+1];if(d){var e=c.o||c.options,h=d.o||d.options,i=e&&e.sequenceQueue===!1?"begin":"complete",j=h&&h[i],k={};k[i]=function(){var a=d.e||d.elements,b=a.nodeType?[a]:a;j&&j.call(b,b),f(c)},d.o?d.o=g.extend({},h,k):d.options=g.extend({},h,k)}}),b.reverse()),f(b[0])}}(window.jQuery||window.Zepto||window,window,document)})},{}]},{},[145]);