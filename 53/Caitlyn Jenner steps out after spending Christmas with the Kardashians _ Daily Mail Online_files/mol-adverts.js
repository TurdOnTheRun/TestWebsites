function cygnus_augment_slots(){for(var a=IndexArgs.slots,b=a.length,c=0;b>c;c++){var d=a[c];d.siteID=IndexArgs.siteID;var e="T1_"+d.id;a.push({id:e,width:d.width,height:d.height,siteID:tierone2tiertwo[IndexArgs.siteID]})}}function cygnus_index_start(a){started=Date.now(),cygnus_augment_slots(),cygnus_index_initialize(a)}function cygnus_index_initialize(a){function b(a){var b=f[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}function c(a){return e.lastIndex=0,e.test(a)?a.replace(e,b):a}function d(a){if(this.initialized=!1,"number"!=typeof a||a%1!==0||0>a)throw"Invalid Site ID";this.siteID=a,this.impressions=[],top===self?(this.sitePage=location.href,this.topframe=1):(this.sitePage=document.referrer,this.topframe=0),_IndexRequestData.requestCounter="undefined"==typeof _IndexRequestData.requestCounter?Math.floor(256*Math.random()):(_IndexRequestData.requestCounter+1)%256,this.requestID=String((new Date).getTime()%2592e3*256+_IndexRequestData.requestCounter+256),this.initialized=!0}"object"==typeof index_slots&&delete index_slots,index_slots_render=[],index_slots_add=[];var e=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};d.prototype.serialize=function(){var a='{"id":'+this.requestID+',"site":{"page":"'+c(this.sitePage)+'"';"string"==typeof document.referrer&&(a+=',"ref":"'+c(document.referrer)+'"'),a+='},"imp":[';for(var b=0;b<this.impressions.length;b++){var d=this.impressions[b],e=[];a+='{"id":"'+d.id+'", "banner":{"w":'+d.w+',"h":'+d.h+',"topframe":'+String(this.topframe)+"}","number"==typeof d.bidfloor&&(a+=',"bidfloor":'+d.bidfloor,"string"==typeof d.bidfloorcur&&(a+=',"bidfloorcur":"'+c(d.bidfloorcur)+'"')),"string"!=typeof d.slotID||d.slotID.match(/^\s*$/)||e.push('"sid":"'+c(d.slotID)+'"'),"number"==typeof d.siteID&&e.push('"siteID":'+d.siteID),e.length>0&&(a+=',"ext": {'+e.join()+"}"),a+=b+1==this.impressions.length?"}":"},"}return a+="]}"},d.prototype.setPageOverride=function(a){return"string"!=typeof a||a.match(/^\s*$/)?!1:(this.sitePage=a,!0)},d.prototype.addImpression=function(a,b,c,d,e,f){var g={id:String(this.impressions.length+1)};if("number"!=typeof a||1>=a)return null;if("number"!=typeof b||1>=b)return null;if(("string"==typeof e||"number"==typeof e)&&String(e).length<=50&&(g.slotID=String(e)),g.w=a,g.h=b,void 0!=c&&"number"!=typeof c)return null;if("number"==typeof c){if(0>c)return null;if(g.bidfloor=c,void 0!=d&&"string"!=typeof d)return null;g.bidfloorcur=d}if("undefined"!=typeof f){if(!("number"==typeof f&&f%1===0&&f>=0))return null;g.siteID=f}return this.impressions.push(g),g.id},d.prototype.sendRequestAsync=function(a){var b=a?"/headertag?v=9":"/cygnus?v=7";if(0!=this.impressions.length&&this.initialized===!0){var c=encodeURIComponent(this.serialize()),d="https:"===window.location.protocol?"https://as-sec.casalemedia.com":"http://as.casalemedia.com";d+=b+"&fn=cygnus_index_parse_res&s="+this.siteID+"&r="+c;var e=document.createElement("script");e.setAttribute("src",d),e.setAttribute("type","text/javascript");var f=document.getElementsByTagName("script")[0];return f.parentNode&&f.parentNode.insertBefore(e,f),this.requestID}};try{if("undefined"==typeof IndexArgs||"undefined"==typeof IndexArgs.siteID||"undefined"==typeof IndexArgs.slots)return;"undefined"==typeof _IndexRequestData&&(_IndexRequestData={},_IndexRequestData.impIDToSlotID={},_IndexRequestData.reqOptions={});var g=new d(IndexArgs.siteID);IndexArgs.url&&"string"==typeof IndexArgs.url&&g.setPageOverride(IndexArgs.url),_IndexRequestData.impIDToSlotID[g.requestID]={},_IndexRequestData.reqOptions[g.requestID]={};for(var h,i,j=0;j<IndexArgs.slots.length;j++)h=IndexArgs.slots[j],i=g.addImpression(h.width,h.height,h.bidfloor,h.bidfloorcur,h.id,h.siteID),i&&(_IndexRequestData.impIDToSlotID[g.requestID][i]=String(h.id));return"number"==typeof IndexArgs.targetMode&&(_IndexRequestData.reqOptions[g.requestID].targetMode=IndexArgs.targetMode),"function"==typeof IndexArgs.callback&&(_IndexRequestData.reqOptions[g.requestID].callback=IndexArgs.callback),g.sendRequestAsync(a)}catch(k){}}var adsDefaults=function(){var a={adx_page_skins:"off",adx_tracking:"off",fff:"off",sticky_banner:"off",network_banner:"off",ldr_top:"off",banner_top:"off",sky_left_top:"off",sky_right_top:"off",search_engine_sky:"off",skinny_belly_top:"off",billboard:"off",interstitial:"off",mpu_top:"on",mpu_middle:"on",mpu_bottom:"on",mpu_mobile:"on",mpu_bottom_right:"on",mpu_top_300x600:"on",mpu_middle_300x600:"on",mpu_bottom_300x600:"on",mpu_bottom_right_300x600:"on",mpu_top_zero:"on",mpu_middle_zero:"on",mpu_bottom_zero:"on",mpu_bottom_right_zero:"on",mpu_puff_10:"on",mpu_puff_20:"on",mpu_puff_30:"on",mpu_puff_top_right:"off",puff_ad_1:"off",puff_ad_2:"off",puff_ad_3:"off",halfsky_left_top:"off",halfsky_left_middle:"off",halfsky_left_bottom:"off",halfsky_right_top:"off",halfsky_right_middle:"off",halfsky_right_bottom:"off",video_carousel:"off"};return{defaultValues:a}}();adsDescriptions=function(){function a(a){var b=adStickyConfig.overwrite,c=PageCriteria.channel,d=PageCriteria.geo.toLowerCase(),e=PageCriteria.pageType,f={};try{_.extend(f,b.allChannels.allGeos.allTypes)}catch(g){}try{_.extend(f,b.allChannels.allGeos[e])}catch(g){}try{_.extend(f,b.allChannels[d].allTypes)}catch(g){}try{_.extend(f,b.allChannels[d][e])}catch(g){}try{_.extend(f,b[c].allGeos.allTypes)}catch(g){}try{_.extend(f,b[c].allGeos[e])}catch(g){}try{_.extend(f,b[c][d].allTypes)}catch(g){}try{_.extend(f,b[c][d][e])}catch(g){}try{_.extend(a,f[a.pos])}catch(g){}return a}function b(a){if(!a.type){var b=[];a.size&&(b=isNaN(a.size[0])&&a.size||[a.size]),a.type=b.map(function(a){return a.join("x")||""}).join(",")}}var c=function(a){return a+"_"+(new Date).getTime()+(Math.floor(89999*Math.random())+1e4)},d={adx_page_skins:{id:c("adx_page_skins")},adx_tracking:{id:c("adx_tracking")},native_puff:{size:[[308,150],[300,120]],id:"native_puff"},ldr_top:{size:[[468,60],[728,90],[900,125]],adProbe:!0,dcopt:!0,id:c("ldr_top")},billboard:{size:[[970,250],[900,250]],dcopt:!0,adProbe:!0,id:"billBoard"},sky_left_top:{size:[120,600],target:"MOL_SKY_ART",id:"sky-left"},halfsky_left_top:{size:[120,240],id:c("halfsky_left_top")},halfsky_left_middle:{size:[120,240],id:c("halfsky_left_middle")},halfsky_left_bottom:{size:[120,240],id:c("halfsky_left_bottom")},sky_right_top:{size:[120,600],target:"MOL_SKY_WIDE_ART",wide:!0,id:"channel"===PageCriteria.pageType?"sky-right":"sky-article-wide"},halfsky_right_top:{size:[120,240],wide:!0,id:c("halfsky_right_top")},halfsky_right_middle:{size:[120,240],wide:!0,id:c("halfsky_right_middle")},halfsky_right_bottom:{size:[120,240],wide:!0,id:c("halfsky_right_bottom")},native_mpu:{size:[2,2],id:"native_mpu"},native_related:{size:[2,2],id:"native-related",delayed:!1},network_banner:{size:[320,50],id:"networkBanner",command:"pfadj",adProbe:!0,dcopt:!0},"interstitial-0-ad":{size:[980,90],dfpPos:"interstitial",id:"interstitial-0-ad",command:"pfadj",adProbe:!0,dcopt:!0},"interstitial-1-ad":{size:[980,90],dfpPos:"interstitial",id:"interstitial-1-ad",command:"pfadj",adProbe:!0,dcopt:!0}};_.forEach(d,function(c,d){c.pos=d,c.parentId=c.parentId||c.id,c.slots=c.slots||[],a(c),b(c)});var e=function(a){var b=d[a];return b&&(b.pos=a),b},f=function(a,b){d[a]=b};return{ads:d,get:e,update:f,overrideAdWithCljAdmConfiguration:a}}(),AdEvents=function(){function a(a){var b=this.eventsMap[a];this.domElement[a]=this.getDomCallback.call(this,a),null!==this.domElement[a]&&this.on(this.domElement[a],this.eventName,function(a){a.stopPropagation();var c=MobileUtils.isLandscape()?"landscape":"portrait";b.call(this,c)})}function b(b){var c=AdIntegrator.getElementById(b);c?b in this.eventsMap&&a.call(this,b):delete this.eventsMap[b]}function c(){for(var a in this.eventsMap)b.call(this,a)}var d=function(a,b){this.eventsMap={},this.eventName=a,this.getDomCallback=b,this.domElement={};var d=this;DM.later("DOM_READY",function(){c.call(d)})};return d.on=function(a,b,c){miniDom.on(a,b,c)},d.fireEvent=function(){return document.createEvent?function(a,b){var c=a.ownerDocument.createEvent("HTMLEvents");c.initEvent(b,!0,!0),a.dispatchEvent(c)}:function(a,b){var c=a.ownerDocument.createEventObject();c.eventType=b,a.fireEvent("on"+c.eventType,c)}}(),d.prototype={constructor:d,registerEvent:function(a,c){this.eventsMap[a]=c,b.call(this,a)},getEvent:function(a){return this.eventsMap[a]},on:d.on,fireEvent:d.fireEvent},d}(),AdImpression=function(){function a(a){var b=a.getAttribute(f),c=new Image;c.src=b,a.getAttribute(g)&&(DM.later?DM.later("bundle",function(){DM.pageEvents.fireEvent(DM.pageEvents.PAGE_AD_DISPLAYED,{type:"dfp-impression"})}):DM.pageEvents.fireEvent(DM.pageEvents.PAGE_AD_DISPLAYED,{type:"dfp-impression"}))}function b(a){setTimeout(function(){c(a,e),a.getAttribute(g)&&(DM.later?DM.later("bundle",function(){DM.pageEvents.fireEvent(DM.pageEvents.PAGE_AD_DISPLAYED,{type:"3rd-party-impression"})}):DM.pageEvents.fireEvent(DM.pageEvents.PAGE_AD_DISPLAYED,{type:"3rd-party-impression"}))},0)}function c(){h.fireEvent.apply(h,arguments)}function d(a){return AdIntegrator.getElementById(a)}var e="onImpression",f="data-impression-url",g="data-ted-tracking",h=new AdEvents("onImpression",function(a){return d(a)});return{DATA_IMPRESSION_URL:f,onImpression:function(){h.registerEvent.apply(h,arguments)},registerImpression:function(c,d){var e=Array.prototype.filter.call(AdIntegrator.getAdContainer(c).getElementsByTagName("div"),function(a){return a.getAttribute(f)});e.length&&(a(e[0]),b(e[0]),d.call(this,c))}}}(),AdBehaviour=function(){var a=new AdEvents("click",function(a){var b,c=AdIntegrator.getElementOrIframeById(a),d=miniDom.hasClass(c,"slide")?c:miniDom.closest(c,function(a){return miniDom.hasClass(a,"slide")});return document.querySelectorAll?b=d.querySelectorAll(".adLinkLabel a"):(b=d.getElementsByTagName("a"),b=Array.prototype.filter.call(b,function(a){return miniDom.closest(a,function(a){return miniDom.hasClass(a,"adLinkLabel")})})),b[0]}),b=new AdEvents("adDeactivate",function(a){var b=miniDom.closest(AdIntegrator.getElementOrIframeById(a),function(a){return"mobileGalleryModal"===a.id});return b});return{onClick:function(){var b=Array.prototype.slice.call(arguments),c=b[1];b[1]=function(){window.open(c,"_blank")},a.registerEvent.apply(a,b)},onDeactivate:function(a,c){b.registerEvent.call(b,a,c)},isClickThrough:function(b){"string"==typeof b?b=AdIntegrator.getElementById(b):miniDom.isElement(b)||(b=b[0]),b=AdIntegrator.getAdContainer(b);var c=b.getElementsByTagName("div");return c=Array.prototype.filter.call(c,function(b){var c=a.getEvent(b.id);return c&&-1!==c.toString().indexOf("window.open")}),c.length>0},onInteraction:function(){a.registerEvent.apply(a,arguments)}}}(),window.AdIntegrator=function(){function a(a){if(a){var b=document.createElement("style");b.type="text/css",b.styleSheet?b.styleSheet.cssText=a:"textContent"in b?b.textContent=a:b.innerText=a,document.body.appendChild(b)}}function b(a){var b;try{b=a.contentDocument||a.contentWindow.document}catch(c){}return b||document}function c(a){return function(c){return c&&b(c).getElementById(a)}}function d(a){var b=(a||document).getElementsByTagName("iframe");return Array.prototype.filter.call(b,g)}function e(a,c){function e(){function a(){var d,e=b(c),g=e.body,h=["iframe","img","object","a","div"],j=[];for(d=h.length;d--;)j.push.apply(j,Array.prototype.slice.call(g.getElementsByTagName(h[d])));for(d=j.length;d--;)if(j[d].offsetWidth===i)return void(g.style.marginLeft=g.style.marginRight=(g.clientWidth-i>>1)+"px");!f&&j.length||(f--,setTimeout(a,500))}var c,e=d(h),f=5;e.length&&(c=e.filter(function(a){var b=+a.getAttribute("width");return b===i||b===j})[0],c&&a())}var f,g,h,i=1/0,j=0;if(c.length>1){for(f=c.length;f--;)g=c[f][0],g>j&&(j=g),i>g&&(i=g);j!==i&&(h=document.getElementById(a),h&&e())}}function f(a){var b=c(a);return h(d(),function(a){return b(a)&&a})}function g(a){return a.id&&"google_ads_iframe_"===a.id.slice(0,18)&&"0"!==a.width}function h(a,b){for(var c=0,d=a.length;d>c;c++)if(b(a[c]))return a[c]}function i(a){var b=document.getElementById(a),c=!0,d=["a","iframe","object","img","video"];if(b)for(var e=d.length;c&&e--;)c=!b.getElementsByTagName(d[e]).length;return c}function j(a){var b=f(a),c=/\badHolder\b/;if(b){for(var d=b;d&&!c.test(d.className||"");)d=d.parentNode;return d||(d=b),d}}function k(a){var b="molads_"+a,c=document.documentElement;miniDom.removeClass(c,b+"_on"),miniDom.addClass(c,b+"_off");var d=window.DM;"billboard"===a&&d&&d.Rotator&&d.Rotator.initMiniCarousel()}function l(a){var b="molads_"+a,c=document.documentElement;miniDom.removeClass(c,b+"_off"),miniDom.addClass(c,b+"_on")}function m(a,b,c){var e=h(d(),function(b){return b.contentWindow.name===a.name});if(e){var f=miniDom.closest(e,function(a){return a.hasAttribute(adsRenderer.AD_ATTRIBUTE)});if(f){var g=adsRenderer.parse(f.getAttribute(adsRenderer.AD_ATTRIBUTE)||"{}");g&&adsRenderer.onNativeLoaded(g,f,c)}}}return{log:function(){console.log.apply(console,arguments)},appendStyles:function(b){for(var c=b.match(/<style[^>]*\sclass="?integrate"?[^>]*>[^\f]*?<\/style>/gi),d=0,e=c?c.length:0;e>d;d++)a(c[d].slice(c[d].indexOf(">")+1,-8))},getElementById:function(a){for(var b=null,e=d(),f=c(a),g=0;!b&&g<e.length;g++)b=f(e[g]);return b},getElementOrIframeById:f,getAdContainer:function(a){var c;return c=d(a)[0],c?b(c):a},collapseAd:function(a){var b=j(a);if(b){var c=adsRenderer.parse(b.getAttribute(adsRenderer.AD_ATTRIBUTE)||"{}");c&&c.pos?k(c.pos):b.style.display="none"}},openAd:function(a){var b=j(a),c=adsRenderer.parse(b.getAttribute(adsRenderer.AD_ATTRIBUTE)||"{}");c&&c.pos?l(c.pos):(b.style.height="auto",b.style.display="block")},enableSlot:l,disableSlot:k,centerAlign:e,stickyToBottom:function(a){var b=document.getElementById("stickyBanner");b?setTimeout(function(){var c,d=document.getElementsByTagName("div"),e=/\bpage-banner\b/;for(b.id="superBanner",b.className=(b.className||"").replace(/(\s*)sticky_banner_overrides(\s*)/g,"$1$2"),document.documentElement.className=document.documentElement.className.replace(/(\s*molads_ldr_top_)off(\s*)/,"$1on$2").replace(/(\s*molads_sticky_banner_)on(\s*)/,"$1off$2"),c=d.length;c--;)e.test(d[c].className||"")&&(d[c].style.paddingTop="125px");"function"==typeof a&&a()},100):"function"==typeof a&&a()},isEmpty:i,nativeLoaded:m}}();var adCheckerConfig={MpuVideoChecker:{enabled:!0,alert:!1,alertMsg:"mpu containing a video",checkClass:"mpu-video-checked",geos:["US"],allowedSecs:30},MpuSizeChecker:{enabled:!1,alert:!1,alertMsg:"wrong mpu height",checkClass:"mpu-size-checked",geos:["_"]}};AdsChecker=function(){function a(){function a(a){return!a||_.contains(a,"_")||_.contains(a,PageCriteria.geo)}_.each(adCheckerConfig,function(b,c){b.enabled&&a(b.geos)&&j.push(c)}),_.isEmpty(j)||DM.later("DOM_READY",b)}function b(){k=Array.prototype.slice.call(miniDom.getElementsByClassName(document,"adHolder")).filter(c),d(),setTimeout(e,g)}function c(a){return a.hasAttribute(adsRenderer.AD_ATTRIBUTE)}function d(){setTimeout(function(){var a=AdsChecker.checkers;_.each(j,function(b){l[b]=a[b].check(k,adCheckerConfig[b])}),i||d()},h)}function e(){i=!0,_.each(l,function(a,b){adCheckerConfig[b].alert&&f(b,a)})}function f(a,b){var c=adsTrackers.feelingLucky();l[a].forEach(function(b){var d=adCheckerConfig[a].alertMsg||"wrong advert - no given reason";console.error("Wrong advert:",b,d),c&&adsTrackers.sendAlert(b,d)})}var g=3e4,h=2e3,i=!1,j=[],k=[],l={};return{startChecking:a,checkers:{}}}(),AdsChecker.checkers.MpuSizeChecker=function(){function a(a,e){function f(){return Array.prototype.filter.call(a,function(a){return"mpu"===adsRenderer.parse(a.getAttribute(adsRenderer.AD_ATTRIBUTE)).pos.slice(0,3)})}function g(a){return!miniDom.hasClass(a,e.checkClass)}function h(a){return miniDom.addClass(a,e.checkClass),a}var i=f().filter(b).filter(c);return i.filter(g).map(d).map(h),i}function b(a){var b=Array.prototype.filter.call(a.childNodes,function(a){return miniDom.isElement(a)&&"SCRIPT"!==a.tagName});return b.length>0}function c(a){return a.offsetHeight>e}function d(a){return miniDom.addClass(a,"wrong-size"),a.style.display="none",a}var e=300;return{check:a}}(),AdsChecker.checkers.MpuVideoChecker=function(){function a(a,f){function i(){return Array.prototype.filter.call(a,function(a){return b(a)&&!miniDom.hasClass(a,f.checkClass)})}function j(a){return miniDom.addClass(a,f.checkClass),a}g=1e3*(f.allowedSecs||h);var k=Array.prototype.filter.call(i(),c);return k=Array.prototype.filter.call(k,d),k=Array.prototype.map.call(k,e),k=Array.prototype.map.call(k,j)}function b(a){var b=(a.className||"").split(" ").filter(function(a){return"mpu"===a.slice(0,3)});return!!b.length}function c(a){var b=f(a.childNodes,"DIV");return b.length>0}function d(a){var b=/liverail|adap\.tv|ybrant|adaptv|ybpangea|underdogmedia|brightcove|brightroll|spotxchange|reelfeed\.tv|tidaltv|btrll\.com|tubemogul|jwplayer|scanscout/i,c=f(a.childNodes,"DIV")[0];if(!c)return!1;var d=f(c.childNodes,"IFRAME")[0],e=d.contentDocument.getElementsByTagName("body")[0].innerHTML;return b.test(e)}function e(a){function b(){a.style.display="none",a.innerHTML=""}return miniDom.addClass(a,"risky-video"),setTimeout(b,g),a}function f(a,b){return Array.prototype.filter.call(a,function(a){return miniDom.isElement(a)&&a.tagName===b})}var g,h=30;return{check:a}}(),adStickyConfig=adStickyConfig||{},sticky=function(){function a(){var a=document.getElementById(adStickyConfig.banner.parentId),c=a&&miniDom.closest(a,function(a){return miniDom.hasClass(a,adStickyConfig.miniDom.cssClass)});a&&c&&(MobileUtils.isLandscape()||MobileUtils.getZoom()>1?(a.style.display="none",c.style.paddingTop="0"):setTimeout(function(){var e=a,f=miniDom.walk(e.firstChild,function(a){return a&&a.nextSibling},function(a){return miniDom.isElement(a)&&("IMG"===a.tagName||"DIV"===a.tagName)});if(f){e.style.display="block",e.style.height="auto";var g=f.offsetHeight;e.style.height=g+"px",c.style.paddingTop=g+10+"px"}else c.style.paddingTop="",e.style.height="";b(),d()&&u()},adStickyConfig.initStickySetTimeoutMs))}function b(){var a=document.getElementById(adStickyConfig.banner.parentId);if(a){miniDom.removeClass(a,adStickyConfig.miniDom.bannerOverrideCssClass);var b=miniDom.closest(a,function(a){return miniDom.hasClass(a,adStickyConfig.miniDom)});miniDom.removeClass(b,adStickyConfig.miniDom.pageOverrideCssClass)}}function c(a){a.removeAttribute(AdImpression.DATA_IMPRESSION_URL)}function d(){var a=document.getElementById(adStickyConfig.banner.parentId);return a?"none"===a.style.display||"hidden"===a.style.visibility:!1}function e(){miniDom.on(document.body,"orientationchange",function(){d()&&u()},!1)}function f(b){a(b)}function g(a){function b(){var c=Math.abs(miniDom.getOffset(d).top);c>=e&&(adsRenderer.refreshAdvert({pos:a}),document.removeEventListener("scroll",b),document.removeEventListener("touchmove",b))}if(!(adStickyConfig.stopStickyBannerRefresh||adListLoader.getEnabledRenderedSlots().indexOf(a)<0)){var c=miniDom.getElementsByClassName(document,"scrollable-content")[0],d=c&&c.getElementsByTagName("article")[0],e=d&&miniDom.getOffset(d).top+d.scrollHeight/2;e&&(miniDom.on(document,"scroll",b),miniDom.on(document,"touchmove",b))}}function h(b){var c=b.slot?b.slot.molAd:{};c.pos===adStickyConfig.banner.position&&c.parentId===adStickyConfig.banner.id&&(j(adStickyConfig.banner.toggleCssClassPrefix,!b.isEmpty),a())}function i(a,b,c,d,e){function f(){miniDom.hasClass(a,k)||(miniDom.removeClass(a,j),miniDom.addClass(a,k),a.style.position="fixed",a.style.top="0",d.on&&d.on())}function g(){miniDom.hasClass(a,j)||(miniDom.removeClass(a,k),miniDom.addClass(a,j),a.style.position="absolute",a.style.top=c+"px",d.off&&d.off())}function h(){(miniDom.hasClass(a,k)||miniDom.hasClass(a,j))&&(miniDom.removeClass(a,k),miniDom.removeClass(a,j),a.style.position=m,a.style.top=n,d.cancel&&d.cancel())}function i(){var a=window.pageYOffset;!p&&c&&a>c?g():!p&&a>b?f():h()}if(window.getComputedStyle){d=d||{};var j="affix-off",k="affix-on",l=window.getComputedStyle(a,null),m=l.getPropertyValue("position"),n=l.getPropertyValue("top"),o=!!adStickyConfig.stickyApiEnabled,p=o&&e&&e.scrollingDisabled||!1;"undefined"!=typeof e&&(e.scrolling={on:function(){o&&(p=!1)},off:function(){o&&(p=!0,h())}}),miniDom.on(document,"scroll",i),i()}}function j(a,b){var c=a+"on",d=a+"off",e=document.documentElement;miniDom.removeClass(e,c+" "+d),miniDom.addClass(e,b?c:d)}function k(){var a=adStickyConfig.leader.prefix;j(a,!1),adListLoader.isAdEnabled({pos:adStickyConfig.leader.position})&&adsRenderer.addLoadListener(function(b){var c=b.slot?b.slot.molAd:{};if(c.pos===adStickyConfig.leader.position&&c.parentId===adStickyConfig.leader.parentId){var d=document.getElementById(c.parentId);j(a,!b.isEmpty,d)}})}function l(){adListLoader.isAdEnabled({pos:adStickyConfig.banner.position})&&(adsRenderer.addLoadListener(h),j(!1),miniDom.on(document.body,"orientationchange",f,!1),miniDom.on(document.body,"touchend",function(){MobileUtils.onTouchEnd(a)},!1),DM.later("DOM_READY",f),adStickyConfig.channels[PageCriteria.channel][PageCriteria.geo.toLowerCase()].autoRefreshBanner&&DM.onDocReady(g.bind(null,adStickyConfig.banner.position)),u())}function m(a){function b(){var b=miniDom.getOffset(c).left+h+j;a.style.left=b+"px"}if(window.getComputedStyle){var c=document.getElementById("content");if(c){var d=window.getComputedStyle(a,null),e=parseInt(d.getPropertyValue("right")),f=parseInt(d.getPropertyValue("width")),g=window.getComputedStyle(c,null),h=parseInt(g.getPropertyValue("width")),j=Math.abs(e)-f,k=miniDom.getOffset(c).top,l=document.getElementById("mpu_puff_20"),m=l?miniDom.getOffset(l).top:k+5e3;miniDom.on(window,"resize",_.debounce(b,300)),i(a,k,m,{on:b,off:function(){a.style.left="auto",a.style.top=m-k+"px"},cancel:function(){a.style.left="auto"}})}}}function n(a){function b(){var b=g-f-h;console.log(g,f,h,b),a.style.left=b+"px"}if(window.getComputedStyle){var c=document.getElementById("content");if(c){var d=window.getComputedStyle(a,null),e=parseInt(d.getPropertyValue("left")),f=parseInt(d.getPropertyValue("width")),g=miniDom.getOffset(c).left,h=15,j=miniDom.getOffset(c).top,k=document.getElementById("mpu_puff_20"),l=k?miniDom.getOffset(k).top:j+5e3;miniDom.on(window,"resize",_.debounce(b,300)),i(a,j,l,{on:b,off:function(){a.style.left=e+"px",a.style.top=l-j+"px"},cancel:function(){a.style.left=e+"px"}})}}}function o(){adListLoader.isAdEnabled({pos:"right_sky_top"})&&adsRenderer.addLoadListener(function(a){var b=a.slot?a.slot.molAd:{};if(b.pos===adStickyConfig.rightSky.position){var c=document.getElementById(adStickyConfig.rightSky.parentTarget);c&&m(c)}}),adListLoader.isAdEnabled({pos:"left_sky_top"})&&adsRenderer.addLoadListener(function(a){var b=a.slot?a.slot.molAd:{};if(b.pos===adStickyConfig.leftSky.position){var c=document.getElementById(adStickyConfig.leftSky.parentTarget);c&&n(c)}})}function p(a,b){var c=200,d=$(".article-text h1").get(0)||$("#sciencetech, #arts, #you, #promotions, #tvshowbizheadlines, #food, #gardening, #femailblogs").get(0)&&$(".lead-alpha:first .beta:first .item:nth-child(1)").get(0)||$(".gamma:eq(1) .tim-tools").get(0)||$(".gamma:first .tim-tools").get(0)||$(".gamma:first .sport.item:nth-child(2)").get(0)||$(".gamma:first .article-tri-headline:first h2").get(0)||$(".lead-alpha:first .alpha:first .article.article-tri-headline:nth-child(1) h2").get(0)||$(".lead-alpha:first .football-team-news:first .article.article-large:first h2").get(0)||$(".lead-alpha:first .sport:first .article-large:first h2").get(0)||$(".lead-alpha:first .health:first .health-archive:first h2").get(0)||$(".lead-alpha:first .travel:first .travel-banner:first h1").get(0)||$(".lead-alpha:first .beta:first .item:nth-child(1) .puff ul li:nth-child(1)").get(0)||$(".lead-alpha:first .beta:first .item:nth-child(1) .fff-hub .fff-search").get(0)||$(".lead-alpha:first .alpha:first .item:first h3:not(.usability)").get(0)||$(".lead-alpha:first .beta:first .item:nth-child(2)").get(0)||$(".lead-alpha:first .alpha:first .item:first h6").get(0);if(d){var e=miniDom.getOffset(a).top,f=miniDom.getOffset(d).top+d.scrollHeight-b.scrollHeight;if(f-e>c)return;b.style.height=b.scrollHeight+"px",i(a,e,f,{off:function(){a.style.position="relative",a.style.top=f-parseInt(miniDom.getOffset(b).top)+"px"}},adStickyConfig&&adStickyConfig.billboard)}}function q(){var a=document.getElementById("superBanner"),b=miniDom.getElementsByClassName(document,"molads_billboard_on")[0];b&&a&&miniDom.addClass(b,"molads_ldr_billboard_on")}function r(a){return 728===a.size[0]&&90===a.size[1]}function s(a){adListLoader.isAdEnabled({pos:adStickyConfig.position})&&adsRenderer.addLoadListener(function(b){var c=b.slot?b.slot.molAd:{};if(!b.isEmpty&&c.pos===adStickyConfig.billboard.position&&c.parentId===adStickyConfig.billboard.parentId){var d=document.getElementById(c.parentId),e=d.parentNode;if(!e)return;r(b)?q(e):a&&setTimeout(function(){e.scrollHeight>1&&p(d,e)},adStickyConfig.initBillboardSetTimeoutMs)}})}function t(){var a=a||{log:function(){}},b=!1;try{b="other"===PageCriteria.device&&adStickyConfig.channels[PageCriteria.channel][PageCriteria.geo.toLowerCase()][PageCriteria.pageType]}catch(c){a.log("Missing configuration for sticky billboard.")}s(b);try{adStickyConfig.banner.position,l()}catch(c){a.log("Missing configuration for sticky banner.")}try{adStickyConfig.leader.position,k()}catch(c){a.log("Missing configuration for leaderboard")}o()}var u=function(){DM.later("DOM_READY",function(){d()?AdImpression.registerImpression(document.getElementById(adStickyConfig.banner.parentId),c):e()})};return{init:t}}(),function(a,b){function c(a){var c=b.getElementById(a.replace(/^#/,""));if(c&&c.className.match(d))return!1;for(;c&&1==c.nodeType;c=c.parentNode)if(c.className.match(d))return!1;return!0}var d=/\badHolder\b/,e=0,f=0;miniDom.on(a,"scroll",function(a){e=b.body.scrollTop,f=b.body.scrollLeft}),miniDom.on(a,"hashchange",function(d){var g=a.location.hash;c(g)||(b.body.scrollTop=e,b.body.scrollLeft=f,adsLogger.log("ads.blockedHash",{hash:g}))})}(window,document),window.PageCriteria||(PageCriteria=function(a){PageCriteria=a}),adListLoader=function(){function a(a,b){return"molads_"+a+"_"+b}function b(){var b=_.map(l,function(b){return a(b,"off")}).join(" "),c=_.map(k,function(b){return a(b,"on")}).join(" ");miniDom.addClass(document.documentElement,b+" "+c)}function c(a){var b=a&&a.pos;return window.disableAds?!1:!b||-1===n.indexOf(b)||k.indexOf(b)>-1}function d(){function b(){var b=adsDefaults.defaultValues;for(var c in b)b.hasOwnProperty(c)&&m.push(a(c,b[c]))}b(),miniDom.addClass(document.documentElement,m.join(" "))}function e(){miniDom.removeClass(document.documentElement,m.join(" "))}function f(a){e();for(var c in a)a.hasOwnProperty(c)&&(!window.disableAds&&a[c].enabled?k.push(c):l.push(c));dfpAsyncHandler.prepareGPTSlots(k),b(),sticky.init()}function g(){function a(){DM.later("DOM_READY",function(){function a(){var a=MobileUtils.isLandscape(),b=document.documentElement;miniDom.addClass(b,d[+a]),miniDom.removeClass(b,d[+!a]),c=0}function b(){c&&clearTimeout(c),c=setTimeout(a,200)}var c,d=["portrait","landscape"];miniDom.on(window,"orientationchange",b),miniDom.on(window,"resize",b),a()})}MobileUtils.isMobile()&&a(),miniDom.addClass(document.documentElement,PageCriteria.geo.toLowerCase()+"_country")}function h(a){var b=window.mpu_modules;return b&&"mpu"===a.slice(0,3)?_.contains(b,a):!0}function i(){return k.filter(h).slice()}function j(a){var b="script";document.write("<"+b+' src="'+a+'"></'+b+">")}var k=[],l=[],m=[],n=["adx_page_skins","adx_tracking","banner_top","billboard","fff","halfsky_left_bottom","halfsky_left_middle","halfsky_left_top","halfsky_right_bottom","halfsky_right_middle","halfsky_right_top","interstitial","ldr_top","puff_ad_1","puff_ad_2","puff_ad_3","mpu_bottom_zero","mpu_bottom_right_zero","mpu_middle_zero","mpu_mobile","mpu_top_zero","mpu_bottom_300x600","mpu_bottom_right_300x600","mpu_middle_300x600","mpu_top_300x600","mpu_bottom","mpu_bottom_right","mpu_middle","mpu_puff_10","mpu_puff_20","mpu_puff_30","mpu_puff_top_right","mpu_top","native_puff_dfp","network_banner","search_engine_sky","skinny_belly_top","sky_left_top","sky_right_top","sticky_banner","video_carousel"];return DM.later("DOM_READY",function(){document.write=document.writeln=function(a){try{throw new Error(a)}catch(b){console.error("Error: there was an attempt to document.write in a rendered page: ",b)}}}),{isAdEnabled:c,initSlots:function(a){f(a),g()},initEmergencyRules:d,requestSlotConfig:j,loadScriptSync:j,setSupportedSlots:function(a){n=a},getEnabledSlots:function(){return k.slice()},getEnabledRenderedSlots:i}}();var adsLogger=function(){return{log:function(a,b){try{$.post("/",{ns:a,data:b})}catch(c){}}}}(),adTrackingConfig=window.adTrackingConfig&&_&&_.keys(window.adTrackingConfig).length?window.adTrackingConfig:{geoConfig:{AU:[{name:"realTimePricingPlugin",enabled:!1}],US:[{name:"amazonPlugin",enabled:!0},{name:"openXBidderPlugin",enabled:!0}],GB:[{name:"realTimePricingPlugin",enabled:!1}],"default":[{name:"criteoPlugin",enabled:!0},{name:"audienceSciencePlugin",enabled:!0},{name:"audienceMembershipPlugin",enabled:!1},{name:"amazonPlugin",enabled:!1},{name:"realTimePricingPlugin",enabled:!0},{name:"grapeshotPlugin",enabled:!0},{name:"mediaDirectPlugin",enabled:!0},{name:"sonobiPlugin",enabled:!0},{name:"casaleIndexPlugin",enabled:!0},{name:"openXBidderPlugin",enabled:!0},{name:"yieldbot",enabled:!1},{name:"pageFairPlugin",enabled:!0},{name:"forensiqPlugin",enabled:!1},{name:"botsPlugin",enabled:!0}]}},tierone2tiertwo={158654:164110,159312:164111,159313:164112},started=0;window.adsTedReport=function(){function a(){return 1===Math.floor(Math.random()*f+1)}function b(a){var b=window.DM,f=b&&b.ted,i="sponsored";if(f){var j={},k=d.adAreaSiteId+"_"+d.adAreaSiteId+d.adAreaId+"_"+d.adSubareaId+d.adPageType,l=0,m=adsTrackers.getObjectRequestedAds();if(Object.keys(m).forEach(function(a){var b=m[a];b&&(b[2]||(b[2]=k),b[0]&&(j["ad"+l++]=b.join("|")))}),l||g){if(j.dev=PageCriteria.device,j.time=(new Date).valueOf()-e,j.adUnit=k,j.page="true"===(PageCriteria.sponsored||"").toString()?i:PageCriteria.pageType,g&&j.page===i&&(j.nid=g),j.aid=PageCriteria.articleId||"",j.ch=PageCriteria.channel,j.sch=PageCriteria.subchannel,g){var n=adsTrackers.plugins.audienceMembershipPlugin.getIds();n.length&&(j.cc=n.map(function(a){return Number(a).toString(36)}).join("-"))}c("ad_report",j)}if(h.length&&window.adsTedReport.feelingLucky()){var o=[],p=h.map(function(a){var b=adsTrackers.getErrorReport(a,"plugin-failed"),c=b.source;return delete c.lid,delete c.cid,c.st=a.plugins,o.push(b.source),b}),q=p[0];q.sources=o,delete q.source,c("ad-errors",q)}}"function"==typeof a&&a()}function c(a,b){var c="//t.dailymail.co.uk/s/";b=b||{},b.r=document.referrer,b.g=DM.ted.g||"GB";var d=Object.keys(b).map(function(a){var c=b[a];return"object"==typeof c&&(c=adsRenderer.stringify(c)),[a,c].map(encodeURIComponent).join("=")}),e=new Image(1,1);e.src=[c,"l?t=",a,"&",d.join("&"),"&_cb="+1e7*Math.random()].join("")}var d=window,e=(new Date).valueOf(),f=1e3,g="",h=[];return{tedReportOnUnload:b,tedEvent:c,feelingLucky:a,errors:h,setNativeId:function(a){g=a}}}(),adsTrackers=function(){function a(){var a=_.clone(adTrackingConfig.geoConfig["default"],!0),b=adTrackingConfig.geoConfig[PageCriteria.geo];return b&&b.forEach(function(b){a.forEach(function(a){a.name===b.name&&(a.enabled=b.enabled)})}),a}function b(a){return adsTrackers.plugins[a.name]&&a.enabled===!0}function c(){return a().filter(b)}function d(){c().forEach(function(a){var b=a.name;-1===o.indexOf(b)&&(p[b].init(),o.push(b))}),adsRenderer.addLoadListener(i),adsTrackers.loadGpt()}function e(){r||(r=!0)}function f(a){var b,d,e=c();for(d=0;!b&&d<e.length;d++)e[d].name===a&&(b=p[a]);return b}function g(a){var b=f(a);b&&b.init&&-1===o.indexOf(a)&&(b.init(),o.push(a))}function h(a,b,d){
function f(a){return function(b){m||(k=k||!!b,l.push(a),l.length===j.length&&g())}}function g(){var c=k?"available":"unavailable";i.push({ssp:[c]}),m=!0,b(a,i),e()}var h=adsTrackers.COLLECTION_TIMEOUT,i=[],j=d||c();if(q[[a.pos,a.parentId,a.type||"1x1"].join("|")]=null,!j.length)return b(a,i);var k=!1,l=[],m=!1;setTimeout(function(){if(!m){var b=j.map(function(a){return a.name}).filter(function(a){var b=-1===l.indexOf(a);if(b){var c={};c[p[a].getTagName()]=["t"],i.push(c)}return b});DM.log("ads",'Fetching tags timed out, skipping "%s" plugins for ad: ',b.join('", "'),a),adsTedReport.errors.push({id:a.parentId,plugins:b}),g()}},h),j.forEach(function(b){m||p[b.name].getTags(a,f(b.name),i)})}function i(a){if("publisher_ads"===a.serviceName&&!a.isEmpty){var b=a.slot.molAd,c=[b.pos,b.parentId,b.type||"1x1"].join("|");q[c]=[a.creativeId,a.lineItemId,b.adUnit.split("/")[1]]}}function j(){return Object.keys(q).map(function(a){var b=q[a],c=a.split("|"),d={pos:c[0],id:c[1],sz:c[2]};return b&&(d.cid=b[0],d.lid=b[1]),d})}function k(){return q}function l(a,b){for(var c,d=j(),e=d.length;!c&&e--;){var f=d[e];f.id===a.id&&(c={error:b,ch:PageCriteria.channel,sch:PageCriteria.subchannel,page:"true"===(PageCriteria.sponsored||"").toString()?"sponsored":PageCriteria.pageType,dev:PageCriteria.device,aid:PageCriteria.articleId,source:f})}return c}function m(a,b){var c=l(a,b);c&&(DM.later?DM.later("bundle",function(){adsTedReport.tedEvent("ad-errors",c)}):adsTedReport.tedEvent("ad-errors",c))}function n(){var a=["adxChannelPlugin","impIDPlugin","botsPlugin","devicePlugin","browserResolutionPlugin","criteoPlugin","audienceMembershipPlugin","grapeshotPlugin","mediaDirectPlugin","technorati"],b=[];return c().forEach(function(c){-1!==a.indexOf(c.name)&&b.push(c.name)}),b}var o=[],p={},q={},r=!1;return miniDom.on(window,"beforeunload",adsTedReport.tedReportOnUnload),setTimeout(function(){n().forEach(g)},0),{COLLECTION_TIMEOUT:3e3,setNativeId:adsTedReport.setNativeId,getRsiValues:function(){return{asi:p.audienceSciencePlugin.getRsiValues(),dartCCKey:p.audienceMembershipPlugin.getRsiValues(),grapeshot:p.grapeshotPlugin.getRsiValues()}},sendAlert:m,tedEvent:adsTedReport.tedEvent,feelingLucky:adsTedReport.feelingLucky,getErrorReport:l,getTags:h,getRequestedAds:j,getObjectRequestedAds:k,runTrackingPlugins:d,loadGpt:e,resetTrackingPlugins:function(){o.length=0},getEnabledPlugins:c,getInitialTrackers:n,initPlugin:g,plugins:p,isBotDetected:!1}}(),createAsyncTracker=function(){function a(a,b){this.name=a,this.callbacks=[],this.customChecker=b}function b(b,e,f,g){var h=d[e],i="script";if(!h&&(h=d[e]=new a(e,g),b)){var j=document.createElement(i);if(j.async=!0,"object"==typeof f)for(var k in f)f.hasOwnProperty(k)&&j.setAttribute(k,f[k]);j.src=b,miniDom.on(j,"error",function(){h.stopRetry()}),c.appendChild(j)}return h}var c=_.filter(document.documentElement.childNodes,function(a){return 1===a.nodeType})[0]||document.body,d={};return a.prototype={constructor:a,retryCounter:100,retryTimeout:0,check:function(){var a=this;if(a.checker())for(;a.callbacks.length;)a.callbacks.shift()(null,window[a.name]);else if(a.retryCounter<0)for(;a.callbacks.length;)a.callbacks.shift()(!0);else a.retryTimeout||(a.retryCounter--,a.retryTimeout=setTimeout(function(){a.retryTimeout=0,a.check()},50));return this},checker:function(){return this.customChecker?this.customChecker():void 0!==window[this.name]},addCallback:function(a){return this.callbacks.push(a),this.check()},stopRetry:function(){this.retryCounter=-1}},b.reset=function(){Object.keys(d).forEach(function(a){d[a].callbacks.length=0}),d={}},b}(),adsTrackers.AdsPlugin=function(){function a(a,b,c,d){this._baseUrl=a,this._isAsync=!!b,this._trackingVariable=c,this._asyncChecker=d}return a.prototype={constructor:a,init:function(){if(!this.isBotDetected()&&"undefined"!=typeof this._baseUrl)if(this._isAsync)this._asyncTracker=createAsyncTracker(this._baseUrl,this._trackingVariable,null,this._asyncChecker);else{var a="script";document.write("<"+a+' type="text/java'+a+'" src="'+this._baseUrl+'"></'+a+">")}},getTags:function(){throw new Error("A getTags method needs to be implemented passing the right arguments")},isBotDetected:function(){return adsTrackers.isBotDetected},getCookie:function(a){var b="",c=("; "+document.cookie).split("; "+a+"="),d=/(%[0-9A-Z]{2})+/g;if(c.length>1){var e=c.pop().split(";").shift();b=('"'===e.charAt(0)?e.slice(1,-1):e).replace(d,decodeURIComponent)}return b},getTagName:function(){return this._trackingVariable},_asyncTracker:null,_baseUrl:"",_isAsync:!1,_trackingVariable:""},a}(),adsTrackers.plugins.adxChannelPlugin=function(){function a(){d=[];for(var a=1;f>=a;a++)d.push(a)}function b(){return Math.floor(Math.random()*d.length)}function c(){if(d.length){var a=b();return d.splice(a,1)}}var d,e=new adsTrackers.AdsPlugin,f=20;return a(),e.reset=a,e.getTagName=function(){return"adxChannel"},e.getTags=function(a,b,d){var f=c();!e.isBotDetected()&&f&&d.push({adx_channel:f}),b()},e}(),adsTrackers.plugins.amazonPlugin=function(a,b,c,d){function e(a){switch(a){case"120x600":case"160x600":return"1x6";case"300x600":return"3x6";default:return a}}function f(a,b,c){var d,f=(a.type||"1x1").split(","),h=[];for(d=0;d<f.length;d++)h=h.concat(g.getTokens(e(f[d])));if(h.length){var j={};j[i.getTagName()]=h,c.push(j)}b()}var g,h=adsTrackers.AdsPlugin,i=new h(b,!0,d);return i.init=function(){g=a[c]=a[c]||{},g.asyncParams={id:"3065",callbackFn:function(){a[d]=1},timeout:2e3},h.prototype.init.call(i)},i.getTags=function(a,b,c){i.isBotDetected()?b():i._asyncTracker.addCallback(function(d){d?b():f(a,b,c)})},i.getTagName=function(){return"amznslots"},i}(window,"//c.amazon-adsystem.com/aax2/amzn_ads.js","amznads","amznadsLoaded"),adsTrackers.plugins.appnexusPlugin=function(a){function b(){return(new Date).getTime()}function c(a){y?a():b()-o>p?a(new Error("Timeout")):setTimeout(function(){c(a)},100)}function d(a,b,c){pbjs.que.push(function(){var d=pbjs.getBidResponses(a),e=d.bids[0];e&&e.adserverTargeting&&c.push(e.adserverTargeting),b()})}function e(a){return _.map(a,function(a){return a.join("x")})}function f(a,b){for(var c=0;c<b.length;c++)if(_.contains(a,b[c]))return!0;return!1}function g(a){var b=w[a.pos];if(!b)return!1;var c=a.type.split(","),d=e(b[1]);return b&&f(d,c)}function h(a){return x[a]?x[a]:a}function i(a){var b=adListLoader.getEnabledRenderedSlots();return-1!==b.indexOf(a)}function j(){return _.keys(w).filter(i)}function k(){var a=_.map(j(),function(a){var b=w[a];return{code:h(a),sizes:b[1],bids:[{bidder:"appnexus",params:{placementId:b[0]}}]}});return a}function l(){pbjs.que=pbjs.que||[],pbjs.que.push(function(){pbjs.initAdserverSet||(pbjs.initAdserverSet=!0,pbjs.addAdUnits(k()))})}function m(){y=!0}function n(){pbjs.que.push(function(){z.isBotDetected()||pbjs.requestBids({bidsBackHandler:m})})}pbjs=window[a]=window[a]||{};var o,p=3e3,q=adsTrackers.AdsPlugin,r=[[300,250]],s=[[120,600]],t=[[728,90]],u=[[300,50]],v=[[970,250]],w=function(a,b){switch(a){case"GB":var c={mpu_middle:[5521212,r],mpu_bottom:[5521214,r],mpu_home:[5521220,r],mpu_puff_10:[5521226,r],mpu_top:[5521234,r],mpu_top_zero:[5521289,[[300,250],[300,600]]],mpu_puff_20:[5521238,r],mpu_bottom_right:[5521244,r],mpu_channel:[5521253,r],ldr_top:[5521258,t],sky_right_top:[5521285,s],mpu_mobile:[5521298,r],mpu_mobile_bottom:[5521304,r],sticky_banner:[5521308,u]};switch(b){case"article":c.billboard=[5521267,v];break;case"channel":c.billboard=[5521274,v]}return c;case"US":return{mpu_middle:[5758104,r],mpu_bottom:[5758112,r],mpu_home:[5758107,r],mpu_puff_10:[5758113,r],mpu_top:[5758117,r],mpu_puff_20:[5758114,r],mpu_bottom_right:[5758111,r],ldr_top:[5758119,t],sky_top_right:[5758127,s],mpu_mobile:[5758115,r],mpu_mobile_bottom:[5758116,r],sticky_banner:[5758132,u]};default:return{mpu_middle:[5756578,r],mpu_bottom:[5756585,r],mpu_home:[5756583,r],mpu_puff_10:[5756591,r],mpu_top:[5756606,r],mpu_puff_20:[5756595,r],mpu_bottom_right:[5756584,r],ldr_top:[5756609,t],sky_top_right:[5756620,s],mpu_mobile:[5756602,r],mpu_mobile_bottom:[5756603,r],sticky_banner:[5756628,u]}}}(PageCriteria.geo,PageCriteria.pageType),x={mpu_top_zero:"mpu_top"},y=!1,z=new q;return z.init=function(){pbjs.que=pbjs.que||[],o=b(),l(),n(),q.prototype.init.call(this)},z.getTagName=function(){return"appnexus"},z.getTags=function(a,b,e){g(a)&&!z.isBotDetected()?c(function(c){c?b():d(a.pos,b,e)}):b()},z}("pbjs"),adsTrackers.plugins.audienceMembershipPlugin=function(a,b,c){function d(){var a=j.getCookie("_cc_domain");return a?f(a):void 0}function e(){var b=j.getCookie("_cc_id");return b?f(a,b):void 0}function f(a,d,e){var f="//ad"+a;return e&&(f+=":"+e),f+="/5/c="+b+"/pe=y/var="+c,d&&(f+="/pid="+d),f}function g(a){return a&&a.abbr}function h(a){return a&&"DM"===a.slice(0,2)}var i=adsTrackers.AdsPlugin,j=new i("",!0,c),k=40;return j.init=function(){j._baseUrl=d()||e()||f(a),i.prototype.init.call(j)},j.getTags=function(a,b,c){function d(a,d){if(!a&&"object"==typeof d){var e=j.getRsiValues(d),f={};e.length?f[j.getTagName()]=e:f.lt=["none"],f.lpid=[d.Profile.pid],c.push(f)}b()}j.isBotDetected()?b():j._asyncTracker.addCallback(d)},j.getTagName=function(){return"dartCCKey"},j.getRsiValues=function(a){return a||(a=window[c]),(a&&a.Profile.Audiences.Audience||[]).map(g).filter(h).slice(0,k)},j.getIds=function(){var a=window[c],b=a&&a.Profile.Audiences.Audience||[];return b.map(function(a){return a&&a.id})},j}(".crwdcntrl.net",991,"ccauds"),adsTrackers.plugins.audienceSciencePlugin=function(a,b,c){var d=new adsTrackers.AdsPlugin(a,b,c),e=[],f=5;return d.getTags=function(a,b,c){if(!d.isBotDetected()){var g=d.getTagName(),h={};e=d.getCookie(g+"_segs").split("|"),h[g]=e.length?e.slice(0,f):["null"],c.push(h)}b()},d.getTagName=function(){return"asi"},d.getRsiValues=function(){return e.slice()},d}("http://js.revsci.net/gateway/gw.js?csid=D05509&auto=t",!0,"rsi_csid"),adsTrackers.plugins.botsPlugin=function(){function a(a){return a=a.split("|"),{ip:a[0],userAgent:"*"===a[1]?void 0:a[1]}}function b(){var b=[];if(window.adverts&&window.adverts.botIPs){var c=(new Date).getUTCHours(),d=window.adverts.botIPs[c]||[];b=d.map(a)}return b}function c(){for(var a,c=b(),d=!1,e=0;e<c.length&&(a=c[e],d=PageCriteria.clientIP===a.ip,a.userAgent&&(d=d&&navigator.userAgent===a.userAgent),!d);e++);return d}var d=adsTrackers.AdsPlugin,e=new d;return e.init=function(){adsTrackers.isBotDetected=c()||/(?:[bB]ot|BOT|GrapeshotCrawler)s?\b/.test(navigator.userAgent),d.prototype.init.call(e)},e.getTags=function(a,b,c){if(e.isBotDetected()){var d={};d[e.getTagName()]=["true"],c.push(d)}b()},e.getTagName=function(){return"bot"},e}(),adsTrackers.plugins.browserResolutionPlugin=function(){function a(a,b,c){return a>=b&&c>=a}function b(b,c){if(!b&&!c)return!1;var d=b||{},f=c||{},g=d.width||-1,h=d.height||-1,i=e(),j=f.width||i.width,k=f.height||i.height;return a(i.width,g,j)&&a(i.height,h,k)}function c(){f||(f=[],_.forEach(h,function(a,c){b(a.min,a.max)&&!PageCriteria.isMobile?f.push(c):b(a.android_min,a.android_max)&&PageCriteria.isMobile&&f.push(c)}))}function d(a){return window["inner"+a]||document.documentElement["client"+a]||document.body["client"+a]}function e(){var a=window.devicePixelRatio||1;return{width:d("Width")*a,height:d("Height")*a}}var f,g=new adsTrackers.AdsPlugin,h={min_1244px:{min:{width:1244}},large_android_device:{android_min:[{width:720,height:1280}],android_max:[{width:2e3,height:5e3}]}};return g.reset=function(){f=void 0,c()},g.getTagName=function(){return"browserResolution"},g.getTags=function(a,b,d){if(!g.isBotDetected()){c();var e={};e[g.getTagName()]=f,d.push(e)}b()},miniDom.on(window,"resize",g.reset),g}(),adsTrackers.plugins.casaleIndexPlugin=function(a,b){function c(a,b,c){for(var d,e=[],f={},g=a.length;g--;)if(d=a[g],d in c){var h,i,j=c[d];for(h=j.length;h--;)i=j[h],i in f||(f[i]=1,e.push(b[i]))}return e}function d(a,b){var c,d,e,f=!1,g=/^_\d+$/;for(c=b.length;!f&&c--;)d=b[c],e=d.length,f=a.slice(0,e)===d&&g.test(a.slice(e));return f}var e,f=adsTrackers.AdsPlugin,g=new f("",!0,a);return g.config={slots:{mail_leaderboard:{id:"mail_leaderboard",width:728,height:90},mail_sky:{id:"mail_sky",width:120,height:600},mail_wide_sky:{id:"mail_wide_sky",width:160,height:600},mail_sticky_banner:{id:"mail_sticky_banner",width:320,height:50},mail_mpu_middle:{id:"mail_mpu_middle",width:300,height:250},mail_mpu_bottom:{id:"mail_mpu_bottom",width:300,height:250},mail_mpu_home:{id:"mail_mpu_home",width:300,height:250},mail_mpu_puff_10:{id:"mail_mpu_puff_10",width:300,height:250},mail_mpu_top:{id:"mail_mpu_top",width:300,height:250},mail_mpu_puff_20:{id:"mail_mpu_puff_20",width:300,height:250},mail_mpu_bottom_right:{id:"mail_mpu_bottom_right",width:300,height:250},mail_mpu_mobile:{id:"mail_mpu_mobile",width:300,height:250},mail_mpu_channel:{id:"mail_mpu_channel",width:300,height:250},mail_mpu_middle_600:{id:"mail_mpu_middle_600",width:300,height:600},mail_mpu_top_600:{id:"mail_mpu_top_600",width:300,height:600},mail_mpu_bottom_600:{id:"mail_mpu_bottom_600",width:300,height:600},mail_billboard:{id:"mail_billboard",width:970,height:250}},mapping:{ldr_top:["mail_leaderboard"],sky_left_top:["mail_sky","mail_wide_sky"],sky_right_top:["mail_sky","mail_wide_sky"],sticky_banner:["mail_sticky_banner"],billboard:["mail_billboard"],mpu_mobile:["mail_mpu_mobile"],mpu_middle:["mail_mpu_middle"],mpu_middle_zero:["mail_mpu_middle","mail_mpu_middle_600"],mpu_bottom:["mail_mpu_bottom"],mpu_bottom_zero:["mail_mpu_bottom","mail_mpu_bottom_600"],mpu_bottom_right:["mail_mpu_bottom_right"],mpu_bottom_right_zero:["mail_mpu_bottom_right"],mpu_top:["mail_mpu_top"],mpu_top_zero:["mail_mpu_top","mail_mpu_top_600"],mpu_puff_10:["mail_mpu_puff_10"],mpu_puff_20:["mail_mpu_puff_20"]},siteIds:{desktop:158654,smartphone:159312,tablet:159313},deviceMap:{iphone:"smartphone",androidMobile:"smartphone",ipad:"tablet",androidTablet:"tablet",other:"desktop"}},g.init=function(){e=!1;var a=g.config,d=a.slots,h=a.deviceMap,i=c(adListLoader.getEnabledRenderedSlots(),a.slots,a.mapping),j=h[PageCriteria.device]||h.other;g.device=j,"channel"===PageCriteria.pageType&&i.push(d.mail_mpu_channel),i.length&&(b.IndexArgs={siteID:a.siteIds[j],slots:i},cygnus_index_start(!0),f.prototype.init.call(g))},b.cygnus_index_ready_state=function(){e=!0},g.getTags=function(c,f,h){function i(a,b){var c=!1;if(b&&b.length){var e,i,k,l=[],m=[];for(e=b.length;e--;){i=b[e];var n=i.slice(0,2),o=i.slice(2);d(o,j)&&(c=!0,"O_"===n&&m.push(o),"P_"===n&&l.push(o))}m.length&&(k={},k["index_"+g.device]=m,h.push(k)),l.length&&h.push({P:l})}f(c)}var j=g.config.mapping[c.pos];j&&(e||g._asyncTracker)&&!g.isBotDetected()?e?i(null,b[a]):g._asyncTracker.addCallback(i):f()},g.getTagName=function(){return"index_"+g.device},g}("index_slots",window),adsTrackers.plugins.criteoPlugin=function(a){var b=encodeURIComponent,c="1867",d="cto_dailymail",e=["//rtax.criteo.com/delivery/rta/rta.js?netId=",b(c),"&cookieName=",b(d),"&rnd=",Math.floor(1e11*Math.random()),"&varName=",b(a)].join(""),f=adsTrackers.AdsPlugin,g=new f(e,!0,a);return g.init=function(){f.prototype.init.call(this),window[a]=g.getCookie(d)||void 0},g.getTags=function(a,b,c){g.isBotDetected()?b():g._asyncTracker.addCallback(function(a,d){var e=!1;d&&d.split(";").forEach(function(a){if(a){var b={},d=a.split("=");b[d[0]]=[d[1]],e=!0,c.push(b)}}),b(e)})},g}("crtg_content"),adsTrackers.plugins.devicePlugin=function(){function a(a){return a[0]==i[0]&&a[1]==i[1]}function b(){var a,b=j[PageCriteria.device];if(b)for(var c=Object.keys(b),d=0;d<c.length;d++){var e=c[d];if(b[e]()){a=e;break}}return a||(a=PageCriteria.device),a}function c(){var a=[];return _.each(k,function(b,c){b()&&a.push(c)}),a}function d(){var a=/(Windows\s*[a-zA-Z]*)\s+([^;\s)]+)/i,b=a.exec(navigator.userAgent);return b&&"windows nt"===b[1].toLowerCase()&&parseFloat(b[2])>=6.4}function e(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0}var f,g,h=new adsTrackers.AdsPlugin,i=[window.screen.width,window.screen.height];MobileUtils.isLandscape()&&i.reverse();var j={iphone:{iphone6:function(){return a([375,667])},iphone6p:function(){return a([414,736])},iphone5:function(){return a([320,568])}},other:{windows10:d}},k={touch:e};return h.getTags=function(a,d,e){f=f||b(),g=g||c();var i={};i[h.getTagName()]=[f],i[h.getTagName()+"_features"]=g,e.push(i),d()},h.getTagName=function(){return"device"},h}(),adsTrackers.plugins.forensiqPlugin=function(){var a=adsTrackers.AdsPlugin,b=new a,c=!1;return b.getTags=function(a,d){d(),b.isBotDetected()||c||(c=!0,DM.later("DOM_READY",function(){createAsyncTracker(b.getUrl(),"SecurePaths")}))},b.getUrl=function(a){if(!b.url){var c=PageCriteria,d=[["org","vu3aqazeyE3acUwAzu7r"],["p",c.channel],["a",c.subchannel],["c1",c.geo],["c2",c.pageType],["c3",c.device],["c4",c.articleId||""],["rt",a||"display"],["sl","1"],["fmt","banner"]].map(function(a){return a.map(encodeURIComponent).join("=")});b.url="//c.fqtag.com/tag/implement-r.js?"+d.join("&")}return b.url},b}(),adsTrackers.plugins.grapeshotPlugin=function(a,b,c){var d=c.location!==c.top.location?document.referrer:c.location,e=new adsTrackers.AdsPlugin(b+encodeURIComponent(d),!0,a);return e.getTags=function(a,b,c){function d(a,d){c.push({grapeshot:!a&&d?d:["DEFAULT"]}),b()}e.isBotDetected()?b():e._asyncTracker.addCallback(d)},e.getRsiValues=function(){var b="DEFAULT";return[window[a]||b,window.gs_us_channels||b]},e}("gs_channels","//gs.dailymail.co.uk/main/channels-gpt.cgi?url=",window),adsTrackers.plugins.impIDPlugin=function(a){function b(){return f.replace(/[xy]/g,c)}function c(a){return e(a).toString(16)}function d(){return 16*Math.random()|0}function e(a){var b=d();return"x"===a?b:3&b|8}var f="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",g=new a;return g.generate=function(){this.id=b()},g.getTags=function(a,c,d){g.isBotDetected()||d.push({random:[this.id],impid:[b()]}),c()},g.generate(),g}(adsTrackers.AdsPlugin),adsTrackers.plugins.mediaDirectPlugin=function(a){function b(){var b="",d=[];if(!(a in window))for(var e,f,g=adListLoader.getEnabledRenderedSlots(),h=g.length,i=Object.keys(c);h--;){e=g[h];for(var j=i.length;j--;)f=i[j],e.slice(0,f.length)===f&&d.push(c[f])}return d.length&&(b="//pq-direct.revsci.net/pql?placementIdList="+d.join(",")+"&cb="+(new Date).getTime()),b}var c={mpu_top:"ABDijE",mpu_puff_10:"ABDijE",mpu_mobile:"pVUSTC",ldr_top:"JaNgyj",billboard:"WjxERZ",sticky_banner:"MP40j5"},d=adsTrackers.AdsPlugin,e=new d("",!0,a);return e.init=function(){this._baseUrl=b(),d.prototype.init.call(this)},e.getTags=function(a,b,d){function f(e,f){function g(a){for(var b in a){var c="ASPQ_"+b;window[c]="";for(var d in a[b].data){var e={};e["PQ_"+b]=[d],window[c]=e}}}if(!e&&"object"==typeof f){var h="ASPQ_"+c[a.pos];c[a.pos]&&(h in window||g(f),window[h]&&d.push(window[h]))}b()}!e.isBotDetected()&&e._asyncTracker?e._asyncTracker.addCallback(f):b()},e}("asiPlacements"),adsTrackers.plugins.openXBidderPlugin=function(a,b,c,d){var e=d[c]=d[c]||[],f=adsTrackers.AdsPlugin,g=new f(a,!0,b);return e.push(function(){var a,c=d[b],e=c&&c.AdRequest;e&&(c.AdRequest=function(){e.apply(this,arguments),a=this.addVariable,this.addVariable=function(){var b=arguments,c=b[0],d=["pos","device","page","article","area","country","mobile","subarea"];-1!==d.indexOf(c)&&a.apply(this,arguments)}},c.prototype=e.prototype)}),g.init=function(){f.prototype.init.call(g);var a=adsTrackers.loadGpt;adsTrackers.loadGpt=function(){g._asyncTracker.addCallback(a)}},g.getTags=function(a,b){g.isBotDetected()?b():g._asyncTracker.addCallback(function(){b()})},g}("//ox-d.mailonline.servedbyopenx.com/w/1.0/jstag?nc=5765-dailymail","OX","OX_cmds",window),adsTrackers.plugins.pageFairPlugin=function(){function a(){if(!d){var a=window;d=!0,a.bm_website_code="E3541077297D40C4",a.pf_notify=function(b){a.adBlockerActive=b?"true":"false"},createAsyncTracker("//asset.pagefair.com/measure.min.js","PageFairMeasure"),createAsyncTracker("//asset.pagefair.net/ads.min.js","PageFairAds")}}var b=adsTrackers.AdsPlugin,c=new b,d=!1;return c.init=function(){if(b.prototype.init.call(c),!c.isBotDetected()){var d=DM&&DM.pageEvents;d&&d.listen(d.VIDEO_PLAYER_READY,a)}},c.getTags=function(a,b){b()},c}(),adsTrackers.plugins.realTimePricingPlugin=function(){var a=adsTrackers.AdsPlugin,b=new a("",!1),c={mpu_top_300x600:{desktop:"186786-15",smartphone:"188276-15",tablet:"187350-15"},sticky_banner:{smartphone:"186816-43"},ldr_top:{desktop:"186788-2",smartphone:"188278-2",tablet:"187348-2"},sky_right_top:{desktop:"186790-9"},sky_left_top:{desktop:"186790-9"},billboard:{desktop:"186792-57",tablet:"187346-57"},mpu_channel:{desktop:"186804-15",smartphone:"188272-15",tablet:"187360-15"},mpu_top:{desktop:"186786-15",smartphone:"188276-15",tablet:"187350-15"},mpu_middle:{desktop:"186806-15",smartphone:"188262-15",tablet:"187362-15"},mpu_bottom:{desktop:"186800-15",smartphone:"187352-15",tablet:"187354-15"},mpu_bottom_right:{desktop:"186802-15",smartphone:"187356-15",tablet:"187358-15"},mpu_puff_10:{desktop:"186808-15",smartphone:"188266-15",tablet:"187364-15"},mpu_puff_20:{desktop:"186810-15",smartphone:"188268-15",tablet:"187368-15"},mpu_home:{desktop:"187370-15",smartphone:"188264-15",tablet:"187366-15"}},d={mpu_top_300x600:{desktop:"210124-10",tablet:"210146-10"},sticky_banner:{smartphone:"210168-43"},ldr_top:{desktop:"210118-2",smartphone:"210166-2",tablet:"210142-2"},sky_right_top:{desktop:"210122-8"},sky_left_top:{desktop:"210122-8"},billboard:{desktop:"210120-57",tablet:"210144-57"},mpu_channel:{desktop:"210116-15",smartphone:"210164-15",tablet:"210140-15"},mpu_top:{desktop:"210110-15",smartphone:"210156-15",tablet:"210134-15"},mpu_middle:{desktop:"210100-15",smartphone:"210148-15",tablet:"210126-15"},mpu_bottom:{desktop:"210102-15",smartphone:"210150-15",tablet:"210128-15"},mpu_bottom_right:{desktop:"210114-15",smartphone:"210160-15",tablet:"210138-15"},mpu_puff_10:{desktop:"210108-15",smartphone:"210154-15",tablet:"210132-15"},mpu_puff_20:{desktop:"210112-15",smartphone:"210158-15",tablet:"210136-15"},mpu_home:{desktop:"210104-15",smartphone:"210152-15",tablet:"210130-15"},mpu_mobile:{smartphone:"210162-15"}},e={mpu_top_300x600:{desktop:"210232-10",tablet:"210254-10"},sticky_banner:{smartphone:"210276-43"},ldr_top:{desktop:"210226-2",smartphone:"210274-2",tablet:"210250-2"},sky_right_top:{desktop:"210230-8"},sky_left_top:{desktop:"210230-8"},billboard:{desktop:"210228-57",tablet:"210252-57"},mpu_channel:{desktop:"210224-15",smartphone:"210272-15",tablet:"210248-15"},mpu_top:{desktop:"210218-15",smartphone:"210264-15",tablet:"210242-15"},mpu_middle:{desktop:"210210-15",smartphone:"210256-15",tablet:"210234-15"},mpu_bottom:{desktop:"210212-15",smartphone:"210258-15",tablet:"210236-15"},mpu_bottom_right:{desktop:"210222-15",smartphone:"210268-15",tablet:"210246-15"},mpu_puff_10:{desktop:"210216-15",smartphone:"210262-15",tablet:"210240-15"},mpu_puff_20:{desktop:"210220-15",smartphone:"210266-15",tablet:"210244-15"},mpu_home:{desktop:"210214-15",smartphone:"210260-15",tablet:"210238-15"},mpu_mobile:{smartphone:"210262-15"}},f={US:c,GB:d,"default":e},g={US:{desktop:"43384",smartphone:"43388",tablet:"43392"},GB:{desktop:"46690",smartphone:"46694",tablet:"46692"},"default":{desktop:"46698",smartphone:"46702",tablet:"46700"}},h={other:"desktop",iphone:"smartphone",androidMobile:"smartphone",ipad:"tablet",androidTablet:"tablet"},i={US:"9929",GB:"9840","default":"8625"};return b.getTags=function(a,c,d){if(b.isBotDetected())return c();try{var e=f[PageCriteria.geo]?PageCriteria.geo:"default",j=h[PageCriteria.device]||h.other,k=j&&a.pos&&f[e]&&f[e][a.pos];if(!k||!k[j])return c(!1);rp_api="valuation",oz_ad_server="gpt",oz_async=!0,rp_account=i[e],rp_site=g[e][j],rp_zonesize=k[j],rp_visitor={},rp_inventory={area:adAreaId},oz_callback=function(a){var b;try{b=a&&a.estimate&&a.estimate.tier,b&&d.push({tier:[b]})}catch(e){console.log("Error with Rubicon plugin: ",e)}finally{c(b&&b>0)}};var l=rp_account+"/"+rp_site,m="http://tap-cdn.rubiconproject.com/partner/scripts/rubicon/dorothy.js?pc="+l,n="http://ads.rubiconproject.com/ad/9840.js",o="script";document.write(["<",o,' type="text/java',o,"\" src='",m,"'></",o,">"].join("")),document.write(["<",o,' type="text/java',o,"\" src='",n,"'></",o,">"].join(""))}catch(p){console.log("Error when running RTP: ",p),c(!1)}},b.getTagName=function(){return"tier"},b}(),adsTrackers.plugins.sonobiPlugin=function(a){function b(a,b){var c,d=b.prefix,e=d.length,f=b.ignoreSuffix,g=!1;if(a.slice(0,e)===d&&(g=!0,f))for(var h=f.length;g&&h--;)c=f[h],g=a.slice(-c.length)!==c;return g}function c(a){return function(b){return!(!a.type||b.used||!b.sbi_size||!_.contains(a.type.split(","),b.sbi_size))}}function d(){var a,c,d=[{prefix:"mpu_",ignoreSuffix:["_300x600","_zero"],size:"300x250",id:"b9a6ec42ce8c4377ec61",max:5},{prefix:"ldr_top",size:"728x90",id:"927254c8f19bf6166446"},{prefix:"sky_",size:"120x600",id:"528d7f755a3cb9f1820e"}],e=adListLoader.getEnabledRenderedSlots(),f=[];for(c=d.length;c--;){var g=d[c],h=1,i=g.max||1/0;for(a=e.length;i>=h&&a--;)b(e[a],g)&&f.push('"mailonline_'+g.size+"_"+h++ +'":"'+g.id+'"')}return f}var e,f=adsTrackers.AdsPlugin,g=new f("",!0,a);return g.init=function(){var a=d();e=null,a.length&&(this._baseUrl="//apex.go.sonobi.com/trinity.js?key_maker={"+a.join(",")+"}"),f.prototype.init.call(this)},g.getTags=function(a,b,d){function f(f,h){var i,j=g.getTagName(),k=window[j];if(!f&&"object"==typeof h&&(e||(e=Object.keys(h).map(function(a){return h[a]}).sort(function(a,b){var c=a.sbi_apoc||"x",d=b.sbi_apoc||"x";return c===d?0:d>c?-1:1})),i=_.filter(e,c(a))[0])){i.used=!0,Object.keys(i).forEach(function(a){if("used"!==a&&a!==j){var b={};b[a]=[i[a]],d.push(b)}});var l={};l[j]=[k],d.push(l)}b(!!i)}!g.isBotDetected()&&g._asyncTracker?g._asyncTracker.addCallback(f):b(!1)},g.getTagName=function(){return"sbi_dc"},g}("sbi_trinity"),adsTrackers.plugins.technorati=function(a,b,c){function d(){var a=adListLoader.getEnabledRenderedSlots();DM.log("ads","TN8: "+a),k.SmartWrapper.prefetch(a)}function e(a,b){a||"object"!=typeof b||(j.uid=b.Profile.pid)}var f=adsTrackers.AdsPlugin,g=adsTrackers.plugins,h="http://ad-cdn.technoratimedia.com/smartwrapper/"+b+"/"+c+"/sw.js",i=new f(h,!0,"TN8",function(){return a.TN8&&a.TN8.SmartWrapper}),j=a.dmuskv={area:PageCriteria.channel,subarea:PageCriteria.subchannel,device:function(){switch(!0){case PageCriteria.isMobile:return"mobile";case PageCriteria.isTablet:return"tablet";default:return"desktop"}}()};PageCriteria.articleId&&(j.article=PageCriteria.articleId);var k=a.TN8=a.TN8||{};return k.q=k.q||[],i.init=function(){DM.log("ads","WARNING: The Technorati plugin may conflict with other bidder plugins"),k.q.push(d),g.impIDPlugin&&g.impIDPlugin.id&&(j.pageViewID=g.impIDPlugin.id),g.audienceMembershipPlugin&&g.audienceMembershipPlugin._asyncTracker&&g.audienceMembershipPlugin._asyncTracker.addCallback(e),f.prototype.init.call(i)},i.getTags=function(a,b){googletag.cmd.push(function(){dfpAsyncHandler.getGPTSlotForAd(a);try{a.gptSlot&&k.SmartWrapper.attachSlot(a.pos,a.gptSlot,!0),a.oopGptSlot&&k.SmartWrapper.attachSlot(a.pos+"-oop",a.oopGptSlot,!0)}catch(b){DM.log("ads","TN8: "+b.message)}}),b()},i}(window,81119,1039);var ybotq=ybotq||[];adsTrackers.plugins.yieldbot=function(a,b,c){function d(){return window[c]&&window.dfpAsyncHandler}function e(){var a=window.dfpAsyncHandler,b=a.includeTrackingTags,c=a.refreshAdvert,d=a.requestAd;a.includeTrackingTags=function(a){var c=h(),d=a.getTargetingMap().pos[0],e=f(d);e&&!a.getOutOfPage()&&c.setSlotTargeting(e,a),b.apply(this,arguments)},a.refreshAdvert=function(b){var d=f(b),e=d&&a.getRequestedSlot(b);e&&h().setSlotTargeting(d,e),c.apply(this,arguments)},a.requestAd=function(){var b=arguments;ybotq.push(function(){d.apply(a,b)})}}function f(a){return-1!==m.indexOf(a)?a:null}function g(a){var b=l["iphone"===PageCriteria.device||"androidMobile"===PageCriteria.device?"phone":"desktop"],c=adListLoader.getEnabledSlots();a.pub(b.id),m=b.slots.map(function(b){var d=b[0],e=c.filter(function(a){return a.slice(0,d.length)===d});return e.length?(a.defineSlot.apply(a,b),d):void 0}),a.enableAsync(),a.go()}function h(){var a=window[c];return i||(g(a),i=!0),a}var i,j=adsTrackers.AdsPlugin,k=new j(a,b,c,d),l={desktop:{id:"809a",slots:[["ldr_top"],["mpu_top",{sizes:[[300,250],[300,600]]}],["sky_right_top"],["mpu_puff_10"],["mpu_puff_20"]]},phone:{id:"7d10",slots:[["sticky_banner"],["mpu_mobile"]]}},m=[];return k.getTags=function(a,b){k.isBotDetected()?b():this._asyncTracker.addCallback(function(){ybotq.push(h),ybotq.push(e),ybotq.push(b)})},k}("//cdn.yldbt.com/js/yieldbot.intent.js",!0,"yieldbot"),function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d=a("./adapters/rubicon.js"),e=a("./adapters/appnexus.js"),f=a("./adapters/openx"),g=a("./adapters/pubmatic.js"),h=a("./adapters/criteo"),i=a("./adapters/yieldbot"),j=a("./adapters/indexExchange"),k=a("./adapters/sovrn"),l=a("./bidmanager.js"),m=a("./utils.js"),n=a("./constants.json"),o=a("./events"),p={};c.bidderRegistry=p,c.callBids=function(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.bidderCode&&p[c.bidderCode]){m.logMessage("CALLING BIDDER ======= "+c.bidderCode);var d=p[c.bidderCode];o.emit(n.EVENTS.BID_REQUESTED,c),d.callBids(c);var e=(new Date).getTime();l.registerBidRequestTime(c.bidderCode,e),d.defaultBidderSettings&&l.registerDefaultBidderSetting(c.bidderCode,d.defaultBidderSettings)}}},c.registerBidAdapter=function(a,b){a&&b?typeof a.callBids===n.objectType_function?p[b]=a:m.logError("Bidder adaptor error for bidder code: "+b+"bidder must implement a callBids() function"):m.logError("bidAdaptor or bidderCode not specified")},this.registerBidAdapter(d(),"rubicon"),this.registerBidAdapter(e(),"appnexus"),this.registerBidAdapter(f(),"openx"),this.registerBidAdapter(g(),"pubmatic"),this.registerBidAdapter(h(),"criteo"),this.registerBidAdapter(i(),"yieldbot"),this.registerBidAdapter(j(),"indexExchange"),this.registerBidAdapter(k(),"sovrn")},{"./adapters/appnexus.js":2,"./adapters/criteo":3,"./adapters/indexExchange":4,"./adapters/openx":5,"./adapters/pubmatic.js":6,"./adapters/rubicon.js":7,"./adapters/sovrn":8,"./adapters/yieldbot":9,"./bidmanager.js":12,"./constants.json":13,"./events":14,"./utils.js":17}],2:[function(a,b,c){var d=a("../constants.json"),e=a("../utils.js"),f=a("../adloader.js"),g=a("../bidmanager.js"),h=a("../bidfactory.js"),i=function(){function a(a){return"https://secure.adnxs.com/imptr?id="+a+"&t=2"}function b(a){var b=a.bids,c=b.length;g.setExpectedBidsCount("appnexus",c);for(var d=0;c>d;d++){var h=b[d],j=e.getUniqueIdentifierStr();f.loadScript(i(h,j)),g.pbCallbackMap[j]=h}}function c(a,b,c){if(a&&b){var d=b-a,g=!1,h="";for(var i in j)if(i>=d){g=!0,h=j[i],f.trackPixel(h);break}g||(h=k,f.trackPixel(h)),e.logMessage("latency for placement code : "+c+" : "+d+" ms. Tracking URL Fired : "+h)}}function i(a,b){var c=e.getBidIdParamater("placementId",a.params),d=e.getBidIdParamater("memberId",a.params),f=e.getBidIdParamater("invCode",a.params),g=e.getBidIdParamater("query",a.params),h=e.getBidIdParamater("referrer",a.params),i=e.getBidIdParamater("alt_referrer",a.params),j="http"+("https:"===document.location.protocol?"s://secure.adnxs.com/jpt?":"://ib.adnxs.com/jpt?");j=e.tryAppendQueryString(j,"callback","pbjs.handleCB"),j=e.tryAppendQueryString(j,"callback_uid",b),j=e.tryAppendQueryString(j,"psa","0"),j=e.tryAppendQueryString(j,"id",c),j=e.tryAppendQueryString(j,"member_id",d),j=e.tryAppendQueryString(j,"code",f);var k=e.parseSizesInput(a.sizes);k&&(j+=k+"&");var l=e.parseQueryStringParameters(g);return l&&(j+=l),""===h&&(h=e.getTopWindowUrl()),j=e.tryAppendQueryString(j,"referrer",h),j=e.tryAppendQueryString(j,"alt_referrer",i),
j.lastIndexOf("&")===j.length-1&&(j=j.substring(0,j.length-1)),e.logMessage("jpt request built: "+j),a.startTime=(new Date).getTime(),j}var j=[];j[100]=a(21139),j[200]=a(21140),j[300]=a(21141),j[400]=a(21142),j[500]=a(21143),j[600]=a(21144),j[700]=a(21145),j[800]=a(21146),j[1e3]=a(21147),j[1300]=a(21148),j[1600]=a(21149),j[2e3]=a(21150),j[5e3]=a(21151),j[1e4]=a(21152);var k=a(21154);a(21153);return pbjs.handleCB=function(a){if(a&&a.callback_uid){var b,f=a.callback_uid,i="",j=g.getPlacementIdByCBIdentifer(f);if(j){i=j.placementCode,j.status=d.STATUS.GOOD;try{c(j.startTime,(new Date).getTime(),i)}catch(k){}}e.logMessage("JSONP callback function called for ad ID: "+f);var l=[];if(a.result&&a.result.cpm&&0!==a.result.cpm){b=parseInt(a.result.cpm,10),b/=1e4;var m=(a.result.ad,a.result.creative_id);l=h.createBid(1),l.creative_id=m,l.bidderCode="appnexus",l.cpm=b,l.adUrl=a.result.ad,l.width=a.result.width,l.height=a.result.height,l.dealId=a.result.deal_id,g.addBidResponse(i,l)}else e.logMessage("No prebid response from AppNexus for placement code "+i),l=h.createBid(2),l.bidderCode="appnexus",g.addBidResponse(i,l)}else e.logMessage("No prebid response for placement %%PLACEMENT%%")},{callBids:b}};b.exports=i},{"../adloader.js":10,"../bidfactory.js":11,"../bidmanager.js":12,"../constants.json":13,"../utils.js":17}],3:[function(a,b,c){var d=(a("../constants.json"),a("../utils.js"),a("../bidfactory.js")),e=a("../bidmanager.js"),f=a("../adloader"),g=function(){function a(a){g=a.bids||[],b(g).forEach(c)}function b(a){var b,c={},d=[];a.forEach(function(a){c[a.params.nid]=a});for(b in c)c.hasOwnProperty(b)&&d.push(c[b]);return d}function c(a){var b="crtg_varname_"+a.params.nid,c="//rtax.criteo.com/delivery/rta/rta.js?netId="+encodeURI(a.params.nid)+"&cookieName="+encodeURI(a.params.cookiename)+"&rnd="+Math.floor(99999999999*Math.random())+"&varName="+encodeURI(b);f.loadScript(c,function(c){var f,h=window[b];g.forEach(function(b){b.params.nid===a.params.nid&&(h?(f=d.createBid(1),f.bidderCode="criteo",f.keys=h.split(";")):(f=d.createBid(2),f.bidderCode="criteo"),e.addBidResponse(b.placementCode,f))})})}var g;return{callBids:a}};b.exports=g},{"../adloader":10,"../bidfactory.js":11,"../bidmanager.js":12,"../constants.json":13,"../utils.js":17}],4:[function(a,b,c){var d=(a("../constants.json"),a("../utils.js")),e=a("../bidfactory.js"),f=a("../bidmanager.js"),g="INDEXEXCHANGE",h="indexExchange",i=function(){function a(a){var n=a.bids;if(d.hasValidBidRequest(n[0].params,l,g)){for(var o=0;o<n.length;o++){var p=n[o];if(d.hasValidBidRequest(p.params,l.slice(0,1),g)){m=p.placementCode;var q=p.params[l[0]];k[q]=p}}var r=n[0].params[l[1]],s=j(r),t=i(),u=t.id;d.addEventHandler(t,"load",function(){try{var a=window.frames[u],i=a.contentWindow._IndexRequestData.targetIDToBid,j=a.contentWindow.cygnus_index_args;if(d.isEmpty(i)){var l=e.createBid(2);return l.bidderCode=h,void c()}d._each(i,function(a,c){d._each(k,function(d,g){var i=c.split("_"),l=i[0],m=i[1];if(l===g){var n=k[g],o=n.placementCode,p=b(j,g);d=e.createBid(1),d.cpm=m/100,d.ad=a,d.ad_id=g,d.bidderCode=h,d.width=p.width,d.height=p.height,d.siteID=p.siteID,f.addBidResponse(o,d)}})})}catch(m){d.logError("Error calling index adapter",g,m),c()}});var v=t.contentWindow.document;v.write(s),v.close()}}function b(a,b){var c=a.slots,e={};return d._each(c,function(a){a.id===b&&(e=a)}),e}function c(){var a=e.createBid(2);a.bidderCode=h,f.addBidResponse(m,a)}function i(){var a=d.createInvisibleIframe(),b=document.getElementsByTagName("head")[0];return b.insertBefore(a,b.firstChild),a}function j(a){var b='<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><base target="_top" /><script>inDapIF=true;</script></head>';return b+="<body>",b+='<script src="'+a+'"></script>',b+="</body></html>"}var k={},l=["slotId","indexUrl"],m="";return{callBids:a}};b.exports=i},{"../bidfactory.js":11,"../bidmanager.js":12,"../constants.json":13,"../utils.js":17}],5:[function(a,b,c){var d=(a("../constants.json"),a("../utils.js"),a("../bidfactory.js")),e=a("../bidmanager.js"),f=a("../adloader"),g=function(a){function b(a){h=a.bids||[];for(var b=0;b<h.length;b++){var d=h[b];d.params.pageURL&&(i.pageURL=d.params.pageURL),d.params.refererURL&&(i.refererURL=d.params.refererURL),d.params.jstag_url&&(g=d.params.jstag_url),d.params.pgid&&(i.pgid=d.params.pgid)}c()}function c(){g&&f.loadScript(g,function(){var a,b=OX();for(b.setPageURL(i.pageURL),b.setRefererURL(i.refererURL),b.addPage(i.pgid),a=0;a<h.length;a++)b.addAdUnit(h[a].params.unit);b.addHook(function(a){var b,c,f,g;for(b=0;b<h.length;b++)c=h[b],f=a.getOrCreateAdUnit(c.params.unit),f.get("pub_rev")?(g=g=d.createBid(1),g.bidderCode="openx",g.ad_id=f.get("ad_id"),g.cpm=Number(f.get("pub_rev"))/1e3,g.ad=f.get("html"),g.adUrl=f.get("ad_url"),g.width=f.get("width"),g.height=f.get("height"),e.addBidResponse(c.placementCode,g)):(g=d.createBid(2),g.bidderCode="openx",e.addBidResponse(c.placementCode,g))},OX.Hooks.ON_AD_RESPONSE),b.load()})}var g,h,i=a||{};return{callBids:b}};b.exports=g},{"../adloader":10,"../bidfactory.js":11,"../bidmanager.js":12,"../constants.json":13,"../utils.js":17}],6:[function(a,b,c){var d=(a("../constants.json"),a("../utils.js")),e=a("../bidfactory.js"),f=a("../bidmanager.js"),g=(a("../adloader"),function(){function a(a){g=a.bids;for(var c=0;c<g.length;c++){var d=g[c];f.pbCallbackMap[""+d.params.adSlot]=d,h=h||d.params.publisherId,i.push(d.params.adSlot)}b()}function b(){window.pm_pub_id=h,window.pm_optimize_adslots=i;var a=d.createInvisibleIframe(),b=document.getElementsByTagName("head")[0];b.insertBefore(a,b.firstChild);var e=a.contentWindow.document;e.write(c()),e.close()}function c(){var a='<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><base target="_top" /><script>inDapIF=true;</script></head>';a+="<body>",a+="<script>",a+='window.pm_pub_id  = "%%PM_PUB_ID%%";window.pm_optimize_adslots     = [%%PM_OPTIMIZE_ADSLOTS%%];',a+="</script>";var b={};return b.PM_PUB_ID=h,b.PM_OPTIMIZE_ADSLOTS=i.map(function(a){return"'"+a+"'"}).join(","),a+='<script src="//ads.pubmatic.com/AdServer/js/gshowad.js"></script>',a+="<script>",a+="window.parent.pbjs.handlePubmaticCallback({progKeyValueMap: progKeyValueMap, bidDetailsMap: bidDetailsMap})",a+="</script>",a+="</body></html>",a=d.replaceTokenInString(a,b,"%%")}var g,h,i=[];return pbjs.handlePubmaticCallback=function(a){var b,c,d,h,i,j=a&&a.bidDetailsMap||{},k=a&&a.progKeyValueMap||{};for(b=0;b<g.length;b++){var l;h=g[b].params,c=j[h.adSlot]||{},d=(k[h.adSlot]||"").split(";").reduce(function(a,b){var c=b.split("=");return a[c[0]]=c[1],a},{}),"1"===d.bidstatus?(i=d.bidid.split("@")[1].split("x"),l=e.createBid(1),l.bidderCode="pubmatic",l.adSlot=h.adSlot,l.cpm=Number(d.bid),l.ad=unescape(c.creative_tag),l.adUrl=unescape(c.tracking_url),l.width=i[0],l.height=i[1],l.dealId=d.wdeal,f.addBidResponse(g[b].placementCode,l)):(l=e.createBid(2),l.bidderCode="pubmatic",f.addBidResponse(g[b].placementCode,l))}},{callBids:a}});b.exports=g},{"../adloader":10,"../bidfactory.js":11,"../bidmanager.js":12,"../constants.json":13,"../utils.js":17}],7:[function(a,b,c){var d=a("../constants.json"),e=a("../utils.js"),f=a("../bidfactory.js"),g=a("../bidmanager.js"),h=function(){function a(a){for(var d=a.bids,e=0;e<d.length;e++){var f=d[e],i=f.sizes[0][0],j=f.sizes[0][1],k=h(f,"window.parent.pbjs.handleRubiconCallback",i,j),l=c(k);f.iframeId=l,g.pbCallbackMap[b(f)]=f}}function b(a){return(a.params?[a.params.rp_account,a.params.rp_site,a.params.rp_zonesize]:[a.account_id,a.site_id,a.zone_id,a.size_id]).join("-")}function c(a,b){var c=e.createInvisibleIframe(),d=document.getElementsByTagName("head")[0];d.insertBefore(c,d.firstChild);var f=c.contentWindow.document;return f.write(a),f.close(),c.id}function h(a,b,c,d){i[a.params.rp_zonesize.split("-")[1]]={width:c,height:d};var f='<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><base target="_top" /><script>inDapIF=true;</script></head>';f+="<body>",f+="<script>",f+='window.rp_account  = "%%RP_ACCOUNT%%";window.rp_site     = "%%RP_SITE%%";window.rp_zonesize = "%%RP_ZONESIZE%%";window.rp_tracking = "%%RP_TRACKING%%";window.rp_visitor =  %%RP_VISITOR%%;window.rp_width =  %%RP_WIDTH%%;window.rp_height =  %%RP_HEIGHT%%;window.rp_adtype   = "jsonp";window.rp_inventory = %%RP_INVENTORY%% ;window.rp_floor=%%RP_FLOOR%%;window.rp_fastlane = true;window.rp_callback = '+b+";";var g={};return g.RP_ACCOUNT=a.params.rp_account,g.RP_SITE=a.params.rp_site,g.RP_ZONESIZE=a.params.rp_zonesize,g.RP_TRACKING=a.params.rp_tracking?a.params.rp_tracking:"",g.RP_VISITOR=a.params.rp_visitor?a.params.rp_visitor:"{}",g.RP_WIDTH=c,g.RP_HEIGHT=d,g.RP_INVENTORY=a.params.rp_inventory||"{}",g.RP_FLOOR=a.params.rp_floor?a.params.rp_floor:"0.00",f+="</script>",f+='<script src="http://ads.rubiconproject.com/ad/%%RP_ACCOUNT%%.js"></script>',f+="</body></html>",f=e.replaceTokenInString(f,g,"%%")}var i={};return window.pbjs=window.pbjs||{que:[]},window.pbjs.handleRubiconCallback=function(a){var c="",h={};if(a&&"ok"===a.status)try{var j="",k=g.getPlacementIdByCBIdentifer(b(a));if(k&&(c=k.placementCode,k.status=d.STATUS.GOOD,j=k.iframeId),h=f.createBid(1),a.ads&&a.ads[0]){var l=a.ads[0],m=i[l.size_id],n=0,o=0,p=window.frames[j],q=p.contentWindow.RubiconAdServing;if(q&&q.AdSizes){m=q.AdSizes[l.size_id];var r=m.dim.split("x");n=r[0],o=r[1]}h.cpm=l.cpm,h.ad="<script>"+l.script+"</script>",h.ad_id=l.ad_id,h.bidderCode="rubicon",h.sizeId=l.size_id,h.width=n,h.height=o}}catch(s){e.logError("Error parsing rubicon response bid: "+s.message)}else{h=f.createBid(2),h.bidderCode="rubicon";var k=g.getPlacementIdByCBIdentifer(b(a));k&&(c=k.placementCode)}g.addBidResponse(c,h)},{callBids:a}};b.exports=h},{"../bidfactory.js":11,"../bidmanager.js":12,"../constants.json":13,"../utils.js":17}],8:[function(a,b,c){var d=a("../constants.json"),e=a("../utils.js"),f=a("../bidfactory.js"),g=a("../bidmanager.js"),h=a("../adloader"),i="",j=function(){function a(a){var d=a.bids||[];c(b(d))}function b(a){var b,c={},d=[];a.forEach(function(a){c[e.getBidIdParamater("tagid",a.params)]=a});for(b in c)c.hasOwnProperty(b)&&d.push(c[b]);return d}function c(a){var b=window.location.host,c=window.location.pathname+location.search+location.hash,d=[];i=a[0].placementCode,e._each(a,function(a){var b=e.getBidIdParamater("tagid",a.params),c=e.getBidIdParamater("bidfloor",a.params),f=0,h=0,i=a.sizes.length;2===i&&"number"==typeof a.sizes[0]&&"number"==typeof a.sizes[1]?(f=a.sizes[0],h=a.sizes[1]):(f=a.sizes[0][0],h=a.sizes[0][1]),imp={id:e.getUniqueIdentifierStr(),banner:{w:f,h:h},tagid:b,bidfloor:c},d.push(imp),g.pbCallbackMap[imp.id]=a});var f={id:e.getUniqueIdentifierStr(),imp:d,site:{domain:b,page:c}},k="//"+j+"?callback=window.pbjs.sovrnResponse&br="+encodeURIComponent(JSON.stringify(f));h.loadScript(k,null)}var j="ap.lijit.com/rtb/bid";return pbjs.sovrnResponse=function(a){var b={};a&&a.id&&a.seatbid&&0!==a.seatbid.length&&a.seatbid[0].bid&&0!==a.seatbid[0].bid.length?a.seatbid[0].bid.forEach(function(a){var c,e="",h=a.impid,i=g.getPlacementIdByCBIdentifer(h);if(i)if(e=i.placementCode,i.status=d.STATUS.GOOD,c=parseFloat(a.price),0!==c){a.placementCode=e,a.size=i.sizes;var j=a.adm,k='<img src="'+a.nurl+'">';b=f.createBid(1),b.creative_id=a.Id,b.bidderCode="sovrn",b.cpm=c,b.ad=decodeURIComponent(j+k),b.width=i.sizes[0][0],b.height=i.sizes[0][1],g.addBidResponse(e,b)}else b=f.createBid(2),b.bidderCode="sovrn",g.addBidResponse(e,b);else b=f.createBid(2),b.bidderCode="sovrn",g.addBidResponse(e,b)}):(b=f.createBid(2),b.bidderCode="sovrn",g.addBidResponse(i,b))},{callBids:a}};b.exports=j},{"../adloader":10,"../bidfactory.js":11,"../bidmanager.js":12,"../constants.json":13,"../utils.js":17}],9:[function(a,b,c){var d=a("../adloader"),e=a("../bidfactory"),f=a("../bidmanager"),g=a("../utils"),h=function(){window.ybotq=window.ybotq||[];var a={BID_STATUS:{PENDING:0,AVAILABLE:1,EMPTY:2},definedSlots:[],pageLevelOption:!1,buildCreative:function(a,b){return'<script type="text/javascript" src="//cdn.yldbt.com/js/yieldbot.intent.js"></script><script type="text/javascript">var ybotq = ybotq || [];ybotq.push(function () {yieldbot.renderAd(\''+a.toLowerCase()+":"+b+"');});</script>"},buildBid:function(b){var c={};if(b&&b.ybot_ad&&"n"!==b.ybot_ad){c=e.createBid(a.BID_STATUS.AVAILABLE),c.cpm=parseInt(b.ybot_cpm)/100||0;var d=b.ybot_size?b.ybot_size.split("x"):[0,0],f=b.ybot_slot||"",g=b.ybot_size||"";c.width=d[0]||0,c.height=d[1]||0,c.ad=a.buildCreative(f,g);for(var h in b)c[h]=b[h]}else c=e.createBid(a.BID_STATUS.EMPTY);return c.bidderCode="yieldbot",c},callBids:function(b){var c=b.bids||[],e=window.ybotq||[];a.pageLevelOption=!1,e.push(function(){var b=window.yieldbot;g._each(c,function(c){var d=c,e=d.params&&d.params.psn||"ERROR_DEFINE_YB_PSN",h=d.params&&d.params.slot||"ERROR_DEFINE_YB_SLOT";b.pub(e),b.defineSlot(h,{sizes:d.sizes||[]});var i=g.getUniqueIdentifierStr();f.pbCallbackMap[i]=d,a.definedSlots.push(i)}),b.enableAsync(),b.go()}),e.push(function(){a.handleUpdateState()}),d.loadScript("//cdn.yldbt.com/js/yieldbot.intent.js")},handleUpdateState:function(){var b=window.yieldbot;g._each(a.definedSlots,function(c){var d,e,g,h;h=f.getPlacementIdByCBIdentifer(c)||{},d=h.params.slot||"",e=b.getSlotCriteria(d),g=h.placementCode||"ERROR_YB_NO_PLACEMENT";var i=a.buildBid(e);f.addBidResponse(g,i)})}};return{callBids:a.callBids}};b.exports=h},{"../adloader":10,"../bidfactory":11,"../bidmanager":12,"../utils":17}],10:[function(a,b,c){c.loadScript=function(a,b){var c=document.createElement("script");c.type="text/javascript",c.async=!0,b&&"function"==typeof b&&(c.readyState?c.onreadystatechange=function(){"loaded"!=c.readyState&&"complete"!=c.readyState||(c.onreadystatechange=null,b())}:c.onload=function(){b()}),c.src=a;var d=document.getElementsByTagName("head");d=d.length?d:document.getElementsByTagName("body"),d.length&&(d=d[0],d.insertBefore(c,d.firstChild))},c.trackPixel=function(a){try{if(a+="&rnd="+Math.random()){var b=document.createElement("img");b.src=a}}catch(c){}}},{}],11:[function(a,b,c){function d(a){function b(){switch(d){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}var c=e.getUniqueIdentifierStr(),d=a||0;this.bidderCode="",this.width=0,this.height=0,this.statusMessage=b(),this.adId=c,this.getStatusCode=function(){return d},this.getSize=function(){return this.width+"x"+this.height}}var e=a("./utils.js");c.createBid=function(a){return new d(a)}},{"./utils.js":17}],12:[function(a,b,c){function d(){A={};for(var a=0;a<pbjs.adUnits.length;a++)for(var b=pbjs.adUnits[a].bids,c=0;c<b.length;c++){var d=b[c].bidder;A[d]=0}}function e(a){typeof A[a]===s?A[a]=1:A[a]++}function f(){B={}}function g(a){return B[a]}function h(a,b){var c={},d=pbjs.bidderSettings||{};return a&&b&&d&&d[a]?(i(c,d[a],b),b.alwaysUseBid=d[a].alwaysUseBid):E[a]?(i(c,E[a],b),b.alwaysUseBid=E[a].alwaysUseBid):b&&d&&(d[o.JSON_MAPPING.BD_SETTING_STANDARD]||(d[o.JSON_MAPPING.BD_SETTING_STANDARD]={adserverTargeting:[{key:"hb_bidder",val:function(a){return a.bidderCode}},{key:"hb_adid",val:function(a){return a.adId}},{key:"hb_pb",val:function(a){return a.pbMg}},{key:"hb_size",val:function(a){return a.size}}]}),i(c,d[o.JSON_MAPPING.BD_SETTING_STANDARD],b)),c}function i(a,b,c){var d=b[o.JSON_MAPPING.ADSERVER_TARGETING];return c.size=c.getSize(),p._each(d,function(b){var d=b.key,e=b.val;if(p.isFn(e))try{a[d]=e(c)}catch(f){p.logError("bidmanager","ERROR",f)}else a[d]=e}),a}function j(a){var b=[a];k(t,b)}function k(a,b){var c;if(p.isArray(a))for(c=0;c<a.length;c++){var d=a[c];l(d,b)}else l(a,b)}function l(a,b){if("function"==typeof a)try{a.apply(pbjs,b)}catch(c){p.logError("Error executing callback function: "+c.message)}}function m(a){for(var b=0;b<pbjs.adUnits.length;b++){var c=pbjs.adUnits[b];if(c.code===a){var d=y[a].bidsReceivedCount;d===c.bids.length&&j(a)}}}function n(){var a=!0;return p._each(A,function(b,c){if("appnexus"===c){var d=g(c);(typeof d===s||d>b)&&(a=!1)}else 1>b&&(a=!1)}),a}var o=a("./constants.json"),p=a("./utils.js"),q=(a("./adaptermanager"),a("./events")),r="function",s="undefined",t=[],u=[],v=null,w={},x={};c.pbCallbackMap=x;var y={};c.pbBidResponseByPlacement=y;var z={};c._adResponsesByBidderId=z;var A={};c.bidResponseReceivedCount=A;var B={},C=!1,D=!1,E={},F={};c.getPlacementIdByCBIdentifer=function(a){return x[a]},c.getBidResponseByAdUnit=function(a){return y},c.clearAllBidResponses=function(a){C=!1,D=!1,d(),f(),u.called=!1;for(var b in this.pbBidResponseByPlacement)delete this.pbBidResponseByPlacement[b]},c.getTimedOutBidders=function(){var a=[];return p._each(A,function(b,c){0===b&&a.push(c)}),a},c.increaseBidResponseReceivedCount=function(a){e(a)},c.setExpectedBidsCount=function(a,b){B[a]=b},c.addBidResponse=function(a,b){var c={};if(b){b.requestTimestamp=F[b.bidderCode],b.responseTimestamp=(new Date).getTime(),b.timeToRespond=b.responseTimestamp-b.requestTimestamp,e(b.bidderCode),2===b.getStatusCode()&&(b.cpm=0);var d=p.getPriceBucketString(b.cpm,b.height,b.width);b.pbLg=d.low,b.pbMg=d.med,b.pbHg=d.high,b.adUnitCode=a,b.bidder=b.bidderCode;var f={};b.bidderCode&&0!==b.cpm&&(f=h(b.bidderCode,b),b.adserverTargeting=f),b.adId&&(z[b.adId]=b),a&&y[a]?(c=y[a],c.bids.push(b),c.bidsReceivedCount++):p.logError("Internal error in bidmanager.addBidResponse. Params: "+a+" & "+b),q.emit("bidResponse",a,b)}else c=this.createEmptyBidResponseObj();y[a]=c,this.checkIfAllBidsAreIn(a)},c.createEmptyBidResponseObj=function(){return{bids:[],allBidsAvailable:!1,bidsReceivedCount:0}},c.registerDefaultBidderSetting=function(a,b){E[a]=b},c.registerBidRequestTime=function(a,b){F[a]=b},c.executeCallback=function(){if(typeof pbjs.registerBidCallbackHandler===r&&!D)try{pbjs.registerBidCallbackHandler(),D=!0}catch(a){D=!0,p.logError("Exception trying to execute callback handler registered : "+a.message)}if(u.called!==!0){var b=[];k(u,b),u.called=!0}if(v){var b=[],c=pbjs.getBidResponses();b.push(c),k(v,b),v=null}},c.allBidsBack=function(){return C},c.setBidderMap=function(a){w=a},c.checkIfAllBidsAreIn=function(a){C=n(),m(a),C&&this.executeCallback()},c.addOneTimeCallback=function(a){v=a},c.addCallback=function(a,b,c){b.id=a,o.CB.TYPE.ALL_BIDS_BACK===c?u.push(b):o.CB.TYPE.AD_UNIT_BIDS_BACK===c&&t.push(b)}},{"./adaptermanager":1,"./constants.json":13,"./events":14,"./utils.js":17}],13:[function(a,b,c){b.exports={JSON_MAPPING:{PL_CODE:"code",PL_SIZE:"sizes",PL_BIDS:"bids",BD_BIDDER:"bidder",BD_ID:"paramsd",BD_PL_ID:"placementId",ADSERVER_TARGETING:"adserverTargeting",BD_SETTING_STANDARD:"standard"},DEBUG_MODE:"pbjs_debug",STATUS:{GOOD:"good",TIMEOUT:"timed out"},CB:{TYPE:{ALL_BIDS_BACK:"allRequestedBidsBack",AD_UNIT_BIDS_BACK:"adUnitBidsBack"}},objectType_function:"function",objectType_undefined:"undefined",objectType_object:"object",objectType_string:"string",objectType_number:"number",EVENTS:{BID_TIMEOUT:"bidTimeout",BID_REQUESTED:"bidRequested",BID_RESPONSE:"bidResponse",BID_WON:"bidWon"}}},{}],14:[function(a,b,c){var d=a("./utils"),e=a("./constants"),f=Array.prototype.slice,g=d._map(e.EVENTS,function(a){return a}),h=[];b.exports=function(){function a(a,b){d.logMessage("Emitting event for: "+a),h.push({eventType:a,args:b}),d._each(c[a],function(a){if(a)try{a.apply(null,b)}catch(c){d.logError("Error executing handler:","events.js",c)}})}function b(a){return d.contains(g,a)}var c={},e={};return e.on=function(a,e){b(a)?(c[a]=c[a]||[],c[a].push(e)):d.logError("Wrong event name : "+a+" Valid event names :"+g)},e.emit=function(b){var c=f.call(arguments,1);a(b,c)},e.off=function(a,b,e){d.isEmpty(c[a])||d._each(c[a],function(a){null!==a[b]&&void 0!==a[b]&&("undefined"!=typeof e&&a[b]!==e||(a[b]=null))})},e.get=function(){return c},e.getEvents=function(){var a=[];return d._each(h,function(b){var c=d.extend({},b);a.push(c)}),a},e}()},{"./constants":13,"./utils":17}],15:[function(a,b,c){function d(){for(var a=0;a<r.que.length;a++)if(typeof r.que[a].called===B)try{r.que[a].call(),r.que[a].called=!0}catch(b){t.logError("Error processing command :","prebid.js",b)}}function e(a,b){var c=0;if(c=typeof a===B||null===a?r.bidderTimeout:a,!f())return void t.logMessage("No adUnits configured. No bids requested.");if(setTimeout(u.executeCallback,c),b&&t.isArray(b)){for(var d=0;d<b.length;d++)for(var e=0;e<r.adUnits.length;e++)r.adUnits[e].code===b[d]&&H.push(r.adUnits[e]);h(),g()}else H=r.adUnits,h(),g()}function f(){return!(!r.adUnits||0===r.adUnits.length)}function g(a){var b=Object.keys(I).map(function(a){return I[a]});typeof a===A&&b.sort(a),v.callBids(b)}function h(){for(var a=0;a<H.length;a++){var b=H[a][s.JSON_MAPPING.PL_BIDS],c=H[a][s.JSON_MAPPING.PL_CODE];i(H[a][s.JSON_MAPPING.PL_CODE],H[a][s.JSON_MAPPING.PL_SIZE],b),u.addBidResponse(c)}for(a=0;a<G.length;a++)G[a].loadPreBid();u.setBidderMap(I)}function i(a,b,c){for(var d=0;d<c.length;d++){var e=c[d];e.placementCode=a,e.sizes=b;var f=c[d][s.JSON_MAPPING.BD_BIDDER],g=I[f];if(typeof g===B){var h={bidderCode:f,bids:[]};h.bids.push(e),I[f]=h}else g.bids.push(e)}}function j(a){var b={};return a&&0!==a.length&&(a.sort(function(a,b){return b.cpm-a.cpm}),b=a[0]),b.bid}function k(a,b){var c=q(b);t.extend(K,c),t._each(K,function(a,c){b.setTargeting(c,"")});for(var d in c)if(c.hasOwnProperty(d))try{t.logMessage("Attempting to set key value for slot: "+b.getSlotElementId()+" key: "+d+" value: "+encodeURIComponent(c[d])),b.setTargeting(d,encodeURIComponent(c[d]))}catch(e){t.logMessage("Problem setting key value pairs in slot: "+e.message)}}function l(a){var b={};return a?b=u.pbBidResponseByPlacement[a]:u.pbBidResponseByPlacement}function m(a){var b=[],c="",d=[],e={};if(a&&a[0]&&a[0].adUnitCode){c=a[0]&&a[0].adUnitCode,J[c]={};for(var f=0;f<a.length;f++){var g=a[f];e=n(g),g.alwaysUseBid&&e.adserverTargeting?J[e.adUnitCode]=t.extend(J[e.adUnitCode],e.adserverTargeting):g.cpm&&g.cpm>0&&d.push({cpm:g.cpm,bid:g}),b.push(e)}}if(c&&0!==d.length){var h=j(d),i=h.adserverTargeting;J[c]=t.extend(J[c],i)}return b}function n(a){var b={};if(a){var c=JSON.stringify(a);b=JSON.parse(c),delete b.pbLg,delete b.pbMg,delete b.pbHg}return b}function o(){u.clearAllBidResponses(),I={},H=[],J={}}function p(a){var b=a;o(),e(b)}function q(a){var b=null;return a&&(b=r.getAdserverTargetingForAdUnitCode(a.getSlotElementId()),b||(b=r.getAdserverTargetingForAdUnitCode(a.getAdUnitPath()))),b}window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[];var r=window.pbjs,s=a("./constants.json"),t=a("./utils.js"),u=a("./bidmanager.js"),v=a("./adaptermanager"),w=a("./bidfactory"),x=a("./adloader"),y=a("./ga"),z=a("./events"),A="function",B="undefined",C="object",D="string",E=s.EVENTS.BID_WON,F=s.EVENTS.BID_TIMEOUT,G=[],H=[],I={},J={},K={};r.bidderTimeout=r.bidderTimeout||3e3,r.logging=r.logging||!1,r.libLoaded=!0,r.adUnits=r.adUnits||[],r.que.push=function(a){if(typeof a===A)try{a.call()}catch(b){t.logError("Error processing command :"+b.message)}else t.logError("Commands written into pbjs.que.push must wrapped in a function")},r.getAdserverTargetingForAdUnitCodeStr=function(a){if(a){var b=r.getAdserverTargetingForAdUnitCode(a);return t.transformAdServerTargetingObj(b)}t.logMessage("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},r.getAdserverTargetingForAdUnitCode=function(a){return r.getBidResponses(a),a?J[a]:J},r.getAdserverTargeting=function(){return r.getAdserverTargetingForAdUnitCode()},r.getBidResponses=function(a){var b={},c=[],d={};if(a)b=l(a),c=[],b&&b.bids&&(c=m(b.bids)),d={bids:c};else{b=l();for(var e in b)b.hasOwnProperty(e)&&(b&&b[e]&&b[e].bids&&(c=m(b[e].bids)),d[e]={bids:c})}return d},r.getBidResponsesForAdUnitCode=function(a){return r.getBidResponses(a)},r.setTargetingForAdUnitsGPTAsync=function(a){if(!window.googletag||!t.isFn(window.googletag.pubads)||!t.isFn(window.googletag.pubads().getSlots))return void t.logError("window.googletag is not defined on the page");var b=u.getTimedOutBidders();z.emit(F,b);var c=a;typeof a===D?c=[a]:typeof a===C&&(c=a);var d={},e=0;if(c)for(e=0;e<c.length;e++)for(var f=c[e],g=window.googletag.pubads().getSlots(),h=0;h<g.length;h++)g[h].getSlotElementId()!==f&&g[h].getAdUnitPath()!==f||(d=l(f),k(f,g[h]));else{var g=window.googletag.pubads().getSlots();for(e=0;e<g.length;e++){var i=g[e].getSlotElementId();i&&k(i,g[e])}}},r.setTargetingForGPTAsync=function(){r.setTargetingForAdUnitsGPTAsync()},r.allBidsAvailable=function(){return u.allBidsBack()},r.renderAd=function(a,b){if(t.logMessage("Calling renderAd with adId :"+b),a&&b)try{var c=u._adResponsesByBidderId[b];if(c){z.emit(E,c);var d=c.height,e=c.width,f=c.adUrl,g=c.ad;g?(a.write(g),a.close(),a.defaultView&&a.defaultView.frameElement&&(a.defaultView.frameElement.width=e,a.defaultView.frameElement.height=d)):f?(a.write('<IFRAME SRC="'+f+'" FRAMEBORDER="0" SCROLLING="no" MARGINHEIGHT="0" MARGINWIDTH="0" TOPMARGIN="0" LEFTMARGIN="0" ALLOWTRANSPARENCY="true" WIDTH="'+e+'" HEIGHT="'+d+'"></IFRAME>'),a.close(),a.defaultView&&a.defaultView.frameElement&&(a.defaultView.frameElement.width=e,a.defaultView.frameElement.height=d)):t.logError("Error trying to write ad. No ad for bid response id: "+b)}else t.logError("Error trying to write ad. Cannot find ad by given id : "+b)}catch(h){t.logError("Error trying to write ad Id :"+b+" to the page:"+h.message)}else t.logError("Error trying to write ad Id :"+b+" to the page. Missing document or adId")},r.requestBidsForAdUnit=function(a){o(),e(a)},r.requestBidsForAdUnits=function(a){if(!a||a.constructor!==Array)return void t.logError("requestBidsForAdUnits must pass an array of adUnits");o();var b=r.adUnits.slice(0);r.adUnits=a,e(),r.adUnits=b},r.removeAdUnit=function(a){if(a)for(var b=0;b<r.adUnits.length;b++)r.adUnits[b].code===a&&r.adUnits.splice(b,1)},r.requestBids=function(a){if(a){var b=a.adUnitCodes,c=a.adUnits,d=a.timeout,f=a.bidsBackHandler,g=r.adUnits.slice(0);typeof f===A&&u.addOneTimeCallback(f),b&&t.isArray(b)?(o(),e(d,b)):c&&t.isArray(c)?(o(),r.adUnits=c,e(d)):p(d),r.adUnits=g}else p()},r.addAdUnits=function(a){t.isArray(a)?r.adUnits.push.apply(r.adUnits,a):typeof a===C&&r.adUnits.push(a)},r.addCallback=function(a,b){var c=null;return a&&b&&typeof b===A?(c=t.getUniqueIdentifierStr,u.addCallback(c,b,a),c):(t.logError("error registering callback. Check method signature"),c)},r.removeCallback=function(a){},r.registerBidAdapter=function(a,b){try{v.registerBidAdapter(a(),b)}catch(c){t.logError("Error registering bidder adapter : "+c.message)}},r.bidsAvailableForAdapter=function(a){for(var b=I[a].bids,c=0;c<b.length;c++){var d=b[c].placementCode,e=u.pbBidResponseByPlacement[d],f=w.createBid(1);f.bidderCode=a,f.adUnitCode=d,f.bidder=a,e.bids.push(f),e.bidsReceivedCount++,u.pbBidResponseByPlacement[d]=e}u.increaseBidResponseReceivedCount(a)},r.createBid=function(a){return w.createBid(a)},r.addBidResponse=function(a,b){u.addBidResponse(a,b)},r.loadScript=function(a,b){x.loadScript(a,b)},r.enableAnalytics=function(a){if(!a)return void t.logError("pbjs.enableAnalytics should be called with option {}","prebid.js");if("ga"===a.provider)try{y.enableAnalytics("undefined"==typeof a.options?{}:a.options)}catch(b){t.logError("Error calling GA: ","prebid.js",b)}else"other_provider"===a.provider},d(),pbjs_testonly={},pbjs_testonly.getAdUnits=function(){return r.adUnits}},{"./adaptermanager":1,"./adloader":10,"./bidfactory":11,"./bidmanager.js":12,"./constants.json":13,"./events":14,"./ga":16,"./utils.js":17}],16:[function(a,b,c){function d(){if(v&&"function"==typeof window[u]){for(var a=0;a<t.length;a++)t[a].call();t.push=function(a){a.call()},v=!1}m.logMessage("event count sent to GA: "+x)}function e(a){return a?Math.floor(100*a):0}function f(a){var b;return a>=0&&200>a?b="0-200ms":a>=200&&300>a?b="200-300ms":a>=300&&400>a?b="300-400ms":a>=400&&500>a?b="400-500ms":a>=500&&600>a?b="500-600ms":a>=600&&800>a?b="600-800ms":a>=800&&1e3>a?b="800-1000ms":a>=1e3&&1200>a?b="1000-1200ms":a>=1200&&1500>a?b="1200-1500ms":a>=1500&&2e3>a?b="1500-2000ms":a>=2e3&&(b="2000ms above"),b}function g(a){var b;return a>=0&&.5>a?b="$0-0.5":a>=.5&&1>a?b="$0.5-1":a>=1&&1.5>a?b="$1-1.5":a>=1.5&&2>a?b="$1.5-2":a>=2&&2.5>a?b="$2-2.5":a>=2.5&&3>a?b="$2.5-3":a>=3&&4>a?b="$3-4":a>=4&&6>a?b="$4-6":a>=6&&8>a?b="$6-8":a>=8&&(b="$8 above"),b}function h(a){a&&a.bidderCode&&t.push(function(){x++,window[u]("send","event",w,"Requests",a.bidderCode,1,s)}),d()}function i(a){a&&a.bidder&&t.push(function(){var b=e(a.cpm),c=a.bidder;if("undefined"!=typeof a.timeToRespond&&y){x++;var d=f(a.timeToRespond);window[u]("send","event","Prebid.js Load Time Distribution",d,c,1,s)}if(a.cpm>0){x+=2;var h=g(a.cpm);y&&(x++,window[u]("send","event","Prebid.js CPM Distribution",h,c,1,s)),window[u]("send","event",w,"Bids",c,b,s),window[u]("send","event",w,"Bid Load Time",c,a.timeToRespond,s)}}),d()}function j(a){m._each(a,function(a){t.push(function(){x++,window[u]("send","event",w,"Timeouts",a,1,s)})}),d()}function k(a){var b=e(a.cpm);t.push(function(){x++,window[u]("send","event",w,"Wins",a.bidderCode,b,s)}),d()}var l=a("./events"),m=a("./utils"),n=a("./constants.json"),o=n.EVENTS.BID_REQUESTED,p=n.EVENTS.BID_TIMEOUT,q=n.EVENTS.BID_RESPONSE,r=n.EVENTS.BID_WON,s={nonInteraction:!0},t=[],u=null,v=!0,w="Prebid.js Bids",x=0,y=!1;c.enableAnalytics=function(a){u="undefined"!=typeof a.global?a.global:"ga","undefined"!=typeof a.enableDistribution&&(y=a.enableDistribution);var b=null,c=l.getEvents();m._each(c,function(a){var c=a.args;if(a)if(a.eventType===o)b=c[0],h(b);else if(a.eventType===q)b=c[1],i(b);else if(a.eventType===p){var d=c[0];j(d)}else a.eventType===r&&(b=c[0],k(b))}),l.on(o,function(a){h(a)}),l.on(q,function(a,b){i(b)}),l.on(p,function(a){j(a)}),l.on(r,function(a){k(a)})}},{"./constants.json":13,"./events":14,"./utils":17}],17:[function(a,b,c){function d(){return s()+Math.random().toString(16).substr(2)}function e(){return window.console&&window.console.log}var f=a("./constants.json"),g="object",h="string",i="number",j=!1,k=5,l=20,m=20,n="Array",o="String",p="Function",q=Object.prototype.toString,r=Object.prototype.hasOwnProperty;Array.prototype.slice;c.replaceTokenInString=function(a,b,c){return this._each(b,function(b,d){b=void 0===b?"":b;var e=c+d.toUpperCase()+c,f=new RegExp(e,"g");a=a.replace(f,b)}),a};var s=function(){var a=0;return function(){return a++,a}}();c.getUniqueIdentifierStr=d,c.getBidIdParamater=function(a,b){return b&&b[a]?b[a]:""},c.tryAppendQueryString=function(a,b,c){return c?a+=b+"="+encodeURIComponent(c)+"&":a},c.parseQueryStringParameters=function(a){var b="";for(var c in a)a.hasOwnProperty(c)&&(b+=c+"="+encodeURIComponent(a[c])+"&");return b},c.transformAdServerTargetingObj=function(a){var b="";if(!a)return"";for(var c in a)a.hasOwnProperty(c)&&(b+=c+"="+encodeURIComponent(a[c])+"&");return b},c.extend=function(a,b){return a=a||{},this._each(b,function(c,d){typeof b[d]===g?a[d]=this.extend(a[d],b[d]):a[d]=b[d]}),a},c.parseSizesInput=function(a){var b,c=[];if(typeof a===h){var d=a.split(","),e=/^(\d)+x(\d)+$/i;if(d)for(var f in d)hasOwn(d,f)&&d[f].match(e)&&c.push(d[f])}else if(typeof a===g){var j=a.length;if(j>0)if(2===j&&typeof a[0]===i&&typeof a[1]===i)c.push(this.parseGPTSingleSizeArray(a));else for(var k=0;j>k;k++)c.push(this.parseGPTSingleSizeArray(a[k]))}var l=c.length;if(l>0&&(b="size="+c[0],l>1)){b+="&promo_sizes=";for(var m=1;l>m;m++)b+=c[m]+=",";b&&","===b.charAt(b.length-1)&&(b=b.slice(0,b.length-1))}return b},c.parseGPTSingleSizeArray=function(a){return!this.isArray(a)||2!==a.length||isNaN(a[0])||isNaN(a[1])?void 0:a[0]+"x"+a[1]},c.getTopWindowUrl=function(){try{return window.top.location.href}catch(a){return window.location.href}},c.logMessage=function(a){u()&&e()&&console.log("MESSAGE: "+a)},c.hasConsoleLogger=e;var t=function(a){return a?window.console.error?"error":"log":""}(e()),u=function(){return pbjs.logging===!1&&j===!1&&(pbjs.logging="TRUE"===v(f.DEBUG_MODE).toUpperCase(),j=!0),!!pbjs.logging};c.debugTurnedOn=u,
c.logError=function(a,b,c){var d=b||"ERROR";u()&&e()&&console[t].call(console,d+": "+a,c||"")},c.createInvisibleIframe=function(){var a=document.createElement("iframe");return a.id=d(),a.height=0,a.width=0,a.border="0px",a.hspace="0",a.vspace="0",a.marginWidth="0",a.marginHeight="0",a.style.border="0",a.scrolling="no",a.frameBorder="0",a.src="about:self",a.style="display:none",a};var v=function(a){var b="[\\?&]"+a+"=([^&#]*)",c=new RegExp(b),d=c.exec(window.location.search);return null===d?"":decodeURIComponent(d[1].replace(/\+/g," "))};c.getPriceBucketString=function(a){var b="",c="",d="",e=0,f={low:b,med:c,high:d};try{e=parseFloat(a),e&&(e>k?f.low=k.toFixed(2):f.low=(Math.floor(2*a)/2).toFixed(2),e>l?f.med=l.toFixed(2):f.med=(Math.floor(10*a)/10).toFixed(2),e>m?f.high=m.toFixed(2):f.high=(Math.floor(100*a)/100).toFixed(2))}catch(g){this.logError("Exception parsing CPM :"+g.message)}return f},c.hasValidBidRequest=function(a,b,c){for(var d=0;d<b.length;d++){var e=!1;if(this._each(a,function(a,c){c===b[d]&&(e=!0)}),!e)return this.logError("Params are missing for bid request. One of these required paramaters are missing: "+b,c),!1}return!0},c.addEventHandler=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!0):a.attachEvent&&a.attachEvent("on"+b,c)},c.isA=function(a,b){return q.call(a)==="[object "+b+"]"},c.isFn=function(a){return this.isA(a,p)},c.isStr=function(a){return this.isA(a,o)},c.isArray=function(a){return this.isA(a,n)},c.isEmpty=function(a){if(!a)return!0;if(this.isArray(a)||this.isStr(a))return!(a.length>0);for(var b in a)if(r.call(a,b))return!1;return!0},c._each=function(a,b){if(!this.isEmpty(a)){if(this.isFn(a.forEach))return a.forEach(b,this);var c=0,d=a.length;if(d>0)for(;d>c;c++)b(a[c],c,a);else for(c in a)r.call(a,c)&&b.call(this,a[c],c)}},c.contains=function(a,b){if(this.isEmpty(a))return!1;if(this.isFn(a.indexOf))return-1!==a.indexOf(b);for(var c=a.length;c--;)if(a[c]===b)return!0;return!1},c._map=function(a,b){if(this.isEmpty(a))return[];if(this.isFn(a.map))return a.map(b);var c=[];return this._each(a,function(d,e){c.push(b(d,e,a))}),c}},{"./constants.json":13}]},{},[15]);var dfpConfig={baseURL:"http://ad.uk.doubleclick.net/",dfpPosValues:{mpu_top_zero:"mpu_top",mpu_middle_zero:"mpu_middle",mpu_bottom_zero:"mpu_bottom",mpu_bottom_right_zero:"mpu_bottom_right",mpu_top_300x600:"mpu_top",mpu_middle_300x600:"mpu_middle",mpu_bottom_300x600:"mpu_bottom",mpu_bottom_right_300x600:"mpu_bottom_right"}};dfpAsyncHandler=function(){function a(a,b){return a&&a.slots&&a.slots.length?(_.each(a.slots,function(c){c.slot.addService(s.pubads()).setTargeting("pos",a.dfpPos||a.pos).setCollapseEmptyDiv(!0,g(a.pos)),a.custom&&a.custom.length&&m(c.slot,a.custom),"number"==typeof window.orientation&&c.slot.setTargeting("orientation",MobileUtils.isLandscape()?"landscape":"portrait"),MobileUtils.isMobile()&&c.slot.setTargeting("lat",PageCriteria.latitude||"").setTargeting("lon",PageCriteria.longitude||""),l(c.slot,a),dfpAsyncHandler.includeTrackingTags(c.slot,b)}),a):void 0}function b(b,d,e){function f(){c(b),a(b,d),g(b)}function g(a){_.each(a.slots,function(b){"gptSlot"===b.type&&(u[a.pos]=b.slot),b.slot.molAd={pos:a.pos,type:a.type,parentId:b.parentId,adUnit:a.adUnit},s.display(b.parentId)})}return!e&&adsRenderer.delayedRender.isDelayedAd(b)?void adsRenderer.delayedRender.delayRequestAd(b,d):(b.parentId=b.parentId||b.id,b.slots=b.slots||[],_.each(b.slots,function(a){a.parentId=a.parentId||a.id||b.parentId}),void s.cmd.push(f))}function c(a){var b=adsDescriptions.get(a.pos);return b&&b.slots&&b.slots.length?b.slots:d(a)}function d(b){var c=window,d="native_"===b.pos.slice(0,7)?"dailymail.uk/dm_native":c.dartSiteId+"/"+c.adAreaSiteId+"_"+c.adAreaSiteId+c.adAreaId+"_"+c.adSubareaId+c.adPageType;if(b.adUnit=d,b.slots=b.slots||[],b.dcopt&&"pfadj"===b.command&&-1===w.indexOf(b.pos)||b.slots.push({type:"gptSlot",slot:s.defineSlot("/"+t+"/"+d,h(b),b.parentId),parentId:b.parentId}),b.dcopt){var e="pfadj"===b.command&&-1===w.indexOf(b.pos)?b.parentId:j(b);b.slots.push({type:"oopGptSlot",slot:s.defineOutOfPageSlot("/"+t+"/"+d,e),parentId:e})}return adsDescriptions.update(b.pos,b),b.slots.length&&a(b,[]),b}function e(a){s.cmd.push(function(){var a=s.pubads();a.setTargeting("page",adPageType).setTargeting("article",adArticleId).setTargeting("area",adAreaId).setTargeting("subarea",adSubareaId).setTargeting("environment",adEnvironment).setTargeting("country",PageCriteria.geo.toLowerCase()).addEventListener("slotRenderEnded",adsRenderer.onAdLoaded),adsRenderer.addLoadListener(q);var b=adsRenderer.homepageRenderer;b.isHomepage()&&a.setTargeting("mobile",b.isMobileHomepage().toString())}),a.forEach(f),s.cmd.push(function(){s.pubads().enableAsyncRendering(),s.enableServices()})}function f(a){s.cmd.push(function(){var b=adsDescriptions.get(a);!b||b.gptSlot||b.oopGptSlot||d(b)})}function g(a){var b="billboard"===a&&"home"===PageCriteria.channel.slice(-4);return!_.contains(v,a)&&!b}function h(a){return a.size||_.map(a.type.split(","),function(a){return _.map(a.split("x"),Number)})}function i(a){document.body?a():setTimeout(i.bind(null,a),10)}function j(a){var b=a.parentId+"-oop",c=document.getElementById(a.parentId),d=document.createElement("div");return d.id=b,c?c.parentNode.insertBefore(d,c.nextSibling):i(function(){document.body.appendChild(d)}),b}function k(a,b){b.forEach(function(b){b&&"object"==typeof b&&Object.keys(b).forEach(function(c){a.setTargeting(c,b[c])})})}function l(a,b){Object.keys(b.extraZoneOptions).forEach(function(c){a.setTargeting(c,b.extraZoneOptions[c])})}function m(a,b){_.each(b,function(b){_.keys(b).forEach(function(c){a.setTargeting(c,b[c])})})}function n(a,c){b(a,c,!0)}function o(a){var b=r(a);b&&(b.setTargeting("refresh","true"),s.pubads().refresh([b]))}function p(a,b){var c=a.map(function(a){return r(a.pos)}),d=s.pubads();b&&d.setTargeting("subarea",adSubareaId),d.refresh(c,b)}function q(a){if("publisher_ads"===a.serviceName&&!a.isEmpty){var b=a.slot,c=b&&b.molAd;c&&AdIntegrator.centerAlign(c.parentId,h(c))}}function r(a){return u[a]}var s=window.googletag=window.googletag||{};window.googletag.cmd=window.googletag.cmd||[];var t=5765,u={},v=["sky_right_top","sky_left_top","halfsky_right_top","halfsky_left_top","halfsky_right_middle","halfsky_left_middle","halfsky_right_bottom","halfsky_left_bottom","mpu_top","mpu_top_300x600","mpu_top_zero","billboard","sticky_banner"],w=["sticky_banner","network_banner"];return{requestAd:b,getRequestedSlot:r,getGPTSlotForAd:c,createGPTSlotForAd:d,prepareGPTSlots:e,refreshAdvert:o,refreshAdverts:p,requestDelayedAd:n,includeTrackingTags:k}}(),DfpServer=function(){function a(){return f||(f=!0,adsTrackers.runTrackingPlugins()),dfpAsyncHandler}function b(b){var c=a().requestAd;b.pos&&dfpConfig.dfpPosValues[b.pos]&&(b.pos=dfpConfig.dfpPosValues[b.pos]),"billboard"===b.pos?adsTrackers.getTags(b,c,adsTrackers.getInitialTrackers().map(function(a){return{name:a}})):adsTrackers.getTags(b,c)}function c(b,c){var d=a();d.requestDelayedAd&&d.requestDelayedAd(b,c)}function d(b){var c=a();c.refreshAdvert&&c.refreshAdvert(b.pos)}function e(b,c){var d=a();d.refreshAdverts&&d.refreshAdverts(b,c)}var f;return{requestAd:b,refreshAdvert:d,refreshAdverts:e,requestDelayedAd:c,name:"DfpServer"}}(),adXConfig={AU:{adx_page_skins:{custom:!1,args:["platformNine","#adx_page_skins"]},adx_tracking:{custom:!0,args:["PREMIUM","TOP",!1,"#adx-trk"]},banner_top:{custom:!0,args:["NETPROMO","TOP",!1,"#banner"]},billboard:{custom:!0,args:["MASTHEAD","TOP",!1,"#billBoard"]},fff:{args:[]},halfsky_left_bottom:{args:[]},halfsky_left_middle:{custom:!0,args:["SPOTLIGHT","TOP.1",!1,".molads_halfsky_left_middle"]},halfsky_left_top:{custom:!0,args:["SPOTLIGHT","TOP",!1,".molads_halfsky_left_top"]},halfsky_right_bottom:{args:[]},halfsky_right_middle:{custom:!0,args:["SPOTLIGHT","TOP.1",!1,".molads_halfsky_right_middle"]},halfsky_right_top:{custom:!0,args:["SPOTLIGHT","TOP",!1,".molads_halfsky_right_top"]},interstitial:{args:[]},ldr_top:{custom:!1,args:["bannerHeader","#superBanner"]},mpu_top:{custom:!0,args:["MEDIUM","TOP",!1,".molads_mpu_top"]},mpu_top_300x600:{custom:!0,args:["MEDIUM","TOP",!1,".molads_mpu_top_300x600"]},mpu_top_zero:{custom:!0,args:["MEDIUM","TOP",!1,".mpu-zero.molads_mpu_top"]},mpu_middle:{custom:!0,args:["MEDIUM","TOP2",!1,".molads_mpu_middle"]},mpu_middle_300x600:{custom:!0,args:["MEDIUM","TOP2",!1,".molads_mpu_middle_300x600"]},mpu_middle_zero:{custom:!0,args:["MEDIUM","TOP2",!1,".mpu-zero.molads_mpu_middle"]},mpu_bottom:{custom:!0,args:["MEDIUM","TOP3",!1,".molads_mpu_bottom"]},mpu_bottom_300x600:{custom:!0,args:["MEDIUM","TOP3",!1,".molads_mpu_bottom_300x600"]},mpu_bottom_zero:{custom:!0,args:["MEDIUM","TOP3",!1,".mpu-zero.molads_mpu_bottom"]},mpu_bottom_right:{custom:!0,args:["MEDIUM","TOP4",!1,".molads_mpu_bottom_right"]},mpu_bottom_right_300x600:{custom:!0,args:["MEDIUM","TOP4",!1,".molads_mpu_bottom_right_300x600"]},mpu_bottom_right_zero:{custom:!0,args:["MEDIUM","TOP4",!1,".mpu-zero.molads_mpu_bottom_right"]},mpu_puff_10:{custom:!0,args:["MEDIUM","TOP5",!1,"#mpu_puff_10"]},mpu_puff_20:{custom:!0,args:["MEDIUM","TOP6",!1,"#mpu_puff_20"]},mpu_puff_30:{args:[]},mpu_channel:{custom:!0,args:["MEDIUM","TOP5",!1,"#adx-ch-mpu"]},network_banner:{args:[]},search_engine_sky:{args:[]},skinny_belly_top:{args:[]},sky_left_top:{custom:!0,args:["SKYSCRAPER","TOP",!1,".molads_sky_left_top"]},sky_right_top:{custom:!0,args:["SKYSCRAPER","RIGHT.1",!1,".molads_sky_right_top"]},sticky_banner:{args:[]}},NZ:{adx_page_skins:{custom:!1,args:["platformNine","#adx_page_skins"]},adx_tracking:{custom:!0,args:["PREMIUM","TOP",!1,"#adx-trk"]},banner_top:{custom:!0,args:["NETPROMO","TOP",!1,"#banner"]},billboard:{custom:!0,args:["MASTHEAD","TOP",!1,"#billBoard"]},fff:{args:[]},halfsky_left_bottom:{args:[]},halfsky_left_middle:{custom:!0,args:["SPOTLIGHT","TOP.1",!1,".molads_halfsky_left_middle"]},halfsky_left_top:{custom:!0,args:["SPOTLIGHT","TOP",!1,".molads_halfsky_left_top"]},halfsky_right_bottom:{args:[]},halfsky_right_middle:{custom:!0,args:["SPOTLIGHT","TOP.1",!1,".molads_halfsky_right_middle"]},halfsky_right_top:{custom:!0,args:["SPOTLIGHT","TOP",!1,".molads_halfsky_right_top"]},interstitial:{args:[]},ldr_top:{custom:!1,args:["bannerHeader","#superBanner"]},mpu_top:{custom:!0,args:["MEDIUM","TOP",!1,".molads_mpu_top"]},mpu_top_300x600:{custom:!0,args:["MEDIUM","TOP",!1,".molads_mpu_top_300x600"]},mpu_top_zero:{custom:!0,args:["MEDIUM","TOP",!1,".mpu-zero.molads_mpu_top"]},mpu_middle:{custom:!0,args:["MEDIUM","TOP3",!1,".molads_mpu_middle"]},mpu_middle_300x600:{custom:!0,args:["MEDIUM","TOP3",!1,".molads_mpu_middle_300x600"]},mpu_middle_zero:{custom:!0,args:["MEDIUM","TOP3",!1,".mpu-zero.molads_mpu_middle"]},mpu_bottom:{custom:!0,args:["MEDIUM","TOP4",!1,".molads_mpu_bottom"]},mpu_bottom_300x600:{custom:!0,args:["MEDIUM","TOP4",!1,".molads_mpu_bottom_300x600"]},mpu_bottom_zero:{custom:!0,args:["MEDIUM","TOP4",!1,".mpu-zero.molads_mpu_bottom"]},mpu_bottom_right:{custom:!0,args:["MEDIUM","TOP5",!1,".molads_mpu_bottom_right"]},mpu_bottom_right_300x600:{custom:!0,args:["MEDIUM","TOP5",!1,".molads_mpu_bottom_right_300x600"]},mpu_bottom_right_zero:{custom:!0,args:["MEDIUM","TOP5",!1,".mpu-zero.molads_mpu_bottom_right"]},mpu_puff_10:{custom:!0,args:["MEDIUM","TOP2",!1,"#mpu_puff_10"]},mpu_puff_20:{custom:!0,args:["MEDIUM","TOP6",!1,"#mpu_puff_20"]},mpu_puff_30:{args:[]},mpu_channel:{custom:!0,args:["MEDIUM","TOP7",!1,"#adx-ch-mpu"]},mpu_mobile:{custom:!0,args:["MEDIUM","TOP",!1,"#mpu_mobile"]},network_banner:{args:[]},search_engine_sky:{args:[]},skinny_belly_top:{args:[]},sky_left_top:{custom:!0,args:["SKYSCRAPER","TOP",!1,".molads_sky_left_top"]},sky_right_top:{custom:!0,args:["SKYSCRAPER","RIGHT.1",!1,".molads_sky_right_top"]},sticky_banner:{args:[]}}},adxMasterSlave={AU:{master:"billboard",slaves:{ldr_top:!0,sky_right_top:!0,sky_left_top:!0},onFill:function(){}},NZ:{master:"billboard",slaves:{ldr_top:!0,sky_right_top:!0,sky_left_top:!0},onFill:function(){}}},AdxServer=function(){var a="",b={},c=adxMasterSlave[PageCriteria.geo];c&&c.master&&c.slaves&&(a=c.master,b=c.slaves);var d=function(a){miniDom.removeClass(document.documentElement,"molads_"+a+"_on"),miniDom.addClass(document.documentElement,"molads_"+a+"_off")},e=function(a){miniDom.removeClass(document.documentElement,"molads_"+a+"_off"),miniDom.addClass(document.documentElement,"molads_"+a+"_on")},f=function(b){return a==b},g=function(a){return b.hasOwnProperty(a)},h=function(a){for(var b=document.querySelector(a),c=b.getElementsByTagName("iframe"),d=0;d<c.length;d++){var e=c[d],f=e.contentDocument||e.contentWindow&&e.contentWindow.document;if(f&&f.documentElement&&f.documentElement.innerHTML.match(/<!--NOAD-->/))return!0}return!1},i=function(a){var b=window.msnThirdParty||window.MSNAU_ThirdParty;b.renderAdCustom.apply(b,a.args)},j=function(a){var b=window.msnThirdParty||window.MSNAU_ThirdParty;b.renderAd.apply(b,a.args)},k=function(c){function k(){adsRenderer.onAdLoaded({isEmpty:g(c.pos)?!1:AdIntegrator.isEmpty(c.parentId),creativeId:null,lineItemId:null,size:(c.type||"1x1").split(",",2)[0].split("x"),serviceName:"adx",slot:{molAd:c}})}var l=adXConfig[PageCriteria.geo][c.pos];if(!l)return console.log("Advert has an unsupported position",c);adxMasterSlave[PageCriteria.geo].slaves;if(f(c.pos)){var m=l.args[l.args.length-1];l.args.push("master"),l.args.push(function(){if(!h(m)){e(a);for(var c in b)d(c)}})}g(c.pos)&&adListLoader.isAdEnabled({pos:a})&&(l.args.push("slave"),l.args.push(function(){e(c.pos),d(a)})),l.custom?i(l):j(l),setTimeout(k,2e3)};return{requestAd:function(a){"billboard"===a.pos&&"home"!==PageCriteria.channel&&"ushome"!==PageCriteria.channel&&(document.getElementById("billBoard").style.height="auto"),k(a)},name:"AdxServer"}}();var adServerConfig={defaults:{serverName:"Dfp",serverClass:DfpServer,unsupportedSlots:[]}};!window.useAdx||"AU"!==PageCriteria.geo&&"NZ"!==PageCriteria.geo||(adServerConfig.AU=adServerConfig.NZ={serverName:"Adx",serverClass:AdxServer,unsupportedSlots:["video_ad","fff","halfsky_left_bottom","halfsky_right_bottom","interstitial","mpu_home","mpu_mobile","mpu_puff_15","mpu_puff_30","mpu_puff_45","network_banner","search_engine_sky","sticky_banner","puff_ad_1","puff_ad_2","puff_ad_3","inread_player","mpu_mobile_top","mpu_mobile_bottom","half_mpu_top"]}),adsRenderer=function(){function getServer(a){var b=adServerConfig.defaults,c=adServerConfig[PageCriteria.geo]||b,d=b;return a.pos&&-1===c.unsupportedSlots.indexOf(a.pos)&&(d=c),d.serverClass}function requestAdvert(a){if(a.parentId){var b=document.getElementById(a.parentId);b&&(b.setAttribute(AD_ATTRIBUTE,stringify(a)),miniDom.addClass(b,"adHolder"))}return getServer(a).requestAd(a)}function refreshAdvert(a){getServer(a).refreshAdvert(a)}function refreshAdverts(a,b){var c={};a.forEach(function(a){var b=getAdTupleById(a);if(b){var d=getServer(b.ad);if(d){var e=d.name;e in c||(c[e]={serverClass:d,ads:[]}),c[e].ads.push(b.ad)}}}),Object.keys(c).forEach(function(a){var d=c[a],e=c[a].serverClass;e.refreshAdverts&&e.refreshAdverts(d.ads,b)})}function getAdTupleById(a){var b=document.getElementById(a);if(b){var c,d,e,f=b.getAttribute(AD_ATTRIBUTE),g=b.getAttribute(TAGS_ATTRIBUTE);if(f)return d=parse(f),c=adsDescriptions.get(d.pos)||d,e=g?parse(g):null,{ad:c,tags:e,container:b}}return null}function requestDelayedAdvert(a){var b=getAdTupleById(a),c=!1;if(b&&b.ad&&b.tags){var d=getServer(b.ad);d.requestDelayedAd&&(d.requestDelayedAd(b.ad,b.tags),c=!0),b.container.removeAttribute(TAGS_ATTRIBUTE)}return c}function addLoadListener(a){"function"==typeof a&&loadListeners.push(a)}function onAdLoaded(a){for(var b=0,c=loadListeners.length;c>b;b++)loadListeners[b](a)}var AD_ATTRIBUTE="data-adverts-ad",TAGS_ATTRIBUTE="data-adverts-tags",loadListeners=[],JSON=window.JSON,omit=function(a,b){var c={};if(b=b||[],"object"==typeof a)for(var d in a)a.hasOwnProperty(d)&&-1===b.indexOf(d)&&(c[d]=_.clone(a[d]));return c},stringify=function(a){return _json_stringify(omit(a,["slots"]))},_json_stringify=JSON&&"function"==typeof JSON.stringify?JSON.stringify:function(a){switch(typeof a){case"string":return'"'+a.replace(/("|\\)/g,"\\$1")+'"';case"boolean":case"number":return a.toString();case"object":if("[object Array]"===Object.prototype.toString.call(a))return"["+a.map(stringify).join(",")+"]";if(a)return"{"+Object.keys(a).map(function(b){return stringify(b)+":"+stringify(a[b])}).join(",")+"}";case"undefined":case"function":return"null"}},parse=JSON&&"function"==typeof JSON.parse?JSON.parse:function(value){return eval("data="+value)};return{requestAdvert:requestAdvert,refreshAdvert:refreshAdvert,refreshAdverts:refreshAdverts,requestDelayedAdvert:requestDelayedAdvert,addLoadListener:addLoadListener,onAdLoaded:onAdLoaded,stringify:stringify,parse:parse,AD_ATTRIBUTE:AD_ATTRIBUTE,TAGS_ATTRIBUTE:TAGS_ATTRIBUTE,reset:function(){loadListeners.length=0}}}(),function(){function a(a){function c(){if(!f){f=!0;try{b(a,d,e.body.innerHTML)}catch(c){console.error("Error moving native article: ",c)}}}var d=document.getElementById(a.parentId),e=AdIntegrator.getAdContainer(d),f=!1;e.body&&(miniDom.on(e.defaultView||e.parentWindow,"load",c),setTimeout(c,2e3))}function b(a,b,f){var g=document.createElement("div");g.innerHTML=f;var h=g.childNodes;if("none"!==b.style.display){b.style.display="none";for(var i,j=b,k=b.parentNode,l=a.pos.replace(/_dfp$/,""),m=h.length;m--;)i=h[m],1===i.nodeType&&"SCRIPT"!==i.nodeName&&(k.insertBefore(i,b),j=i);var n=j,o=j;switch(a.pos){case"native_puff_dfp":k.parentNode.insertBefore(j,k),k.style.display="none",j.className=a.parentId,n=j,o=j.getElementsByTagName("a")[0],n.setAttribute("data-track-module","ap-nativead_puff_article^nativead");break;case"native_related_dfp":var p="iphone"===PageCriteria.device||"androidMobile"===PageCriteria.device?"am-read_more_sponsored^read_more-mobile":"am-related_sponsored^related_carousel";o=j.getElementsByTagName("a")[0],n=j,n.setAttribute("data-track-module",p);break;case"native_fff_overlay_accessorise":k.style.display="none";case"native_fff_accessorise":miniDom.addClass(document.body,"fff-has-accessorise")}o&&n.hasAttribute("data-track-module")&&DM&&DM.externalLinkTracker&&(o.setAttribute("data-track-type","cl"),DM.externalLinkTracker(n.id,"cl")),e&&window.opener&&window.opener!==window&&window.opener.postMessage&&(miniDom.on(window,"message",c.bind(null,j,l)),d(window.opener,"isLoaded",!0,l))}}function c(a,b,c){if(c.data.slice(0,g)===f){var e,h="data-native-ad-field";try{e=adsRenderer.parse(c.data.slice(g))}catch(i){console.error("Invalid message",i)}if(e&&e.type){var j,k=[].slice.call(a.querySelectorAll("["+h+"]"));switch(e.type){case"getValues":j=k.map(function(a){return{name:a.getAttribute(h),value:a.textContent}});break;case"setValues":k.forEach(function(a){var b=a.getAttribute(h);b in e.values&&(a.textContent=e.values[b])})}j&&d(c.source,e.type,j,b,c.origin)}}}function d(a,b,c,d,e){var g={type:"response",query:b,position:d,value:c};a.postMessage(f+adsRenderer.stringify(g),e||"*")}var e=function(a){var b=a.match(/[&\?]enable_native=([^&]+)/),c=b&&b[1];if(c){var d=adListLoader,e=d.initSlots;d.initSlots=function(a){a[c]={enabled:!0,state:"on"},e.apply(d,arguments)}}var f=a.indexOf("#"),g=-1!==f?a.slice(f+1):"";return"cid="===g.slice(0,4)&&/\d+/.test(g.slice(4))&&adsTrackers.setNativeId(g.slice(4)),c}(window.location.href),f="\f	",g=f.length;adsRenderer.addLoadListener(function(b){if(!b.isEmpty){var c=b.slot,d=c&&c.molAd;"native_"===d.pos.slice(0,7)&&"_dfp"===d.pos.slice(-4)&&a(d)}}),adsRenderer.onNativeLoaded=b}(),adsRenderer.homepageRenderer=function(){function a(a,f,g){function i(a){return a===k}var j=g.swipe||c(b()),k=e(j);if(k){d(j);for(var l=[],m=miniDom.getElementsByClassName(document.documentElement,"adHolder"),n=m.length;n--;){var o=m[n];!miniDom.closest(o,i)&&miniDom.closest(o,h)||adsRenderer.requestDelayedAdvert(o.id)||l.push(o.id)}l.length&&adsRenderer.refreshAdverts(l,!0)}}function b(){return adsTrackers.AdsPlugin.prototype.getCookie("mol-home")}function c(a){return d(a),k=a,a}function d(a){a in o&&(window.adSubareaId=o[a]?"dontmiss":window.adAreaId||"home")}function e(a){return n.length||(n=Array.prototype.slice.call(miniDom.getElementsByClassName(document.documentElement,m))),n[o[a]]}function f(a){if(j()){if(!k)return!0;var b=e(k),c=document.getElementById(a.parentId);if(b&&c){var d=miniDom.closest(c,h);if(d&&d!==b)return!0}}return!1}function g(){return"channel"===PageCriteria.pageType&&-1!==l.indexOf(PageCriteria.channel)&&PageCriteria.subchannel===PageCriteria.channel}function h(a){return miniDom.hasClass(a,m)}function i(){var a=document.body;return a&&a.className?miniDom.hasClass(a,"mol-mobile"):!!MobileUtils.isMobile()}function j(){return g()&&i()&&(!k||"desktop"!==k)}var k=null,l=["home","ushome","auhome","mailonsunday"],m="hp-panel",n=[],o={news:0,showbiz:1};if(g()&&i()){var p=DM&&DM.pageEvents;c(b()),j()&&p&&p.listen(p.MOBILE_HOME_PAGE_VIEW,a)}return{isDelayedAd:f,isMobileHomepage:j,isHomepage:g,_setHomepageCookieValue:c,_onMobileHomePageView:a}}(),adsRenderer.delayedRender=function(){function a(){miniDom.on(window,"scroll",b),miniDom.on(document.body,"touchmove",b),b()}function b(){p||(p=setTimeout(c,200))}function c(){for(var a,b=window.pageYOffset+miniDom.getPageSize()[3],c=n.length;c--;)a=miniDom.getOffset(n[c].element).top,b>a&&(adsRenderer.requestDelayedAdvert(n[c].id),n.splice(c,1));p=n.length?0:-1}function d(a,b){if(-1!==b.indexOf(a.pos))return!0;var c,d,e,f,g,h,i=_.extend({},a,PageCriteria);for(c=b.length;c--;)if(d=b[c],"object"==typeof d){for(e=Object.keys(d),f=0,g=e.length;g--;)h=e[g],i[h]===d[h]&&f++;if(f===e.length)return!0}return!1}function e(a,b){var c=[],d=a.previousSibling;for("undefined"==typeof b&&(b=-1);d&&c.length!==b;)1===d.nodeType&&c.push(d),d=d.previousSibling;return c}function f(a){var b=null;if(d(a,l)){for(var c=b=document.getElementById(a.parentId),f=m.hasOwnProperty(a.pos)?m[a.pos]:q,g=[];b&&!g.length;)g=e(b,f),b=b.parentNode;b=g.pop()||c}return b}function g(a){function b(a){return miniDom.hasClass(a,"rotator")}function c(a){return"A"===a.nodeName&&a.hasAttribute("data-page")}function d(){var a=miniDom.getElementsByClassName(g,"active")[0];if(h=0,a){var b=Number(a.getElementsByTagName("a")[0].getAttribute("data-page"));if(b)for(var c,d=miniDom.getElementsByClassName(f,"rotator-panels")[0].getElementsByTagName("li")[b-1].childNodes,e=d.length;e--;)if(c=d[e],1===c.nodeType&&c.hasAttribute(adsRenderer.TAGS_ATTRIBUTE)){adsRenderer.requestDelayedAdvert(c.id);break}}}var e,f,g,h=0;"native_related"===a.pos.slice(0,14)&&(e=document.getElementById(a.parentId),e&&(f=miniDom.closest(e,b),f&&!_.contains(o,f)&&(g=miniDom.getElementsByClassName(f,"rotator-pages")[0],g&&(o.push(f),miniDom.on(g,"click",function(a){var b=a.target||a.srcElement;!h&&miniDom.closest(b,c)&&(h=setTimeout(d,50))})))))}function h(a){return adsRenderer.homepageRenderer.isDelayedAd(a)||d(a,k)||a.delayed}function i(b){var c=f(b);c?(n.push({element:c,id:b.parentId}),-1===p&&(p=0),1===n.length&&a()):adsRenderer.homepageRenderer.isMobileHomepage()||g(b)}function j(a,b){var c=document.getElementById(a.parentId);c&&(c.setAttribute(adsRenderer.TAGS_ATTRIBUTE,JSON.stringify(b)),i(a))}var k=["interstitial-0-ad","interstitial-1-ad","native_fff_overlay_accessorise","puff_ad_2","puff_ad_3","inread_player",{pos:"mpu_bottom",pageType:"article",geo:"GB"}],l=["puff_ad_2","puff_ad_3","inread_player",{pos:"mpu_bottom",pageType:"article",geo:"GB"}],m={inread_player:0},n=[],o=[],p=0,q=3;return{isDelayedAd:h,delayRequestAd:j}}();var adverts=function(){function a(){return _.filter(document.documentElement.childNodes,function(a){return 1===a.nodeType})[0]||document.body}function b(a){var b=document.scripts,c=a.id&&document.getElementById(a.id);if(!c){var d=b[b.length-1].parentNode,e=a.pos+"_"+(new Date).getTime();if(d===document.body){document.write('<div id="'+e+'"></div>');var f=document.getElementById(e);f?(c=f.parentNode,c.removeChild(f)):c=document.body}else c=d}return c}function c(){window.googletag||(window.googletag={cmd:[]})}var d=!1,e=!1,f={UK:1252,US:1332},g=[],h=[],i={},j=function(a){if(!d){var b=document.getElementById("js-sky-right"),c=document.getElementById("js-sky-left");if(!b&&!c)return;miniDom.getPageSize()[0]<f[a]?d=!0:(b&&(b.style.display="block"),c&&(c.style.display="block"))}return d},k=function(){var a,b="62032338";return function(){if("undefined"==typeof a&&(a=!1,window.inlineModules))for(var c=window.inlineModules.split(/\s+/),d=0;d<c.length;d++)if(c[d]===b){a=!0;break}return a}}();return AdsChecker.startChecking(),function(){var a=document.createElement("script");a.async=!0,a.type="text/javascript";var b="https:"==document.location.protocol;a.src=(b?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(a,c)}(),{getScriptContainer:a,setStickyBannerZoomThresholds:function(a,b){},requestSlotConfig:adListLoader.requestSlotConfig,initEmergencyRules:adListLoader.initEmergencyRules,initSlots:function(a){adListLoader.initSlots(a),c()},setSupportedSlots:adListLoader.setSupportedSlots,getRsiValues:adsTrackers.getRsiValues,addToArray:function(a){a.pos="interstitial"===a.pos?a.id:a.pos,a=adsDescriptions.get(a.pos)||adsDescriptions.overrideAdWithCljAdmConfiguration(a),"native_"===a.pos.slice(0,7)&&"native_fff_overlay_accessorise"!==a.pos&&"native_fff_accessorise"!==a.pos&&(a.pos=a.pos+"_dfp",a.type="2x2"),a.extraZoneOptions=a.extraZoneOptions||{},k()&&(a.extraZoneOptions.fff=!0);var c=b(a);return c.id||(c.id=a.id||a.pos+"_"+(new Date).getTime()),a.parentId=c.id,g.push(a),adsDescriptions.update(a.pos,a),adListLoader.isAdEnabled(a)?void(a.wide?j(DM.adsCC||"UK")||adsRenderer.requestAdvert(a):adsRenderer.requestAdvert(a)):void(i[a.pos]=a)},requestNoautoAdvert:function(a){if(i[a]){var b=document.getElementById(i[a].parentId);if(b){document.documentElement.classList.remove("molads_"+a+"_off"),document.documentElement.classList.add("molads_"+a+"_on"),b.style.display="block";var c=b.parentElement;c.style.display="block",adsRenderer.requestAdvert(i[a])}}},getArray:function(){return g},reg:function(a){h.push(a)},togglePushdown:function(a){var b=document.getElementById("pushdown");b&&(0!=arguments.length&&a==e||(e=0==arguments.length?!e:a,miniDom.animate(b,{height:e?250:40})))},init:function(){if(document.getElementById("content"))for(var a=0;a<h.length;a++){var b=document.getElementById(h[a]+"-ad"),c=document.getElementById(h[a]),d=c.getAttribute("style");b.className=c.className,d&&b.setAttribute("style",c.getAttribute("style"))}},show:function(a,b,c){a&&(c=c||a._origHeight,b?miniDom.animate(a,{height:parseInt(c,10)+"px"},.45,"ease-out"):a.style.height=parseInt(c,10)+"px",this.addClass("hdn"),a.removeClass("js-collapsed"))},requestGoogleAd:function(a,b){("sky"!=b||adListLoader.isAdEnabled({pos:"search_engine_sky"}))&&(!a||a&&!j(DM.adsCC||"UK"))&&adListLoader.loadScriptSync("//pagead2.googlesyndication.com/pagead/show_ads.js")},requestBingAd:function(a){("sky"!=a||adListLoader.isAdEnabled({pos:"search_engine_sky"}))&&adListLoader.loadScriptSync("//adsyndication.msn.com/delivery/getads.js")}}}();
//# sourceMappingURL=mol-adverts.js.map