(function(){var n=function(a,b){var c=a.style[b];a.currentStyle?c=a.currentStyle[b]:window.getComputedStyle&&(c=document.defaultView.getComputedStyle(a,null).getPropertyValue(b));if("auto"==c&&"cursor"==b)for(var d=["a"],e=0;e<d.length;e++)if(a.tagName.toLowerCase()==d[e])return"pointer";return c},t=function(a){if(e.prototype._singleton){a||(a=window.event);var b;this!==window?b=this:a.target?b=a.target:a.srcElement&&(b=a.srcElement);e.prototype._singleton.setCurrent(b)}},k=function(a,b){if(a.addClass)return a.addClass(b),
a;if(b&&"string"===typeof b){var c=(b||"").split(/\s+/);if(1===a.nodeType)if(a.className){for(var d=" "+a.className+" ",e=a.className,f=0,l=c.length;f<l;f++)0>d.indexOf(" "+c[f]+" ")&&(e+=" "+c[f]);a.className=e.replace(/^\s+|\s+$/g,"")}else a.className=b}return a},f=function(a,b){if(a.removeClass)return a.removeClass(b),a;if(b&&"string"===typeof b||void 0===b){var c=(b||"").split(/\s+/);if(1===a.nodeType&&a.className)if(b){for(var d=(" "+a.className+" ").replace(/[\n\t]/g," "),e=0,f=c.length;e<f;e++)d=
d.replace(" "+c[e]+" "," ");a.className=d.replace(/^\s+|\s+$/g,"")}else a.className=""}return a},r=function(a){return(0<=a.indexOf("?")?"&":"?")+"nocache="+(new Date).getTime()},u=function(a){var b=[];a.trustedDomains&&("string"===typeof a.trustedDomains?b.push("trustedDomain="+a.trustedDomains):b.push("trustedDomain="+a.trustedDomains.join(",")));return b.join("&")},x=function(a,b){if(b.indexOf)return b.indexOf(a);for(var c=0,d=b.length;c<d;c++)if(b[c]===a)return c;return-1},v=function(a){if("string"===
typeof a)throw new TypeError("ZeroClipboard doesn't accept query strings.");return a.length?a:[a]},e=function(a,b){a&&(e.prototype._singleton||this).glue(a);if(e.prototype._singleton)return e.prototype._singleton;e.prototype._singleton=this;this.options={};for(var c in q)this.options[c]=q[c];for(var d in b)this.options[d]=b[d];this.handlers={};if(e.detectFlashSupport()){c=e.prototype._singleton;d=document.getElementById("global-zeroclipboard-html-bridge");if(!d){var f='      <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="global-zeroclipboard-flash-bridge" width="100%" height="100%">         <param name="movie" value="'+
c.options.moviePath+r(c.options.moviePath)+'"/>         <param name="allowScriptAccess" value="'+c.options.allowScriptAccess+'"/>         <param name="scale" value="exactfit"/>         <param name="loop" value="false"/>         <param name="menu" value="false"/>         <param name="quality" value="best" />         <param name="bgcolor" value="#ffffff"/>         <param name="wmode" value="transparent"/>         <param name="flashvars" value="'+u(c.options)+'"/>         <embed src="'+c.options.moviePath+
r(c.options.moviePath)+'"           loop="false" menu="false"           quality="best" bgcolor="#ffffff"           width="100%" height="100%"           name="global-zeroclipboard-flash-bridge"           allowScriptAccess="always"           allowFullScreen="false"           type="application/x-shockwave-flash"           wmode="transparent"           pluginspage="http://www.macromedia.com/go/getflashplayer"           flashvars="'+u(c.options)+'"           scale="exactfit">         </embed>       </object>';
d=document.createElement("div");d.id="global-zeroclipboard-html-bridge";d.setAttribute("class","global-zeroclipboard-container");d.setAttribute("data-clipboard-ready",!1);d.style.position="absolute";d.style.left="-9999px";d.style.top="-9999px";d.style.width="15px";d.style.height="15px";d.style.zIndex="9999";d.innerHTML=f;document.body.appendChild(d)}c.htmlBridge=d;c.flashBridge=document["global-zeroclipboard-flash-bridge"]||d.children[0].lastElementChild}},m,h=[];e.prototype.setCurrent=function(a){m=
a;this.reposition();a.getAttribute("title")&&this.setTitle(a.getAttribute("title"));this.setHandCursor("pointer"==n(a,"cursor"))};e.prototype.setText=function(a){a&&""!==a&&(this.options.text=a,this.ready()&&this.flashBridge.setText(a))};e.prototype.setTitle=function(a){a&&""!==a&&this.htmlBridge.setAttribute("title",a)};e.prototype.setSize=function(a,b){this.ready()&&this.flashBridge.setSize(a,b)};e.prototype.setHandCursor=function(a){this.ready()&&this.flashBridge.setHandCursor(a)};e.version="1.1.7";
var q={moviePath:"ZeroClipboard.swf",trustedDomains:null,text:null,hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",allowScriptAccess:"sameDomain"};e.setDefaults=function(a){for(var b in a)q[b]=a[b]};e.destroy=function(){e.prototype._singleton.unglue(h);var a=e.prototype._singleton.htmlBridge;a.parentNode.removeChild(a);delete e.prototype._singleton};e.detectFlashSupport=function(){var a=!1;try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(a=!0)}catch(b){navigator.mimeTypes["application/x-shockwave-flash"]&&
(a=!0)}return a};e.prototype.resetBridge=function(){this.htmlBridge.style.left="-9999px";this.htmlBridge.style.top="-9999px";this.htmlBridge.removeAttribute("title");this.htmlBridge.removeAttribute("data-clipboard-text");f(m,this.options.activeClass);m=null;this.options.text=null};e.prototype.ready=function(){var a=this.htmlBridge.getAttribute("data-clipboard-ready");return"true"===a||!0===a};e.prototype.reposition=function(){if(!m)return!1;var a=m,b=0,c=0,d=a.width||a.offsetWidth||0,e=a.height||
a.offsetHeight||0,f=9999,l=n(a,"zIndex");for(l&&"auto"!=l&&(f=parseInt(l,10));a;)var l=parseInt(n(a,"borderLeftWidth"),10),k=parseInt(n(a,"borderTopWidth"),10),b=b+(isNaN(a.offsetLeft)?0:a.offsetLeft),b=b+(isNaN(l)?0:l),c=c+(isNaN(a.offsetTop)?0:a.offsetTop),c=c+(isNaN(k)?0:k),a=a.offsetParent;this.htmlBridge.style.top=c+"px";this.htmlBridge.style.left=b+"px";this.htmlBridge.style.width=d+"px";this.htmlBridge.style.height=e+"px";this.htmlBridge.style.zIndex=f+1;this.setSize(d,e)};e.dispatch=function(a,
b){e.prototype._singleton.receiveEvent(a,b)};e.prototype.on=function(a,b){for(var c=a.toString().split(/\s/g),d=0;d<c.length;d++)a=c[d].toLowerCase().replace(/^on/,""),this.handlers[a]||(this.handlers[a]=b);this.handlers.noflash&&!e.detectFlashSupport()&&this.receiveEvent("onNoFlash",null)};e.prototype.addEventListener=e.prototype.on;e.prototype.off=function(a,b){for(var c=a.toString().split(/\s/g),d=0;d<c.length;d++){a=c[d].toLowerCase().replace(/^on/,"");for(var e in this.handlers)e===a&&this.handlers[e]===
b&&delete this.handlers[e]}};e.prototype.removeEventListener=e.prototype.off;e.prototype.receiveEvent=function(a,b){a=a.toString().toLowerCase().replace(/^on/,"");var c=m;switch(a){case "load":if(b&&10>parseFloat(b.flashVersion.replace(",",".").replace(/[^0-9\.]/gi,""))){this.receiveEvent("onWrongFlash",{flashVersion:b.flashVersion});return}this.htmlBridge.setAttribute("data-clipboard-ready",!0);break;case "mouseover":k(c,this.options.hoverClass);break;case "mouseout":f(c,this.options.hoverClass);
this.resetBridge();break;case "mousedown":k(c,this.options.activeClass);break;case "mouseup":f(c,this.options.activeClass);break;case "datarequested":var d=c.getAttribute("data-clipboard-target");(d=(d=d?document.getElementById(d):null)?d.value||d.textContent||d.innerText:c.getAttribute("data-clipboard-text"))&&this.setText(d);break;case "complete":this.options.text=null}this.handlers[a]&&(d=this.handlers[a],"function"==typeof d?d.call(c,this,b):"string"==typeof d&&window[d].call(c,this,b))};e.prototype.glue=
function(a){a=v(a);for(var b=0;b<a.length;b++)if(-1==x(a[b],h)){h.push(a[b]);var c=a[b],d=t;c.addEventListener?c.addEventListener("mouseover",d,!1):c.attachEvent&&c.attachEvent("onmouseover",d)}};e.prototype.unglue=function(a){a=v(a);for(var b=0;b<a.length;b++){var c=a[b],d=t;c.removeEventListener?c.removeEventListener("mouseover",d,!1):c.detachEvent&&c.detachEvent("onmouseover",d);c=x(a[b],h);-1!=c&&h.splice(c,1)}};"undefined"!==typeof module?module.exports=e:"function"===typeof define&&define.amd?
define(function(){return e}):window.ZeroClipboard=e})();
(function(){function n(g){g=g||c;var a=g.createElement("meta");a.setAttribute("http-equiv","content-type");a.setAttribute("content","text/html; charset=utf-8");var d=g.createElement("style");d.setAttribute("id","styles");d.setAttribute("type","text/css");(g=g.getElementsByTagName("head")[0])&&g.appendChild&&(g.appendChild(a),g.appendChild(d))}function t(g){return 67===g.keyCode&&(void 0===g.metaKey?g.ctrlKey:g.metaKey)?!0:!1}function k(g){g=g||d.event;g.preventDefault?g.preventDefault():g.returnValue=
!1;return g}function f(g,a,c){return g.attachEvent?g.attachEvent("on"+a,c):g.addEventListener(a,c,!1)}function r(g,a,c){return g.detachEvent?g.detachEvent("on"+a,c):g.removeEventListener(a,c,!1)}function u(g,a,b){a=a||c;b=b||d;b=b.getSelection&&b.getSelection();a=a.createRange&&a.createRange()||a.body.createTextRange&&a.body.createTextRange();if(a.moveToElementText&&a.select)return a.moveToElementText(g),a.select();if(a.selectNodeContents&&b.removeAllRanges&&b.addRange)return a.selectNodeContents(g),
b.removeAllRanges(),b.addRange(a);if(b.getBaseAndExtent)return b.setBaseAndExtent(g,0,g,1)}function x(){for(var g=p.getElementsByTagName("link"),a,c,b=0,d=g.length;b<d&&(a=g[b],"canonical"!==a.getAttribute("rel")||!(c=a.getAttribute("href")));b++);return c}function v(g){for(var a;a=g.firstChild;)g.removeChild(a)}function e(a,c){var b=document.createElement("script");b.setAttribute("src",a);c&&b.setAttribute("id",c);b.setAttribute("type","text/javascript");document.body.appendChild(b)}function m(a,
b){b=b||c;var d=b.getElementById("styles").sheet;d||(d=b.styleSheets[c.styleSheets.length-1]);var e,y;for(y in a){e=y.split(",");for(var f=0,w=e.length;f<w;f++)d.insertRule?d.insertRule(e[f]+" {"+a[y]+"}",d.cssRules.length):d.addRule&&d.addRule(e[f],a[y],-1)}}function h(a,b){b=b||c;for(var d=p.getElementsByTagName("style"),e,f,s=0,w=d.length;s<w;s++)if(f=d[s],f.className==="for_"+a){e=f;break}if(e){d=b||c;e=e.sheet||e.styleSheet;e=e.rules||e.cssRules;f={};for(var k=0,l=e.length;k<l;k++)s=e[k].selectorText,
(w=e[k].cssText||e[k].style&&e[k].style.cssText)&&s&&(f[s]=w.replace(/[^\{]+\{/,"").replace(/\}/,""));m(f,d)}}function q(){return d.mozAnimationStartTime||d.performance&&d.performance.now&&performance.now()||+new Date}function a(a,b){function c(b){b=b||q();n+=b-p;var B=n/k;h.style[e]=Math.floor(f*B*m)+"px";h.style.opacity=1-B;p=b;if(1>B)l(c);else if(d.removeChild(h),h=null,"function"===typeof a.onAnimationComplete)a.onAnimationComplete()}var d=a.container,e=a.prop||"top",f=a.dir||"-1",k=700,m=10,
h=a.el.cloneNode(!0),p=q(),n=0;h.cssText=h.style.cssText="position:absolute;opacity:1;";h.setAttribute("id","link-clone");d.appendChild(h);if("function"===typeof a.onAnimationStart)a.onAnimationStart();l(c)}function b(a,b){for(var c=["-webkit-","-ms-","-moz-","-o-",""],d="",e=0,f=c.length;e<f;e++)d+=c[e]+a+":"+b+";";return d}var c=document,d=window,p=top.document,z=c.body;n();var l=function(){return function(){return d.requestAnimationFrame||d.webkitRequestAnimationFrame||d.mozRequestAnimationFrame||
d.oRequestAnimationFrame||d.msRequestAnimationFrame||function(a){setTimeout(function(){a(q())},1E3/60)}}()}(),A=function(a){this.init(a||{})};A.prototype={constructor:A.prototype.constructor,init:function(a){this.opt=a||{};this.setData().setState().setDims().initObj().checkForStyles().createEls().buildOutEls().bindEvents();if(this.data.short_url)this.setLink(this.data.short_url);else{this.setInactive();var b=this;this.supportsTouch()?f(c.body,this.touch_event,function(){b.unbindAndFetchLink()}):f(c.body,
"mouseover",function(){b.unbindAndFetchLink()})}this.setupBox();this.state.default_styles&&this.setDefaultCss();this.setIframeDims();ZeroClipboard.detectFlashSupport()&&!this.supportsTouch()&&this.setupZClip(this.els.copy)},asset_domain:"//platform.bitly.com",touch_event:"touchstart",checkForStyles:function(){h.call(this,"bitly_copy_script");return this},formatDimensions:function(){return{button:{height:24,copy_width:56,border_width:0,text_adjustment:"text-indent:-9999px;",copy_background:"background: transparent url("+
this.asset_domain+"/static/img/copy-button.png) no-repeat scroll 0 0",copy_hover:"background-image: url("+this.asset_domain+"/static/img/copy-button-hover.png)",copy_success:'opacity:.3;filter:alpha(opacity=30);-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=30)";',total_width:56,button_display:"block"},textbox:{height:28,copy_width:50,border_width:1,text_adjustment:"text-align:center;",copy_background:"background: #f7f7f7;",copy_hover:"",total_width:238,button_display:"inline-block"}}},
shortenURL:function(){return"https://api-ssl.bitly.com/v3/platform/copybuttonshorten?longUrl="+encodeURIComponent(this.data.href)+"&callback=onShorten"},supportsTouch:function(){return!!("on"+this.touch_event in window)||!!("on"+this.touch_event in document.body)},setData:function(){this.data={href:this.opt.href||"",short_url:this.opt.short_url||"",short_domain:"string"===typeof this.opt.short_domain?this.opt.short_domain.replace(/https?\:\/\//ig,""):"bit.ly",protocol:this.opt.https?"https://":"http://",
wo_domain:""};return this},setState:function(){this.state={fetched:!1,copied:!1,format:"string"===typeof this.opt.format&&"button"===this.opt.format.toLowerCase()?"button":"textbox",default_styles:!!this.opt.default_styles};this.state.show_link="textbox"===this.state.format;var a=this.formatDimensions();this.state.format_dimensions=a[this.state.format];return this},setDims:function(){var a=this.state.format_dimensions;this.dims={height:a.height,border_width:a.border_width,container_height:a.height+
2*a.border_width,copy_width:a.copy_width,text_adjustment:a.text_adjustment,link_color:"#878787",copy_color:"#ed6123",border_color:"#ebeae5",copy_background:a.copy_background,copy_hover:a.copy_hover,copy_success:a.copy_success,total_width:a.total_width,button_display:a.button_display};return this},initObj:function(){this.obj={zclip:null,capsule:null};return this},createEls:function(){z.setAttribute("id","bitly_copy");this.els={box:c.createElement("div"),copy:c.createElement("a"),iframe:p.getElementById("bitly_copy_button"),
script:p.getElementById("bitly_copy_script")};this.state.show_link&&(this.els.protocol_el=c.createElement("span"),this.els.link=c.createElement("a"));return this},buildOutEls:function(){this.state.show_link&&(this.els.protocol_el.appendChild(c.createTextNode(this.data.protocol)),this.els.link.appendChild(this.els.protocol_el),this.els.link.appendChild(document.createTextNode(this.data.short_domain+"/...")),this.els.link.setAttribute("id","link"),this.els.link.setAttribute("href",this.data.href),this.els.link.className=
"link");this.els.copy.appendChild(c.createTextNode("COPY"));this.els.copy.setAttribute("href",this.data.href);this.els.copy.setAttribute("id","copy");this.setCopyButtonClassName();return this},setCopyButtonClassName:function(a){var b="copy-btn";"string"===typeof a&&a&&(b+=" "+a);this.els.copy.className=b;return this},setBoxClassName:function(a){var b=this.state.format;"string"===typeof a&&a&&(b+=" "+a);this.els.box.className=b;return this},bindEvents:function(){var a=this;f(this.els.copy,"click",
function(b){k(b);a.state.active&&a.state.show_link&&a.focusAndSelect()});this.state.show_link?(f(this.els.link,"click",function(b){k(b);a.focusAndSelect()}),f(this.els.link,"keydown",function(b){b=b||d.event;t(b)&&a.doCopyAnimation()}),this.needsHint()&&(f(this.els.link,"focus",function(b){a.setBoxClassName("focused")}),f(this.els.link,"blur",function(b){a.setBoxClassName()}))):f(this.els.copy,"click",function(b){k(b);a.buildSecondaryCapsule()});return this},focusAndSelect:function(){this.els.link.focus();
u(this.els.link);this.els.link!=document.activeElement&&this.els.link.focus();return this},needsHint:function(){return this.state.show_link&&!this.supportsTouch()},setupBox:function(){this.els.box.setAttribute("id","box");this.setBoxClassName();this.state.show_link&&this.els.box.appendChild(this.els.link);this.els.box.appendChild(this.els.copy);if(this.needsHint()){var a=c.createElement("span"),b=-1<navigator.platform.indexOf("Mac");a.className="hint";a.appendChild(c.createTextNode(b?"\u2318-c":"ctrl-c"));
this.els.box.appendChild(a)}this.els.box.style.position="relative";c.body.appendChild(this.els.box);return this},setLink:function(a){this.data.short_url=a;this.data.protocol=a.split("/").slice(0,2).join("/")+"/";this.data.wo_domain=a.replace(/https?\:\/\//ig,"");this.state.show_link&&(v(this.els.protocol_el),v(this.els.link),this.els.protocol_el.appendChild(c.createTextNode(this.data.protocol)),this.els.link.appendChild(this.els.protocol_el),this.els.link.appendChild(c.createTextNode(this.data.wo_domain)),
this.els.link.setAttribute("href",this.data.short_url));this.els.copy.setAttribute("href",this.data.short_url);this.setActive();this.obj.zclip&&this.obj.zclip.setText(a);this.supportsTouch()&&!this.state.show_link&&this.buildSecondaryCapsule();return this},trackCopy:function(a){e(this.asset_domain+"/copyping?short_url="+encodeURIComponent(this.data.short_url)+"&url="+encodeURIComponent(this.data.href));console&&console.log&&console.log("track copy",!!a)},buildSecondaryCapsule:function(){if(this.data.short_url){if(this.obj.capsule)return this.tearDownSecondaryCapsule();
this.obj.capsule=new C(this);return this}},tearDownSecondaryCapsule:function(){this.obj.capsule.selfDestruct();this.obj.capsule=null;this.obj.zclip=null;ZeroClipboard.prototype._singleton=null;return this},setInactive:function(){z.className="inactive";this.state.active=!1},setActive:function(){z.className="";this.state.active=!0},setIframeDims:function(){this.els.iframe.cssText=this.els.iframe.style.cssText="height:"+this.dims.container_height+"px;margin:0;padding:0;width:"+this.dims.total_width+
"px;overflow:hidden;visibility:visible;";return this},setDefaultCss:function(){var a={"*":"margin:0;padding:0;","html,body":"height:"+this.dims.container_height+"px;overflow:hidden;",a:"font-family: Helvetica, Arial, Verdana, sans-serif;color:"+this.dims.link_color+";display:inline-block;vertical-align:top;text-decoration:none;font-size:14px;","#box":"z-index:1;margin-top:0px;display:inline-block;height:"+this.dims.height+"px;line-height:"+(this.dims.height+1)+"px;border:"+this.dims.border_width+
"px solid "+this.dims.border_color+";",".link":"color:"+this.dims.link_color+";width:135px;height:"+this.dims.height+"px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:0 5px 0 27px; background:transparent url("+this.asset_domain+"/static/img/link-icon.png) no-repeat 5px center;",".copy-btn":"color:"+this.dims.copy_color+";font-weight:bold;display:"+this.dims.button_display+";width:"+this.dims.copy_width+"px;height:"+this.dims.height+"px;border-left:"+this.dims.border_width+"px solid "+
this.dims.border_color+";z-index:1;"+b("transition","opacity 500ms linear")+this.dims.text_adjustment+(this.dims.copy_background?this.dims.copy_background+";":""),span:"position:absolute;height:1px;width:1px;text-indent:-999px;","embed,object,.zclip-container":"position:absolute;top:0;right:0;height:"+this.dims.height+"px;width:"+this.dims.copy_width+"px;z-index:100;",".inactive .zclip-container":"display:none !important;","#link-clone":"top:0;left:0;","span.hint":"position:absolute;top:0px;left:0px;height:100%; width:27px;display:none; color:#aaa;font-size:10px;z-index:2;text-indent:0;text-align:center;",
".focused span.hint":"display:block;",".focused .link":"background-image:none;"};this.dims.copy_hover&&(a["body:hover .copy-btn"]=this.dims.copy_hover+";");this.dims.copy_success&&(a[".copy-btn.copied"]=this.dims.copy_success+";");m(a);return this},doCopyAnimation:function(b){var c=this,d,e,f="top",k="-1";this.state.show_link?(d=this.els.link,e=this.els.box):this.obj.capsule?(d=this.obj.capsule.els.link,e=this.obj.capsule.els.container,f="bottom",k=1):(d=this.els.copy,e=this.els.box);d={el:d,container:e,
prop:f,dir:k};this.obj.capsule&&(d.onAnimationComplete=function(){c.tearDownSecondaryCapsule()});this.state.show_link||(d.onAnimationStart=function(){c.setCopiedState()});a(d,!!b);this.state.copied||(this.trackCopy(!!b),this.state.copied=!0);return this},unbindAndFetchLink:function(){if(!this.state.fetched)return this.fetchLink(),this.unbindHover(),this},unbindHover:function(){var a=this;this.supportsTouch()?(r(c.body,this.touch_event,function(){a.unbindAndFetchLink()}),this.state.show_link||f(c.body,
this.touch_event,function(b){k(b);a.buildSecondaryCapsule()})):r(c.body,"mouseover",function(){a.unbindAndFetchLink()});return this},fetchLink:function(){this.state.fetched=!0;var a=this.shortenURL(),b=this;window.onShorten=function(a){b.onShorten(a)};e(a,"fetch_link_script");return this},onShorten:function(a){window.onShorten=null;this.processResponse(a);return this},processResponse:function(a){a.data&&a.data.url&&this.setLink(a.data.url);return this},setCopiedState:function(){if(this.show_link)return this;
this.setCopyButtonClassName("copied");var a=this;this.state.copied_state_timer=setTimeout(function(){a.clearCopiedState()},2E3);return this},clearCopiedState:function(){clearTimeout(this.state.copied_state_timer);this.setCopyButtonClassName();return this},setupZClip:function(a){var b=this;zclip=new ZeroClipboard(a,{moviePath:this.asset_domain+"/static/flash/ZeroClipboard.swf",trustedDomains:location.hostname,allowScriptAccess:"always"});zclip.setText(a.getAttribute("href"));zclip.on("complete",function(a,
d){b.doCopyAnimation(!0);b.els.copy.focus();b.els.copy.blur()});zclip.on("mouseover",function(a,d){b.data.short_url&&zclip.setText(b.data.short_url)});zclip.setCurrent(a);this.obj.zclip=zclip}};var C=function(a){this.init(a)};C.prototype={constructor:C.prototype.constructor,init:function(a){this.parent=a;this.els={};this.setupZClipFunction().buildIFrame();this.parent.state.default_styles&&this.setCss();this.generateContent().checkForStyles().appendEl();this.setupZClip()},checkForStyles:function(){h.call(this,
"bitly_copy_script_secondary",this.els.sdoc);return this},focusAndSelect:function(){this.els.link.focus();u(this.els.link,this.els.sdoc,this.el.contentWindow);!this.els.link===this.els.sdoc.activeElement&&this.els.link.focus()},setupZClip:function(){this.el.style.display="block";ZeroClipboard.detectFlashSupport()?(this.el.contentWindow.setupZClip(this.els.container),this.els.sdoc.body.appendChild(this.parent.obj.zclip.htmlBridge)):this.focusAndSelect()},setupZClipFunction:function(){var a=this;d.setupZClip=
function(b){a.parent.setupZClip(b)};return this},buildIFrame:function(){var a=p.getElementById("bitly_copy_capsule");this.el_in_doc=!!a;this.el_in_doc||(a=p.createElement("iframe"),a.setAttribute("id","bitly_copy_capsule"),a.setAttribute("frameBorder","0"),a.setAttribute("allowTransparency","true"),p.body.insertBefore(a,this.parent.els.script));a.cssText=a.style.cssText="display: block; z-index:99999;position:absolute;height: 66px;width:134px;margin-top:-5px;margin-left:-5px;";var b=a.contentDocument||
a.contentWindow.document;b.open().write('<!doctype html><html><head></head><body id="bitly_copy_secondary"><script type="text/javascript">var zclip; var setupZClip = top.document.getElementById("bitly_copy_button").contentWindow.setupZClip;var ZeroClipboard = top.document.getElementById("bitly_copy_button").contentWindow.ZeroClipboard;\x3c/script></body></html>');b.close();n(b);this.el=a;this.els.sdoc=b;return this},setCss:function(){var a={"*":"margin:0;padding:0","#capsule_link":"position: relative;font-size:12px;margin-top: 5px; margin-left: 5px; width: 114px; display: block; text-decoration: none; padding:5px; background-color: #faf9f4; border:1px solid #ebeae5;position:relative;font-family: Helvetica, Arial, Verdana, sans-serif;"+
b("border-radius","3px")+b("box-shadow","0 0 3px rgba(0,0,0,0.3)"),strong:"color:#ed6123;display:block; margin-bottom: 2px;height: 14px;line-height:14px;","a.link_text":"color:#000; border: 1px solid #ebeae5; width: 100px; padding: 0 5px; height: 20px; line-height: 20px; display:block; background-color: #FFF;text-decoration:none; overflow:hidden; text-overflow:ellipsis","a.link_text span":"position:absolute;display:block;height:1px;width:1px;overflow:hidden;left:-100px;","#link-clone":"bottom:0;left:5px;margin-bottom: 5px;",
"span.hint":"position:absolute;top:5px;right:5px;display:none; color:#aaa;",".focused span.hint":"display:inline-block;"};m(a,this.el.contentDocument||this.el.contentWindow.document);return this},generateContent:function(){var a=this,b=-1<navigator.platform.indexOf("Mac"),c=this.els.sdoc.createElement("a");c.setAttribute("id","capsule_link");c.setAttribute("href",this.parent.data.short_url);var e=this.els.sdoc.createElement("strong");e.appendChild(this.els.sdoc.createTextNode("LINK"));var h=this.els.sdoc.createElement("a");
h.className="link_text";h.setAttribute("href",this.parent.data.short_url);var l=this.els.sdoc.createElement("span");l.appendChild(this.els.sdoc.createTextNode(this.parent.data.protocol));h.appendChild(l);h.appendChild(this.els.sdoc.createTextNode(this.parent.data.wo_domain));c.appendChild(e);c.appendChild(h);this.parent.supportsTouch()||(e=this.els.sdoc.createElement("span"),e.className="hint",e.appendChild(this.els.sdoc.createTextNode(b?"\u2318-c":"ctrl-c")),c.appendChild(e),f(h,"focus",function(a){c.className=
"focused"}),f(h,"blur",function(a){c.className=""}));f(h,"keydown",function(b){b=b||d.event;t(b)&&a.parent.doCopyAnimation()});f(c,"click",function(b){k(b);a.focusAndSelect()});this.els.container=c;this.els.link=h;return this},appendEl:function(){this.els.sdoc.body.appendChild(this.els.container);return this},selfDestruct:function(){if(this.el_in_doc)this.el.style.display="none";else{r(this.els.container,"click",k);var a=this.el;a.parentNode.removeChild(a)}this.parent.obj.capsule=null;return this},
clearHideTimer:function(){this.clear_timer&&clearTimeout(this.clear_timer);return this},startHideTimer:function(){var a=this;this.clear_timer=setTimeout(function(){a.selfDestruct()},50);return this}};d.ZeroClipboard=ZeroClipboard;d.doCopyAnimation=function(b,c){a(b,c)};var D={href:_long_url||x()||top.location.href,short_url:_short_url,short_domain:_short_domain?_short_domain.replace(/https?\:\/\//ig,""):"bit.ly",protocol:"http://",format:_format||"",wo_domain:"",default_styles:!0};new A(D)})();