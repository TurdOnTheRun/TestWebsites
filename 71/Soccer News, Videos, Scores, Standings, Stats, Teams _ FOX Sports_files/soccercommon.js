define(["jquery","backbone","handlebars","underscore","Event","moment","foxbox"],function(a,b,c,d,e,f,g){"use strict";function h(){this.soccerCommon=this.soccerCommon||{},this.soccerCommon.bracketFinalGame=c.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='<a href="',(e=c.Href)?d=e.call(a,{hash:{},data:b}):(e=a&&a.Href,d=typeof e===q?e.call(a,{hash:{},data:b}):e),f+=r(d)+'" class="wisfb_champGame ',(e=c.CssClass)?d=e.call(a,{hash:{},data:b}):(e=a&&a.CssClass,d=typeof e===q?e.call(a,{hash:{},data:b}):e),f+=r(d)+'">'}function g(a,b){var d,e,f="";return f+='<div class="wisfb_champGame ',(e=c.CssClass)?d=e.call(a,{hash:{},data:b}):(e=a&&a.CssClass,d=typeof e===q?e.call(a,{hash:{},data:b}):e),f+=r(d)+'">'}function h(a,b){var d,e,f="";return f+=" (",(e=c.TV)?d=e.call(a,{hash:{},data:b}):(e=a&&a.TV,d=typeof e===q?e.call(a,{hash:{},data:b}):e),f+=r(d)+")"}function i(a,b){var d,e,f="";return f+='\r\n	<img class="wisfb_leftLogo" src="',(e=c.Logo)?d=e.call(a,{hash:{},data:b}):(e=a&&a.Logo,d=typeof e===q?e.call(a,{hash:{},data:b}):e),f+=r(d)+'" onerror="this.style.display=\'none\'" />\r\n	<div class="wisfb_leftTeam',d=c["if"].call(a,a&&a.IsWinner,{hash:{},inverse:s.noop,fn:s.program(8,j,b),data:b}),(d||0===d)&&(f+=d),f+='">\r\n		<div class="wisfb_seed">',(e=c.Seed)?d=e.call(a,{hash:{},data:b}):(e=a&&a.Seed,d=typeof e===q?e.call(a,{hash:{},data:b}):e),f+=r(d)+'</div>\r\n		<div class="wisfb_abbrev" title="',(e=c.Name)?d=e.call(a,{hash:{},data:b}):(e=a&&a.Name,d=typeof e===q?e.call(a,{hash:{},data:b}):e),f+=r(d)+'">',(e=c.Abbreviation)?d=e.call(a,{hash:{},data:b}):(e=a&&a.Abbreviation,d=typeof e===q?e.call(a,{hash:{},data:b}):e),f+=r(d)+'</div>\r\n		<div class="wisfb_name" title="',(e=c.Name)?d=e.call(a,{hash:{},data:b}):(e=a&&a.Name,d=typeof e===q?e.call(a,{hash:{},data:b}):e),f+=r(d)+'">',(e=c.Name)?d=e.call(a,{hash:{},data:b}):(e=a&&a.Name,d=typeof e===q?e.call(a,{hash:{},data:b}):e),f+=r(d)+'</div>\r\n	</div>\r\n	<div class="wisfb_score">\r\n		<div class="wisfb_leftScore">',(e=c.Score)?d=e.call(a,{hash:{},data:b}):(e=a&&a.Score,d=typeof e===q?e.call(a,{hash:{},data:b}):e),f+=r(d)+"</div>\r\n	"}function j(a,b){return" wisfb_winningTeam"}function k(a,b){var d,e,f="";return f+='\r\n		<div class="wisfb_rightScore">',(e=c.Score)?d=e.call(a,{hash:{},data:b}):(e=a&&a.Score,d=typeof e===q?e.call(a,{hash:{},data:b}):e),f+=r(d)+'</div>\r\n	</div>\r\n	<img class="wisfb_rightLogo" src="',(e=c.Logo)?d=e.call(a,{hash:{},data:b}):(e=a&&a.Logo,d=typeof e===q?e.call(a,{hash:{},data:b}):e),f+=r(d)+'" onerror="this.style.display=\'none\'" />\r\n	<div class="wisfb_rightTeam',d=c["if"].call(a,a&&a.IsWinner,{hash:{},inverse:s.noop,fn:s.program(8,j,b),data:b}),(d||0===d)&&(f+=d),f+='">\r\n		<div class="wisfb_seed">',(e=c.Seed)?d=e.call(a,{hash:{},data:b}):(e=a&&a.Seed,d=typeof e===q?e.call(a,{hash:{},data:b}):e),f+=r(d)+'</div>\r\n		<div class="wisfb_abbrev" title="',(e=c.Name)?d=e.call(a,{hash:{},data:b}):(e=a&&a.Name,d=typeof e===q?e.call(a,{hash:{},data:b}):e),f+=r(d)+'">',(e=c.Abbreviation)?d=e.call(a,{hash:{},data:b}):(e=a&&a.Abbreviation,d=typeof e===q?e.call(a,{hash:{},data:b}):e),f+=r(d)+'</div>\r\n		<div class="wisfb_name" title="',(e=c.Name)?d=e.call(a,{hash:{},data:b}):(e=a&&a.Name,d=typeof e===q?e.call(a,{hash:{},data:b}):e),f+=r(d)+'">',(e=c.Name)?d=e.call(a,{hash:{},data:b}):(e=a&&a.Name,d=typeof e===q?e.call(a,{hash:{},data:b}):e),f+=r(d)+"</div>\r\n	</div>\r\n	"}function l(a,b){return"</a>"}function m(a,b){return"</div>"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var n,o,p="",q="function",r=this.escapeExpression,s=this;return n=c["if"].call(b,b&&b.Href,{hash:{},inverse:s.program(3,g,e),fn:s.program(1,f,e),data:e}),(n||0===n)&&(p+=n),p+='\r\n	<header>\r\n		<div class="wisfb_title">',(o=c.FinalsTitle)?n=o.call(b,{hash:{},data:e}):(o=b&&b.FinalsTitle,n=typeof o===q?o.call(b,{hash:{},data:e}):o),p+=r(n)+'</div>\r\n		<div class="wisfb_gameTime">',(o=c.ShortDateText)?n=o.call(b,{hash:{},data:e}):(o=b&&b.ShortDateText,n=typeof o===q?o.call(b,{hash:{},data:e}):o),p+=r(n)+" ",(o=c.TimeText)?n=o.call(b,{hash:{},data:e}):(o=b&&b.TimeText,n=typeof o===q?o.call(b,{hash:{},data:e}):o),p+=r(n),n=c["if"].call(b,b&&b.TV,{hash:{},inverse:s.noop,fn:s.program(5,h,e),data:e}),(n||0===n)&&(p+=n),p+='</div>\r\n		<div class="wisfb_liveProgress">',(o=c.StatusDescription)?n=o.call(b,{hash:{},data:e}):(o=b&&b.StatusDescription,n=typeof o===q?o.call(b,{hash:{},data:e}):o),p+=r(n),n=c["if"].call(b,b&&b.TV,{hash:{},inverse:s.noop,fn:s.program(5,h,e),data:e}),(n||0===n)&&(p+=n),p+='</div>\r\n		<div class="wisfb_gameStatus">',(o=c.SmallStatusText)?n=o.call(b,{hash:{},data:e}):(o=b&&b.SmallStatusText,n=typeof o===q?o.call(b,{hash:{},data:e}):o),p+=r(n)+"</div>\r\n	</header>\r\n	",n=c["with"].call(b,b&&b.HomeTeam,{hash:{},inverse:s.noop,fn:s.program(7,i,e),data:e}),(n||0===n)&&(p+=n),p+="\r\n	",n=c["with"].call(b,b&&b.AwayTeam,{hash:{},inverse:s.noop,fn:s.program(10,k,e),data:e}),(n||0===n)&&(p+=n),p+="\r\n",n=c["if"].call(b,b&&b.Href,{hash:{},inverse:s.program(14,m,e),fn:s.program(12,l,e),data:e}),(n||0===n)&&(p+=n),p}),this.soccerCommon.bracketGame=c.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='<a href="',(e=c.Href)?d=e.call(a,{hash:{},data:b}):(e=a&&a.Href,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+'" class="wisfb_bracketGame ',(e=c.CssClass)?d=e.call(a,{hash:{},data:b}):(e=a&&a.CssClass,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+" wisfb_s",(e=c.Slot)?d=e.call(a,{hash:{},data:b}):(e=a&&a.Slot,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d),d=c["if"].call(a,a&&a.ShowGameDetails,{hash:{},inverse:y.noop,fn:y.program(2,g,b),data:b}),(d||0===d)&&(f+=d),d=c["if"].call(a,a&&a.IsFinalsRegion,{hash:{},inverse:y.noop,fn:y.program(4,h,b),data:b}),(d||0===d)&&(f+=d),f+='"\r\n'}function g(a,b){return" wisfb_showGameDetails"}function h(a,b){return" wisfb_finalFour"}function i(a,b){var d,e,f="";return f+='<div class="wisfb_bracketGame ',(e=c.CssClass)?d=e.call(a,{hash:{},data:b}):(e=a&&a.CssClass,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+" wisfb_s",(e=c.Slot)?d=e.call(a,{hash:{},data:b}):(e=a&&a.Slot,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d),d=c["if"].call(a,a&&a.ShowGameDetails,{hash:{},inverse:y.noop,fn:y.program(2,g,b),data:b}),(d||0===d)&&(f+=d),d=c["if"].call(a,a&&a.IsFinalsRegion,{hash:{},inverse:y.noop,fn:y.program(4,h,b),data:b}),(d||0===d)&&(f+=d),f+='">\r\n'}function j(a,b){var d,e,f="";return f+=" ",(e=c.Notes)?d=e.call(a,{hash:{},data:b}):(e=a&&a.Notes,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)}function k(a,b){return" wisfb_special"}function l(a,b){var d,e;return(e=c.Notes)?d=e.call(a,{hash:{},data:b}):(e=a&&a.Notes,d=typeof e===w?e.call(a,{hash:{},data:b}):e),x(d)}function m(a,b){var d,e;return(e=c.SmallStatusDescription)?d=e.call(a,{hash:{},data:b}):(e=a&&a.SmallStatusDescription,d=typeof e===w?e.call(a,{hash:{},data:b}):e),x(d)}function n(a,b){var d,e,f="";return f+='\r\n	<div class="wisfb_location">',(e=c.Name)?d=e.call(a,{hash:{},data:b}):(e=a&&a.Name,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+'</div>\r\n	<div class="wisfb_venue">',(e=c.Location)?d=e.call(a,{hash:{},data:b}):(e=a&&a.Location,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+"</div>\r\n	"}function o(a,b){var d,e,f="";return f+='\r\n	<div class="wisfb_team',d=c["if"].call(a,a&&a.IsWinner,{hash:{},inverse:y.noop,fn:y.program(19,p,b),data:b}),(d||0===d)&&(f+=d),f+='">\r\n		',d=c["if"].call(a,a&&a.Seed,{hash:{},inverse:y.noop,fn:y.program(21,q,b),data:b}),(d||0===d)&&(f+=d),f+='\r\n		<div class="wisfb_abbrev" title="',(e=c.Name)?d=e.call(a,{hash:{},data:b}):(e=a&&a.Name,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+'">',(e=c.Abbreviation)?d=e.call(a,{hash:{},data:b}):(e=a&&a.Abbreviation,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+'</div>\r\n		<div class="wisfb_name" title="',(e=c.Name)?d=e.call(a,{hash:{},data:b}):(e=a&&a.Name,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+'">',(e=c.Name)?d=e.call(a,{hash:{},data:b}):(e=a&&a.Name,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+'</div>\r\n		<div class="wisfb_score">',(e=c.SmallScore)?d=e.call(a,{hash:{},data:b}):(e=a&&a.SmallScore,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+"</div>\r\n	</div>\r\n	"}function p(a,b){return" wisfb_winningTeam"}function q(a,b){var d,e,f="";return f+='<div class="wisfb_seed">',(e=c.Seed)?d=e.call(a,{hash:{},data:b}):(e=a&&a.Seed,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+"</div>"}function r(a,b){return"</a>"}function s(a,b){return"</div>"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var t,u,v="",w="function",x=this.escapeExpression,y=this;return t=c["if"].call(b,b&&b.Href,{hash:{},inverse:y.program(6,i,e),fn:y.program(1,f,e),data:e}),(t||0===t)&&(v+=t),v+='\r\n<header>\r\n	<div class="wisfb_gameTime">',(u=c.ShortDateText)?t=u.call(b,{hash:{},data:e}):(u=b&&b.ShortDateText,t=typeof u===w?u.call(b,{hash:{},data:e}):u),v+=x(t)+", ",(u=c.TimeText)?t=u.call(b,{hash:{},data:e}):(u=b&&b.TimeText,t=typeof u===w?u.call(b,{hash:{},data:e}):u),v+=x(t),t=c["if"].call(b,b&&b.IsPreGame,{hash:{},inverse:y.noop,fn:y.program(8,j,e),data:e}),(t||0===t)&&(v+=t),v+='</div>\r\n	<div class="wisfb_gameStatus',t=c["if"].call(b,b&&b.IsGameStatusSpecial,{hash:{},inverse:y.noop,fn:y.program(10,k,e),data:e}),(t||0===t)&&(v+=t),v+='">',(u=c.SmallStatusText)?t=u.call(b,{hash:{},data:e}):(u=b&&b.SmallStatusText,t=typeof u===w?u.call(b,{hash:{},data:e}):u),v+=x(t)+'</div>\r\n	<div class="wisfb_gameNotes">',t=c["if"].call(b,b&&b.IsLive,{hash:{},inverse:y.program(14,m,e),fn:y.program(12,l,e),data:e}),(t||0===t)&&(v+=t),v+='</div>\r\n	<div class="wisfb_liveProgress">',(u=c.StatusDescription)?t=u.call(b,{hash:{},data:e}):(u=b&&b.StatusDescription,t=typeof u===w?u.call(b,{hash:{},data:e}):u),v+=x(t)+'</div>\r\n</header>\r\n\r\n<div class="wisfb_gameDetails">\r\n	',t=c["with"].call(b,b&&b.Stadium,{hash:{},inverse:y.noop,fn:y.program(16,n,e),data:e}),(t||0===t)&&(v+=t),v+='\r\n</div>\r\n\r\n<div class="wisfb_teamDetails">\r\n	',t=c["with"].call(b,b&&b.HomeTeam,{hash:{},inverse:y.noop,fn:y.program(18,o,e),data:e}),(t||0===t)&&(v+=t),v+="\r\n	",t=c["with"].call(b,b&&b.AwayTeam,{hash:{},inverse:y.noop,fn:y.program(18,o,e),data:e}),(t||0===t)&&(v+=t),v+="\r\n</div>\r\n",t=c["if"].call(b,b&&b.Href,{hash:{},inverse:y.program(25,s,e),fn:y.program(23,r,e),data:e}),(t||0===t)&&(v+=t),v}),this.soccerCommon.bracketRegion=c.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='class="',(e=c.Class)?d=e.call(a,{hash:{},data:b}):(e=a&&a.Class,d=typeof e===j?e.call(a,{hash:{},data:b}):e),f+=k(d)+'"'}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h,i="",j="function",k=this.escapeExpression,l=this;return i+='<div id="',(h=c.ElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.ElementId,g=typeof h===j?h.call(b,{hash:{},data:e}):h),i+=k(g)+'" ',g=c["if"].call(b,b&&b.Class,{hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e}),(g||0===g)&&(i+=g),i+='>\r\n	<span class="wisfb_regionDetails">\r\n		<span class="wisfb_name"><!--',(h=c.Name)?g=h.call(b,{hash:{},data:e}):(h=b&&b.Name,g=typeof h===j?h.call(b,{hash:{},data:e}):h),i+=k(g)+'--></span>\r\n		<span class="wisfb_date"></span>\r\n		<span class="wisfb_location"></span>\r\n	</span>\r\n	<div id="',(h=c.GameContainerId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.GameContainerId,g=typeof h===j?h.call(b,{hash:{},data:e}):h),i+=k(g)+'" class="wisfb_bracketGameContainer"></div>\r\n</div>\r\n'}),this.soccerCommon.bracketRoundHeaders=c.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\r\n<span class="',(e=c.Class)?d=e.call(a,{hash:{},data:b}):(e=a&&a.Class,d=typeof e===i?e.call(a,{hash:{},data:b}):e),f+=j(d),d=c["if"].call(a,a&&a.Repeat,{hash:{},inverse:k.noop,fn:k.program(2,g,b),data:b}),(d||0===d)&&(f+=d),f+='"><span>',(e=c.Name)?d=e.call(a,{hash:{},data:b}):(e=a&&a.Name,d=typeof e===i?e.call(a,{hash:{},data:b}):e),f+=j(d)+"</span>",(e=c.DateText)?d=e.call(a,{hash:{},data:b}):(e=a&&a.DateText,d=typeof e===i?e.call(a,{hash:{},data:b}):e),f+=j(d)+"</span>\r\n"}function g(a,b){return" wisfb_repeat"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i="function",j=this.escapeExpression,k=this;return h=c.each.call(b,b,{hash:{},inverse:k.noop,fn:k.program(1,f,e),data:e}),h||0===h?h:""}),this.soccerCommon.filters=c.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\r\n		<select class="wisfb_ddl ',(e=c.ViewClass)?d=e.call(a,{hash:{},data:b}):(e=a&&a.ViewClass,d=typeof e===n?e.call(a,{hash:{},data:b}):e),f+=o(d)+" ",d=c.unless.call(a,a&&a.SingleFilter,{hash:{},inverse:p.program(4,h,b),fn:p.program(2,g,b),data:b}),(d||0===d)&&(f+=d),f+=" ",(e=c.Id)?d=e.call(a,{hash:{},data:b}):(e=a&&a.Id,d=typeof e===n?e.call(a,{hash:{},data:b}):e),f+=o(d)+'">\r\n			',d=c.each.call(a,a&&a.Items,{hash:{},inverse:p.noop,fn:p.program(6,i,b),data:b}),(d||0===d)&&(f+=d),f+="\r\n		</select>\r\n	"}function g(a,b){return"wisfb_medium"}function h(a,b){return"wisfb_large"}function i(a,b){var d,e,f="";return f+='\r\n				<option value="',(e=c.Value)?d=e.call(a,{hash:{},data:b}):(e=a&&a.Value,d=typeof e===n?e.call(a,{hash:{},data:b}):e),f+=o(d)+'" ',d=c["if"].call(a,a&&a.AltValue,{hash:{},inverse:p.noop,fn:p.program(7,j,b),data:b}),(d||0===d)&&(f+=d),f+=" ",d=c["if"].call(a,a&&a.Selected,{hash:{},inverse:p.noop,fn:p.program(9,k,b),data:b}),(d||0===d)&&(f+=d),f+=">",(e=c.Name)?d=e.call(a,{hash:{},data:b}):(e=a&&a.Name,d=typeof e===n?e.call(a,{hash:{},data:b}):e),f+=o(d)+"</option>\r\n			"}function j(a,b){var d,e,f="";return f+='data-altvalue="',(e=c.AltValue)?d=e.call(a,{hash:{},data:b}):(e=a&&a.AltValue,d=typeof e===n?e.call(a,{hash:{},data:b}):e),f+=o(d)+'"'}function k(a,b){return'selected="selected"'}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var l,m="",n="function",o=this.escapeExpression,p=this;return m+='<div class="wisfb_statFilters">\r\n	',l=c.each.call(b,b&&b.Filters,{hash:{},inverse:p.noop,fn:p.program(1,f,e),data:e}),(l||0===l)&&(m+=l),m+="\r\n</div>"}),this.soccerCommon.leaderHeadshot=c.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='<div class="wisfb_leaderRank">',(e=c.Rank)?d=e.call(a,{hash:{},data:b}):(e=a&&a.Rank,d=typeof e===j?e.call(a,{hash:{},data:b}):e),f+=k(d)+"</div>"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h,i="",j="function",k=this.escapeExpression,l=this;return i+='<a class="wisfb_playerLeaderChip" href="',(h=c.ProfileUrl)?g=h.call(b,{hash:{},data:e}):(h=b&&b.ProfileUrl,g=typeof h===j?h.call(b,{hash:{},data:e}):h),i+=k(g)+'" title="',(h=c.Name)?g=h.call(b,{hash:{},data:e}):(h=b&&b.Name,g=typeof h===j?h.call(b,{hash:{},data:e}):h),i+=k(g)+'">\r\n	',g=c["if"].call(b,b&&b.Rank,{hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e}),(g||0===g)&&(i+=g),i+='\r\n	<div class="wisfb_leaderPic">\r\n		<div class="wisfb_headshotFlare"></div>\r\n		<img src="',(h=c.HeadshotUrl)?g=h.call(b,{hash:{},data:e}):(h=b&&b.HeadshotUrl,g=typeof h===j?h.call(b,{hash:{},data:e}):h),i+=k(g)+'" onerror="this.src=\'http://www.foxsports.com/foxbox/Static/Style/Images/Global/DefaultHeadshot.png\'">\r\n	</div>\r\n	<div class="wisfb_playerName">',(h=c.Name)?g=h.call(b,{hash:{},data:e}):(h=b&&b.Name,g=typeof h===j?h.call(b,{hash:{},data:e}):h),i+=k(g)+'</div>\r\n	<div class="wisfb_playerStat"><span>',(h=c.StatValue)?g=h.call(b,{hash:{},data:e}):(h=b&&b.StatValue,g=typeof h===j?h.call(b,{hash:{},data:e}):h),i+=k(g)+"</span></div>\r\n</a>"}),this.soccerCommon.statsRow=c.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\r\n			<a href="',(e=c.Profile)?d=e.call(a,{hash:{},data:b}):(e=a&&a.Profile,d=typeof e===l?e.call(a,{hash:{},data:b}):e),f+=m(d)+'">',(e=c.FullName)?d=e.call(a,{hash:{},data:b}):(e=a&&a.FullName,d=typeof e===l?e.call(a,{hash:{},data:b}):e),f+=m(d)+"</a>\r\n		"}function g(a,b){var d,e,f="";return f+="\r\n			<span>",(e=c.FullName)?d=e.call(a,{hash:{},data:b}):(e=a&&a.FullName,d=typeof e===l?e.call(a,{hash:{},data:b}):e),f+=m(d)+"</span>\r\n		"}function h(a,b){var d,e,f="";return f+='<a class="wisfb_teamAbbr" href="',(e=c.TeamUrl)?d=e.call(a,{hash:{},data:b}):(e=a&&a.TeamUrl,d=typeof e===l?e.call(a,{hash:{},data:b}):e),f+=m(d)+'">',(e=c.TeamAbbreviation)?d=e.call(a,{hash:{},data:b}):(e=a&&a.TeamAbbreviation,d=typeof e===l?e.call(a,{hash:{},data:b}):e),f+=m(d)+"</a>"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var i,j,k="",l="function",m=this.escapeExpression,n=this;return k+='<tr>\r\n	<td class="wisfb_rank">',(j=c.Rank)?i=j.call(b,{hash:{},data:e}):(j=b&&b.Rank,i=typeof j===l?j.call(b,{hash:{},data:e}):j),k+=m(i)+'</td>\r\n	<td class="wisfb_playerName wisfb_text">\r\n		<span>\r\n		',i=c["if"].call(b,b&&b.Profile,{hash:{},inverse:n.program(3,g,e),fn:n.program(1,f,e),data:e}),(i||0===i)&&(k+=i),k+="\r\n		</span>\r\n		",i=c["if"].call(b,b&&b.TeamAbbreviation,{hash:{},inverse:n.noop,fn:n.program(5,h,e),data:e}),(i||0===i)&&(k+=i),k+='\r\n	</td>\r\n	<td class="wisfb_statValue wisfb_stat">',(j=c.Value)?i=j.call(b,{hash:{},data:e}):(j=b&&b.Value,i=typeof j===l?j.call(b,{hash:{},data:e}):j),k+=m(i)+"</td>\r\n</tr>"}),this.soccerCommon.worldCupGroupStandings=c.template(function(a,b,c,d,e){function f(a,b){var d,e="";return e+="\r\n	",d=c.unless.call(a,a&&a.IsFullStandings,{hash:{},inverse:r.noop,fn:r.program(2,g,b),data:b}),(d||0===d)&&(e+=d),e+='\r\n	<div class="wisfb_clearer"></div>\r\n	<table class="wisfb_standard wisfb_standings wisfb_stats">\r\n		<thead>\r\n			<tr>\r\n				<th title="Country" class="wisfb_text',d=c["if"].call(a,a&&a.IsFullStandings,{hash:{},inverse:r.noop,fn:r.program(4,h,b),data:b}),(d||0===d)&&(e+=d),e+='">',d=c.unless.call(a,a&&a.IsFullStandings,{hash:{},inverse:r.program(8,j,b),fn:r.program(6,i,b),data:b}),(d||0===d)&&(e+=d),e+='</th>\r\n				<th title="Wins">W</th>\r\n				<th title="Draws">D</th>\r\n				<th title="Losses">L</th>\r\n				',d=c["if"].call(a,a&&a.IsFullPage,{hash:{},inverse:r.noop,fn:r.program(10,k,b),data:b}),(d||0===d)&&(e+=d),e+='\r\n				<th title="Points">Pts</th>\r\n			</tr>\r\n		</thead>\r\n		<tbody>\r\n				',d=c.each.call(a,a&&a.Teams,{hash:{},inverse:r.noop,fn:r.program(12,l,b),data:b}),(d||0===d)&&(e+=d),e+="\r\n		</tbody>\r\n	</table>\r\n"}function g(a,b){var d,e,f="";return f+='\r\n		<div class="wisfb_h3"><span>',(e=c.Name)?d=e.call(a,{hash:{},data:b}):(e=a&&a.Name,d=typeof e===p?e.call(a,{hash:{},data:b}):e),f+=q(d)+"</span></div>\r\n	"}function h(a,b){return" wisfb_tableTitle"}function i(a,b){return"Country"}function j(a,b){var d,e;return(e=c.Name)?d=e.call(a,{hash:{},data:b}):(e=a&&a.Name,d=typeof e===p?e.call(a,{hash:{},data:b}):e),q(d)}function k(a,b){return'\r\n					<th title="Goals For">GF</th>\r\n					<th title="Goals Against">GA</th>\r\n				'}function l(a,b){var d,e,f="";return f+='\r\n					<tr class="',(e=c.TeamRowClass)?d=e.call(a,{hash:{},data:b}):(e=a&&a.TeamRowClass,d=typeof e===p?e.call(a,{hash:{},data:b}):e),f+=q(d)+'">\r\n						<td class="wisfb_text">',d=c["if"].call(a,a&&a.TeamHome,{hash:{},inverse:r.program(8,j,b),fn:r.program(13,m,b),data:b}),(d||0===d)&&(f+=d),f+="</td>\r\n						<td>",(e=c.Wins)?d=e.call(a,{hash:{},data:b}):(e=a&&a.Wins,d=typeof e===p?e.call(a,{hash:{},data:b}):e),f+=q(d)+"</td>\r\n						<td>",(e=c.Draws)?d=e.call(a,{hash:{},data:b}):(e=a&&a.Draws,d=typeof e===p?e.call(a,{hash:{},data:b}):e),f+=q(d)+"</td>\r\n						<td>",(e=c.Losses)?d=e.call(a,{hash:{},data:b}):(e=a&&a.Losses,d=typeof e===p?e.call(a,{hash:{},data:b}):e),f+=q(d)+"</td>\r\n						",d=c["if"].call(a,a&&a.IsFullPage,{hash:{},inverse:r.noop,fn:r.program(15,n,b),data:b}),(d||0===d)&&(f+=d),f+="\r\n						<td>",(e=c.Points)?d=e.call(a,{hash:{},data:b}):(e=a&&a.Points,d=typeof e===p?e.call(a,{hash:{},data:b}):e),f+=q(d)+"</td>\r\n					</tr>\r\n				"}function m(a,b){var d,e,f="";return f+='<a href="',(e=c.TeamHome)?d=e.call(a,{hash:{},data:b}):(e=a&&a.TeamHome,d=typeof e===p?e.call(a,{hash:{},data:b}):e),f+=q(d)+'">',(e=c.Name)?d=e.call(a,{hash:{},data:b}):(e=a&&a.Name,d=typeof e===p?e.call(a,{hash:{},data:b}):e),f+=q(d)+"</a>"}function n(a,b){var d,e,f="";return f+="\r\n							<td>",(e=c.GoalsFor)?d=e.call(a,{hash:{},data:b}):(e=a&&a.GoalsFor,d=typeof e===p?e.call(a,{hash:{},data:b}):e),f+=q(d)+"</td>\r\n							<td>",(e=c.GoalsAgainst)?d=e.call(a,{hash:{},data:b}):(e=a&&a.GoalsAgainst,d=typeof e===p?e.call(a,{hash:{},data:b}):e),f+=q(d)+"</td>\r\n						"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var o,p="function",q=this.escapeExpression,r=this;return o=c.each.call(b,b&&b.Standings,{hash:{},inverse:r.noop,fn:r.program(1,f,e),data:e}),o||0===o?o:""})}function i(a){null!=a&&(this.IsPreGame=a.IsPreGame,this.IsLive=a.IsLive,this.IsFinal=a.IsFinal,this.GameClass=a.GameClass,this.StatusText=a.StatusText,this.SmallStatusText=a.SmallStatusText,this.IsGameStatusSpecial=a.IsGameStatusSpecial,this.HideLinks=a.HideLinks,this.StatusGrouping=a.StatusGrouping)}function j(){var a=this.fields;a[w.PreGame]=R,a[w.InProgress]=S,a[w.HalfOver]=S,a[w.Final]=T,a[w.Delayed]=new i(d.extend(d.clone(S),{StatusText:"Delayed",IsGameStatusSpecial:!0,SmallStatusText:"DLYD"})),a[w.Suspended]=new i(d.extend(d.clone(T),{StatusText:"Suspended",IsGameStatusSpecial:!0,SmallStatusText:"SPND"})),a[w.Cancelled]=new i(d.extend(d.clone(T),{StatusText:"Cancelled",IsGameStatusSpecial:!0,HideLinks:!0,SmallStatusText:"CANC"})),a[w.Postponed]=new i(d.extend(d.clone(R),{StatusText:"Postponed",IsGameStatusSpecial:!0,HideLinks:!0,SmallStatusText:"PPD"})),a[w.ForfeitByBothTeams]=new i(d.extend(d.clone(T),{StatusText:"Forfeit",SmallStatusText:"FRFT",IsGameStatusSpecial:!0})),a[w.VacatedbyBothTeams]=new i(d.extend(d.clone(T),{StatusText:"Vacated",SmallStatusText:"VCTD",IsGameStatusSpecial:!0})),a[w.ForfeitByAway]=a[w.ForfeitByBothTeams],a[w.ForfeitByHome]=a[w.ForfeitByBothTeams],a[w.VacatedbyAwayTeam]=a[w.VacatedbyBothTeams],a[w.VacatedbyHomeTeam]=a[w.VacatedbyBothTeams],a[w.ForfeitAwayVacatedHome]=a[w.ForfeitByBothTeams],a[w.ForfeitHomeVacatedAway]=a[w.ForfeitByBothTeams]}function k(a){var b=d.clone(a);return b.enableAnimations=!0,b.itemHeaderTemplate=p.largeHeader,b.itemBodyTemplate=p.teamContent,b.itemFooterTemplate=p.byline,b.hrefTarget=null,new o.GameCollectionView(b)}var l=(g.UI,g.Utils),m=g.FoxboxUI,n=g.Common,o=m.ScoresCommon,p=o.ScoresTemplates,q=o.ScoreModelHelper.getFooterByline,r=o.ScoreModelHelper.addLink,s=o.ScoreModelHelper.prependLinks,t=new h,u=t.soccerCommon,v=(g.templates,{Competition:{Default:0,Popular:0},GameStatus:{None:0,PreGame:1,InProgress:2,HalfOver:3,Final:4,Postponed:5,Suspended:6,ForfeitByAway:7,ForfeitByHome:8,Cancelled:9,ForfeitByBothTeams:10,ForfeitByAwayTeam:11,ForfeitbyHomeTeam:12,VacatedbyBothTeams:13,VacatedbyAwayTeam:14,VacatedbyHomeTeam:15,ForfeitAwayVacatedHome:16,ForfeitHomeVacatedAway:17,Delayed:23},GameStatusGrouping:{Live:1,Upcoming:2,Final:3},GameEventType:{None:0,Caution:2,CornerKick:5,Cross:6,Expulsion:7,Foul:8,FreeKick:9,GameOver:10,Goal:11,HalfOver:13,Offside:16,PKGood:17,PKNoGood:18,Shot:19,ShotOnGoal:20,StartHalf:21,Subsitution:22,OwnGoal:28,ShootOutGoal:30,ShootOutSave:31,HandBallFoul:32,ShootOutMiss:41,GoalKick:46,ThrowIn:47},CompetitionType:{None:0,League:1,Tournament:2,Friendlies:3},RoundType:{Preseason:0,RegularSeason:1,Quarterfinal:2,Semifinal:3,Final:4,Reclassification:5,GroupStage:7,Roundof16:8,Friendly:10,ThirdPlaceGame:17,Roundof32:18,Qualifier:19,FirstRound:20,SecondRound:21,ThirdRound:22,FourthRound:23,FifthRound:24,SixthRound:25,SuperCup:26,PreliminaryFinal:27,InterConfedPlayoff:28,SecondGroupStage:29,FirstQualifyingRound:30,SecondQualifyingRound:31,ThirdQualifyingRound:32,QFSecondGroupStage:33,FifthPlaceGame:34,SeventhPlaceGame:35,NinthPlaceGame:36,EleventhPlaceGame:37,PromotionFinal:38,RelegationFinal:39,PromotionSemifinal:40,RelegationSemifinal:41,PromotionFirstRound:42,RelegationFirstRound:43,PromotionSecondRound:44,RelegationSecondRound:45,PromotionThirdRound:46,RelegationThirdRound:47,PromotionGroupStage:48,RelegationGroupStage:49,PlayoffRound1:70,PlayoffRound2:71,ConferenceSemifinal:72,ConferenceFinal:73,MLSCup:74,QFFirstGroupStage:80,QFFinalGroupStage:81,AllStar:99},StatLeadersFilters:{None:0,Overall:-1},StatTypes:{Player:0,Team:1},StatViewTypes:{League:0,Team:1},StatsFilterType:{None:0,PlayerSeasonStats:1,TeamsSeasonStats:3,TeamPlayerSeasonStats:5,TeamChartSeasonStats:7},TimeFrames:{CurrentSeason:0,LastSeason:1},WorldCupRegions:{Left:{Id:-1,DisplayOrder:0,Name:"Left",Slots:[1,2,3,4,9,10,13]},Right:{Id:-2,Name:"Right",DisplayOrder:1,Slots:[5,6,7,8,11,12,14]},Finals:{Id:-3,DisplayOrder:2,Name:"",Slots:[15,16]}},SummaryScoresViewType:{SmallChips:0,LargeChips:1},ScoreChipType:{Large:0,Small:1,Schedule:2,Bracket:3},TransferType:{None:0,Loan:1,Transfer:2}}),w=v.GameStatus,x=v.GameEventType,y=v.WorldCupRegions,z=n.SportDataDalBase.extend({initialize:function(a){null!=a.initialData&&(this.competition=a.initialData.Competition),n.SportDataDalBase.prototype.initialize.call(this,a)},load:function(a,b){this.competition=a.Competition,n.SportDataDalBase.prototype.load.apply(this,arguments)},getUpdateArgs:function(){return{competition:this.competition}},getUrl:function(a){var b=new l.Uri(this.rootUrl+"League/SportData");return void 0!=a.competition?b.addQueryParam("competition",a.competition):b.addQueryParam("competition",this.competition),b.addQueryParam("vt",this.buildDate),b.toString()},getCacheKey:function(a){return null!=a&&null!=a.competition?a.competition:this.competition}}),A=b.Model.extend({summaryUrl:function(){return this.get("Links").Summary},standingsUrl:function(a){var b=new l.Uri(this.get("Links").Standings);return null!=a&&(b.addQueryParam("competition",a.competition),b.addQueryParam("season",a.season),void 0!=a.sequence&&0!=a.sequence&&b.addQueryParam("sequence",a.sequence),void 0!=a.round&&0!=a.round&&b.addQueryParam("round",a.round),void 0!=a.group&&0!=a.group&&b.addQueryParam("group",a.group),void 0!=a.week&&0!=a.week&&b.addQueryParam("week",a.week),void 0!=a.date&&0!=a.date&&b.addQueryParam("date",a.date)),b.toString()},scoresUrl:function(a){var b=new l.Uri(this.get("Links").Scores);return null!=a&&(b.addQueryParam("competition",a.competition),b.addQueryParam("season",a.season),void 0!=a.sequence&&0!=a.sequence&&b.addQueryParam("sequence",a.sequence),void 0!=a.round&&0!=a.round&&b.addQueryParam("round",a.round),void 0!=a.group&&0!=a.group&&b.addQueryParam("group",a.group),void 0!=a.week&&0!=a.week&&b.addQueryParam("week",a.week),void 0!=a.date&&0!=a.date&&b.addQueryParam("date",a.date)),b.toString()},scheduleUrl:function(a){var b=new l.Uri(this.get("Links").Schedule);return null!=a&&(b.addQueryParam("competition",a.competition),b.addQueryParam("season",a.season),void 0!=a.sequence&&0!=a.sequence&&b.addQueryParam("sequence",a.sequence),void 0!=a.round&&0!=a.round&&b.addQueryParam("round",a.round),void 0!=a.group&&0!=a.group&&b.addQueryParam("group",a.group),void 0!=a.week&&0!=a.week&&b.addQueryParam("week",a.week),void 0!=a.date&&0!=a.date&&b.addQueryParam("date",a.date)),b.toString()},statsUrl:function(a){var b=new l.Uri(this.get("Links").Stats);return null!=a&&(b.addQueryParam("competition",a.competition),b.addQueryParam("season",a.season),b.addQueryParam("team",a.team),void 0!=a.sequence&&0!=a.sequence&&b.addQueryParam("sequence",a.sequence)),b.toString()},powerRankingsUrl:function(){return this.get("Links").PowerRankings},worldCupUrl:function(a){var b=new l.Uri(this.get("Links").WorldCup);return null!=a&&(b.addQueryParam("competition",a.competition),b.addQueryParam("season",a.season)),b.toString()},transfersUrl:function(a){var b=new l.Uri(this.get("Links").Transfers);return null!=a&&b.addQueryParam("competition",a.competition),b.toString()}}),B=n.SimpleDalBase.extend({apiPath:"League/League",argNames:["competition","season","sequence"],createModel:function(){return new A}}),C=n.SimpleDalBase.extend({apiPath:"Integrated/Standings",argNames:["competition","season","sequence","round","isLive"],load:function(a,b){b.set("Standings",a)},getUrl:function(a){return a=d.clone(a),d.has(a,"IsLive")||(a.isLive=!1),arguments[0]=a,n.SimpleDalBase.prototype.getUrl.apply(this,arguments)}}),D=n.DalBase.extend({initialize:function(a){this.sportData=a.sportData,this.isFullPage=!1},load:function(a,b){var c=b.get("Schedule");if(null==c)b.set("Schedule",a);else{var e=new Object;e.Events=[],d.each(a.Events,function(a){var b=d.find(c.Events,function(b){return b.Id==a.Id});null!=b&&(null!=b.LiveEvent&&null==a.LiveEvent&&(b.LiveEvent=null),e.Events.push(d.extend(d.clone(b),a)))}),b.set("Schedule",e)}},getUrl:function(a){void 0===a.GetScores&&(a.GetScores=!1);var b=null;return b=a.GetScores?new l.Uri(this.rootUrl+"League/Scores"):new l.Uri(this.rootUrl+"League/Schedule"),this.competition=a.competition,b.addQueryParam("competition",a.competition),void 0!=a.season&&a.competition!==v.Competition.Popular?(b.addQueryParam("season",a.season),this.season=a.season):(b.addQueryParam("season",v.Competition.Default),this.season=v.Competition.Default),void 0!=a.sequence&&a.competition!==v.Competition.Popular&&(b.addQueryParam("sequence",a.sequence),this.sequence=a.sequence),void 0!=a.roundId&&a.competition!==v.Competition.Popular?(b.addQueryParam("round",a.roundId),this.round=a.roundId):(b.addQueryParam("round",v.Competition.Default),this.round=v.Competition.Default),void 0!=a.matchDay&&a.competition!==v.Competition.Popular?(b.addQueryParam("week",a.matchDay),this.week=a.matchDay):(b.addQueryParam("week",v.Competition.Default),this.week=v.Competition.Default),void 0!=a.group&&(b.addQueryParam("group",a.group),this.group=a.group),void 0!=a.teamId&&(b.addQueryParam("teamId",a.teamId),this.teamId=a.teamId),void 0!=a.isBracket&&0!=a.isBracket&&(b.addQueryParam("tournament",!0),this.tournament=!0),b.addQueryParam("date",a.date),this.date=a.date,b.addQueryParam("vt",this.buildDate),b.addQueryParam("t",a.t),b.toString()},getCacheKey:function(a){return a.competition===v.Competition.Popular?a.competition+"-"+a.date:a.competition+"-"+a.matchDay+"-"+a.season+"-"+a.sequence+"-"+a.date+"-"+a.roundId+"-"+a.teamId},update:function(a){this.getAsync({competition:a.competition,season:a.season,sequence:a.sequence,date:a.date,matchDay:a.week,roundId:a.round,isBracket:a.tournament,t:a.t,GetScores:!0},function(a){},!0)}}),E=n.SimpleDalBase.extend({apiPath:"Integrated/StatFilters"}),F=n.SimpleDalBase.extend({apiPath:"Integrated/SummaryStatLeaders",argNames:["competition","season","sequence","seasonType","date"],load:function(a,b){b.set("Stats",a)}}),G=n.SimpleDalBase.extend({apiPath:"Integrated/PlayerStats",argNames:["competition","statId","season","sequence","teamId"],load:function(a,b){b.set("Stats",a)}}),H=n.SimpleDalBase.extend({apiPath:"Integrated/TeamStats",argNames:["competition","statId","season","sequence"],load:function(a,b){b.set("Stats",a)}}),I=n.SimpleDalBase.extend({apiPath:"Integrated/TeamStatsGraph",argNames:["competition","statId","season","teamId","sequence"],load:function(a,b){b.set("Stats",a)}}),J=n.DalBase.extend({load:function(a,b){var c=J.getResult(a);b.set("Results",c)},getUrl:function(a){var b=new l.Uri(this.rootUrl+"League/TeamSearch");return b.addQueryParam("searchKey",a.searchKey),b.addQueryParam("vt",this.buildDate),b.toString()},getCacheKey:function(a){return a.season+"-"+a.searchKey}},{getResultTeam:function(a){var b=new m.teamSearchDialogItem;return b.Name=a[0],b.ProfileKey=a[1],b.Competition=a[2],b},getResult:function(a){return d.map(a,J.getResultTeam)}}),K=n.DalBase.extend({load:function(a,b){var c=K.getResult(a);b.set("Results",c)},getUrl:function(a){var b=new l.Uri(this.rootUrl+"League/PlayerSearch");return b.addQueryParam("searchKey",a.searchKey),b.addQueryParam("vt",this.buildDate),b.toString()},getCacheKey:function(a){return a.season+"-"+a.searchKey}},{getResultPlayer:function(a){var b=new m.playerSearchDialogItem;return b.LastName=a[0],b.FirstName=a[1],b.ProfileKey=a[2],b.TeamPos=a[3],b},getResult:function(a){return d.map(a,K.getResultPlayer)}}),L=n.SimpleDalBase.extend({initialize:function(a){
n.SimpleDalBase.prototype.initialize.apply(this,a);var b=a.initialData;if(null!=b){var c={teamId:b.TeamId,competition:b.Competition},d=this.createModel(this.getUrl(c));this.getCacheKey(c);this.load(b,d)}},load:function(a,b){b.set("Options",a)},apiPath:"Integrated/TeamIntegratedInfo",argNames:["teamId","competition"]}),M=n.SimpleDalBase.extend({apiPath:"League/PowerRankings",argNames:["competition","season","teamId"]}),N=n.SimpleDalBase.extend({argNames:["season","sequence","teamId","group"],load:function(a,b){b.set("TeamRoster",a)},getUrl:function(a){return a=d.clone(a),a.apiPath="Integrated/TeamRoster",n.SimpleDalBase.prototype.getUrl.call(this,a)}}),O=n.SimpleDalBase.extend({argNames:["season","teamId","competition","sequence"],apiPath:"Integrated/TeamSchedule",load:function(a,b){b.set("Schedule",a)}}),P=n.SimpleDalBase.extend({argNames:["season","competition"],apiPath:"Integrated/Transfers",load:function(a,b){b.set("Transfers",a)}}),Q=function(a,c,d,e){e=e||v.Competition.Default;var g=new z({rootUrl:a,buildDate:c,initialData:d}),h=new B({rootUrl:a,buildDate:c}),i=null,j=null,k=null,l=null,m=null,n=null,o=null,p=null,q=null,r=null,s=null,t=null,d=g.get({competition:e}),u=b.View.extend({constructor:function(){b.View.apply(this,arguments)},initialize:function(){this.listenTo(this.model,"change:ScoresLastUpdated",this.scoresChanged)},resetListeners:function(a){this.stopListening(this.model),this.model=a,this.listenTo(this.model,"change:ScoresLastUpdated",this.scoresChanged),d=a},scoresChanged:function(){if(null!==j){this.model.get("ScoresDate");j.update({competition:j.competition,season:j.season,date:j.date,week:j.week,round:j.round,sequence:j.sequence,tournament:j.tournament,t:this.model.get("ScoresLastUpdated")})}}}),w=new u({model:d});return{SportData:d,startPolling:function(){g.startPolling()},stopPolling:function(){g.stopPolling()},getSportData:function(a){var b=!1;return a.forceUpdate===!0&&(b=!0),g.get(a,b)},getSportDataAsync:function(a,b){var c=!1;a.forceUpdate===!0&&(c=!0),g.getAsync(a,b,c)},resetSportDataListeners:function(a){return g.competition=a.get("Competition"),w.resetListeners(a)},getLeague:function(a){return h.get(a)},getLeagueAsync:function(a,b){h.getAsync(a,b)},getStandingsAsync:function(b,e){null===i&&(i=new C({rootUrl:a,buildDate:c})),b.t=d.get("StandingsLastUpdated"),i.getAsync(b,e)},getScheduleAsync:function(b,e){null===j&&(j=new D({rootUrl:a,buildDate:c,sportData:d})),b.t=d.get("ScoresLastUpdated"),j.getAsync(b,e)},getSummaryStatLeadersAsync:function(b,e){null===k&&(k=new F({rootUrl:a,buildDate:c,sportData:d})),b.t=d.get("LeadersLastUpdated"),k.getAsync(b,e)},getStatFiltersAsync:function(b,d){null===l&&(l=new E({rootUrl:a,buildDate:c})),l.getAsync(b,d)},getStatsAsync:function(b,e){if(null!=b.date){var g=d.get("StatsDate");b.season==g.Season&&f(b.date)>=f(g.Date)&&(b.t=d.get("LeadersLastUpdated"))}b.statType==v.StatTypes.Team?(null===n&&(n=new H({rootUrl:a,buildDate:c,sportData:d})),n.getAsync(b,e)):(null===m&&(m=new G({rootUrl:a,buildDate:c,sportData:d})),m.getAsync(b,e))},getTeamStatsGraphAsync:function(b,e){null===o&&(o=new I({rootUrl:a,buildDate:c,sportData:d})),o.getAsync(b,e)},getTeamIntegratedInfoAsync:function(b,d,e){null===q&&(q=new L({rootUrl:a,buildDate:c,initialData:e})),q.getAsync(b,d)},getPowerRankingsAsync:function(b,d){null===p&&(p=new M({rootUrl:a,buildDate:c})),p.getAsync(b,d)},getTeamRosterAsync:function(b,d){null===r&&(r=new N({rootUrl:a,buildDate:c})),r.getAsync(b,d)},getTeamScheduleAsync:function(b,d){null===s&&(s=new O({rootUrl:a,buildDate:c})),s.getAsync(b,d)},getTransfersAsync:function(b,d){null===t&&(t=new P({rootUrl:a,buildDate:c})),t.getAsync(b,d)},remove:function(){null!=g&&g.remove(),null!=w&&w.remove()}}};i.prototype={IsFinal:!1,IsPreGame:!1,IsLive:!1,GameClass:"",StatusText:null,SmallStatusText:null,IsGameStatusSpecial:!1,HideLinks:!1,StatusGrouping:0};var R=new i({IsPreGame:!0,GameClass:"wisfb_preGame",StatusText:"",StatusGrouping:v.GameStatusGrouping.Upcoming}),S=new i({IsLive:!0,GameClass:"wisfb_gameLive",StatusText:"",StatusGrouping:v.GameStatusGrouping.Live}),T=new i({IsFinal:!0,GameClass:"wisfb_final",StatusText:"Final",SmallStatusText:"Final",StatusGrouping:v.GameStatusGrouping.Final});j.prototype={fields:[]};var U=new j,V={getEventVm:function(a,b,c,e,f,g){null==f&&(f={}),null==f.season&&(f.useSeasonTypeTitle=!1);var h=U.fields[b.EventStatus];g=d.extend(g,{momentWeekFromToday:f.momentWeekFromToday,momentTomorrow:f.momentTomorrow,currentDateHash:f.currentDateHash,leagueDataModel:a,stateFields:h,isAllComp:f.isAllComp});var i=o.ScoreModelHelper.getCommonFields(b,g);b.Id==f.selectedGameId;h=h||{},g.aggScoreLine=V.getAggScore(b,e,c,g);var i=d.extend(d.clone(i),{Sport:"Soccer",Href:null!=b.Links?b.Links.matchtrax:null,FooterByline:V.getFooterLinks(b,h),Byline:V.getFooterByline(b,f),CompAbbrev:f.isAllComp?b.CompAbbrev:"",DateText:g.DateText,GameType:b.GameType,RoundName:b.RoundName,EventId:null,EventTitle:null,EventText:null,EventTeamLogo:null,EventCssClass:null,HasAnimation:!1},h,V.getBracketFields(a,b,c,e,f,g));h.IsLive?i=d.extend(i,V.getLiveFields(b,c,e,f,g)):h.IsPreGame?i=d.extend(i,V.getPregameFields(b,c,e,f,g)):h.IsFinal&&(i=d.extend(i,V.getFinalFields(b,c,e,f,g)));var j=i.GameClass;return g.isTied&&(j+=" wisfb_tied"),g.isAllComp&&(j+=" wisfb_soccerAllComp"),i.CssClass=j,g.statusSortPriority=Number(h.StatusGrouping),g.gameIdSortKey=V.getGameIdSortKey(b.Id),null!=f.sortKeyFunc&&d.isFunction(f.sortKeyFunc)?i.SortKey=f.sortKeyFunc(b,i,g):i.SortKey=g.statusSortPriority.toString()+g.GameDateTimeHash.toString()+g.gameIdSortKey.toString(),i},getGameIdSortKey:function(a){var b=a%1e3,c="";return c=100>b?10>b?"00"+b:"0"+b:""+b},getEventTeamDm:function(a,b){return d.extend(d.clone(a),{Logo:a.Logo})},livePeriodTexts:{1:{liveDesc:"1st Half",endDesc:"Halftime"},2:{liveDesc:"2nd Half",endDesc:"Full Time"},3:{liveDesc:"1st Extra Time",liveSmallDesc:"ET1",endDesc:"End of 1st Extra Time",endSmallDesc:"End ET1"},4:{liveDesc:"2nd Extra Time",liveSmallDesc:"ET2",endDesc:"End of Extra Time",endSmallDesc:"AET"}},getLiveTime:function(a,b,c,d,e){if(4>d||b){var f=V.livePeriodTexts[a];return null==f?null:b?c&&f.endSmallDesc?f.endSmallDesc:f.endDesc:c&&f.liveSmallDesc?f.liveSmallDesc:f.liveDesc}return e},getLiveFields:function(a,b,c,e,f){var g=a.LiveMinutes+"'"+(null!=a.LiveExtraTime&&a.LiveExtraTime>0?" + "+a.LiveExtraTime+"'":""),h=a.EventStatus===w.HalfOver,i=f.stateFields;switch(e.chipType){case v.ScoreChipType.Large:case v.ScoreChipType.Bracket:var j=V.getLiveTime(a.LivePeriod,h,!1,a.CoverageLevel,g);if(null!=f.aggScoreLine&&(j=j+" - "+f.aggScoreLine),a.IsShootout){var k=V.getShootoutText(c,b,i);null!=k&&(j=null!=j?j+"-"+k:" - "+k)}return d.extend({StatusDescription:j,Notes:f.TvStation},V.getLiveAnimation(a,c,b,e,f));case v.ScoreChipType.Small:return d.extend({SmallStatusDescription:V.getLiveTime(a.LivePeriod,h,!0,a.CoverageLevel,g)},V.getLiveAnimation(a,c,b,e,f));case v.ScoreChipType.Schedule:return{ScheduleText:i.StatusText,ScheduleTextLine2:f.TvStation,ScheduleTextLine3:null}}},supportedAnimationEvents:[{Id:x.Caution,Text:"Yellow Card",CssClass:"wisfb_yellowCard"},{Id:x.Goal,Text:"Goal"},{Id:x.Expulsion,Text:"Red Card",CssClass:"wisfb_redCard"},{Id:x.PKGood,Text:"Goal (PK)"}],getLiveAnimation:function(a,b,c,e,f){var g={EventTitle:null,EventText:null,EventTeamName:null,EventTeamLogo:null,EventCssClass:null,EventTeamAbbr:null};if(null!=a.LiveEvent){var h=a.LiveEvent,i=d.findWhere(V.supportedAnimationEvents,{Id:h.TypeId}),j=h.Id+"_"+h.TeamId+"_"+h.TypeId;if(null!=i&&e.liveEventHash!=j){e.liveEventHash=j;var k,l,m;h.TeamId==b.Id?(k=b.Name,l=b.Logo,m=b.Abbr):(k=c.Name,l=c.Logo,m=c.Abbr),g.EventId=j,g.EventTitle=i.Text,g.EventCssClass=i.CssClass,g.EventText=h.Text,g.EventTeamName=k,g.EventTeamAbbr=m,g.EventTeamLogo=l,g.HasAnimation=!0}}return g},getPregameFields:function(a,b,c,d,e){var f=e.stateFields.IsGameStatusSpecial,g=null;if(d.isPopular)g=e.TimeText;else{var h=e.IsMoreThan7DaysAway,i=e.IsMoreThan1DayAwayLessThan7;g=h?e.ShortDateText+" "+e.TimeText:i?e.DayOfWeek+" "+e.TimeText:e.TimeText}null!=e.aggScoreLine&&(g=g+" - "+e.aggScoreLine);var j=e.stateFields.SmallStatusText;switch(f||(j=e.IsCurrentDate?e.TimeText:e.DateSlash),d.chipType){case v.ScoreChipType.Large:return{StatusDescription:g,Notes:e.TvStation};case v.ScoreChipType.Small:return{SmallStatusText:j,SmallNotes:e.TvStation};case v.ScoreChipType.Schedule:var k=null,l=null,m=null;return f?(k=j,a.EventStatus==w.Postponed&&null!=a.MakeupMatchday&&(k="Moved to",l="Week "+a.MakeupMatchday)):d.isWorldCup||d.showDate?(k=e.ShortDateText,l=e.TimeText,m=e.TvStation):(k=e.TimeText,l=e.TvStation),{ScheduleText:k,ScheduleTextLine2:l,ScheduleTextLine3:m};case v.ScoreChipType.Bracket:return{StatusDescription:g,Notes:e.TvStation,SmallStatusText:j}}},getFinalFields:function(a,b,c,d,e){switch(d.chipType){case v.ScoreChipType.Large:var f="";return a.IsShootout?f=" - "+V.getShootoutText(b,c,e.stateFields):null!=e.aggScoreLine&&(f=" - "+e.aggScoreLine),null==a.WinningTeamId&&(e.isTied=!0),{Notes:e.DateSlash,StatusDescription:f};case v.ScoreChipType.Small:return{SmallNotes:e.DateSlash,SmallStatusDescription:null};case v.ScoreChipType.Schedule:return{ScheduleText:"Final",ScheduleTextLine2:d.isWorldCup||d.showDate?e.ShortDateText:"",ScheduleTextLine3:null};case v.ScoreChipType.Bracket:return{Notes:e.DateSlash}}},getBracketFields:function(a,b,c,d,e,f){if(e.isWorldCup){var g=!1,h=null,i=null;return-1!=y.Left.Slots.indexOf(b.Slot)?h=y.Left.Id:-1!=y.Right.Slots.indexOf(b.Slot)?h=y.Right.Id:-1!=y.Finals.Slots.indexOf(b.Slot)?(h=y.Finals.Id,g=!0,b.GameType===v.RoundType.Final&&(i="World Cup Final"),b.GameType===v.RoundType.ThirdPlaceGame&&(i="Third Place Match")):h=0,{FinalsTitle:i,IsFinalsRegion:g,RegionId:h,ShortDateText:f.ShortDateText,TimeText:f.TimeText,TV:f.TvStation,TinyDateText:f.TinyDateText,Slot:b.Slot,ShowGameDetails:0===c.Id&&0===d.Id&&b.GameType!==v.RoundType.Roundof16,Stadium:V.getStadium(a,b)}}return{}},getFooterByline:function(a,b){return{Items:[{Label:b.isPopular?a.GameTitle:null}]}},getAggScore:function(a,b,c,d){var e=null,f=d.stateFields.IsFinal?" ADV on ":" leads ";if(null!=c.AggScore&&null!=b.AggScore)if(c.AggScore>b.AggScore)e=c.Abbr+f+"AGG "+c.AggScore+"-"+b.AggScore;else if(b.AggScore>c.AggScore)e=b.Abbr+f+"AGG "+b.AggScore+"-"+c.AggScore;else if(b.AggScore===c.AggScore)if(a.EventStatus==w.Live||null==c.Score||null==b.Score)e="AGG Tied "+c.AggScore+"-"+b.AggScore;else{var g=c.AggScore-c.Score,h=b.Score;e=g>h?c.Abbr+f+"Away Goals "+g+"-"+h:h>g?b.Abbr+f+"Away Goals "+h+"-"+g:"Tied on Away Goals"}return e},getShootoutText:function(a,b,c){var d="",e=c.IsFinal?" wins penalties ":" leads penalties ",f=null!=a.Shootout?a.Shootout:0,g=null!=b.Shootout?b.Shootout:0;return d=f>g?a.Abbr+e+f+"-"+g:g>f?b.Abbr+e+g+"-"+f:"Penalties tied "+f+"-"+g},getStadium:function(a,b){var c=null,d=a.get("Venues");c=null!=b.VenueId&&void 0!=d?d[b.VenueId]:{Name:"Unknown Stadium"};var e={};return void 0!=c&&(e.Name=c.Name,void 0!=c.State&&""!=c.State?e.Location=c.City+", "+c.State:void 0!=c.Country&&""!=c.Country?e.Location=c.City+", "+c.Country:e.Location=c.City),e},getFooterLinks:function(a,b){var c=a.Links;if(!b.HideLinks&&null!=c){var d=q(),e=d.Byline.Items;return r(e,c.matchtrax,"MatchTrax"),b.IsPreGame||(r(e,c.boxscore,"Box Score"),r(e,c.highlights,"Highlights",null,!0)),d}},setDateOptions:function(a){if(null!=a&&null!=a.currentDate&&null==a.momentToday){var b=f(a.currentDate).format("YYYY-MM-DD"),c=new Date,d=new Date(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate(),c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds());a.momentToday=f(b),a.momentTomorrow=f(b).add("days",1),a.momentWeekFromToday=f.utc(d).add("days",7),a.currentDateHash=a.momentToday.format("YYYYMMDD")}}},W=b.Model.extend({defaults:{LogoError:"/SOCCER/Images/NoTeamLogo.png"},constructor:function(){b.Model.apply(this,arguments)},calculate:function(a,b,c,d){var e=a.WinningTeamId,f=null,g=null;null!=e&&(e==b.Id?(g=!0,f=!1):(g=!1,f=!0));var h=b.Score;a.IsShootout&&(h=b.Score+"("+b.Shootout+")");var i=null,j=b.Yellow,k=b.Red;if(null!=j||null!=k){j=j?j:0,k=k?k:0,i={Items:[{LabelClass:"wisfb_yellowCards"+(0==j?" wisfb_noCards":""),LabelTitle:"Team Yellow Cards",Content:j},{LabelClass:"wisfb_redCards"+(0==k?" wisfb_noCards":""),LabelTitle:"Team Red Cards",Content:k}]};var l=!1;b.Possession&&(l=!0,i.Items.push({Label:"Poss:",LabelTitle:"Time of Possession",Content:b.Possession+"%"})),b.SOG?i.Items.push({Label:l?"SOG:":"Shots on Goal:",LabelTitle:"Shots on Goal",Content:b.SOG}):b.Shots&&i.Items.push({Label:"Shots:",Content:b.Shots})}var m=b.Name,n=b.Abbr,o="#"!=b.TeamHome?b.TeamHome:null,p=null;if(c.isWorldCup&&a.GameType==v.RoundType.Roundof16)if(null!=b.Seed)p=b.Seed;else if(null==b.Id&&null!=b.NameCode){var q,r=b.NameCode.substr(1,3),s=Number(b.NameCode.substr(0,1));switch(s){case 1:q=" First";break;case 2:q=" Second";break;case 3:default:q=" Third"}m="Group "+r+q,n=b.NameCode}var t={Id:b.Id,Seed:p,Name:m,Abbreviation:n,Text:m,Logo:b.Logo,LogoCSS:b.LogoCSS,TeamHome:o,IsWinner:g,IsLoser:f,CssClass:f?"wisfb_losingTeam":null,Score:b.Score,SmallScore:h,Byline:i};switch(c.chipType){case v.ScoreChipType.Large:case v.ScoreChipType.Small:var u=d.stateFields;u.IsPreGame?t.Record=b.Record:t.Record=null;break;default:t.Record=b.Record}this.set(t)}}),X=b.Model.extend({constructor:function(){b.Model.apply(this,arguments)},idAttribute:"Id",initialize:function(){var a=new W,b=new W;this.set({HomeTeam:b,AwayTeam:a,Teams:[b,a]})},calculate:function(a,b,c){c.liveEventHash=this.liveEventHash;var e=a.AwayTeam,f=a.HomeTeam;(null==e||d.isEmpty(e))&&(e=null!=a.AwayTeamInfo?d.extend(a.AwayTeamInfo,{Id:a.AwayTeamId,Links:{}}):{Id:null,Abbr:"TBD",City:null,Name:"TBD",ConferenceId:a.AwayTeamConference}),(null==f||d.isEmpty(f))&&(f=null!=a.HomeTeamInfo?d.extend(a.HomeTeamInfo,{Id:a.HomeTeamId,Links:{}}):{Id:null,Abbr:"TBD",City:null,Name:"TBD",ConferenceId:a.HomeTeamConference});var g=V.getEventTeamDm(e,c),h=V.getEventTeamDm(f,c),i={},j=V.getEventVm(b,a,h,g,c,i);j.IsPreGame&&(h.Info=a.Spread,g.Info=a.OverUnder),this.get("HomeTeam").calculate(a,h,c,i),this.get("AwayTeam").calculate(a,g,c,i),this.liveEventHash=c.liveEventHash,null!=c.baseUrl&&s(j,c.baseUrl),this.set(j)},setExtendedParams:function(a,b,c,d,e){}}),Y=b.Collection.extend({model:X,idAttribute:"Id",comparator:function(a){return Number(a.get("SortKey"))}}),Z={updateGame:function(a){var b=this.gameCollection.get(a.Id),c=!1;null==b&&(b=new this.itemModelType,c=!0),b.calculate(a,this.leagueDataModel,this.options),c&&this.gameCollection.add(b)}},$=b.Model.extend({initialize:function(a){var b=new Y(null);this.set("Scores",b)},calculate:function(a,b,c){var e=this.get("Scores");"cacheKey"in c&&null!=this.cacheKey&&this.cacheKey!=c.cacheKey&&e.reset(),this.cacheKey=c.cacheKey;var f=d.extend({isPopular:!1,LiveEventHash:null,ShowDate:null,currentDate:new Date},c);f.chipType=c.chipType||v.ScoreChipType.Large;var g=b.get("CompetitionEnum");f.isWorldCup=b.get("Competition")===g.WC.id||b.get("Competition")===g.WWC.id,V.setDateOptions(f),d.each(a,Z.updateGame,{leagueDataModel:b,options:f,itemModelType:X,gameCollection:e});var h=null==a?0:a.length;this.set({GameCount:h,LastUpdated:new Date})}}),_={};_.filterTeamsById=function(a){return this.Id===a.Id},_.filterCalculationIterator=function(a){var b=new Object;b.Id=a.Id,b.Name=a.Id,b.ViewClass="wisfb_soccerStandingsFilter",b.SingleFilter=this.isSingle,b.Items=[],d.each(a.Items,_.filterItemCalculationIterator,{result:b.Items}),this.result.push(b)},_.filterItemCalculationIterator=function(a){var b=new Object;b.Value=a.Value,b.Name=a.Name,b.Selected=a.IsSelected,this.result.push(b)};var aa=b.Model.extend({initialize:function(){},calculate:function(a,c,e){var f=this,g=new Object;g.Competitions=new b.Collection;var h=c.get("Standings"),i=h.Groups;if(void 0!=i){i=i.sort(function(a,b){return a.DisplayOrder-b.DisplayOrder});var j=this.calculateFilters(c);d.each(i,function(c){var d=c.Teams,h=c.Standings,i=c.Subgroups,j=new b.Model({});e===v.Competition.Popular?f.calculatePopularStandings(h,d,c,a,j,i):f.calculateCompetitionStandings(a,h,j,i,c),g.Competitions.add(j)}),this.set({Standings:g,Filters:j})}else this.set({Standings:null,Filters:null});this.trigger("calculated")},calculateFilters:function(a){var b=a.get("Standings").Filters,c=[];return d.each(b,_.filterCalculationIterator,{result:c,isSingle:null!=b&&!(b.length>1)}),c},calculatePopularStandings:function(a,b,c,e,f,g){if(void 0!==a){var h=[];d.each(a,function(a){var c={Id:a.TeamId,GamesPlayed:Number(a.Wins)+Number(a.Draws)+Number(a.Losses),Wins:a.Wins,Draws:a.Draws,Losses:a.Losses,Points:a.Points},e=d.filter(b,_.filterTeamsById,c);e.length>=1&&(c.Name=e[0].Name,c.Home=e[0].Links.profile,h.push(c))}),void 0!==c.ReturnedTeams&&c.ReturnedTeams>0&&(h=h.slice(0,c.ReturnedTeams));var i=new l.Uri(e.standingsUrl({competition:c.Id,season:e.get("Season")}));f.set({Name:c.Name,Id:c.Id,Teams:h,ShowMoreUrl:i.toString()})}else if(void 0!==g){var j=[];d.each(g,function(a){var b={Name:a.Name,Id:a.Id,IsSelected:!(void 0!==j.length&&j.length>0)};b.Teams=[];var c=a.Standings,e=a.Teams;d.each(c,function(a){var c={Id:a.TeamId,GamesPlayed:Number(a.Wins)+Number(a.Draws)+Number(a.Losses),Wins:a.Wins,Draws:a.Draws,Losses:a.Losses,Points:a.Points},f=d.filter(e,_.filterTeamsById,c);f.length>=1&&(c.Name=f[0].Name,b.Teams.push(c))}),j.push(b)});var i=new l.Uri(e.standingsUrl({competition:c.Id,season:e.get("Season")}));f.set({Name:c.Name,Id:c.Id,Subgroups:j,ShowMoreUrl:i.toString()})}},calculateCompetitionStandings:function(a,b,c,d,e){var f=a.get("Teams");void 0!==b?this.calculateTableStandings(b,f,c,a):void 0!==d&&this.calculateGroupStandings(d,f,c,e)},calculateGroupStandings:function(a,b,c,e){var f=[];d.each(a,function(a){var c={Name:a.Name,Id:a.Id};c.Teams=[];var e=a.Standings;d.each(e,function(a){var d={Id:a.TeamId,GamesPlayed:Number(a.Wins)+Number(a.Draws)+Number(a.Losses),Wins:a.Wins,Draws:a.Draws,Losses:a.Losses,Points:a.Points};d.Name=b[d.Id].Name,c.Teams.push(d)}),f.push(c)}),c.set({Name:e.Name,Id:e.Id,Subgroups:f})},calculateTableStandings:function(a,b,c,e){var f=[];d.each(a,function(a){var c={Id:a.TeamId,GamesPlayed:Number(a.Wins)+Number(a.Draws)+Number(a.Losses),Wins:a.Wins,Draws:a.Draws,Losses:a.Losses,Points:a.Points},e=d.filter(b,function(a){return a.Id===c.Id});c.Name=e[0].Name,c.Home=e[0].Links.Home,f.push(c)}),c.set({Name:e.get("Name"),Id:e.get("Id"),Teams:f})}}),ba=b.Model.extend({initialize:function(){},calculate:function(a,b,c,e){var f=this,g=[],h=a.get("Teams"),i=b.get("Standings"),j=i.Groups[0].Subgroups,k=d.filter(j,function(a){var b=d.filter(a.Standings,function(a){return a.TeamId===c});return b.length>0});if(k=k[0],void 0!=k){var l=this.populateGroup(k,h,c,a,e);l.Name=l.Name+" Standings",g.push(l)}else d.each(j,function(b){g.push(f.populateGroup(b,h,c,a,e))});this.set({Standings:g}),this.trigger("calculated")},populateGroup:function(a,b,c,e,f){var g=new Object;return g.Teams=[],d.each(a.Standings,function(a){var d=b[a.TeamId],e="";a.TeamId===c&&(e+=" wisfb_highlight");var f={Name:d.Name,TeamHome:"#"!=d.Links.Home?d.Links.Home:null,Id:a.TeamId,Wins:a.Wins,Draws:a.Draws,Losses:a.Losses,Points:a.Points,GoalsFor:a.GoalsFor,GoalsAgainst:a.GoalsAgainst,IsFullPage:!0,TeamRowClass:e};g.Teams.push(f)}),g.Teams.length>0&&(g.Teams=g.Teams.sort(function(a,b){return a.Points<b.Points?1:a.Points>b.Points?-1:0}),g.Teams[2].TeamRowClass=g.Teams[2].TeamRowClass+" wisfb_newSection"),g.Name=a.Name,g.Link=e.get("Links").Standings,g.IsFullPage=!0,g.IsFullStandings=f,g}}),ca=function(a,b,c){return a==v.StatViewTypes.League?b==v.StatTypes.Player?null==c?v.StatsFilterType.PlayerSeasonStats:v.StatsFilterType.PlayerDailyStats:null==c?v.StatsFilterType.TeamsSeasonStats:v.StatsFilterType.TeamsDailyStats:b==v.StatTypes.Player?null==c?v.StatsFilterType.TeamPlayerSeasonStats:v.StatsFilterType.TeamPlayerDailyStats:null==c?v.StatsFilterType.TeamChartSeasonStats:v.StatsFilterType.TeamChartDailyStats},da=function(a,b){var c={season:a,statType:v.StatTypes.Player,viewType:v.StatViewTypes.League,statId:b.StatId};return c.filterType=ca(c.viewType,c.statType,c.date),c},ea=b.Model.extend({calculate:function(a,c){var e=this,f=c.get("Stats");this.teamsData=a.get("Teams");var g=new b.Collection,h=!1,i=!0;f.length>0?d.each(f,function(c){if(null!=c.Players&&c.Players.length>0){var f=null,j=new b.Model({CategoryName:c.Name,StatArgs:f,IsSeasonStats:i,Players:new b.Collection}),k=j.get("Players");g.add(j);var l=1,m=1,n="";d.each(c.Players,function(d){var f=null;i&&(f=j.get("CategoryName")),""===n&&(n=d.Stat),n!=d.Stat&&(l=m,n=d.Stat),k.add(new b.Model(e.getResultItem(d,c,f,i,a,l))),m++})}else h=!0}):h=!0;var j=new l.Uri(a.statsUrl());j.addQueryParam("season",a.get("Season")),this.set({Stats:g,Href:j.toString(),IsEmpty:h})},getResultItem:function(a,b,c,d,e,f){var g=null,h=this.teamsData[a.TeamId],i=null;return d&&(i=JSON.stringify(da(e.get("Season"),b))),g=null!==a.TeamId&&0!==a.TeamId&&void 0!==h?{FullName:a.FirstName+" "+a.LastName,TeamAbbreviation:h.Abbr,TeamColor:h.PrimaryColor,Name:a.FirstName.charAt(0)+" "+a.LastName,Value:a.Stat,ImageUrl:a.Headshot,ProfileUrl:a.Profile,TeamLogo:h.LogoUrl,TeamUrl:h.FrontLink,CategoryName:c,StatArgs:i,Rank:f}:{FullName:a.FirstName+" "+a.LastName,TeamAbbreviation:"FA",Name:a.FirstName.charAt(0)+" "+a.LastName,Value:a.Stat,ImageUrl:a.Headshot,StatAbbreviation:b.Unit,CategoryName:c,ProfileUrl:a.Profile,StatArgs:i,Rank:f}}}),fa=function(a){return a>2?v.SummaryScoresViewType.SmallChips:v.SummaryScoresViewType.LargeChips},ga={};ga.filterCalculationIterator=function(a){var b=new Object;b.Id=a.Id,b.Name=a.Id,b.ViewClass="wisfb_soccerStandingsFilter",b.Items=[],d.each(a.Items,ga.filterItemCalculationIterator,{result:b.Items}),this.result.push(b)},ga.filterItemCalculationIterator=function(a){var b=new Object;b.Value=a.Value,b.Name=a.Name,b.Selected=a.IsSelected,this.result.push(b)};var ha=b.View.extend({initialize:function(a){this.parent=a.parent,this.listenTo(this.model,"calculated",this.render)},render:function(){this.$el.show();var a=u.filters(JSON.parse(JSON.stringify(this.model)));this.$el.html(a)}}),ia=b.View.extend({events:{"change select.wisfb_popularSubgroupNav":"changePopularSubgroup"},initialize:function(a){this.template=a.template,this.listenTo(this.model,"calculated",this.render)},render:function(){this.$el.show();var a=this.template(JSON.parse(JSON.stringify(this.model)));this.$el.html(a)},changePopularSubgroup:function(b){b.preventDefault();var c=a(b.currentTarget),d="wisfb_hidden",e=c.val(),f=c.closest(".wisfb_popularParent"),g=f.children("table:not(."+d+")")[0];a(g).addClass(d);var h=f.children("#wisfb_table_"+e)[0];a(h).removeClass(d)}}),ja=b.View.extend({initialize:function(a){this.template=a.template,this.listenTo(this.model,"change",this.render),c.registerPartial("wisfb_soccerLeaderHeadshot",u.leaderHeadshot),c.registerPartial("wisfb_soccerStatsRow",u.statsRow)},render:function(){this.$el.show();var a=this.template(JSON.parse(JSON.stringify(this.model)));this.$el.html(a)}});return{templates:u,Enums:v,GetDataStore:function(a,b,c,d){return Q(a,b,c,d)},LeagueDal:B,ScheduleDal:D,TeamSearchDal:J,PlayerSearchDal:K,FiltersHelper:ga,FiltersView:ha,EventModel:X,ScoresViewModel:$,GetScoresView:k,GetSummaryScoresViewType:fa,StandingsViewModel:aa,WorldCupStandingsViewModel:ba,StandingsView:ia,WorldCupStatsViewModel:ea,WorldCupStatsView:ja}});