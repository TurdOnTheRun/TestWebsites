var currentPopup=null;function validateNewsletterPopup(a,b){var c=$(a+" input[name='email']").val().replace(/^\s+/,"").replace(/\s+$/,"");if(!/^[a-zA-Z_0-9-'\+~]+(\.[a-zA-Z_0-9-'\+~]+)*@([a-zA-Z_0-9-]+\.)+[a-zA-Z]{2,7}$/.test(c)){$(b).show();return false}else{return true}}function getPageScroll(){var b,a;if(self.pageYOffset){a=self.pageYOffset;b=self.pageXOffset}else{if(document.documentElement&&document.documentElement.scrollTop){a=document.documentElement.scrollTop;b=document.documentElement.scrollLeft}else{if(document.body){a=document.body.scrollTop;b=document.body.scrollLeft}}}return new Array(b,a)}function getPageCoordinates(){var a,b;if(self.innerHeight){a=self.innerWidth;b=self.innerHeight}else{if(document.documentElement&&document.documentElement.clientHeight){a=document.documentElement.clientWidth;b=document.documentElement.clientHeight}else{if(document.body){a=document.body.clientWidth;b=document.body.clientHeight}}}return new Array(a,b)}function movemouse(f,d,b,g,c,a){if(isDrag){$(d).css("left",c+f.pageX-b);$(d).css("top",a+f.pageY-g);return false}}function selectmouse(g,d,b){var i,h,f,c;var j=g.target;var a=BODY;while(j.tagName!=a&&j.className!=dragme){j=j.parentElement}if(j.className==dragme){b=true;f=$(d).css("left",0);c=$(d).css("top",0);i=g.pageX;h=g.pageY;$(".dragme").mousemove(function(e){movemouse(e,d,i,h,f,c)});return false}}function setOpacity(b,a){$(a).css("opacity",b/10);$(a).css("filter","alpha(opacity="+b*10+")")}function fadeOutPopup(b){for(var a=0;a<=100;a++){setTimeout("setOpacity("+(10-a/10)+", element)",8*a)}setTimeout("closePopup(element)",800)}function calculatePopup(c){var b=getPageCoordinates();var d=getPageScroll();var e=d[0]+(b[0]-$(c).width())/2;var a=d[1]+(b[1]-$(c).height())/2;$(c).css("left",e+"px");$(c).css("top",a+"px")}function openPopup(a){if(currentPopup!=null){closePopup(currentPopup)}currentPopup=a;calculatePopup(a);$(window).bind("scroll",function(){calculatePopup(a)});$(a).css("display","block")}function closePopup(a){$(a).css("display","none");$(window).unbind("scroll")};